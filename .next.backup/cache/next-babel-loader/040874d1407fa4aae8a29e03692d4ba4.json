{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/shannoncode/repo/Emblem.Currentwork/emblem-vault-site/components/TransactionToast.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport { Button, Spinner, IconButton, ButtonGroup } from '@chakra-ui/core';\nimport { useWeb3React } from '@web3-react/core';\nimport { useTransactions } from '../context';\nimport { shortenHex, EtherscanType, formatEtherscanLink } from '../utils';\nexport function TransactionToast(_ref) {\n  _s();\n\n  var _this = this;\n\n  var hash = _ref.hash,\n      onComplete = _ref.onComplete;\n\n  var _useWeb3React = useWeb3React(),\n      library = _useWeb3React.library,\n      chainId = _useWeb3React.chainId;\n\n  var _useTransactions = useTransactions(),\n      _useTransactions2 = _slicedToArray(_useTransactions, 2),\n      removeTransaction = _useTransactions2[1].removeTransaction;\n\n  var _useState = useState(),\n      confirmed = _useState[0],\n      setConfirmed = _useState[1];\n\n  useEffect(function () {\n    if (library) {\n      var mounted = true;\n      library.waitForTransaction(hash).then(function (receipt) {\n        if (mounted) {\n          if (onComplete) {\n            onComplete();\n          }\n\n          setConfirmed(receipt.status === 1 ? true : false);\n        }\n      });\n      return function () {\n        mounted = false;\n      };\n    }\n  }, [library, hash]);\n  return __jsx(ButtonGroup, {\n    spacing: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, __jsx(Button, _extends({\n    as: \"a\",\n    variantColor: typeof confirmed === 'boolean' ? confirmed ? 'green' : 'red' : 'blue',\n    leftIcon: typeof confirmed === 'boolean' ? confirmed ? 'check-circle' : 'warning' : function () {\n      return __jsx(Spinner, {\n        size: \"sm\",\n        mr: \"0.5rem\",\n        ml: \"-0.25rem\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 34\n        }\n      });\n    },\n    rightIcon: \"external-link\",\n    style: {\n      borderTopRightRadius: 0,\n      borderBottomRightRadius: 0\n    }\n  }, {\n    href: formatEtherscanLink(EtherscanType.Transaction, [chainId, hash]),\n    target: '_blank',\n    rel: 'noopener noreferrer'\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), shortenHex(hash, 2)), __jsx(IconButton, {\n    icon: \"close\",\n    variantColor: typeof confirmed === 'boolean' ? confirmed ? 'green' : 'red' : 'blue',\n    \"aria-label\": \"Close\",\n    style: {\n      borderTopLeftRadius: 0,\n      borderBottomLeftRadius: 0\n    },\n    borderLeft: \"1px solid white\",\n    onClick: function onClick() {\n      removeTransaction(chainId, hash);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }));\n}\n\n_s(TransactionToast, \"IErcx7+UW1sHUQBWdU+aSgQyAic=\", false, function () {\n  return [useWeb3React, useTransactions];\n});\n\n_c = TransactionToast;\n\nvar _c;\n\n$RefreshReg$(_c, \"TransactionToast\");","map":{"version":3,"sources":["/Users/shannoncode/repo/Emblem.Currentwork/emblem-vault-site/components/TransactionToast.tsx"],"names":["useState","useEffect","Button","Spinner","IconButton","ButtonGroup","useWeb3React","useTransactions","shortenHex","EtherscanType","formatEtherscanLink","TransactionToast","hash","onComplete","library","chainId","removeTransaction","confirmed","setConfirmed","mounted","waitForTransaction","then","receipt","status","borderTopRightRadius","borderBottomRightRadius","href","Transaction","target","rel","borderTopLeftRadius","borderBottomLeftRadius"],"mappings":";;;;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,MAAT,EAAiBC,OAAjB,EAA0BC,UAA1B,EAAsCC,WAAtC,QAAyD,iBAAzD;AACA,SAASC,YAAT,QAA6B,kBAA7B;AAEA,SAASC,eAAT,QAAgC,YAAhC;AACA,SAASC,UAAT,EAAqBC,aAArB,EAAoCC,mBAApC,QAA+D,UAA/D;AAEA,OAAO,SAASC,gBAAT,OAAuG;AAAA;;AAAA;;AAAA,MAA3EC,IAA2E,QAA3EA,IAA2E;AAAA,MAArEC,UAAqE,QAArEA,UAAqE;;AAAA,sBAC/EP,YAAY,EADmE;AAAA,MACpGQ,OADoG,iBACpGA,OADoG;AAAA,MAC3FC,OAD2F,iBAC3FA,OAD2F;;AAAA,yBAG1ER,eAAe,EAH2D;AAAA;AAAA,MAGjGS,iBAHiG,wBAGjGA,iBAHiG;;AAAA,kBAK1EhB,QAAQ,EALkE;AAAA,MAKrGiB,SALqG;AAAA,MAK1FC,YAL0F;;AAM5GjB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIa,OAAJ,EAAa;AACX,UAAIK,OAAO,GAAG,IAAd;AAEAL,MAAAA,OAAO,CAACM,kBAAR,CAA2BR,IAA3B,EAAiCS,IAAjC,CAAsC,UAACC,OAAD,EAAiC;AACrE,YAAIH,OAAJ,EAAa;AACX,cAAIN,UAAJ,EAAgB;AACdA,YAAAA,UAAU;AACX;;AACDK,UAAAA,YAAY,CAACI,OAAO,CAACC,MAAR,KAAmB,CAAnB,GAAuB,IAAvB,GAA8B,KAA/B,CAAZ;AACD;AACF,OAPD;AASA,aAAO,YAAY;AACjBJ,QAAAA,OAAO,GAAG,KAAV;AACD,OAFD;AAGD;AACF,GAjBQ,EAiBN,CAACL,OAAD,EAAUF,IAAV,CAjBM,CAAT;AAmBA,SACE,MAAC,WAAD;AAAa,IAAA,OAAO,EAAE,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AACE,IAAA,EAAE,EAAC,GADL;AAEE,IAAA,YAAY,EAAE,OAAOK,SAAP,KAAqB,SAArB,GAAkCA,SAAS,GAAG,OAAH,GAAa,KAAxD,GAAiE,MAFjF;AAGE,IAAA,QAAQ,EACN,OAAOA,SAAP,KAAqB,SAArB,GACIA,SAAS,GACP,cADO,GAEP,SAHN,GAII;AAAA,aAAmB,MAAC,OAAD;AAAS,QAAA,IAAI,EAAC,IAAd;AAAmB,QAAA,EAAE,EAAC,QAAtB;AAA+B,QAAA,EAAE,EAAC,UAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAnB;AAAA,KARR;AAUE,IAAA,SAAS,EAAC,eAVZ;AAWE,IAAA,KAAK,EAAE;AAAEO,MAAAA,oBAAoB,EAAE,CAAxB;AAA2BC,MAAAA,uBAAuB,EAAE;AAApD;AAXT,KAYM;AACFC,IAAAA,IAAI,EAAEhB,mBAAmB,CAACD,aAAa,CAACkB,WAAf,EAA4B,CAACZ,OAAD,EAAoBH,IAApB,CAA5B,CADvB;AAEFgB,IAAAA,MAAM,EAAE,QAFN;AAGFC,IAAAA,GAAG,EAAE;AAHH,GAZN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAkBGrB,UAAU,CAACI,IAAD,EAAO,CAAP,CAlBb,CADF,EAsBE,MAAC,UAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,YAAY,EAAE,OAAOK,SAAP,KAAqB,SAArB,GAAkCA,SAAS,GAAG,OAAH,GAAa,KAAxD,GAAiE,MAFjF;AAGE,kBAAW,OAHb;AAIE,IAAA,KAAK,EAAE;AAAEa,MAAAA,mBAAmB,EAAE,CAAvB;AAA0BC,MAAAA,sBAAsB,EAAE;AAAlD,KAJT;AAKE,IAAA,UAAU,EAAC,iBALb;AAME,IAAA,OAAO,EAAE,mBAAY;AACnBf,MAAAA,iBAAiB,CAACD,OAAD,EAAoBH,IAApB,CAAjB;AACD,KARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBF,CADF;AAmCD;;GA5DeD,gB;UACeL,Y,EAEKC,e;;;KAHpBI,gB","sourcesContent":["import { useState, useEffect } from 'react'\nimport { Button, Spinner, IconButton, ButtonGroup } from '@chakra-ui/core'\nimport { useWeb3React } from '@web3-react/core'\n\nimport { useTransactions } from '../context'\nimport { shortenHex, EtherscanType, formatEtherscanLink } from '../utils'\n\nexport function TransactionToast({ hash, onComplete }: { hash: string, onComplete: () => void }): JSX.Element {\n  const { library, chainId } = useWeb3React()\n\n  const [, { removeTransaction }] = useTransactions()\n\n  const [confirmed, setConfirmed] = useState<boolean>()\n  useEffect(() => {\n    if (library) {\n      let mounted = true\n\n      library.waitForTransaction(hash).then((receipt: { status: number }) => {\n        if (mounted) {\n          if (onComplete) {\n            onComplete()\n          }\n          setConfirmed(receipt.status === 1 ? true : false)\n        }\n      })\n\n      return (): void => {\n        mounted = false\n      }\n    }\n  }, [library, hash])\n\n  return (\n    <ButtonGroup spacing={0}>\n      <Button\n        as=\"a\"\n        variantColor={typeof confirmed === 'boolean' ? (confirmed ? 'green' : 'red') : 'blue'}\n        leftIcon={\n          typeof confirmed === 'boolean'\n            ? confirmed\n              ? 'check-circle'\n              : 'warning'\n            : (): JSX.Element => <Spinner size=\"sm\" mr=\"0.5rem\" ml=\"-0.25rem\" />\n        }\n        rightIcon=\"external-link\"\n        style={{ borderTopRightRadius: 0, borderBottomRightRadius: 0 }}\n        {...{\n          href: formatEtherscanLink(EtherscanType.Transaction, [chainId as number, hash]),\n          target: '_blank',\n          rel: 'noopener noreferrer',\n        }}\n      >\n        {shortenHex(hash, 2)}\n      </Button>\n\n      <IconButton\n        icon=\"close\"\n        variantColor={typeof confirmed === 'boolean' ? (confirmed ? 'green' : 'red') : 'blue'}\n        aria-label=\"Close\"\n        style={{ borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }}\n        borderLeft=\"1px solid white\"\n        onClick={(): void => {\n          removeTransaction(chainId as number, hash)\n        }}\n      />\n    </ButtonGroup>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}