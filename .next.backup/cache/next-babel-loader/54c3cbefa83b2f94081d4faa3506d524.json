{"ast":null,"code":"var _jsxFileName = \"/Users/shannoncode/repo/Emblem.Currentwork/emblem-vault-site/components/Embed.tsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { validImage } from '../utils';\nimport { Image } from '@chakra-ui/core';\nimport SketchFab from './embed/SketchFab';\nimport ShaderToy from './embed/ShaderToy';\nimport Bandcamp from './embed/Bandcamp';\nimport SoundCloud from './embed/SoundCloud';\nimport Clyp from './embed/Clyp';\nimport Sketchup from './embed/Sketchup';\nimport Clara from './embed/Clara';\nimport MyMiniFactory from './embed/MyMiniFactory';\nimport { Audius } from './embed/Audius';\nimport { Generic } from './embed/Generic';\nimport Youtube from './embed/Youtube';\nimport Vimeo from './embed/Vimeo';\nexport class Embed extends Component {\n  render() {\n    let url = this.props.url || \"\";\n    let hash;\n\n    if (url.includes(\"ipfs://\")) {\n      hash = url.replace(\"ipfs://\", \"\");\n      setTimeout(() => {\n        getIPFSImage(hash);\n      }, 1000);\n      url = url.replace(\"ipfs://\", \"https://gateway.ipfs.io/ipfs/\");\n    }\n\n    return __jsx(React.Fragment, null, url.includes('sketchfab.com/') ? __jsx(SketchFab, {\n      url: url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }\n    }) : url.includes('shadertoy.com/') ? __jsx(ShaderToy, {\n      url: url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }\n    }) : url.includes('bandcamp.com/') ? __jsx(Bandcamp, {\n      url: url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }\n    }) : url.includes('soundcloud.com/') ? __jsx(SoundCloud, {\n      url: url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }\n    }) : url.includes('clyp.it/') ? __jsx(Clyp, {\n      url: url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }) : url.includes('sketchup.com/') ? __jsx(Sketchup, {\n      url: url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }) : url.includes('clara.io/') ? __jsx(Clara, {\n      url: url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }) : url.includes('myminifactory.com/') ? __jsx(MyMiniFactory, {\n      url: url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }) : url.includes('audius.co/') ? __jsx(Audius, {\n      url: url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }) : url.includes('youtube.com') ? __jsx(Youtube, {\n      url: url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }) : url.includes('vimeo.com') ? __jsx(Vimeo, {\n      url: url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }) : url.includes('ipfs.io') ? __jsx(Image, {\n      p: \"20px\",\n      h: \"100%\",\n      className: this.props.className ? this.props.className + \" \" + hash : \"d-block w-100 \" + hash,\n      src: url,\n      width: \"250px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }) : url.includes('/dynamic/') || url.includes('arweave') || url.includes('https://s3.amazonaws.com/') || url.includes('googleusercontent.com') || url.includes('ipfs.io') || url.includes('framed/') || url.includes('.png') || url.includes('.jpg') || url.includes('.jpeg') || url.includes('.gif') || url.includes('.svg') || url.includes('data:image') ? __jsx(Image, {\n      p: \"20px\",\n      h: \"100%\",\n      className: this.props.className || \"d-block w-100\",\n      src: validImage(url) ? url : 'https://circuitsofvalue.com/public/coval-logo.png',\n      width: \"250px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }) : __jsx(Generic, {\n      url: url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\n\nconst getIPFSImage = async function (hash) {\n  const responce = await fetch('https://gateway.ipfs.io/ipfs/' + hash, {\n    method: 'GET'\n  });\n  let jsonData = await responce.text();\n\n  if (jsonData.includes('data:image')) {\n    let img = Buffer.from(jsonData);\n    const preview = document.querySelector('img.d-block');\n    preview.src = img.toString();\n    console.log(jsonData);\n  }\n};\n\nexport default Embed;","map":{"version":3,"sources":["/Users/shannoncode/repo/Emblem.Currentwork/emblem-vault-site/components/Embed.tsx"],"names":["React","Component","validImage","Image","SketchFab","ShaderToy","Bandcamp","SoundCloud","Clyp","Sketchup","Clara","MyMiniFactory","Audius","Generic","Youtube","Vimeo","Embed","render","url","props","hash","includes","replace","setTimeout","getIPFSImage","className","responce","fetch","method","jsonData","text","img","Buffer","from","preview","document","querySelector","src","toString","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { validImage } from '../utils'\nimport { Image } from '@chakra-ui/core'\nimport SketchFab from './embed/SketchFab'\nimport ShaderToy from './embed/ShaderToy'\nimport Bandcamp from './embed/Bandcamp'\nimport SoundCloud from './embed/SoundCloud'\nimport Clyp from './embed/Clyp'\nimport Sketchup from './embed/Sketchup'\nimport Clara from './embed/Clara'\nimport MyMiniFactory from './embed/MyMiniFactory'\nimport { Audius } from './embed/Audius'\nimport { Generic } from './embed/Generic'\nimport Youtube from './embed/Youtube'\nimport Vimeo from './embed/Vimeo'\n\ntype EmbedProps = {\n  url: string,\n  className?: string\n}\n\nexport class Embed extends Component<EmbedProps> {\n  render() {\n    let url = this.props.url || \"\"\n    let hash\n    if (url.includes(\"ipfs://\")) {\n      hash = url.replace(\"ipfs://\",\"\")\n    setTimeout(()=>{\n      getIPFSImage(hash)\n    }, 1000)\n    url = url.replace(\"ipfs://\", \"https://gateway.ipfs.io/ipfs/\")\n  }    \n    return (\n      <>\n        {url.includes('sketchfab.com/') ? (\n          <SketchFab\n            url={url}\n          />\n        ) : url.includes('shadertoy.com/') ? (\n          <ShaderToy\n            url={url}\n          />\n        ) : url.includes('bandcamp.com/') ? (\n          <Bandcamp\n            url={url}\n          />\n        ) : url.includes('soundcloud.com/') ? (\n          <SoundCloud\n            url={url}\n          />\n        ) : url.includes('clyp.it/') ? (\n          <Clyp\n            url={url}\n          />\n        ) : url.includes('sketchup.com/') ? (\n          <Sketchup\n            url={url}\n          />\n        ) : url.includes('clara.io/') ? (\n          <Clara\n            url={url}\n          />\n        ) : url.includes('myminifactory.com/') ? (\n          <MyMiniFactory\n            url={url}\n          />\n        ) : url.includes('audius.co/') ? (\n          <Audius\n            url={url}\n          />\n        ) : url.includes('youtube.com') ? (\n          <Youtube\n            url={url}\n          />\n        ) : url.includes('vimeo.com') ? (\n          <Vimeo\n            url={url}\n          />\n        ) : url.includes('ipfs.io') ? (\n          <Image\n            p={\"20px\"}\n            h={\"100%\"}\n            className={this.props.className ? this.props.className + \" \" + hash  : \"d-block w-100 \" + hash}\n            src={url}\n            width=\"250px\"\n          />\n        ): url.includes('/dynamic/') || url.includes('arweave') || url.includes('https://s3.amazonaws.com/') ||  url.includes('googleusercontent.com') || url.includes('ipfs.io') || url.includes('framed/') ||  url.includes('.png') || url.includes('.jpg') || url.includes('.jpeg') || url.includes('.gif') || url.includes('.svg') || url.includes('data:image') ? (\n          <Image\n            p={\"20px\"}\n            h={\"100%\"}\n            className={this.props.className || \"d-block w-100\"}\n            src={validImage(url) ? url : 'https://circuitsofvalue.com/public/coval-logo.png'}\n            width=\"250px\"\n          />\n    ) : (\n          <Generic\n            url={url}\n          />\n        )\n          }\n      </>\n    )\n  }\n}\nconst getIPFSImage = async function(hash){\n  const responce = await fetch('https://gateway.ipfs.io/ipfs/'+hash, {\n    method: 'GET',\n  })\n  let jsonData = await responce.text()\n  if (jsonData.includes('data:image')){\n    let img = Buffer.from(jsonData)\n    const preview = document.querySelector('img.d-block') as HTMLImageElement \n    preview.src = img.toString()\n    console.log(jsonData) \n  }\n}\n\nexport default Embed\n"]},"metadata":{},"sourceType":"module"}