{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/shannoncode/repo/Emblem.Currentwork/emblem-vault-site/components/TokenSelect.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRef, useState, useLayoutEffect, useMemo, Suspense, useEffect } from 'react';\nimport { Token, WETH, ChainId } from '@uniswap/sdk';\nimport { Input, Stack, Text, useColorMode, useTheme, List, ListItem, IconButton, Divider, Spinner, Flex, Icon, Box } from '@chakra-ui/core';\nimport { Combobox, ComboboxInput, ComboboxPopover, ComboboxList, ComboboxOption } from '@reach/combobox';\nimport { getAddress } from '@ethersproject/address';\nimport { useWeb3React } from '@web3-react/core';\nimport { useAllTokens, DEFAULT_TOKENS } from '../tokens';\nimport { getTokenDisplayValue, shortenHex } from '../utils';\nimport TokenLogo, { TokenLogoColor } from './TokenLogo';\nimport { useFirstToken, useSecondToken } from '../context';\nimport { useOnchainToken, useRemoteTokens } from '../data';\nimport { useDefaultedDebounce } from '../hooks';\nimport ErrorBoundary from './ErrorBoundary';\n\nfunction PastedToken(_ref) {\n  var address = _ref.address;\n  return __jsx(ErrorBoundary, {\n    fallback: __jsx(Flex, {\n      justifyContent: \"center\",\n      width: \"100%\",\n      px: \"1rem\",\n      py: \"0.5rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }\n    }, __jsx(Icon, {\n      name: \"warning\",\n      size: \"1rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, __jsx(Suspense, {\n    fallback: __jsx(Flex, {\n      justifyContent: \"center\",\n      width: \"100%\",\n      px: \"1rem\",\n      py: \"0.5rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }, __jsx(Spinner, {\n      color: \"gray.500\",\n      size: \"sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, __jsx(PastedTokenData, {\n    address: address,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  })));\n}\n\n_c = PastedToken;\n\nfunction PastedTokenData(_ref2) {\n  _s();\n\n  var address = _ref2.address;\n\n  var _useOnchainToken = useOnchainToken(address, true),\n      data = _useOnchainToken.data;\n\n  return data === null ? __jsx(Text, {\n    textAlign: \"center\",\n    px: \"1rem\",\n    py: \"0.5rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, \"Invalid token address\") : __jsx(React.Fragment, null, __jsx(Divider, {\n    m: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), __jsx(Text, {\n    mx: \"1rem\",\n    my: \"0.5rem\",\n    textAlign: \"center\",\n    fontSize: \"1rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, \"Token Found By Address\"), __jsx(ComboboxList, {\n    as: List,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, __jsx(ComboboxOption, {\n    as: ListItem,\n    key: data.address,\n    value: data.address,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, __jsx(Stack, {\n    direction: \"row\",\n    align: \"center\",\n    p: \"0.5rem\",\n    shouldWrapChildren: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, __jsx(TokenLogo, {\n    token: data,\n    size: \"1.5rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), __jsx(Stack, {\n    direction: \"column\",\n    ml: \"1rem\",\n    spacing: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, __jsx(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, data.symbol), __jsx(Text, {\n    fontSize: \"1rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, data.name))))));\n}\n\n_s(PastedTokenData, \"u3DC5BgbYUsXG7ZMi43sP+q9rZE=\", false, function () {\n  return [useOnchainToken];\n});\n\n_c2 = PastedTokenData;\n\nfunction RemoteTokens(_ref3) {\n  _s2();\n\n  var query = _ref3.query;\n  var debouncedValue = useDefaultedDebounce(query, '', 200);\n  return debouncedValue.length === 0 ? null : __jsx(React.Fragment, null, __jsx(Divider, {\n    m: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }), __jsx(Text, {\n    mx: \"1rem\",\n    my: \"0.5rem\",\n    textAlign: \"center\",\n    fontSize: \"1rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, \"Unverified Tokens\"), __jsx(ErrorBoundary, {\n    fallback: __jsx(Flex, {\n      justifyContent: \"center\",\n      width: \"100%\",\n      pb: \"0.5rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, __jsx(Icon, {\n      name: \"warning\",\n      size: \"1rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, __jsx(Suspense, {\n    fallback: __jsx(Flex, {\n      justifyContent: \"center\",\n      width: \"100%\",\n      pb: \"0.5rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, __jsx(Spinner, {\n      color: \"gray.500\",\n      size: \"sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, __jsx(RemoteTokensData, {\n    query: query,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }))));\n}\n\n_s2(RemoteTokens, \"WamzMHS6TtoAGn8ybd/ilrzvyXw=\", false, function () {\n  return [useDefaultedDebounce];\n});\n\n_c3 = RemoteTokens;\n\nfunction RemoteTokensData(_ref4) {\n  _s3();\n\n  var _this = this;\n\n  var query = _ref4.query;\n\n  var _useWeb3React = useWeb3React(),\n      chainId = _useWeb3React.chainId;\n\n  var _useAllTokens = useAllTokens(),\n      _useAllTokens2 = _slicedToArray(_useAllTokens, 1),\n      tokens = _useAllTokens2[0];\n\n  var _useRemoteTokens = useRemoteTokens(query, true),\n      remoteTokensCased = _useRemoteTokens.data;\n\n  var _useRemoteTokens2 = useRemoteTokens(query.toLowerCase(), true),\n      remoteTokensLower = _useRemoteTokens2.data;\n\n  var _useRemoteTokens3 = useRemoteTokens(query.toUpperCase(), true),\n      remoteTokensUpper = _useRemoteTokens3.data;\n\n  var remoteTokens = useMemo(function () {\n    return (remoteTokensCased || []).concat(remoteTokensLower || []).concat(remoteTokensUpper || []);\n  }, [remoteTokensCased, remoteTokensLower, remoteTokensUpper]);\n  var remoteTokensFiltered = useMemo(function () {\n    return Array.from(new Set(remoteTokens.map(function (remoteToken) {\n      return remoteToken.address;\n    }))) // get unique addresses\n    .filter(function (address) {\n      return !tokens.some(function (token) {\n        return token.address === address;\n      });\n    }) // filter out tokens already in our list\n    .map(function (address) {\n      return remoteTokens.find(function (remoteToken) {\n        return remoteToken.address === address;\n      });\n    });\n  }, // get the full remote tokens\n  [remoteTokens, tokens]).sort(function (a, b) {\n    var _a$symbol, _a$symbol$slice, _b$symbol, _b$symbol$slice;\n\n    var aExact = (a === null || a === void 0 ? void 0 : (_a$symbol = a.symbol) === null || _a$symbol === void 0 ? void 0 : (_a$symbol$slice = _a$symbol.slice(0, query.length)) === null || _a$symbol$slice === void 0 ? void 0 : _a$symbol$slice.toLowerCase()) === query.toLowerCase();\n    var bExact = (b === null || b === void 0 ? void 0 : (_b$symbol = b.symbol) === null || _b$symbol === void 0 ? void 0 : (_b$symbol$slice = _b$symbol.slice(0, query.length)) === null || _b$symbol$slice === void 0 ? void 0 : _b$symbol$slice.toLowerCase()) === query.toLowerCase();\n\n    if (aExact && !bExact) {\n      return -1;\n    } else if (!aExact && bExact) {\n      return 1;\n    } else {\n      var _a$symbol$toLowerCase, _a$symbol2, _b$symbol$toLowerCase, _b$symbol2;\n\n      return ((_a$symbol$toLowerCase = a === null || a === void 0 ? void 0 : (_a$symbol2 = a.symbol) === null || _a$symbol2 === void 0 ? void 0 : _a$symbol2.toLowerCase()) !== null && _a$symbol$toLowerCase !== void 0 ? _a$symbol$toLowerCase : 0) > ((_b$symbol$toLowerCase = b === null || b === void 0 ? void 0 : (_b$symbol2 = b.symbol) === null || _b$symbol2 === void 0 ? void 0 : _b$symbol2.toLowerCase()) !== null && _b$symbol$toLowerCase !== void 0 ? _b$symbol$toLowerCase : 0) ? 1 : -1;\n    }\n  });\n  return remoteTokensFiltered.length === 0 ? __jsx(Text, {\n    textAlign: \"center\",\n    pb: \"0.5rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 5\n    }\n  }, \"No results\") : __jsx(ComboboxList, {\n    as: List,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 5\n    }\n  }, remoteTokensFiltered.map(function (token) {\n    var DUMMY = new Token(chainId, token.address, 18); // we don't know if it actually has 18 decimals\n\n    return __jsx(ComboboxOption, {\n      as: ListItem,\n      key: token.address,\n      value: token.address,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }\n    }, __jsx(Stack, {\n      direction: \"row\",\n      align: \"center\",\n      p: \"0.5rem\",\n      shouldWrapChildren: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    }, __jsx(TokenLogo, {\n      token: DUMMY,\n      size: \"1.5rem\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 15\n      }\n    }), __jsx(Stack, {\n      direction: \"column\",\n      ml: \"1rem\",\n      spacing: 0,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, __jsx(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }, token.symbol), __jsx(Text, {\n      fontSize: \"1rem\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    }, token.name))));\n  }));\n}\n\n_s3(RemoteTokensData, \"isXtYkibDIcpJydLzpwO0cJFe3U=\", false, function () {\n  return [useWeb3React, useAllTokens, useRemoteTokens, useRemoteTokens, useRemoteTokens];\n});\n\n_c4 = RemoteTokensData;\nexport default function TokenSelect(_ref5) {\n  _s4();\n\n  var _this2 = this;\n\n  var tokenAddress = _ref5.tokenAddress,\n      isInvalid = _ref5.isInvalid,\n      isDisabled = _ref5.isDisabled,\n      onAddressSelect = _ref5.onAddressSelect;\n\n  var _useTheme = useTheme(),\n      colors = _useTheme.colors;\n\n  var _useColorMode = useColorMode(),\n      colorMode = _useColorMode.colorMode;\n\n  var _useWeb3React2 = useWeb3React(),\n      chainId = _useWeb3React2.chainId;\n\n  var _useFirstToken = useFirstToken(),\n      _useFirstToken2 = _slicedToArray(_useFirstToken, 1),\n      firstToken = _useFirstToken2[0];\n\n  var _useSecondToken = useSecondToken(),\n      _useSecondToken2 = _slicedToArray(_useSecondToken, 1),\n      secondToken = _useSecondToken2[0]; // if the currently selected token address is in our list, pluck it out\n\n\n  var _useAllTokens3 = useAllTokens(),\n      _useAllTokens4 = _slicedToArray(_useAllTokens3, 2),\n      tokens = _useAllTokens4[0],\n      removeToken = _useAllTokens4[1].removeToken;\n\n  var tokenDerivedFromProps = tokens.filter(function (token) {\n    return token.address === tokenAddress;\n  })[0];\n\n  var _useState = useState(tokenAddress !== null && tokenAddress !== void 0 ? tokenAddress : ''),\n      value = _useState[0],\n      setValue = _useState[1]; // keep the state in sync with the prop\n\n\n  useEffect(function () {\n    setValue(tokenAddress !== null && tokenAddress !== void 0 ? tokenAddress : '');\n  }, [tokenAddress]); // try to parse the value as an address\n\n  var valueAsAddress;\n\n  try {\n    valueAsAddress = getAddress(value);\n  } catch (_unused) {\n    valueAsAddress = null;\n  }\n\n  var ref = useRef(null);\n  useLayoutEffect(function () {\n    if (ref.current) ref.current.size = tokenDerivedFromProps ? getTokenDisplayValue(tokenDerivedFromProps).length : valueAsAddress === null ? value.length === 0 ? 7 : value.length : shortenHex(valueAsAddress, 4).length;\n  });\n\n  function onSelect(tokenAddress) {\n    onAddressSelect(tokenAddress);\n  } // set up a hack. when a user has selected a token, and modifies the input text, the value will get cleared, so we\n  // have to store the modified text and reset it after the clear\n\n\n  var _useState2 = useState(),\n      temporaryInput = _useState2[0],\n      setTemporaryInput = _useState2[1];\n\n  useEffect(function () {\n    if (temporaryInput && !tokenAddress) {\n      setValue(temporaryInput);\n      setTemporaryInput(undefined);\n    }\n  }, [temporaryInput, tokenAddress]);\n\n  function onChange(event) {\n    // try to parse the input as an address\n    var valueAsAddress;\n\n    try {\n      valueAsAddress = getAddress(event.target.value);\n    } catch (_unused2) {\n      valueAsAddress = null;\n    } // if they pasted an address that's already in our list, select it\n\n\n    if (valueAsAddress && tokens.filter(function (token) {\n      return token.address === valueAsAddress;\n    })[0]) {\n      onSelect(valueAsAddress);\n    } else {\n      if (tokenAddress) {\n        onAddressSelect(undefined); // unset the selected address\n\n        setTemporaryInput(event.target.value); // set the temporary input\n      } else {\n        setValue(event.target.value);\n      }\n    }\n  }\n\n  var filteredTokens = tokens.filter(function (token) {\n    var _token$name, _token$name$toLowerCa;\n\n    var addressMatch = valueAsAddress === token.address;\n    var displayMatch = value.toLowerCase() === getTokenDisplayValue(token).slice(0, value.length).toLowerCase();\n    var nameMatch = !token.equals(WETH[token.chainId]) && (token === null || token === void 0 ? void 0 : (_token$name = token.name) === null || _token$name === void 0 ? void 0 : (_token$name$toLowerCa = _token$name.toLowerCase()) === null || _token$name$toLowerCa === void 0 ? void 0 : _token$name$toLowerCa.includes(value.toLowerCase()));\n    return addressMatch || displayMatch || nameMatch;\n  }).sort(function (a, b) {\n    var aExact = valueAsAddress === a.address || value.toLowerCase() === getTokenDisplayValue(a).slice(0, value.length).toLowerCase();\n    var bExact = valueAsAddress === b.address || value.toLowerCase() === getTokenDisplayValue(b).slice(0, value.length).toLowerCase();\n\n    if (tokenDerivedFromProps && a.equals(tokenDerivedFromProps)) {\n      return -1;\n    } else if (tokenDerivedFromProps && b.equals(tokenDerivedFromProps)) {\n      return 1;\n    } else if (aExact && !bExact) {\n      return -1;\n    } else if (!aExact && bExact) {\n      return 1;\n    } else if (a.equals(WETH[a.chainId])) {\n      return -1;\n    } else if (b.equals(WETH[b.chainId])) {\n      return 1;\n    } else {\n      return getTokenDisplayValue(a).toLowerCase() < getTokenDisplayValue(b).toLowerCase() ? -1 : 1;\n    }\n  });\n  return __jsx(React.Fragment, null, __jsx(Combobox, {\n    openOnFocus: true,\n    onSelect: onSelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }\n  }, __jsx(TokenLogoColor, {\n    token: tokenDerivedFromProps,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 9\n    }\n  }, function (swatch) {\n    return __jsx(ComboboxInput, _extends({\n      selectOnClick: true,\n      autocomplete: false,\n      as: Input,\n      ref: ref,\n      value: tokenDerivedFromProps ? getTokenDisplayValue(tokenDerivedFromProps) : valueAsAddress === null ? value : shortenHex(valueAsAddress, 4),\n      onChange: onChange,\n      title: \"Token Select\" // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      ,\n      onCopy: function onCopy(event) {\n        // copy the full address if we've shortened it\n        if (valueAsAddress) {\n          event.preventDefault();\n          event.clipboardData.setData('text/plain', valueAsAddress);\n        }\n      } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      ,\n      onCut: function onCut(event) {\n        // cut the full address if we've shortened it\n        if (valueAsAddress) {\n          event.preventDefault();\n          event.clipboardData.setData('text/plain', valueAsAddress); // simulate an onChange\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n          onChange({\n            target: {\n              value: ''\n            }\n          });\n        }\n      } // chakra props\n      ,\n      variant: \"flushed\",\n      placeholder: \"Select\\u2026\",\n      textAlign: \"center\",\n      fontSize: \"1.875rem\"\n    }, !!(swatch === null || swatch === void 0 ? void 0 : swatch.hex) && {\n      color: swatch.hex\n    }, {\n      isInvalid: isInvalid,\n      isDisabled: isDisabled,\n      _disabled: {\n        opacity: 0.4,\n        cursor: 'not-allowed'\n      },\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 13\n      }\n    }));\n  }), __jsx(Box, {\n    maxHeight: 0,\n    position: \"relative\",\n    zIndex: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 9\n    }\n  }, __jsx(Box, {\n    position: \"absolute\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 11\n    }\n  }, __jsx(ComboboxPopover, {\n    portal: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 13\n    }\n  }, !tokenDerivedFromProps && __jsx(React.Fragment, null, (value === '' || tokenAddress === value) && __jsx(Text, {\n    mx: \"1rem\",\n    my: \"0.5rem\",\n    textAlign: \"center\",\n    color: \"gray.500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 21\n    }\n  }, \"Paste token address or search\"), __jsx(ComboboxList, {\n    as: List,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 19\n    }\n  }, filteredTokens.map(function (token) {\n    var userAdded = !DEFAULT_TOKENS.some(function (defaultToken) {\n      return defaultToken.equals(token);\n    });\n    return __jsx(ComboboxOption, {\n      as: ListItem,\n      key: token.address,\n      value: token.address,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 25\n      }\n    }, __jsx(Stack, {\n      direction: \"row\",\n      align: \"center\",\n      p: \"0.5rem\",\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 27\n      }\n    }, __jsx(Box, {\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 29\n      }\n    }, __jsx(TokenLogo, {\n      token: token,\n      size: \"1.5rem\",\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 31\n      }\n    })), __jsx(Stack, {\n      direction: \"column\",\n      ml: \"1rem\",\n      spacing: 0,\n      shouldWrapChildren: true,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 29\n      }\n    }, __jsx(Text, {\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 31\n      }\n    }, getTokenDisplayValue(token)), __jsx(Text, {\n      fontSize: \"1rem\",\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 31\n      }\n    }, WETH[token.chainId].equals(token) ? 'Ethereum' : token.name)), userAdded && __jsx(Flex, {\n      flexGrow: 1,\n      mb: \"auto\",\n      justifyContent: \"flex-end\",\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 31\n      }\n    }, __jsx(IconButton, {\n      isDisabled: !!firstToken && firstToken.equals(token) || !!secondToken && secondToken.equals(token),\n      icon: \"close\",\n      variant: \"ghost\",\n      size: \"sm\",\n      \"aria-label\": \"Remove\",\n      onClick: function onClick(event) {\n        event.preventDefault();\n        removeToken(token);\n      },\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 33\n      }\n    }))));\n  })), valueAsAddress !== null && !tokens.some(function (token) {\n    return token.address === valueAsAddress;\n  }) ? __jsx(PastedToken, {\n    address: valueAsAddress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 21\n    }\n  }) : null, value.length >= 2 && valueAsAddress === null && chainId === ChainId.MAINNET ? __jsx(RemoteTokens, {\n    query: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 21\n    }\n  }) : null))))), __jsx(_JSXStyle, {\n    id: \"3788667905\",\n    dynamic: [colorMode === 'light' ? colors.gray[50] : colors.gray[900], colorMode === 'light' ? 'black' : 'white', colorMode === 'light' ? colors.gray[100] : 'rgba(255,255,255,0.04)', colorMode === 'light' ? colors.gray[100] : 'rgba(255,255,255,0.04)'],\n    __self: this\n  }, \"[data-reach-combobox-popover]{width:-webkit-max-content !important;width:-moz-max-content !important;width:max-content !important;max-height:25rem;overflow-y:auto;background:\".concat(colorMode === 'light' ? colors.gray[50] : colors.gray[900], \";color:\").concat(colorMode === 'light' ? 'black' : 'white', \";border-radius:0.5rem;border-top-left-radius:0;}[data-reach-combobox-list] :hover{background:\").concat(colorMode === 'light' ? colors.gray[100] : 'rgba(255,255,255,0.04)', \";}[data-reach-combobox-option]{font-size:1.25rem;background:none;}[data-reach-combobox-option] :hover{background:none;}[data-reach-combobox-option][data-highlighted]{background:\").concat(colorMode === 'light' ? colors.gray[100] : 'rgba(255,255,255,0.04)', \" !important;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zaGFubm9uY29kZS9yZXBvL0VtYmxlbS5DdXJyZW50d29yay9lbWJsZW0tdmF1bHQtc2l0ZS9jb21wb25lbnRzL1Rva2VuU2VsZWN0LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrWmtCLEFBR3dDLEFBVVcsQUFJdEIsQUFLRixBQUltQyxnQkFIckQsRUFMa0IsZ0JBQ2xCLE1BTEEsV0FhQSxpREF2Qm1CLGlCQUNELGdCQUN3Qix3Q0FDTCxtQ0FDZCxxQkFDSSx5QkFDM0IiLCJmaWxlIjoiL1VzZXJzL3NoYW5ub25jb2RlL3JlcG8vRW1ibGVtLkN1cnJlbnR3b3JrL2VtYmxlbS12YXVsdC1zaXRlL2NvbXBvbmVudHMvVG9rZW5TZWxlY3QudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlTGF5b3V0RWZmZWN0LCBDaGFuZ2VFdmVudCwgdXNlTWVtbywgU3VzcGVuc2UsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgVG9rZW4sIFdFVEgsIENoYWluSWQgfSBmcm9tICdAdW5pc3dhcC9zZGsnXG5pbXBvcnQge1xuICBJbnB1dCxcbiAgU3RhY2ssXG4gIFRleHQsXG4gIHVzZUNvbG9yTW9kZSxcbiAgdXNlVGhlbWUsXG4gIExpc3QsXG4gIExpc3RJdGVtLFxuICBJY29uQnV0dG9uLFxuICBEaXZpZGVyLFxuICBTcGlubmVyLFxuICBGbGV4LFxuICBJY29uLFxuICBCb3gsXG59IGZyb20gJ0BjaGFrcmEtdWkvY29yZSdcbmltcG9ydCB7IENvbWJvYm94LCBDb21ib2JveElucHV0LCBDb21ib2JveFBvcG92ZXIsIENvbWJvYm94TGlzdCwgQ29tYm9ib3hPcHRpb24gfSBmcm9tICdAcmVhY2gvY29tYm9ib3gnXG5pbXBvcnQgeyBnZXRBZGRyZXNzIH0gZnJvbSAnQGV0aGVyc3Byb2plY3QvYWRkcmVzcydcbmltcG9ydCB7IHVzZVdlYjNSZWFjdCB9IGZyb20gJ0B3ZWIzLXJlYWN0L2NvcmUnXG5cbmltcG9ydCB7IHVzZUFsbFRva2VucywgREVGQVVMVF9UT0tFTlMgfSBmcm9tICcuLi90b2tlbnMnXG5pbXBvcnQgeyBnZXRUb2tlbkRpc3BsYXlWYWx1ZSwgc2hvcnRlbkhleCB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IFRva2VuTG9nbywgeyBUb2tlbkxvZ29Db2xvciB9IGZyb20gJy4vVG9rZW5Mb2dvJ1xuaW1wb3J0IHsgdXNlRmlyc3RUb2tlbiwgdXNlU2Vjb25kVG9rZW4gfSBmcm9tICcuLi9jb250ZXh0J1xuaW1wb3J0IHsgdXNlT25jaGFpblRva2VuLCB1c2VSZW1vdGVUb2tlbnMgfSBmcm9tICcuLi9kYXRhJ1xuaW1wb3J0IHsgdXNlRGVmYXVsdGVkRGVib3VuY2UgfSBmcm9tICcuLi9ob29rcydcbmltcG9ydCBFcnJvckJvdW5kYXJ5IGZyb20gJy4vRXJyb3JCb3VuZGFyeSdcblxuZnVuY3Rpb24gUGFzdGVkVG9rZW4oeyBhZGRyZXNzIH06IHsgYWRkcmVzczogc3RyaW5nIH0pOiBKU1guRWxlbWVudCB7XG4gIHJldHVybiAoXG4gICAgPEVycm9yQm91bmRhcnlcbiAgICAgIGZhbGxiYWNrPXtcbiAgICAgICAgPEZsZXgganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIiB3aWR0aD1cIjEwMCVcIiBweD1cIjFyZW1cIiBweT1cIjAuNXJlbVwiPlxuICAgICAgICAgIDxJY29uIG5hbWU9XCJ3YXJuaW5nXCIgc2l6ZT1cIjFyZW1cIiAvPlxuICAgICAgICA8L0ZsZXg+XG4gICAgICB9XG4gICAgPlxuICAgICAgPFN1c3BlbnNlXG4gICAgICAgIGZhbGxiYWNrPXtcbiAgICAgICAgICA8RmxleCBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiIHdpZHRoPVwiMTAwJVwiIHB4PVwiMXJlbVwiIHB5PVwiMC41cmVtXCI+XG4gICAgICAgICAgICA8U3Bpbm5lciBjb2xvcj1cImdyYXkuNTAwXCIgc2l6ZT1cInNtXCIgLz5cbiAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgIH1cbiAgICAgID5cbiAgICAgICAgPFBhc3RlZFRva2VuRGF0YSBhZGRyZXNzPXthZGRyZXNzfSAvPlxuICAgICAgPC9TdXNwZW5zZT5cbiAgICA8L0Vycm9yQm91bmRhcnk+XG4gIClcbn1cblxuZnVuY3Rpb24gUGFzdGVkVG9rZW5EYXRhKHsgYWRkcmVzcyB9OiB7IGFkZHJlc3M6IHN0cmluZyB9KTogSlNYLkVsZW1lbnQge1xuICBjb25zdCB7IGRhdGEgfSA9IHVzZU9uY2hhaW5Ub2tlbihhZGRyZXNzLCB0cnVlKVxuXG4gIHJldHVybiBkYXRhID09PSBudWxsID8gKFxuICAgIDxUZXh0IHRleHRBbGlnbj1cImNlbnRlclwiIHB4PVwiMXJlbVwiIHB5PVwiMC41cmVtXCI+XG4gICAgICBJbnZhbGlkIHRva2VuIGFkZHJlc3NcbiAgICA8L1RleHQ+XG4gICkgOiAoXG4gICAgPD5cbiAgICAgIDxEaXZpZGVyIG09ezB9IC8+XG4gICAgICA8VGV4dCBteD1cIjFyZW1cIiBteT1cIjAuNXJlbVwiIHRleHRBbGlnbj1cImNlbnRlclwiIGZvbnRTaXplPVwiMXJlbVwiPlxuICAgICAgICBUb2tlbiBGb3VuZCBCeSBBZGRyZXNzXG4gICAgICA8L1RleHQ+XG5cbiAgICAgIDxDb21ib2JveExpc3QgYXM9e0xpc3R9PlxuICAgICAgICA8Q29tYm9ib3hPcHRpb24gYXM9e0xpc3RJdGVtfSBrZXk9eyhkYXRhIGFzIFRva2VuKS5hZGRyZXNzfSB2YWx1ZT17KGRhdGEgYXMgVG9rZW4pLmFkZHJlc3N9PlxuICAgICAgICAgIDxTdGFjayBkaXJlY3Rpb249XCJyb3dcIiBhbGlnbj1cImNlbnRlclwiIHA9XCIwLjVyZW1cIiBzaG91bGRXcmFwQ2hpbGRyZW4+XG4gICAgICAgICAgICA8VG9rZW5Mb2dvIHRva2VuPXtkYXRhIGFzIFRva2VufSBzaXplPVwiMS41cmVtXCIgLz5cblxuICAgICAgICAgICAgPFN0YWNrIGRpcmVjdGlvbj1cImNvbHVtblwiIG1sPVwiMXJlbVwiIHNwYWNpbmc9ezB9PlxuICAgICAgICAgICAgICA8VGV4dD57KGRhdGEgYXMgVG9rZW4pLnN5bWJvbH08L1RleHQ+XG4gICAgICAgICAgICAgIDxUZXh0IGZvbnRTaXplPVwiMXJlbVwiPnsoZGF0YSBhcyBUb2tlbikubmFtZX08L1RleHQ+XG4gICAgICAgICAgICA8L1N0YWNrPlxuICAgICAgICAgIDwvU3RhY2s+XG4gICAgICAgIDwvQ29tYm9ib3hPcHRpb24+XG4gICAgICA8L0NvbWJvYm94TGlzdD5cbiAgICA8Lz5cbiAgKVxufVxuXG5mdW5jdGlvbiBSZW1vdGVUb2tlbnMoeyBxdWVyeSB9OiB7IHF1ZXJ5OiBzdHJpbmcgfSk6IEpTWC5FbGVtZW50IHwgbnVsbCB7XG4gIGNvbnN0IGRlYm91bmNlZFZhbHVlID0gdXNlRGVmYXVsdGVkRGVib3VuY2UocXVlcnksICcnLCAyMDApXG5cbiAgcmV0dXJuIGRlYm91bmNlZFZhbHVlLmxlbmd0aCA9PT0gMCA/IG51bGwgOiAoXG4gICAgPD5cbiAgICAgIDxEaXZpZGVyIG09ezB9IC8+XG4gICAgICA8VGV4dCBteD1cIjFyZW1cIiBteT1cIjAuNXJlbVwiIHRleHRBbGlnbj1cImNlbnRlclwiIGZvbnRTaXplPVwiMXJlbVwiPlxuICAgICAgICBVbnZlcmlmaWVkIFRva2Vuc1xuICAgICAgPC9UZXh0PlxuXG4gICAgICA8RXJyb3JCb3VuZGFyeVxuICAgICAgICBmYWxsYmFjaz17XG4gICAgICAgICAgPEZsZXgganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIiB3aWR0aD1cIjEwMCVcIiBwYj1cIjAuNXJlbVwiPlxuICAgICAgICAgICAgPEljb24gbmFtZT1cIndhcm5pbmdcIiBzaXplPVwiMXJlbVwiIC8+XG4gICAgICAgICAgPC9GbGV4PlxuICAgICAgICB9XG4gICAgICA+XG4gICAgICAgIDxTdXNwZW5zZVxuICAgICAgICAgIGZhbGxiYWNrPXtcbiAgICAgICAgICAgIDxGbGV4IGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCIgd2lkdGg9XCIxMDAlXCIgcGI9XCIwLjVyZW1cIj5cbiAgICAgICAgICAgICAgPFNwaW5uZXIgY29sb3I9XCJncmF5LjUwMFwiIHNpemU9XCJzbVwiIC8+XG4gICAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgfVxuICAgICAgICA+XG4gICAgICAgICAgPFJlbW90ZVRva2Vuc0RhdGEgcXVlcnk9e3F1ZXJ5fSAvPlxuICAgICAgICA8L1N1c3BlbnNlPlxuICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgIDwvPlxuICApXG59XG5cbmZ1bmN0aW9uIFJlbW90ZVRva2Vuc0RhdGEoeyBxdWVyeSB9OiB7IHF1ZXJ5OiBzdHJpbmcgfSk6IEpTWC5FbGVtZW50IHtcbiAgY29uc3QgeyBjaGFpbklkIH0gPSB1c2VXZWIzUmVhY3QoKVxuXG4gIGNvbnN0IFt0b2tlbnNdID0gdXNlQWxsVG9rZW5zKClcblxuICBjb25zdCB7IGRhdGE6IHJlbW90ZVRva2Vuc0Nhc2VkIH0gPSB1c2VSZW1vdGVUb2tlbnMocXVlcnksIHRydWUpXG4gIGNvbnN0IHsgZGF0YTogcmVtb3RlVG9rZW5zTG93ZXIgfSA9IHVzZVJlbW90ZVRva2VucyhxdWVyeS50b0xvd2VyQ2FzZSgpLCB0cnVlKVxuICBjb25zdCB7IGRhdGE6IHJlbW90ZVRva2Vuc1VwcGVyIH0gPSB1c2VSZW1vdGVUb2tlbnMocXVlcnkudG9VcHBlckNhc2UoKSwgdHJ1ZSlcblxuICBjb25zdCByZW1vdGVUb2tlbnMgPSB1c2VNZW1vKFxuICAgICgpID0+IChyZW1vdGVUb2tlbnNDYXNlZCB8fCBbXSkuY29uY2F0KHJlbW90ZVRva2Vuc0xvd2VyIHx8IFtdKS5jb25jYXQocmVtb3RlVG9rZW5zVXBwZXIgfHwgW10pLFxuICAgIFtyZW1vdGVUb2tlbnNDYXNlZCwgcmVtb3RlVG9rZW5zTG93ZXIsIHJlbW90ZVRva2Vuc1VwcGVyXVxuICApXG5cbiAgY29uc3QgcmVtb3RlVG9rZW5zRmlsdGVyZWQgPSB1c2VNZW1vKFxuICAgICgpID0+XG4gICAgICBBcnJheS5mcm9tKG5ldyBTZXQocmVtb3RlVG9rZW5zLm1hcCgocmVtb3RlVG9rZW4pID0+IHJlbW90ZVRva2VuLmFkZHJlc3MpKSkgLy8gZ2V0IHVuaXF1ZSBhZGRyZXNzZXNcbiAgICAgICAgLmZpbHRlcigoYWRkcmVzcykgPT4gIXRva2Vucy5zb21lKCh0b2tlbikgPT4gdG9rZW4uYWRkcmVzcyA9PT0gYWRkcmVzcykpIC8vIGZpbHRlciBvdXQgdG9rZW5zIGFscmVhZHkgaW4gb3VyIGxpc3RcbiAgICAgICAgLm1hcCgoYWRkcmVzcykgPT4gcmVtb3RlVG9rZW5zLmZpbmQoKHJlbW90ZVRva2VuKSA9PiByZW1vdGVUb2tlbi5hZGRyZXNzID09PSBhZGRyZXNzKSksIC8vIGdldCB0aGUgZnVsbCByZW1vdGUgdG9rZW5zXG4gICAgW3JlbW90ZVRva2VucywgdG9rZW5zXVxuICApLnNvcnQoKGEsIGIpID0+IHtcbiAgICBjb25zdCBhRXhhY3QgPSBhPy5zeW1ib2w/LnNsaWNlKDAsIHF1ZXJ5Lmxlbmd0aCk/LnRvTG93ZXJDYXNlKCkgPT09IHF1ZXJ5LnRvTG93ZXJDYXNlKClcbiAgICBjb25zdCBiRXhhY3QgPSBiPy5zeW1ib2w/LnNsaWNlKDAsIHF1ZXJ5Lmxlbmd0aCk/LnRvTG93ZXJDYXNlKCkgPT09IHF1ZXJ5LnRvTG93ZXJDYXNlKClcbiAgICBpZiAoYUV4YWN0ICYmICFiRXhhY3QpIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH0gZWxzZSBpZiAoIWFFeGFjdCAmJiBiRXhhY3QpIHtcbiAgICAgIHJldHVybiAxXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoYT8uc3ltYm9sPy50b0xvd2VyQ2FzZSgpID8/IDApID4gKGI/LnN5bWJvbD8udG9Mb3dlckNhc2UoKSA/PyAwKSA/IDEgOiAtMVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gcmVtb3RlVG9rZW5zRmlsdGVyZWQubGVuZ3RoID09PSAwID8gKFxuICAgIDxUZXh0IHRleHRBbGlnbj1cImNlbnRlclwiIHBiPVwiMC41cmVtXCI+XG4gICAgICBObyByZXN1bHRzXG4gICAgPC9UZXh0PlxuICApIDogKFxuICAgIDxDb21ib2JveExpc3QgYXM9e0xpc3R9PlxuICAgICAge3JlbW90ZVRva2Vuc0ZpbHRlcmVkLm1hcCgodG9rZW4pID0+IHtcbiAgICAgICAgY29uc3QgRFVNTVkgPSBuZXcgVG9rZW4oY2hhaW5JZCBhcyBudW1iZXIsICh0b2tlbiBhcyBUb2tlbikuYWRkcmVzcywgMTgpIC8vIHdlIGRvbid0IGtub3cgaWYgaXQgYWN0dWFsbHkgaGFzIDE4IGRlY2ltYWxzXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPENvbWJvYm94T3B0aW9uIGFzPXtMaXN0SXRlbX0ga2V5PXsodG9rZW4gYXMgVG9rZW4pLmFkZHJlc3N9IHZhbHVlPXsodG9rZW4gYXMgVG9rZW4pLmFkZHJlc3N9PlxuICAgICAgICAgICAgPFN0YWNrIGRpcmVjdGlvbj1cInJvd1wiIGFsaWduPVwiY2VudGVyXCIgcD1cIjAuNXJlbVwiIHNob3VsZFdyYXBDaGlsZHJlbj5cbiAgICAgICAgICAgICAgPFRva2VuTG9nbyB0b2tlbj17RFVNTVl9IHNpemU9XCIxLjVyZW1cIiAvPlxuXG4gICAgICAgICAgICAgIDxTdGFjayBkaXJlY3Rpb249XCJjb2x1bW5cIiBtbD1cIjFyZW1cIiBzcGFjaW5nPXswfT5cbiAgICAgICAgICAgICAgICA8VGV4dD57KHRva2VuIGFzIFRva2VuKS5zeW1ib2x9PC9UZXh0PlxuICAgICAgICAgICAgICAgIDxUZXh0IGZvbnRTaXplPVwiMXJlbVwiPnsodG9rZW4gYXMgVG9rZW4pLm5hbWV9PC9UZXh0PlxuICAgICAgICAgICAgICA8L1N0YWNrPlxuICAgICAgICAgICAgPC9TdGFjaz5cbiAgICAgICAgICA8L0NvbWJvYm94T3B0aW9uPlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8L0NvbWJvYm94TGlzdD5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUb2tlblNlbGVjdCh7XG4gIHRva2VuQWRkcmVzcyxcbiAgaXNJbnZhbGlkLFxuICBpc0Rpc2FibGVkLFxuICBvbkFkZHJlc3NTZWxlY3QsXG59OiB7XG4gIHRva2VuQWRkcmVzcz86IHN0cmluZ1xuICBpc0ludmFsaWQ6IGJvb2xlYW5cbiAgaXNEaXNhYmxlZDogYm9vbGVhblxuICBvbkFkZHJlc3NTZWxlY3Q6IChhZGRyZXNzOiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHZvaWRcbn0pOiBKU1guRWxlbWVudCB7XG4gIGNvbnN0IHsgY29sb3JzIH0gPSB1c2VUaGVtZSgpXG4gIGNvbnN0IHsgY29sb3JNb2RlIH0gPSB1c2VDb2xvck1vZGUoKVxuICBjb25zdCB7IGNoYWluSWQgfSA9IHVzZVdlYjNSZWFjdCgpXG5cbiAgY29uc3QgW2ZpcnN0VG9rZW5dID0gdXNlRmlyc3RUb2tlbigpXG4gIGNvbnN0IFtzZWNvbmRUb2tlbl0gPSB1c2VTZWNvbmRUb2tlbigpXG5cbiAgLy8gaWYgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCB0b2tlbiBhZGRyZXNzIGlzIGluIG91ciBsaXN0LCBwbHVjayBpdCBvdXRcbiAgY29uc3QgW3Rva2VucywgeyByZW1vdmVUb2tlbiB9XSA9IHVzZUFsbFRva2VucygpXG4gIGNvbnN0IHRva2VuRGVyaXZlZEZyb21Qcm9wcyA9IHRva2Vucy5maWx0ZXIoKHRva2VuKSA9PiB0b2tlbi5hZGRyZXNzID09PSB0b2tlbkFkZHJlc3MpWzBdXG5cbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZSh0b2tlbkFkZHJlc3MgPz8gJycpXG4gIC8vIGtlZXAgdGhlIHN0YXRlIGluIHN5bmMgd2l0aCB0aGUgcHJvcFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFZhbHVlKHRva2VuQWRkcmVzcyA/PyAnJylcbiAgfSwgW3Rva2VuQWRkcmVzc10pXG5cbiAgLy8gdHJ5IHRvIHBhcnNlIHRoZSB2YWx1ZSBhcyBhbiBhZGRyZXNzXG4gIGxldCB2YWx1ZUFzQWRkcmVzczogc3RyaW5nIHwgbnVsbFxuICB0cnkge1xuICAgIHZhbHVlQXNBZGRyZXNzID0gZ2V0QWRkcmVzcyh2YWx1ZSlcbiAgfSBjYXRjaCB7XG4gICAgdmFsdWVBc0FkZHJlc3MgPSBudWxsXG4gIH1cblxuICBjb25zdCByZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbClcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAocmVmLmN1cnJlbnQpXG4gICAgICByZWYuY3VycmVudC5zaXplID0gdG9rZW5EZXJpdmVkRnJvbVByb3BzXG4gICAgICAgID8gZ2V0VG9rZW5EaXNwbGF5VmFsdWUodG9rZW5EZXJpdmVkRnJvbVByb3BzKS5sZW5ndGhcbiAgICAgICAgOiB2YWx1ZUFzQWRkcmVzcyA9PT0gbnVsbFxuICAgICAgICA/IHZhbHVlLmxlbmd0aCA9PT0gMFxuICAgICAgICAgID8gN1xuICAgICAgICAgIDogdmFsdWUubGVuZ3RoXG4gICAgICAgIDogc2hvcnRlbkhleCh2YWx1ZUFzQWRkcmVzcywgNCkubGVuZ3RoXG4gIH0pXG5cbiAgZnVuY3Rpb24gb25TZWxlY3QodG9rZW5BZGRyZXNzOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBvbkFkZHJlc3NTZWxlY3QodG9rZW5BZGRyZXNzKVxuICB9XG5cbiAgLy8gc2V0IHVwIGEgaGFjay4gd2hlbiBhIHVzZXIgaGFzIHNlbGVjdGVkIGEgdG9rZW4sIGFuZCBtb2RpZmllcyB0aGUgaW5wdXQgdGV4dCwgdGhlIHZhbHVlIHdpbGwgZ2V0IGNsZWFyZWQsIHNvIHdlXG4gIC8vIGhhdmUgdG8gc3RvcmUgdGhlIG1vZGlmaWVkIHRleHQgYW5kIHJlc2V0IGl0IGFmdGVyIHRoZSBjbGVhclxuICBjb25zdCBbdGVtcG9yYXJ5SW5wdXQsIHNldFRlbXBvcmFyeUlucHV0XSA9IHVzZVN0YXRlPHN0cmluZz4oKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0ZW1wb3JhcnlJbnB1dCAmJiAhdG9rZW5BZGRyZXNzKSB7XG4gICAgICBzZXRWYWx1ZSh0ZW1wb3JhcnlJbnB1dClcbiAgICAgIHNldFRlbXBvcmFyeUlucHV0KHVuZGVmaW5lZClcbiAgICB9XG4gIH0sIFt0ZW1wb3JhcnlJbnB1dCwgdG9rZW5BZGRyZXNzXSlcblxuICBmdW5jdGlvbiBvbkNoYW5nZShldmVudDogQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pOiB2b2lkIHtcbiAgICAvLyB0cnkgdG8gcGFyc2UgdGhlIGlucHV0IGFzIGFuIGFkZHJlc3NcbiAgICBsZXQgdmFsdWVBc0FkZHJlc3M6IHN0cmluZyB8IG51bGxcbiAgICB0cnkge1xuICAgICAgdmFsdWVBc0FkZHJlc3MgPSBnZXRBZGRyZXNzKGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICB9IGNhdGNoIHtcbiAgICAgIHZhbHVlQXNBZGRyZXNzID0gbnVsbFxuICAgIH1cbiAgICAvLyBpZiB0aGV5IHBhc3RlZCBhbiBhZGRyZXNzIHRoYXQncyBhbHJlYWR5IGluIG91ciBsaXN0LCBzZWxlY3QgaXRcbiAgICBpZiAodmFsdWVBc0FkZHJlc3MgJiYgdG9rZW5zLmZpbHRlcigodG9rZW4pID0+IHRva2VuLmFkZHJlc3MgPT09IHZhbHVlQXNBZGRyZXNzKVswXSkge1xuICAgICAgb25TZWxlY3QodmFsdWVBc0FkZHJlc3MpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0b2tlbkFkZHJlc3MpIHtcbiAgICAgICAgb25BZGRyZXNzU2VsZWN0KHVuZGVmaW5lZCkgLy8gdW5zZXQgdGhlIHNlbGVjdGVkIGFkZHJlc3NcbiAgICAgICAgc2V0VGVtcG9yYXJ5SW5wdXQoZXZlbnQudGFyZ2V0LnZhbHVlKSAvLyBzZXQgdGhlIHRlbXBvcmFyeSBpbnB1dFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VmFsdWUoZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZpbHRlcmVkVG9rZW5zID0gdG9rZW5zXG4gICAgLmZpbHRlcigodG9rZW4pID0+IHtcbiAgICAgIGNvbnN0IGFkZHJlc3NNYXRjaCA9IHZhbHVlQXNBZGRyZXNzID09PSB0b2tlbi5hZGRyZXNzXG4gICAgICBjb25zdCBkaXNwbGF5TWF0Y2ggPSB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSBnZXRUb2tlbkRpc3BsYXlWYWx1ZSh0b2tlbikuc2xpY2UoMCwgdmFsdWUubGVuZ3RoKS50b0xvd2VyQ2FzZSgpXG4gICAgICBjb25zdCBuYW1lTWF0Y2ggPSAhdG9rZW4uZXF1YWxzKFdFVEhbdG9rZW4uY2hhaW5JZF0pICYmIHRva2VuPy5uYW1lPy50b0xvd2VyQ2FzZSgpPy5pbmNsdWRlcyh2YWx1ZS50b0xvd2VyQ2FzZSgpKVxuICAgICAgcmV0dXJuIGFkZHJlc3NNYXRjaCB8fCBkaXNwbGF5TWF0Y2ggfHwgbmFtZU1hdGNoXG4gICAgfSlcbiAgICAuc29ydCgoYTogVG9rZW4sIGI6IFRva2VuKSA9PiB7XG4gICAgICBjb25zdCBhRXhhY3QgPVxuICAgICAgICB2YWx1ZUFzQWRkcmVzcyA9PT0gYS5hZGRyZXNzIHx8XG4gICAgICAgIHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IGdldFRva2VuRGlzcGxheVZhbHVlKGEpLnNsaWNlKDAsIHZhbHVlLmxlbmd0aCkudG9Mb3dlckNhc2UoKVxuICAgICAgY29uc3QgYkV4YWN0ID1cbiAgICAgICAgdmFsdWVBc0FkZHJlc3MgPT09IGIuYWRkcmVzcyB8fFxuICAgICAgICB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSBnZXRUb2tlbkRpc3BsYXlWYWx1ZShiKS5zbGljZSgwLCB2YWx1ZS5sZW5ndGgpLnRvTG93ZXJDYXNlKClcbiAgICAgIGlmICh0b2tlbkRlcml2ZWRGcm9tUHJvcHMgJiYgYS5lcXVhbHModG9rZW5EZXJpdmVkRnJvbVByb3BzKSkge1xuICAgICAgICByZXR1cm4gLTFcbiAgICAgIH0gZWxzZSBpZiAodG9rZW5EZXJpdmVkRnJvbVByb3BzICYmIGIuZXF1YWxzKHRva2VuRGVyaXZlZEZyb21Qcm9wcykpIHtcbiAgICAgICAgcmV0dXJuIDFcbiAgICAgIH0gZWxzZSBpZiAoYUV4YWN0ICYmICFiRXhhY3QpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9IGVsc2UgaWYgKCFhRXhhY3QgJiYgYkV4YWN0KSB7XG4gICAgICAgIHJldHVybiAxXG4gICAgICB9IGVsc2UgaWYgKGEuZXF1YWxzKFdFVEhbYS5jaGFpbklkXSkpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9IGVsc2UgaWYgKGIuZXF1YWxzKFdFVEhbYi5jaGFpbklkXSkpIHtcbiAgICAgICAgcmV0dXJuIDFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXRUb2tlbkRpc3BsYXlWYWx1ZShhKS50b0xvd2VyQ2FzZSgpIDwgZ2V0VG9rZW5EaXNwbGF5VmFsdWUoYikudG9Mb3dlckNhc2UoKSA/IC0xIDogMVxuICAgICAgfVxuICAgIH0pXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPENvbWJvYm94IG9wZW5PbkZvY3VzIG9uU2VsZWN0PXtvblNlbGVjdH0+XG4gICAgICAgIDxUb2tlbkxvZ29Db2xvciB0b2tlbj17dG9rZW5EZXJpdmVkRnJvbVByb3BzfT5cbiAgICAgICAgICB7KHN3YXRjaCk6IEpTWC5FbGVtZW50ID0+IChcbiAgICAgICAgICAgIDxDb21ib2JveElucHV0XG4gICAgICAgICAgICAgIHNlbGVjdE9uQ2xpY2tcbiAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlPXtmYWxzZX1cbiAgICAgICAgICAgICAgYXM9e0lucHV0fVxuICAgICAgICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgICAgICAgdmFsdWU9e1xuICAgICAgICAgICAgICAgIHRva2VuRGVyaXZlZEZyb21Qcm9wc1xuICAgICAgICAgICAgICAgICAgPyBnZXRUb2tlbkRpc3BsYXlWYWx1ZSh0b2tlbkRlcml2ZWRGcm9tUHJvcHMpXG4gICAgICAgICAgICAgICAgICA6IHZhbHVlQXNBZGRyZXNzID09PSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgICAgICAgICA6IHNob3J0ZW5IZXgodmFsdWVBc0FkZHJlc3MsIDQpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgICAgICB0aXRsZT1cIlRva2VuIFNlbGVjdFwiXG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgIG9uQ29weT17KGV2ZW50OiBhbnkpOiB2b2lkID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjb3B5IHRoZSBmdWxsIGFkZHJlc3MgaWYgd2UndmUgc2hvcnRlbmVkIGl0XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlQXNBZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICBldmVudC5jbGlwYm9hcmREYXRhLnNldERhdGEoJ3RleHQvcGxhaW4nLCB2YWx1ZUFzQWRkcmVzcylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgIG9uQ3V0PXsoZXZlbnQ6IGFueSk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGN1dCB0aGUgZnVsbCBhZGRyZXNzIGlmIHdlJ3ZlIHNob3J0ZW5lZCBpdFxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZUFzQWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgZXZlbnQuY2xpcGJvYXJkRGF0YS5zZXREYXRhKCd0ZXh0L3BsYWluJywgdmFsdWVBc0FkZHJlc3MpXG4gICAgICAgICAgICAgICAgICAvLyBzaW11bGF0ZSBhbiBvbkNoYW5nZVxuICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHsgdGFyZ2V0OiB7IHZhbHVlOiAnJyB9IH0gYXMgYW55KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLy8gY2hha3JhIHByb3BzXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJmbHVzaGVkXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3TigKZcIlxuICAgICAgICAgICAgICB0ZXh0QWxpZ249XCJjZW50ZXJcIlxuICAgICAgICAgICAgICBmb250U2l6ZT1cIjEuODc1cmVtXCJcbiAgICAgICAgICAgICAgey4uLighIXN3YXRjaD8uaGV4ICYmIHsgY29sb3I6IHN3YXRjaC5oZXggfSl9XG4gICAgICAgICAgICAgIGlzSW52YWxpZD17aXNJbnZhbGlkfVxuICAgICAgICAgICAgICBpc0Rpc2FibGVkPXtpc0Rpc2FibGVkfVxuICAgICAgICAgICAgICBfZGlzYWJsZWQ9e3tcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjQsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiAnbm90LWFsbG93ZWQnLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L1Rva2VuTG9nb0NvbG9yPlxuXG4gICAgICAgIDxCb3ggbWF4SGVpZ2h0PXswfSBwb3NpdGlvbj1cInJlbGF0aXZlXCIgekluZGV4PXsyfT5cbiAgICAgICAgICA8Qm94IHBvc2l0aW9uPVwiYWJzb2x1dGVcIj5cbiAgICAgICAgICAgIDxDb21ib2JveFBvcG92ZXIgcG9ydGFsPXtmYWxzZX0+XG4gICAgICAgICAgICAgIHsvKiBoaWRlIHBvcG92ZXIgY29udGVudCB3aGVuIHRoZXJlJ3MgYSB0b2tlbiBzZWxlY3RlZCAqL31cbiAgICAgICAgICAgICAgeyF0b2tlbkRlcml2ZWRGcm9tUHJvcHMgJiYgKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICB7KHZhbHVlID09PSAnJyB8fCB0b2tlbkFkZHJlc3MgPT09IHZhbHVlKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxUZXh0IG14PVwiMXJlbVwiIG15PVwiMC41cmVtXCIgdGV4dEFsaWduPVwiY2VudGVyXCIgY29sb3I9XCJncmF5LjUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIFBhc3RlIHRva2VuIGFkZHJlc3Mgb3Igc2VhcmNoXG4gICAgICAgICAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgIDxDb21ib2JveExpc3QgYXM9e0xpc3R9PlxuICAgICAgICAgICAgICAgICAgICB7ZmlsdGVyZWRUb2tlbnMubWFwKCh0b2tlbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJBZGRlZCA9ICFERUZBVUxUX1RPS0VOUy5zb21lKChkZWZhdWx0VG9rZW4pID0+IGRlZmF1bHRUb2tlbi5lcXVhbHModG9rZW4pKVxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29tYm9ib3hPcHRpb24gYXM9e0xpc3RJdGVtfSBrZXk9e3Rva2VuLmFkZHJlc3N9IHZhbHVlPXt0b2tlbi5hZGRyZXNzfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrIGRpcmVjdGlvbj1cInJvd1wiIGFsaWduPVwiY2VudGVyXCIgcD1cIjAuNXJlbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCb3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VG9rZW5Mb2dvIHRva2VuPXt0b2tlbn0gc2l6ZT1cIjEuNXJlbVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2sgZGlyZWN0aW9uPVwiY29sdW1uXCIgbWw9XCIxcmVtXCIgc3BhY2luZz17MH0gc2hvdWxkV3JhcENoaWxkcmVuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQ+e2dldFRva2VuRGlzcGxheVZhbHVlKHRva2VuKX08L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCBmb250U2l6ZT1cIjFyZW1cIj57V0VUSFt0b2tlbi5jaGFpbklkXS5lcXVhbHModG9rZW4pID8gJ0V0aGVyZXVtJyA6IHRva2VuLm5hbWV9PC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2s+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlckFkZGVkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGbGV4IGZsZXhHcm93PXsxfSBtYj1cImF1dG9cIiBqdXN0aWZ5Q29udGVudD1cImZsZXgtZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNEaXNhYmxlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoISFmaXJzdFRva2VuICYmIGZpcnN0VG9rZW4uZXF1YWxzKHRva2VuKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICghIXNlY29uZFRva2VuICYmIHNlY29uZFRva2VuLmVxdWFscyh0b2tlbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249XCJjbG9zZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJSZW1vdmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhldmVudCk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVG9rZW4odG9rZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Db21ib2JveE9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgPC9Db21ib2JveExpc3Q+XG5cbiAgICAgICAgICAgICAgICAgIHt2YWx1ZUFzQWRkcmVzcyAhPT0gbnVsbCAmJiAhdG9rZW5zLnNvbWUoKHRva2VuKSA9PiB0b2tlbi5hZGRyZXNzID09PSB2YWx1ZUFzQWRkcmVzcykgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxQYXN0ZWRUb2tlbiBhZGRyZXNzPXt2YWx1ZUFzQWRkcmVzc30gLz5cbiAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuXG4gICAgICAgICAgICAgICAgICB7dmFsdWUubGVuZ3RoID49IDIgJiYgdmFsdWVBc0FkZHJlc3MgPT09IG51bGwgJiYgY2hhaW5JZCA9PT0gQ2hhaW5JZC5NQUlOTkVUID8gKFxuICAgICAgICAgICAgICAgICAgICA8UmVtb3RlVG9rZW5zIHF1ZXJ5PXt2YWx1ZX0gLz5cbiAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9Db21ib2JveFBvcG92ZXI+XG4gICAgICAgICAgPC9Cb3g+XG4gICAgICAgIDwvQm94PlxuICAgICAgPC9Db21ib2JveD5cblxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICA6Z2xvYmFsKFtkYXRhLXJlYWNoLWNvbWJvYm94LXBvcG92ZXJdKSB7XG4gICAgICAgICAgd2lkdGg6IG1heC1jb250ZW50ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgbWF4LWhlaWdodDogMjVyZW07XG4gICAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAke2NvbG9yTW9kZSA9PT0gJ2xpZ2h0JyA/IGNvbG9ycy5ncmF5WzUwXSA6IGNvbG9ycy5ncmF5WzkwMF19O1xuICAgICAgICAgIGNvbG9yOiAke2NvbG9yTW9kZSA9PT0gJ2xpZ2h0JyA/ICdibGFjaycgOiAnd2hpdGUnfTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAwLjVyZW07XG4gICAgICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIDpnbG9iYWwoW2RhdGEtcmVhY2gtY29tYm9ib3gtbGlzdF0gOmhvdmVyKSB7XG4gICAgICAgICAgYmFja2dyb3VuZDogJHtjb2xvck1vZGUgPT09ICdsaWdodCcgPyBjb2xvcnMuZ3JheVsxMDBdIDogJ3JnYmEoMjU1LDI1NSwyNTUsMC4wNCknfTtcbiAgICAgICAgfVxuXG4gICAgICAgIDpnbG9iYWwoW2RhdGEtcmVhY2gtY29tYm9ib3gtb3B0aW9uXSkge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMS4yNXJlbTtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgICB9XG5cbiAgICAgICAgOmdsb2JhbChbZGF0YS1yZWFjaC1jb21ib2JveC1vcHRpb25dIDpob3Zlcikge1xuICAgICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgICAgIH1cblxuICAgICAgICA6Z2xvYmFsKFtkYXRhLXJlYWNoLWNvbWJvYm94LW9wdGlvbl1bZGF0YS1oaWdobGlnaHRlZF0pIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAke2NvbG9yTW9kZSA9PT0gJ2xpZ2h0JyA/IGNvbG9ycy5ncmF5WzEwMF0gOiAncmdiYSgyNTUsMjU1LDI1NSwwLjA0KSd9ICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8Lz5cbiAgKVxufVxuIl19 */\\n/*@ sourceURL=/Users/shannoncode/repo/Emblem.Currentwork/emblem-vault-site/components/TokenSelect.tsx */\")));\n}\n\n_s4(TokenSelect, \"0woI+74ipeOkCjShlKShdp06yaw=\", false, function () {\n  return [useTheme, useColorMode, useWeb3React, useFirstToken, useSecondToken, useAllTokens];\n});\n\n_c5 = TokenSelect;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"PastedToken\");\n$RefreshReg$(_c2, \"PastedTokenData\");\n$RefreshReg$(_c3, \"RemoteTokens\");\n$RefreshReg$(_c4, \"RemoteTokensData\");\n$RefreshReg$(_c5, \"TokenSelect\");","map":{"version":3,"sources":["/Users/shannoncode/repo/Emblem.Currentwork/emblem-vault-site/components/TokenSelect.tsx"],"names":["useRef","useState","useLayoutEffect","useMemo","Suspense","useEffect","Token","WETH","ChainId","Input","Stack","Text","useColorMode","useTheme","List","ListItem","IconButton","Divider","Spinner","Flex","Icon","Box","Combobox","ComboboxInput","ComboboxPopover","ComboboxList","ComboboxOption","getAddress","useWeb3React","useAllTokens","DEFAULT_TOKENS","getTokenDisplayValue","shortenHex","TokenLogo","TokenLogoColor","useFirstToken","useSecondToken","useOnchainToken","useRemoteTokens","useDefaultedDebounce","ErrorBoundary","PastedToken","address","PastedTokenData","data","symbol","name","RemoteTokens","query","debouncedValue","length","RemoteTokensData","chainId","tokens","remoteTokensCased","toLowerCase","remoteTokensLower","toUpperCase","remoteTokensUpper","remoteTokens","concat","remoteTokensFiltered","Array","from","Set","map","remoteToken","filter","some","token","find","sort","a","b","aExact","slice","bExact","DUMMY","TokenSelect","tokenAddress","isInvalid","isDisabled","onAddressSelect","colors","colorMode","firstToken","secondToken","removeToken","tokenDerivedFromProps","value","setValue","valueAsAddress","ref","current","size","onSelect","temporaryInput","setTemporaryInput","undefined","onChange","event","target","filteredTokens","addressMatch","displayMatch","nameMatch","equals","includes","swatch","preventDefault","clipboardData","setData","hex","color","opacity","cursor","userAdded","defaultToken","MAINNET","gray"],"mappings":"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","sourcesContent":["import { useRef, useState, useLayoutEffect, ChangeEvent, useMemo, Suspense, useEffect } from 'react'\nimport { Token, WETH, ChainId } from '@uniswap/sdk'\nimport {\n  Input,\n  Stack,\n  Text,\n  useColorMode,\n  useTheme,\n  List,\n  ListItem,\n  IconButton,\n  Divider,\n  Spinner,\n  Flex,\n  Icon,\n  Box,\n} from '@chakra-ui/core'\nimport { Combobox, ComboboxInput, ComboboxPopover, ComboboxList, ComboboxOption } from '@reach/combobox'\nimport { getAddress } from '@ethersproject/address'\nimport { useWeb3React } from '@web3-react/core'\n\nimport { useAllTokens, DEFAULT_TOKENS } from '../tokens'\nimport { getTokenDisplayValue, shortenHex } from '../utils'\nimport TokenLogo, { TokenLogoColor } from './TokenLogo'\nimport { useFirstToken, useSecondToken } from '../context'\nimport { useOnchainToken, useRemoteTokens } from '../data'\nimport { useDefaultedDebounce } from '../hooks'\nimport ErrorBoundary from './ErrorBoundary'\n\nfunction PastedToken({ address }: { address: string }): JSX.Element {\n  return (\n    <ErrorBoundary\n      fallback={\n        <Flex justifyContent=\"center\" width=\"100%\" px=\"1rem\" py=\"0.5rem\">\n          <Icon name=\"warning\" size=\"1rem\" />\n        </Flex>\n      }\n    >\n      <Suspense\n        fallback={\n          <Flex justifyContent=\"center\" width=\"100%\" px=\"1rem\" py=\"0.5rem\">\n            <Spinner color=\"gray.500\" size=\"sm\" />\n          </Flex>\n        }\n      >\n        <PastedTokenData address={address} />\n      </Suspense>\n    </ErrorBoundary>\n  )\n}\n\nfunction PastedTokenData({ address }: { address: string }): JSX.Element {\n  const { data } = useOnchainToken(address, true)\n\n  return data === null ? (\n    <Text textAlign=\"center\" px=\"1rem\" py=\"0.5rem\">\n      Invalid token address\n    </Text>\n  ) : (\n    <>\n      <Divider m={0} />\n      <Text mx=\"1rem\" my=\"0.5rem\" textAlign=\"center\" fontSize=\"1rem\">\n        Token Found By Address\n      </Text>\n\n      <ComboboxList as={List}>\n        <ComboboxOption as={ListItem} key={(data as Token).address} value={(data as Token).address}>\n          <Stack direction=\"row\" align=\"center\" p=\"0.5rem\" shouldWrapChildren>\n            <TokenLogo token={data as Token} size=\"1.5rem\" />\n\n            <Stack direction=\"column\" ml=\"1rem\" spacing={0}>\n              <Text>{(data as Token).symbol}</Text>\n              <Text fontSize=\"1rem\">{(data as Token).name}</Text>\n            </Stack>\n          </Stack>\n        </ComboboxOption>\n      </ComboboxList>\n    </>\n  )\n}\n\nfunction RemoteTokens({ query }: { query: string }): JSX.Element | null {\n  const debouncedValue = useDefaultedDebounce(query, '', 200)\n\n  return debouncedValue.length === 0 ? null : (\n    <>\n      <Divider m={0} />\n      <Text mx=\"1rem\" my=\"0.5rem\" textAlign=\"center\" fontSize=\"1rem\">\n        Unverified Tokens\n      </Text>\n\n      <ErrorBoundary\n        fallback={\n          <Flex justifyContent=\"center\" width=\"100%\" pb=\"0.5rem\">\n            <Icon name=\"warning\" size=\"1rem\" />\n          </Flex>\n        }\n      >\n        <Suspense\n          fallback={\n            <Flex justifyContent=\"center\" width=\"100%\" pb=\"0.5rem\">\n              <Spinner color=\"gray.500\" size=\"sm\" />\n            </Flex>\n          }\n        >\n          <RemoteTokensData query={query} />\n        </Suspense>\n      </ErrorBoundary>\n    </>\n  )\n}\n\nfunction RemoteTokensData({ query }: { query: string }): JSX.Element {\n  const { chainId } = useWeb3React()\n\n  const [tokens] = useAllTokens()\n\n  const { data: remoteTokensCased } = useRemoteTokens(query, true)\n  const { data: remoteTokensLower } = useRemoteTokens(query.toLowerCase(), true)\n  const { data: remoteTokensUpper } = useRemoteTokens(query.toUpperCase(), true)\n\n  const remoteTokens = useMemo(\n    () => (remoteTokensCased || []).concat(remoteTokensLower || []).concat(remoteTokensUpper || []),\n    [remoteTokensCased, remoteTokensLower, remoteTokensUpper]\n  )\n\n  const remoteTokensFiltered = useMemo(\n    () =>\n      Array.from(new Set(remoteTokens.map((remoteToken) => remoteToken.address))) // get unique addresses\n        .filter((address) => !tokens.some((token) => token.address === address)) // filter out tokens already in our list\n        .map((address) => remoteTokens.find((remoteToken) => remoteToken.address === address)), // get the full remote tokens\n    [remoteTokens, tokens]\n  ).sort((a, b) => {\n    const aExact = a?.symbol?.slice(0, query.length)?.toLowerCase() === query.toLowerCase()\n    const bExact = b?.symbol?.slice(0, query.length)?.toLowerCase() === query.toLowerCase()\n    if (aExact && !bExact) {\n      return -1\n    } else if (!aExact && bExact) {\n      return 1\n    } else {\n      return (a?.symbol?.toLowerCase() ?? 0) > (b?.symbol?.toLowerCase() ?? 0) ? 1 : -1\n    }\n  })\n\n  return remoteTokensFiltered.length === 0 ? (\n    <Text textAlign=\"center\" pb=\"0.5rem\">\n      No results\n    </Text>\n  ) : (\n    <ComboboxList as={List}>\n      {remoteTokensFiltered.map((token) => {\n        const DUMMY = new Token(chainId as number, (token as Token).address, 18) // we don't know if it actually has 18 decimals\n        return (\n          <ComboboxOption as={ListItem} key={(token as Token).address} value={(token as Token).address}>\n            <Stack direction=\"row\" align=\"center\" p=\"0.5rem\" shouldWrapChildren>\n              <TokenLogo token={DUMMY} size=\"1.5rem\" />\n\n              <Stack direction=\"column\" ml=\"1rem\" spacing={0}>\n                <Text>{(token as Token).symbol}</Text>\n                <Text fontSize=\"1rem\">{(token as Token).name}</Text>\n              </Stack>\n            </Stack>\n          </ComboboxOption>\n        )\n      })}\n    </ComboboxList>\n  )\n}\n\nexport default function TokenSelect({\n  tokenAddress,\n  isInvalid,\n  isDisabled,\n  onAddressSelect,\n}: {\n  tokenAddress?: string\n  isInvalid: boolean\n  isDisabled: boolean\n  onAddressSelect: (address: string | undefined) => void\n}): JSX.Element {\n  const { colors } = useTheme()\n  const { colorMode } = useColorMode()\n  const { chainId } = useWeb3React()\n\n  const [firstToken] = useFirstToken()\n  const [secondToken] = useSecondToken()\n\n  // if the currently selected token address is in our list, pluck it out\n  const [tokens, { removeToken }] = useAllTokens()\n  const tokenDerivedFromProps = tokens.filter((token) => token.address === tokenAddress)[0]\n\n  const [value, setValue] = useState(tokenAddress ?? '')\n  // keep the state in sync with the prop\n  useEffect(() => {\n    setValue(tokenAddress ?? '')\n  }, [tokenAddress])\n\n  // try to parse the value as an address\n  let valueAsAddress: string | null\n  try {\n    valueAsAddress = getAddress(value)\n  } catch {\n    valueAsAddress = null\n  }\n\n  const ref = useRef<HTMLInputElement>(null)\n  useLayoutEffect(() => {\n    if (ref.current)\n      ref.current.size = tokenDerivedFromProps\n        ? getTokenDisplayValue(tokenDerivedFromProps).length\n        : valueAsAddress === null\n        ? value.length === 0\n          ? 7\n          : value.length\n        : shortenHex(valueAsAddress, 4).length\n  })\n\n  function onSelect(tokenAddress: string): void {\n    onAddressSelect(tokenAddress)\n  }\n\n  // set up a hack. when a user has selected a token, and modifies the input text, the value will get cleared, so we\n  // have to store the modified text and reset it after the clear\n  const [temporaryInput, setTemporaryInput] = useState<string>()\n  useEffect(() => {\n    if (temporaryInput && !tokenAddress) {\n      setValue(temporaryInput)\n      setTemporaryInput(undefined)\n    }\n  }, [temporaryInput, tokenAddress])\n\n  function onChange(event: ChangeEvent<HTMLInputElement>): void {\n    // try to parse the input as an address\n    let valueAsAddress: string | null\n    try {\n      valueAsAddress = getAddress(event.target.value)\n    } catch {\n      valueAsAddress = null\n    }\n    // if they pasted an address that's already in our list, select it\n    if (valueAsAddress && tokens.filter((token) => token.address === valueAsAddress)[0]) {\n      onSelect(valueAsAddress)\n    } else {\n      if (tokenAddress) {\n        onAddressSelect(undefined) // unset the selected address\n        setTemporaryInput(event.target.value) // set the temporary input\n      } else {\n        setValue(event.target.value)\n      }\n    }\n  }\n\n  const filteredTokens = tokens\n    .filter((token) => {\n      const addressMatch = valueAsAddress === token.address\n      const displayMatch = value.toLowerCase() === getTokenDisplayValue(token).slice(0, value.length).toLowerCase()\n      const nameMatch = !token.equals(WETH[token.chainId]) && token?.name?.toLowerCase()?.includes(value.toLowerCase())\n      return addressMatch || displayMatch || nameMatch\n    })\n    .sort((a: Token, b: Token) => {\n      const aExact =\n        valueAsAddress === a.address ||\n        value.toLowerCase() === getTokenDisplayValue(a).slice(0, value.length).toLowerCase()\n      const bExact =\n        valueAsAddress === b.address ||\n        value.toLowerCase() === getTokenDisplayValue(b).slice(0, value.length).toLowerCase()\n      if (tokenDerivedFromProps && a.equals(tokenDerivedFromProps)) {\n        return -1\n      } else if (tokenDerivedFromProps && b.equals(tokenDerivedFromProps)) {\n        return 1\n      } else if (aExact && !bExact) {\n        return -1\n      } else if (!aExact && bExact) {\n        return 1\n      } else if (a.equals(WETH[a.chainId])) {\n        return -1\n      } else if (b.equals(WETH[b.chainId])) {\n        return 1\n      } else {\n        return getTokenDisplayValue(a).toLowerCase() < getTokenDisplayValue(b).toLowerCase() ? -1 : 1\n      }\n    })\n\n  return (\n    <>\n      <Combobox openOnFocus onSelect={onSelect}>\n        <TokenLogoColor token={tokenDerivedFromProps}>\n          {(swatch): JSX.Element => (\n            <ComboboxInput\n              selectOnClick\n              autocomplete={false}\n              as={Input}\n              ref={ref}\n              value={\n                tokenDerivedFromProps\n                  ? getTokenDisplayValue(tokenDerivedFromProps)\n                  : valueAsAddress === null\n                  ? value\n                  : shortenHex(valueAsAddress, 4)\n              }\n              onChange={onChange}\n              title=\"Token Select\"\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\n              onCopy={(event: any): void => {\n                // copy the full address if we've shortened it\n                if (valueAsAddress) {\n                  event.preventDefault()\n                  event.clipboardData.setData('text/plain', valueAsAddress)\n                }\n              }}\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\n              onCut={(event: any): void => {\n                // cut the full address if we've shortened it\n                if (valueAsAddress) {\n                  event.preventDefault()\n                  event.clipboardData.setData('text/plain', valueAsAddress)\n                  // simulate an onChange\n                  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                  onChange({ target: { value: '' } } as any)\n                }\n              }}\n              // chakra props\n              variant=\"flushed\"\n              placeholder=\"Select\"\n              textAlign=\"center\"\n              fontSize=\"1.875rem\"\n              {...(!!swatch?.hex && { color: swatch.hex })}\n              isInvalid={isInvalid}\n              isDisabled={isDisabled}\n              _disabled={{\n                opacity: 0.4,\n                cursor: 'not-allowed',\n              }}\n            />\n          )}\n        </TokenLogoColor>\n\n        <Box maxHeight={0} position=\"relative\" zIndex={2}>\n          <Box position=\"absolute\">\n            <ComboboxPopover portal={false}>\n              {/* hide popover content when there's a token selected */}\n              {!tokenDerivedFromProps && (\n                <>\n                  {(value === '' || tokenAddress === value) && (\n                    <Text mx=\"1rem\" my=\"0.5rem\" textAlign=\"center\" color=\"gray.500\">\n                      Paste token address or search\n                    </Text>\n                  )}\n\n                  <ComboboxList as={List}>\n                    {filteredTokens.map((token) => {\n                      const userAdded = !DEFAULT_TOKENS.some((defaultToken) => defaultToken.equals(token))\n                      return (\n                        <ComboboxOption as={ListItem} key={token.address} value={token.address}>\n                          <Stack direction=\"row\" align=\"center\" p=\"0.5rem\">\n                            <Box>\n                              <TokenLogo token={token} size=\"1.5rem\" />\n                            </Box>\n\n                            <Stack direction=\"column\" ml=\"1rem\" spacing={0} shouldWrapChildren>\n                              <Text>{getTokenDisplayValue(token)}</Text>\n                              <Text fontSize=\"1rem\">{WETH[token.chainId].equals(token) ? 'Ethereum' : token.name}</Text>\n                            </Stack>\n\n                            {userAdded && (\n                              <Flex flexGrow={1} mb=\"auto\" justifyContent=\"flex-end\">\n                                <IconButton\n                                  isDisabled={\n                                    (!!firstToken && firstToken.equals(token)) ||\n                                    (!!secondToken && secondToken.equals(token))\n                                  }\n                                  icon=\"close\"\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  aria-label=\"Remove\"\n                                  onClick={(event): void => {\n                                    event.preventDefault()\n                                    removeToken(token)\n                                  }}\n                                />\n                              </Flex>\n                            )}\n                          </Stack>\n                        </ComboboxOption>\n                      )\n                    })}\n                  </ComboboxList>\n\n                  {valueAsAddress !== null && !tokens.some((token) => token.address === valueAsAddress) ? (\n                    <PastedToken address={valueAsAddress} />\n                  ) : null}\n\n                  {value.length >= 2 && valueAsAddress === null && chainId === ChainId.MAINNET ? (\n                    <RemoteTokens query={value} />\n                  ) : null}\n                </>\n              )}\n            </ComboboxPopover>\n          </Box>\n        </Box>\n      </Combobox>\n\n      <style jsx>{`\n        :global([data-reach-combobox-popover]) {\n          width: max-content !important;\n          max-height: 25rem;\n          overflow-y: auto;\n          background: ${colorMode === 'light' ? colors.gray[50] : colors.gray[900]};\n          color: ${colorMode === 'light' ? 'black' : 'white'};\n          border-radius: 0.5rem;\n          border-top-left-radius: 0;\n        }\n\n        :global([data-reach-combobox-list] :hover) {\n          background: ${colorMode === 'light' ? colors.gray[100] : 'rgba(255,255,255,0.04)'};\n        }\n\n        :global([data-reach-combobox-option]) {\n          font-size: 1.25rem;\n          background: none;\n        }\n\n        :global([data-reach-combobox-option] :hover) {\n          background: none;\n        }\n\n        :global([data-reach-combobox-option][data-highlighted]) {\n          background: ${colorMode === 'light' ? colors.gray[100] : 'rgba(255,255,255,0.04)'} !important;\n        }\n      `}</style>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}