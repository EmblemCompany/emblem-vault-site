{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{\"pZB+\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return U}));var a=n(\"q1tI\"),r=n.n(a),c=n(\"wx14\"),i=n(\"o0o1\"),s=n.n(i),o=n(\"HaE+\"),u=n(\"XZ7F\"),l=n(\"Weur\"),d=n(\"BMxC\"),p=n(\"Yn+B\"),f=n(\"bQFp\"),m=n(\"sK1y\"),b=n(\"FpzS\"),h=n(\"7fKF\"),g=n(\"pboS\"),w=n(\"IP4Q\"),v=n(\"eJLp\"),O=n(\"LqLE\"),j=n(\"8Kt/\"),y=n.n(j),S=n(\"Z6YE\"),x=n(\"nOHt\"),E=n(\"Ute3\"),k=n(\"Y1ui\"),C=n.n(k),T=n(\"a6RD\"),_=n.n(T),N=n(\"iBPG\"),I=n(\"zIq6\"),A=n(\"N39q\"),H=n(\"21eR\"),F=n(\"c+OE\"),G=n.n(F),J=n(\"NFKh\"),R=n.n(J),W=n(\"sd7e\"),B=n(\"IujW\"),K=n.n(B),M=n(\"wH4i\"),P=n.n(M),V=r.a.createElement,q=_()((function(){return Promise.all([n.e(10),n.e(16)]).then(n.bind(null,\"X/Jl\"))}),{loadableGenerated:{webpack:function(){return[\"X/Jl\"]},modules:[\"./AddrModal\"]}}),z=_()((function(){return Promise.all([n.e(10),n.e(17)]).then(n.bind(null,\"0bCS\"))}),{loadableGenerated:{webpack:function(){return[\"0bCS\"]},modules:[\"./KeysModal\"]}});function L(){var e=Object(S.b)(),t=e.account,n=e.chainId,i=e.library,j=Object(x.useRouter)().query,k=Object(a.useState)(j.id),T=k[0],_=(k[1],Object(a.useState)(j.experimental)),F=_[0],J=(_[1],Object(a.useState)(\"\")),B=J[0],M=J[1],L=Object(a.useState)(\"\"),D=L[0],U=L[1],X=Object(a.useState)(\"\"),Y=X[0],Z=X[1],Q=Object(a.useState)([]),$=Q[0],ee=Q[1],te=Object(a.useState)([]),ne=te[0],ae=te[1],re=Object(a.useState)([]),ce=re[0],ie=re[1],se=Object(a.useState)(!1),oe=se[0],ue=se[1],le=Object(a.useState)(0),de=le[0],pe=le[1],fe=Object(a.useState)(null),me=fe[0],be=fe[1],he=Object(a.useState)(null),ge=he[0],we=he[1],ve=Object(a.useState)(\"\"),Oe=ve[0],je=ve[1],ye=Object(a.useState)(\"\"),Se=ye[0],xe=ye[1],Ee=Object(a.useState)({loaded:!1}),ke=Ee[0],Ce=Ee[1],Te=Object(a.useState)(!1),_e=Te[0],Ne=Te[1],Ie=Object(a.useState)(!1),Ae=Ie[0],He=Ie[1],Fe=Object(a.useState)(\"claimed\"),Ge=Fe[0],Je=Fe[1],Re=Object(a.useState)(null),We=Re[0],Be=Re[1],Ke=Object(a.useState)(\"\"),Me=Ke[0],Pe=Ke[1],Ve=Object(a.useState)(\"\"),qe=Ve[0],ze=Ve[1],Le=Object(a.useState)(\"\"),De=Le[0],Ue=Le[1],Xe=Object(a.useState)([]),Ye=Xe[0],Ze=Xe[1],Qe=Object(a.useState)(!1),$e=Qe[0],et=Qe[1],tt=Object(a.useState)(\"\"),nt=tt[0],at=tt[1],rt=Object(a.useState)(!1),ct=rt[0],it=rt[1],st=Object(a.useState)(\"\"),ot=st[0],ut=st[1],lt=Object(a.useState)(!1),dt=lt[0],pt=lt[1],ft=Object(a.useState)(!1),mt=(ft[0],ft[1],Object(H.b)(A.p.emblemVault[n],A.p.emblemAbi,!0)),bt=Object(u.a)(),ht=bt.isOpen,gt=bt.onOpen,wt=bt.onClose,vt=Object(u.a)(),Ot=vt.isOpen,jt=vt.onOpen,yt=vt.onClose,St=function(){var e=Object(o.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Et(),e.next=3,fetch(A.h+\"/meta/\"+T+(F?\"?experimental=true\":\"\"),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).name?(xt(n),_t(n),et(!1),pt(!1)):(Ce({loaded:!0}),pt(!0));case 8:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xt=function(e){M(e.name),Z(e.image),U(e.description),pe(e.totalValue||0),ee($.concat(e.values)),ae(e.attributes.filter((function(e){return\"key\"===e.trait_type}))),U(e.description),ie(e.addresses),be(\"mainnet\"==e.network?1:\"rinkeby\"==e.network?4:\"mumbai\"==e.network?80001:\"matic\"==e.network?137:97),Je(e.status),\"claimed\"===Ge&&Be(e.claimedBy),Ce({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes(\"private:\")})).length>0;ue(t),setTimeout((function(){!t&&Tt(e.values,e.addresses.filter((function(e){return\"ETH\"===e.coin}))[0].address,(function(e){ee(e)}))}),5)},Et=function(){var e=JSON.parse(localStorage.getItem(t+\"_\"+n+\"_\"+T+\"_vault\"));e&&(Ce({loaded:!0}),xt(e),et(!0))},kt=function(){var e=Object(o.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(A.h+\"/eth/balance/\"+t,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,pe(Number(de)+Number(r.totalValue)),e.abrupt(\"return\",n(r.values));case 8:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(o.a)(s.a.mark((function e(t,n,a){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(A.h+\"/btc/balance/\"+n,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return r=e.sent,e.next=5,r.json();case 5:return c=e.sent,e.abrupt(\"return\",a(t.concat(c.values)));case 7:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(o.a)(s.a.mark((function e(t,n,a){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(A.h+\"/eth/nft/\"+n,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(!((c=e.sent).length>0)){e.next=10;break}return e.abrupt(\"return\",a(t.concat(c)));case 10:return e.abrupt(\"return\",a(t));case 11:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),_t=function(e){localStorage.setItem(t+\"_\"+n+\"_\"+T+\"_vault\",JSON.stringify(e))},Nt=function(){var e=Object(o.a)(s.a.mark((function e(t,a,r){var c,i,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append(\"chainId\",n.toString()),c.append(\"service\",\"evmetadata\"),c.append(\"Content-Type\",\"application/json\"),i=JSON.stringify({signature:t}),e.next=7,fetch(A.h+\"/verify/\"+a,{method:\"POST\",headers:c,body:i,redirect:\"follow\"});case 7:return o=e.sent,e.next=10,o.json();case 10:return u=e.sent,e.abrupt(\"return\",r(u));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),It=function(){var e=Object(o.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.ownerOf(T);case 2:n=e.sent,Ne(n===t);case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),At=function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.getSigner(t).signMessage(\"Claim: \"+T).then((function(e){Nt(e,T,(function(e){Pe(e.decrypted.phrase),ze(e.decrypted.keys.filter((function(e){return\"btc\"===e.coin}))[0].privkey),Ue(e.decrypted.keys.filter((function(e){return\"eth\"===e.coin}))[0].privkey),Ze(e.decrypted.values),jt()}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ht=function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mt.transferFrom(t,A.c,T).then((function(e){var t=e.hash;He(!0),setTimeout((function(){we(t)}),100)}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(o.a)(s.a.mark((function e(){var t,n,a,r,c,i,o,u,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var s=0;s<r-i;s++){var l=Math.floor(t.length*Math.random()),d=t.charAt(l);o+=d}c==a-1&&i++,c==a&&(u+=n.charAt(i-1),c=0),at(u+o),o=\"\"},!ct){e.next=3;break}return e.abrupt(\"return\");case 3:it(!0),t=\"abcdefghijklmnopqrstuvwxyz\",5,r=(n=\"Decrypting\").length,c=0,i=0,o=\"\",u=\"\",function e(t){setTimeout((function(){--t?e(t):it(!1),l(t),c+=1}),5)}(r*(a=8)+1);case 14:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Gt(e){return e.split(\"\\n\\n\\n\\n\")[0].trim()}function Jt(e){ot&&(e=ot),Ft();var t=ce[0].address.replace(\"private:\",\"\");try{var n=R.a.AES.decrypt(t,e);JSON.parse(n.toString(R.a.enc.Utf8)),ue(!1),ut(e),ie(function(e){return ce.forEach((function(t){var n=t.address.replace(\"private:\",\"\");t.address=function(e,t){var n=R.a.AES.decrypt(e,t);return JSON.parse(n.toString(R.a.enc.Utf8))}(n,e)})),ce}(e)),kt(ce.filter((function(e){return\"ETH\"===e.coin}))[0].address,(function(e){Ct(e,ce.filter((function(e){return\"BTC\"===e.coin}))[0].address,(function(e){Tt(e,ce.filter((function(e){return\"ETH\"===e.coin}))[0].address,(function(e){ee(e.concat($))}))}))}))}catch(a){}}return Object(a.useEffect)((function(){St()}),[]),Object(a.useEffect)((function(){t&&n&&me&&n==me&&It()})),V(r.a.Fragment,null,V(y.a,null,V(\"meta\",{name:\"twitter:card\",content:\"summary_large_image\"}),V(\"meta\",{name:\"twitter:site\",content:\"Emblem.Finance\"}),V(\"meta\",{name:\"twitter:title\",content:B}),V(\"meta\",{name:\"twitter:description\",content:Gt(D)}),V(\"meta\",{name:\"twitter:image\",content:Y})),V(q,{isOpen:ht,onClose:wt,addrCoin:Oe,addrAddr:Se}),V(z,{isOpen:Ot,onClose:yt,mnemonic:Me,privKeyBTC:qe,privKeyETH:De,privValues:Ye}),V(C.a,{loaded:ke.loaded},$e?V(E.a,null):\"\",dt?V(p.a,{align:\"center\"},V(f.a,{width:\"md\",src:\"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg\"}),V(m.a,null,\"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR\",\" \",V(g.a,{color:\"#638cd8\",href:\"../create\"},\"CREATE ONE HERE!\"))):V(G.a,{className:\"Tilt\",options:{max:0,scale:1}},V(l.a,{width:\"full\",align:\"center\",justifyContent:\"center\"},V(d.a,{maxW:\"sm\",borderWidth:\"1px\",borderColor:me!=n?\"orange.500\":\"claimed\"==Ge?\"green.500\":null,rounded:\"lg\",overflow:\"hidden\",alignItems:\"center\",minW:390},me!=n?V(d.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",textTransform:\"uppercase\",alignItems:\"center\",color:\"orange.500\"},\"BEWARE: Vault is on a different network than you are.\"):null,V(d.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",textTransform:\"uppercase\",alignItems:\"center\"},B,oe?null:\": ~$\"+de),V(p.a,{align:\"center\"},V(f.a,{src:Object(N.k)(Y)?Y:\"https://circuitsofvalue.com/public/coval-logo.png\",width:\"250px\"})),V(p.a,{align:\"center\"},V(d.a,{mt:\"2\",ml:\"4\",lineHeight:\"tight\"},V(m.a,{mt:2,ml:\"4\",mr:\"4\",fontSize:\"xs\",fontStyle:\"italic\"},V(K.a,{plugins:[P.a],children:Gt(D)})))),V(d.a,{p:\"6\"},V(d.a,{d:\"flex\",alignItems:\"baseline\"},V(d.a,{color:\"gray.500\",letterSpacing:\"wide\",fontSize:\"sm\",ml:\"2\"},V(m.a,{as:\"h4\",fontWeight:\"semibold\"},\"Current Contents:\"),oe?V(r.a.Fragment,null,V(m.a,{pb:2,color:nt?\"green.500\":null},nt||\"Contents hidden. Enter password to unlock.\"),V(b.a,{type:\"password\",id:\"vault-password\",onChange:function(e){return Jt(e.target.value)},\"aria-describedby\":\"password-helper-text\"})):$.length?$.map((function(e){return V(m.a,{key:e.name,isTruncated:!0},e.address&&\"nft\"!==e.type?V(h.a,{\"aria-label\":e.name,hasArrow:!0,label:\"Add \"+e.symbol+\" to wallet\",placement:\"top\"},V(g.a,{onClick:function(){Object(W.addTokenToWallet)({address:e.address,symbol:e.symbol,decimals:e.decimals,image:e.image?e.image:null})}},\"+\")):null,\"(\",e.coin.toLowerCase(),\")\",\" \",e.name,\" :\",\" \",e.balance?e.balance:\"nft\"==e.type?V(g.a,{href:e.external_url,isExternal:!0},\"View NFT\"):null)})):null,ne.length?ne.map((function(e){return V(m.a,null,\"Data: \",e.attribute_key)})):ne.length||$.length?null:V(m.a,null,\"Nothing in here! Fill 'er up!\"))),oe?null:V(d.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},V(w.a,{justifyContent:\"space-between\",spacing:6},ce.map((function(e){return V(v.a,{key:e.address,onClick:function(){je(e.coin),xe(e.address),gt()}},\"Put \",\"ETH\"==e.coin?e.coin+\"/ERC20\":e.coin,\" In\")})))),\"claimed\"!==Ge?V(d.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},V(v.a,Object(c.a)({width:\"100%\",as:\"a\"},{href:\"https://\"+(4==me?\"rinkeby.\":\"\")+\"opensea.io/assets/\"+A.p.emblemVault[me]+\"/\"+T,target:\"_blank\",rel:\"noopener noreferrer\"}),_e?\"Sell/Gift/Send\":\"Make an Offer\")):null,\"claimed\"!==Ge&&t&&me===n&&_e?V(d.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},V(v.a,{width:\"100%\",onClick:function(){Ht()},isDisabled:Ae},Ae?\"Claiming ...\":\"Claim\")):\"claimed\"===Ge&&We===t&&me===n?V(d.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},V(v.a,{width:\"100%\",onClick:At},\"Get Keys\")):null),V(p.a,{direction:\"column\",align:\"center\"},\"claimed\"==Ge?V(m.a,{color:\"green.500\"},\"CLAIMED\"):null),ge?V(O.a,{status:\"info\"},V(O.b,null),\"Claiming your vault ...\"):null))),ge?V(I.a,{hash:ge,onComplete:function(){Ae&&(we(null),Je(\"claimed\"),He(!1),Be(t),At())}}):null))}var D=r.a.createElement;function U(){return D(L,null)}},zjfc:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/vault\",function(){return n(\"pZB+\")}])}},[[\"zjfc\",2,1,5,7,0,3,4,6,9,8,11,12,15]]]);","extractedComments":[]}