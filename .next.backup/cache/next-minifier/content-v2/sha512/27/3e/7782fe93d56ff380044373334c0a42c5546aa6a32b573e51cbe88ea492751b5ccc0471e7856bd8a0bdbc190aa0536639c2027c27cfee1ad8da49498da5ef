{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[53],{EM35:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return re}));var a=n(\"q1tI\"),r=n.n(a),o=n(\"o0o1\"),c=n.n(o),i=n(\"HaE+\"),s=n(\"XZ7F\"),u=n(\"mf32\"),l=n(\"BMxC\"),d=n(\"Weur\"),f=n(\"Yn+B\"),p=n(\"eJLp\"),b=n(\"sK1y\"),m=n(\"pboS\"),h=n(\"wCB1\"),g=n(\"FpzS\"),v=n(\"IP4Q\"),w=n(\"MKZ1\"),O=n(\"LqLE\"),j=n(\"bQFp\"),S=n(\"4218\"),k=n(\"wZsY\"),y=n(\"8Kt/\"),x=n.n(y),C=n(\"Z6YE\"),T=n(\"nOHt\"),N=n(\"Ute3\"),E=n(\"Y1ui\"),_=n.n(E),I=n(\"a6RD\"),A=n.n(I),M=n(\"8XlW\"),R=n(\"zIq6\"),F=n(\"N39q\"),V=n(\"21eR\"),P=n(\"iBPG\"),H=n(\"NFKh\"),L=n.n(H),W=n(\"IujW\"),J=n.n(W),B=n(\"wH4i\"),G=n.n(B),K=n(\"PLxQ\"),D=n(\"fksj\"),U=n(\"r9y0\"),X=n(\"diTF\"),q=n(\"PSLY\"),Y=n(\"FGWJ\"),z=n(\"XXjs\"),Q=n(\"Gp8X\"),Z=r.a.createElement,$=A()((function(){return Promise.all([n.e(12),n.e(15),n.e(28)]).then(n.bind(null,\"X/Jl\"))}),{loadableGenerated:{webpack:function(){return[\"X/Jl\"]},modules:[\"./AddrModal\"]}}),ee=A()((function(){return Promise.all([n.e(12),n.e(15),n.e(29)]).then(n.bind(null,\"0bCS\"))}),{loadableGenerated:{webpack:function(){return[\"0bCS\"]},modules:[\"./KeysModal\"]}}),te=A()((function(){return Promise.all([n.e(12),n.e(15),n.e(30)]).then(n.bind(null,\"D3uo\"))}),{loadableGenerated:{webpack:function(){return[\"D3uo\"]},modules:[\"./OfferModal\"]}});function ne(){var e=Object(C.b)(),t=e.account,n=e.chainId,o=e.library,y=Object(T.useRouter)(),E=y.query,I=Object(a.useState)(!1),A=I[0],H=I[1],W=Object(a.useState)(null),B=W[0],ne=W[1],ae=Object(a.useState)(null),re=ae[0],oe=ae[1],ce=Object(a.useState)(null),ie=(ce[0],ce[1]),se=Object(a.useState)(0),ue=(se[0],se[1]),le=Object(a.useState)(null),de=le[0],fe=le[1],pe=Object(a.useState)(!1),be=(pe[0],pe[1]),me=Object(a.useState)(!1),he=me[0],ge=me[1],ve=Object(a.useState)(E.key),we=(ve[0],ve[1]),Oe=Object(a.useState)(E.offer||!1),je=Oe[0],Se=(Oe[1],Object(a.useState)(E.framed||!0)),ke=Se[0],ye=(Se[1],Object(a.useState)(E.id)),xe=ye[0],Ce=(ye[1],Object(a.useState)(E.slideshowOnly||!1)),Te=Ce[0],Ne=(Ce[1],Object(a.useState)(\"\")),Ee=Ne[0],_e=Ne[1],Ie=Object(a.useState)(\"\"),Ae=Ie[0],Me=Ie[1],Re=Object(a.useState)(\"\"),Fe=Re[0],Ve=Re[1],Pe=Object(a.useState)(\"\"),He=Pe[0],Le=Pe[1],We=Object(a.useState)(\"\"),Je=We[0],Be=We[1],Ge=Object(a.useState)(\"\"),Ke=Ge[0],De=Ge[1],Ue=Object(a.useState)(\"\"),Xe=Ue[0],qe=Ue[1],Ye=Object(a.useState)([]),ze=Ye[0],Qe=Ye[1],Ze=Object(a.useState)(!1),$e=Ze[0],et=Ze[1],tt=Object(a.useState)([]),nt=tt[0],at=tt[1],rt=Object(a.useState)([]),ot=rt[0],ct=rt[1],it=Object(a.useState)([]),st=it[0],ut=it[1],lt=Object(a.useState)(!1),dt=lt[0],ft=lt[1],pt=Object(a.useState)(0),bt=pt[0],mt=pt[1],ht=Object(a.useState)(null),gt=ht[0],vt=ht[1],wt=Object(a.useState)(null),Ot=(wt[0],wt[1]),jt=Object(a.useState)(null),St=jt[0],kt=jt[1],yt=Object(a.useState)(\"\"),xt=yt[0],Ct=yt[1],Tt=Object(a.useState)(\"\"),Nt=Tt[0],Et=Tt[1],_t=Object(a.useState)({loaded:!1}),It=_t[0],At=_t[1],Mt=Object(a.useState)(!1),Rt=Mt[0],Ft=Mt[1],Vt=Object(a.useState)(!1),Pt=Vt[0],Ht=Vt[1],Lt=Object(a.useState)(!1),Wt=Lt[0],Jt=Lt[1],Bt=Object(a.useState)(\"claimed\"),Gt=Bt[0],Kt=Bt[1],Dt=Object(a.useState)(!1),Ut=Dt[0],Xt=Dt[1],qt=Object(a.useState)(null),Yt=qt[0],zt=qt[1],Qt=Object(a.useState)(\"\"),Zt=Qt[0],$t=Qt[1],en=Object(a.useState)(\"\"),tn=en[0],nn=en[1],an=Object(a.useState)(\"\"),rn=an[0],on=an[1],cn=Object(a.useState)([]),sn=cn[0],un=cn[1],ln=Object(a.useState)(!1),dn=ln[0],fn=ln[1],pn=Object(a.useState)(\"\"),bn=pn[0],mn=pn[1],hn=Object(a.useState)(!1),gn=hn[0],vn=hn[1],wn=Object(a.useState)(\"\"),On=wn[0],jn=wn[1],Sn=Object(a.useState)(!1),kn=Sn[0],yn=Sn[1],xn=Object(a.useState)(!1),Cn=xn[0],Tn=xn[1],Nn=Object(a.useState)(!1),En=Nn[0],_n=Nn[1],In=Object(a.useState)(!1),An=In[0],Mn=(In[1],Object(a.useState)(\"\")),Rn=Mn[0],Fn=(Mn[1],Object(a.useState)(!1)),Vn=(Fn[0],Fn[1]),Pn=Object(a.useState)(!1),Hn=Pn[0],Ln=Pn[1],Wn=Object(a.useState)(!1),Jn=Wn[0],Bn=Wn[1],Gn=Object(a.useState)(null),Kn=Gn[0],Dn=Gn[1],Un=Object(a.useState)(!1),Xn=Un[0],qn=Un[1],Yn=Object(a.useState)(null),zn=(Yn[0],Yn[1]),Qn=Object(a.useState)(null),Zn=(Qn[0],Qn[1]),$n=Object(a.useState)(null),ea=$n[0],ta=$n[1],na=Object(a.useState)(!1),aa=na[0],ra=na[1],oa=Object(a.useState)(!1),ca=oa[0],ia=oa[1],sa=Object(a.useState)(!1),ua=(sa[0],sa[1]),la=Object(a.useState)(null),da=la[0],fa=la[1],pa=Object(a.useState)({name:\"\",image:\"\",metadata:\"\"}),ba=pa[0],ma=pa[1],ha=Object(a.useState)({name:\"\",chain:\"\",4:\"\",1:\"\",tokenId:{},serialNumber:{hex:\"\"}}),ga=ha[0],va=ha[1],wa=Object(a.useState)(!1),Oa=wa[0],ja=wa[1],Sa=Object(a.useState)({name:\"\",image:\"\",metadata:\"\"}),ka=(Sa[0],Sa[1]),ya=Object(a.useState)({name:\"\",chain:\"\",4:\"\",1:\"\",tokenId:{},serialNumber:{hex:\"\"}}),xa=(ya[0],ya[1]),Ca=Object(a.useState)(!1),Ta=Ca[0],Na=Ca[1],Ea=Object(a.useState)({}),_a=Ea[0],Ia=Ea[1],Aa=Object(a.useState)({}),Ma=(Aa[0],Aa[1]),Ra=Object(a.useState)(null),Fa=Ra[0],Va=Ra[1],Pa=Object(V.b)(F.r.vaultHandlerV8[n],F.r.vaultHandlerV8Abi,!0),Ha=Object(V.b)(F.r.mintVaultQuote[n],F.r.mintVaultQuoteAbi,!0),La=Object(V.b)(F.r.emblemVault[n],F.r.emblemAbi,!0),Wa=Object(V.b)(F.r.coval[n],F.r.covalAbi,!0),Ja=Object(s.a)(),Ba=Ja.isOpen,Ga=Ja.onOpen,Ka=Ja.onClose,Da=Object(s.a)(),Ua=Da.isOpen,Xa=Da.onOpen,qa=Da.onClose,Ya=Object(s.a)(),za=Ya.isOpen,Qa=Ya.onOpen,Za=Ya.onClose,$a=Object(s.a)(),er=$a.isOpen,tr=$a.onToggle,nr=Object(u.c)().colorMode,ar=Object(a.useState)(\"ONLY SEND ONE NFT TO THIS VAULT\"),rr=ar[0],or=ar[1],cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=F.t.filter((function(t){return t[n]==e}));if(a.length>0)return Va(a[0]),new M.a(e,\"ERC1155\"==a[0].collectionType?F.r.erc1155Abi:F.r.erc721Abi,o.getSigner(t).connectUnchecked())};var ir=function(){At({loaded:!1}),o.getSigner(t).signMessage(\"Curated Minting: \"+xe).then((function(e){console.log(\"sig\",e),fetch(F.h+\"/mint-curated\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"},body:JSON.stringify({method:\"buyWithSignedPrice\",tokenId:xe,signature:e,chainId:n.toString()})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,alert(0),Ma(n),Pa.buyWithSignedPrice(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1).then((function(e){var t=e.hash;setTimeout((function(){kt(t),At({loaded:!0}),ra(!0),ia(!0)}),100)})).catch((function(e){console.log(\"ERROR\",e),ra(!1),ia(!1),At({loaded:!0})}));case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log(\"ERROR\",e),ra(!1),ia(!1),At({loaded:!0})}))},sr=function(){At({loaded:!1}),o.getSigner(t).signMessage(\"Curated Minting: \".concat(xe.toString())).then((function(e){fetch(F.h+\"/mint-curated\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"},body:JSON.stringify({method:\"buyWithQuote\",tokenId:xe,signature:e,chainId:n.toString()})}).then(function(){var e=Object(i.a)(c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:(a=e.sent).err&&a.msg?alert(a.msg):(Ma(a),Ha.quoteExternalPrice(t,a._price/1e6).then((function(e){var t=e.mul(S.a.from(10).pow(6));console.log(\"--------   ------\",a._nftAddress,a._price,a._to,a._tokenId,a._nonce,a._signature,a.serialNumber,1,{value:t}),Pa.buyWithQuote(a._nftAddress,a._price,a._to,a._tokenId,a._nonce,a._signature,a.serialNumber,1,{value:t}).then((function(e){var t=e.hash;setTimeout((function(){kt(t),At({loaded:!0}),ra(!0),ia(!0)}),100)})).catch((function(e){console.log(\"ERROR\",e),ra(!1),ia(!1),At({loaded:!0})}))})));case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log(\"ERROR\",e),ra(!1),ia(!1),At({loaded:!0})}))},ur=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+\"/vault/balance/\"+n,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,console.log(\"response\",r,o),!(o.balances.length>0)){e.next=11;break}return e.abrupt(\"return\",a(o.balances));case 11:return e.abrupt(\"return\",a(t));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),lr=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"getvault\"),e.next=3,fetch(F.h+\"/meta/\"+xe+\"?experimental=true\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,Ia(n),n.collectionAddress&&(ua(!0),fa(n.collectionAddress)),n.name?(console.log(\"--------------- states -\",n),dr(n),fn(!1),yn(!1)):(At({loaded:!0}),yn(!0)),!dt&&!$e&&fr([],xe,(function(e){e&&Qe(e)}));case 11:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dr=function(e){e.targetAsset||e.move_targetAsset||(location.href=location.origin+\"/nft?id=\"+xe),ke&&e.image&&!e.image.includes(\"framed=\")&&!e.image.includes(\"http\")&&(e.image=e.image+\"&framed=\"+ke),e.ciphertextV2&&Le(e.ciphertextV2),Na(e.mintLocked&&0==e.mintLockBlock),_e(e.name),De(e.image),qe(e.ownedImage||null),Be(e.description),mt(e.totalValue||0),e.values&&Qe(ze.concat(e.values)),e.attributes&&at(e.attributes.filter((function(e){return\"key\"===e.trait_type}))),e.attributes&&ct(e.attributes),ut(e.addresses),Me(e.ipfs||null),Ve(e.image_ipfs||null),e.targetContract&&e.targetContract.tokenId==xe&&e.targetContract.serialNumber&&H(!0),e.targetAsset&&ma(e.targetAsset),e.targetContract&&va(e.targetContract),e.move_targetAsset&&ka(e.move_targetAsset),e.move_targetContract&&xa(e.move_targetContract),qn(0!=e.live),zn(e.nonce),Zn(e.signature),ta(e.to),Ot(e.network),vt(\"mainnet\"==e.network?1:\"rinkeby\"==e.network?4:\"goerli\"==e.network?5:\"mumbai\"==e.network?80001:\"matic\"==e.network?137:\"xdai\"==e.network?100:\"bsc\"==e.network?56:\"fantom\"==e.network?250:\"bitcoin\"==e.network?0:\"aurora\"==e.network?1313161554:97),e.live||(console.log(\"check liveliness start\"),function(e,t,a){console.log(\"check liveliness next\",t);var r=t&&t.name?F.h+\"/liveliness-curated\":F.g+\"/liveliness\";fetch(r,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,qn(n.live),console.log(\"Liveliness check\",n);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a(!1)}(xe,e.targetContract||e.move_targetContract,(function(e){qn(e)}))),Kt(e.status),\"claimed\"===Gt&&zt(e.claimedBy),At({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes(\"private:\")})).length>0;ft(t),e.sealed?Xt(!0):Xt(!1)},fr=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$e){e.next=2;break}return e.abrupt(\"return\",a(!1));case 2:return et(!0),e.next=5,fetch(F.g+\"/vault/balance/\"+n+\"?live=true\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 5:return r=e.sent,e.next=8,r.json();case 8:if(o=e.sent,console.log(\"response\",r,o),!(o.balances.length>0)){e.next=14;break}return e.abrupt(\"return\",a(t.concat(o.balances)));case 14:return e.abrupt(\"return\",a(t));case 15:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),pr=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a,r){var o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+\"/vault/balance/\"+n+\"/\"+a,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(i=e.sent,console.log(\"response\",o,i),!(i.balances.length>0)){e.next=11;break}return e.abrupt(\"return\",r(t.concat(i.balances)));case 11:return e.abrupt(\"return\",r(t));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),br=function(){var e=localStorage.getItem(t+\"_\"+n+\"_\"+xe+\"_mintPassword\");e&&An&&we(e)},mr=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r){var o,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append(\"chainid\",n.toString()),o.append(\"Content-Type\",\"application/json\"),i=JSON.stringify({signature:t,tokenId:a}),e.next=6,fetch(F.p+\"/sign\",{method:\"POST\",headers:o,body:i,redirect:\"follow\"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt(\"return\",r(u));case 11:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function hr(e,t,n){return gr.apply(this,arguments)}function gr(){return(gr=Object(i.a)(c.a.mark((function e(t,n,a){var r,o,i,s,u,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new q.a({network:\"mainnet\"}),o=new Y.a({enableOneKey:!0,network:\"mainnet\"}),e.next=4,r.getNodeDetails({verifier:\"tor-us-signer-vercel\",verifierId:t});case 4:return i=e.sent,s=i.torusNodeEndpoints,u=i.torusIndexes,e.next=9,o.retrieveShares(s,u,\"tor-us-signer-vercel\",{verifier_id:t},n);case 9:return l=e.sent,d=l.privKey,e.abrupt(\"return\",a({privateKey:d}));case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var vr=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r){var o,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append(\"chainId\",n.toString()),o.append(\"service\",\"evmetadata\"),o.append(\"Content-Type\",\"application/json\"),i=JSON.stringify({signature:t}),e.next=7,fetch(F.g+\"/embed/\"+a,{method:\"POST\",headers:o,body:i,redirect:\"follow\"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt(\"return\",r(u));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),wr=function(){var e=Object(i.a)(c.a.mark((function e(){var a,r,o,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(){return(u=Object(i.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ga[n]){e.next=7;break}return e.next=3,La.isApprovedForAll(t,F.r.vaultHandlerV8[n]);case 3:r=e.sent,ge(r),e.next=11;break;case 7:return e.next=9,La.isApprovedForAll(t,F.r.vaultHandler[n]);case 9:r=e.sent,ge(r);case 11:Dn(a),Ft(a===t||ea===t&&\"0x0000000000000000000000000000000000000000\"===a),Ht(ea===t&&\"0x0000000000000000000000000000000000000000\"===a),br();case 15:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)},s=function(){return u.apply(this,arguments)},e.prev=2,!ga[n]){e.next=42;break}return(r=F.t.filter((function(e){return e[n]==ga[n]}))).length>0&&r[0].allowedName&&r[0].allowed&&ze&&ze.length>0?ja(r[0].allowedName(ze[0].name,or)&&r[0].allowed(ze[0],or)):ja(!1),La=cr(ga[n]),e.t0=ne,e.next=10,Wa.decimals();case 10:return e.t1=e.sent,(0,e.t0)(e.t1),fe(250*Math.pow(10,B)),e.t2=oe,e.next=16,Wa.allowance(t,F.r.vaultHandlerV8[n]).then((function(e){return e.toString()}));case 16:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=ie,e.next=21,Wa.balanceOf(t).then((function(e){return e.toString()}));case 21:if(e.t5=e.sent,(0,e.t4)(e.t5),Number(re)>=Number(de)?be(!0):be(!1),!(r.length>0)){e.next=39;break}if(\"ERC1155\"!=r[0].collectionType){e.next=33;break}return e.next=28,La.balanceOf(t,ga.tokenId).then((function(e){return e.toString()}));case 28:o=e.sent,a=Number(o)>0?t:\"0x0000000000000000000000000000000000000000\",Number(o)>0&&ue(o),e.next=37;break;case 33:return ue(1),e.next=36,La.ownerOf(xe);case 36:a=e.sent;case 37:e.next=40;break;case 39:a=\"0x0000000000000000000000000000000000000000\";case 40:e.next=45;break;case 42:return e.next=44,La.ownerOf(xe);case 44:a=e.sent;case 45:s(),e.next=52;break;case 48:e.prev=48,e.t6=e.catch(2),a=\"0x0000000000000000000000000000000000000000\",s();case 52:case\"end\":return e.stop()}}),e,null,[[2,48]])})));return function(){return e.apply(this,arguments)}}(),Or=function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage(\"Renew: \"+xe).then((function(e){var t=st.filter((function(e){return\"NMC\"==e.coin}))[0].address;console.log(\"signature\",e,a),fetch(F.g+\"/nmc/renew/\"+t,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({tokenId:xe,signature:e,name:a})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(\"Requested Renew\",n);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jr=function(){var e=Object(i.a)(c.a.mark((function e(){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ga[n]&&(r=F.t.filter((function(e){return e[n]==ga[n]})),La=cr(ga[n]),a=\"ERC1155\"==r[0].collectionType?ga.serialNumber:\"ERC721a\"==r[0].collectionType?xe:ga.tokenId),o.getSigner(t).signMessage(\"Claim: \"+(ga[n]?a:xe)).then((function(e){At({loaded:!1}),Pt&&\"claimed\"!=Gt&&!Ta&&Na(!0),mr(e,xe,(function(e){hr(xe,e.token,(function(e){try{var t=L.a.AES.decrypt(He,e.privateKey),n=JSON.parse(t.toString(L.a.enc.Utf8));un(n.values),$t(n.phrase),st.forEach(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(\"STX\"!=t.coin){e.next=6;break}return e.next=3,Sr(t,n.phrase);case 3:t.key=e.sent,e.next=7;break;case 6:t.key=window.phrasePathToKey(n.phrase,t.path);case 7:\"BTC\"==t.coin&&nn(t.key),\"ETH\"==t.coin&&on(t.key);case 9:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(a){alert(a),setTimeout((function(){location.href=location.href}),2e3)}At({loaded:!0}),Xa()}))}))}));case 2:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Sr=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.a)({secretKey:n,password:\"\"});case 2:return a=e.sent,console.log(\"------ stacks account -\",a.accounts[0]),r=a.accounts[0],t.key=r.stxPrivateKey,e.abrupt(\"return\",t.key);case 7:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),kr=function(){var e=Object(i.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage(\"HideAsset: \"+xe).then((function(e){yr(xe,n.coin,n.address,n.name,e,(function(){console.log(\"Done hiding coin and getting new balances\")}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function yr(e,t,a,r,o,s){fetch(F.g+\"/hide/\"+e,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({coin:t||null,address:a||null,name:r||null,signature:o||null})}).then(function(){var t=Object(i.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log(\"-------\",a),ur([],e,(function(e){return Qe(e),s()}));case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var xr=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage(\"Embed: \"+xe).then((function(e){vr(e,xe,(function(e){De(e.ownedImage)}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Cr=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=F.t.filter((function(e){return e[n]==ga[n]})),ga[n]?Pa.claim(ga[n],\"ERC721a\"==t[0].collectionType?xe:ga.tokenId).then((function(e){var t=e.hash;Jt(!0),setTimeout((function(){kt(t)}),100)})):La.burn(xe).then((function(e){var t=e.hash;Jt(!0),setTimeout((function(){kt(t)}),100)}));case 2:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Tr=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,r,o,i,s,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var c=0;c<r-i;c++){var l=Math.floor(t.length*Math.random()),d=t.charAt(l);s+=d}o==a-1&&i++,o==a&&(u+=n.charAt(i-1),o=0),mn(u+s),s=\"\"},!gn){e.next=3;break}return e.abrupt(\"return\");case 3:vn(!0),t=\"abcdefghijklmnopqrstuvwxyz\",5,r=(n=\"Decrypting\").length,o=0,i=0,s=\"\",u=\"\",function e(t){setTimeout((function(){--t?e(t):vn(!1),l(t),o+=1}),5)}(r*(a=8)+1);case 14:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Nr(e){return(e?e.split(\"\\n\\n\\n\\n\"):[\" \"])[0].trim()}function Er(e){On&&(e=On),Tr(),console.log(st);var t=st[0].address.replace(\"private:\",\"\");try{var n=L.a.AES.decrypt(t,e);JSON.parse(n.toString(L.a.enc.Utf8)),ft(!1),jn(e),ut(function(e){return st.forEach((function(t){if(t.address.includes(\"private\")){var n=t.address.replace(\"private:\",\"\");t.address=function(e,t){var n=L.a.AES.decrypt(e,t);return JSON.parse(n.toString(L.a.enc.Utf8))}(n,e)}})),st}(e));var a=st.filter((function(e){return\"ETH\"===e.coin}))[0].address,r=st.filter((function(e){return\"BTC\"===e.coin}))[0].address;console.log(\"SUCCESS\",st),pr([],a,r,(function(e){Qe(e)}))}catch(o){console.log(\"WTF\",o)}}return Object(a.useEffect)((function(){lr()}),[]),Object(a.useEffect)((function(){(t&&n&&gt&&n==gt||E.noLayout&&\"true\"==E.noLayout||E.slideshowOnly&&\"true\"==E.slideshowOnly)&&wr()})),da&&(La=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new M.a(e||F.r.emblemVault[n],F.r.emblemAbi,o.getSigner(t).connectUnchecked())}(da||null)),Z(r.a.Fragment,null,Z(x.a,null,Z(\"meta\",{name:\"twitter:card\",content:\"summary_large_image\"}),Z(\"meta\",{name:\"twitter:site\",content:\"Emblem.Finance\"}),Z(\"meta\",{name:\"twitter:title\",content:Ee}),Z(\"meta\",{name:\"twitter:description\",content:Nr(Je)}),Z(\"meta\",{name:\"twitter:image\",content:Ke}),Z(\"script\",{dangerouslySetInnerHTML:{__html:'\\n              // $(\".NFT\").tilt({    \\n              //     maxTilt: 3\\n              // });\\n              $(\".NFT\").trigger(\\'mouseenter\\');\\n              $(\".NFT\").trigger(\\'mouseclick\\'), \\'.NFT\\';\\n              if (localStorage.getItem(\"darkMode\") == \\'false\\') {\\n                localStorage.setItem(\"darkMode\",\"true\"); location.href = location.href\\n              }\\n              '}})),Z($,{isOpen:Ba,onClose:Ka,addrCoin:xt,addrAddr:Nt}),Z(ee,{isOpen:Ua,onClose:qa,mnemonic:Zt,privKeyBTC:tn,privKeyETH:rn,privValues:sn,addresses:st}),je?Z(te,{isOpen:za,onClose:Za,tokenId:xe,mine:Rt}):null,Z(_.a,{loaded:It.loaded},Z(l.a,{height:\"40px\"}),dn?Z(N.a,null):\"\",kn||Te?kn?Z(f.a,{align:\"center\"},Z(j.a,{width:\"md\",src:\"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg\"}),Z(b.a,null,\"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR\",\" \",Z(m.a,{color:\"#638cd8\",href:\"../create\"},\"CREATE ONE HERE!\"))):null:Z(d.a,{width:\"full\",align:\"center\",justifyContent:\"center\"},Z(l.a,{className:\"NFT\",maxW:\"sm\",borderWidth:\"1px\",borderColor:gt!=n?\"orange.500\":\"claimed\"==Gt?\"green.500\":null,rounded:\"lg\",overflow:\"hidden\",alignItems:\"center\",minW:390},Z(l.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",textTransform:\"uppercase\",alignItems:\"center\",color:\"blue.500\"},\"Vault Network: \",P.a[gt]),Z(l.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",alignItems:\"center\"},Ee,!dt&&bt>0?\": ~$\"+bt.toLocaleString():null),Z(f.a,{className:\"NFT-content\",align:\"center\"},Z(K.b,{className:\"d-block w-100 NFT-image\",url:Ke}),Rt&&Xe?Z(p.a,{onClick:function(){xr()}},\"(OWNED) Show Full Embed\"):null),Z(f.a,{align:\"center\"},Z(l.a,{mt:\"2\",ml:\"4\",lineHeight:\"tight\"},Z(f.a,null,!Xn&&Rt?Z(b.a,{className:\"warning\",color:\"red\",fontSize:\"s\"},rr):null,Rt&&gt==n?Z(b.a,{fontSize:\"xs\"},Z(m.a,{href:\"./vaults?address=\"+Kn},\"Owner: \",Kn)):null,Z(b.a,{mt:2,as:\"h4\",ml:\"4\",mr:\"4\",fontSize:\"xs\",fontStyle:\"italic\",className:\"md\"},Z(J.a,{plugins:[G.a],children:Nr(Je)}))))),Z(l.a,{p:\"6\"},!A&&!Xn||Fa&&Fa.showBalance?Z(h.f,{isFitted:!0,variant:\"enclosed\"},Z(h.c,{mb:\"1em\"},Z(h.a,null,\"Balances\"),Z(h.a,null,\"Attributes\")),Z(h.e,null,Z(h.d,null,dt?Z(l.a,{mb:5},Z(b.a,{pb:2,color:bn?\"green.500\":null},bn||\"Contents hidden. Enter password to unlock.\"),Z(g.a,{type:\"password\",id:\"vault-password\",onChange:function(e){return Er(e.target.value)},\"aria-describedby\":\"password-helper-text\"})):Z(l.a,{d:\"flex\",backgroundColor:\"light\"==nr?\"gray.100\":\"gray.700\",alignItems:\"baseline\",className:\"coin-balance-content\"},Z(l.a,{color:\"gray.500\",letterSpacing:\"wide\",fontSize:\"sm\",ml:\"2\"},Z(b.a,{as:\"h4\",mt:2,fontWeight:\"semibold\"},\"Current Contents:  \",Z(\"button\",{onClick:function(){fr([],xe,(function(e){et(!1),Qe(e)}))}},\" [Refresh Balances]\")),Z(b.a,{as:\"p\",color:\"dark\"==nr?\"lightgreen\":\"forestgreen\"},\"$\",Number(bt.toFixed(4)).toLocaleString()),ze.length?ze.map((function(e){return Z(f.a,null,Z(D.a,{colorMode:nr,coin:e,mine:\"claimed\"===Gt&&Yt===t||Rt,onRenew:Or,hideAsset:!ba.name&&kr}))})):Z(N.a,null),nt.length?nt.map((function(e){return Z(b.a,null,\"Data: \",e.attribute_key)})):nt.length||ze.length?null:Z(b.a,null,\"Nothing in here! Fill 'er up!\")))),Z(h.d,null,Z(U.a,{colorMode:nr,attributes:ot})))):null,!A&&!dt&&!Xn||Fa&&Fa.showBalance?Z(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},Z(v.a,{justifyContent:\"space-between\",spacing:6},Z(f.a,null,Z(b.a,null,\"Deposit Addresses\"),Z(d.a,{w:\"340px\",justify:\"center\",flexWrap:\"wrap\"},st.map((function(e){return Z(p.a,{className:\"address_nft_button\",ml:2,mt:2,\"font-weight\":\"100 !important\",key:e.address,onClick:function(){Ct(e.coin),Et(e.address),Ga()}},\"ETH\"==e.coin?e.coin+\"\":\"BTC\"==e.coin?e.coin+\"/XCP/OMNI\":\"BCH\"==e.coin?e.coin+\"/SLP\":e.coin)})))))):null,\"claimed\"===Gt||!Xn||1!==gt&&137!==gt?null:Z(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},Z(p.a,{className:\"nft_button\",width:Rt&&1==gt?\"33%\":137==gt?\"100%\":\"50%\",m:2.5,mb:5,onClick:function(){window.open(\"https://\"+(4==gt?\"rinkeby.\":5==gt?\"testnets.\":\"\")+\"opensea.io/assets/\"+(137==gt?\"matic/\":5==gt?\"goerli/\":\"ethereum/\")+(da||(ga[n]?ga[n]:F.r.emblemVault[gt]))+\"/\"+(ga?ga.tokenId:xe),\"_blank\")}},\"Opensea\"),1==gt?Z(p.a,{className:\"nft_button\",width:\"50%\",m:5,onClick:function(){window.open(\"https://\"+(4==gt?\"rinkeby.\":5==gt?\"goerli.\":\"\")+\"looksrare.org/collections/\"+(137==gt?\"matic/\":\"\")+(da||(ga?ga[n]:F.r.emblemVault[gt]))+\"/\"+(ga?ga.tokenId:xe),\"_blank\")}},\"LooksRare\"):null,Rt&&1==gt?Z(p.a,{className:\"nft_button\",width:\"33%\",m:2.5,mb:5,onClick:function(){window.open(\"https://app.arcade.xyz/terms/asset/\".concat(ga[gt]?ga[gt]:F.r.emblemVault[gt],\"/\").concat(xe),\"_blank\")}},\"Arcade\"):null,je?Z(p.a,{className:\"\",onClick:function(){Qa()}},Rt?\"My Offers\":\"Make an Offer\",\" (NFT\\xb2NFT)\"):null),Rt?Z(Q.a,{handler:{address:ga[n]?F.r.vaultHandlerV8[n]:F.r.vaultHandler[n],abi:ga[n]?F.r.vaultHandlerV8Abi:F.r.vaultHandlerAbi},spending:{address:ga[n]?ga[n]:F.r.emblemVault[n],abi:ga[n]?F.r.erc1155Abi:F.r.emblemAbi},amount:0,label:\"Approve Creating / Burning Vaults\",watcher:kt}):null,Xn||En||!Rt||gt!=n||\"claimed\"===Gt||aa?null:Z(r.a.Fragment,null,ga.name?Z(p.a,{width:\"100%\",mt:5,onClick:function(){var e=F.t.filter((function(e){return e[n]==ga[n]}))[0];return e.purchaseMethod&&\"buyWithQuote\"==e.purchaseMethod?sr():ir()},isDisabled:!Oa||Ta},Ta?\"Mint Locked - keys accessed before mint\":Oa?\" Mint Vault\":\"Please load vault to mint\",\" \"):null),Xn&&\"claimed\"!==Gt&&t&&gt===n&&Rt&&!Ut&&he?Z(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},Z(p.a,{width:\"100%\",onClick:function(){Cr()},isDisabled:Wt},Wt?\"Claiming ...\":\"Unlock Vault (Get Private Keys)\")):gt!==n||\"claimed\"!=Gt&&!Ta||Yt!==t&&!Rt?null:Z(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},Z(p.a,{width:\"100%\",onClick:jr},\"Get Keys\")),!A||Rt?Z(f.a,{mt:5},Z(r.a.Fragment,null,Z(\"button\",{className:\"nft_button\",onClick:function(){tr()}},\"Advanced Operations\"),Z(d.a,{w:\"100%\",justify:\"center\",flexWrap:\"wrap\"},Z(w.a,{width:\"100%\",isOpen:er},gt===n&&Pt&&\"claimed\"!=Gt&&!Ta?Z(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},Z(p.a,{width:\"100%\",onClick:jr},\"Get Keys (Unlocking will prevent minting)\")):null,Rt||Yt==t?Z(z.a,{data:_a,filename:\"EmblemVault-\".concat(xe,\".json\")}):null,Xn&&\"claimed\"!=Gt||ea!=t||gt!=n||aa||!(ze.length<1)?null:Z(p.a,{width:\"100%\",mt:5,onClick:function(){o.getSigner(t).signMessage(\"Delete: \"+xe).then((function(e){console.log(\"sig\",e),fetch(F.g+\"/v2/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"},body:JSON.stringify({tokenId:xe,signature:e,chainId:n.toString()})}).then(Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:location.href=location.href.split(\"/\")[0]+\"/vaults\";case 1:case\"end\":return e.stop()}}),e)}))))}))}},\"Delete Vault \"))))):null),Ae?Z(k.a,{align:\"center\"},Z(m.a,{target:\"new\",mb:2,ml:35,href:\"https://gateway.ipfs.io/ipfs/\"+Ae,isExternal:!0},\"View Metadata on IPFS \"),Fe?Z(m.a,{mb:2,href:\"https://gateway.ipfs.io/ipfs/\"+Fe,isExternal:!0},\"View Image on IPFS \"):null):null,Ut?Z(l.a,{d:\"flex\",mb:2,ml:35,alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},Z(b.a,null,\"*This vault is sealed forever.\")):null,Z(f.a,{direction:\"column\",align:\"center\"},\"claimed\"==Gt?Z(b.a,{color:\"green.500\"},\"CLAIMED\"):null),St?Z(O.a,{status:\"info\"},Z(O.b,null),Cn?\"Accepting Your Gift Vault\":Wt?\"Claiming your Vault ...\":En?\"Handling Approval Flow ...\":Jn?\"Transfering Vault ...\":ca?\"Minting Vault\":\"Waiting for Transaction ...\"):null)),St?Z(R.a,{hash:St,onComplete:function(){!Wt||Cn||Hn?Hn?(localStorage.setItem(t+\"_\"+n+\"_\"+xe+\"_mintPassword\",Rn),Vn(!0),Ln(!1),kt(null)):Cn?(Tn(!1),lr(),kt(null)):En?(_n(!1),lr(),kt(null)):Jn?(Bn(!1),lr(),kt(null)):ca||aa?(ia(!1),kt(null),ra(!1),location.href=location.origin+\"/nft2?id=\"+xe):location.href=location.origin+\"/nft2?id=\"+xe:(kt(null),Kt(\"claimed\"),Jt(!1),zt(t),location.href=location.origin+\"/nft2?id=\"+xe)}}):null,Z(l.a,{height:\"40px\"})))}var ae=r.a.createElement;function re(){return ae(ne,null)}},Gp8X:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var a=n(\"q1tI\"),r=n.n(a),o=n(\"Weur\"),c=n(\"eJLp\"),i=n(\"8XlW\"),s=n(\"Z6YE\"),u=r.a.createElement,l=function(e,t,n,a){return new i.a(e,t,n.getSigner(a).connectUnchecked())};function d(e){var t=Object(s.b)(),n=t.account,r=t.library,i=Object(a.useState)(!1),d=i[0],f=i[1],p=Object(a.useState)(null),b=p[0],m=p[1],h=Object(a.useState)(null),g=h[0],v=h[1],w=Object(a.useState)(null),O=w[0],j=w[1];return Object(a.useEffect)((function(){!O&&e.handler&&function(e){var t=l(e.address,e.abi,r,n);j(t)}(e.handler)})),Object(a.useEffect)((function(){!g&&e.spending&&function(e){var t=l(e.address,e.abi,r,n);v(t)}(e.spending)})),Object(a.useEffect)((function(){var t,a;g&&(t=e.handler,e.spending,(a=e.amount)>0?g.decimals().then((function(e){m(e),g.allowance(n,t.address).then((function(t){f(t>=a*Math.pow(10,e))}))})):g.isApprovedForAll(n,t.address).then((function(e){f(e)})))})),n&&!d?u(o.a,{w:\"100%\",flexWrap:\"wrap\",mt:3},u(c.a,{onClick:function(){return e.amount>0?void g.approve(e.handler.address,1e6*Math.pow(10,b)).then((function(t){e.watcher(t.hash,(function(e){1===e.status&&f(!0)}))})):void g.setApprovalForAll(e.handler.address,!0).then((function(t){e.watcher(t.hash,(function(e){1===e.status&&f(!0)}))}))},backgroundColor:\"#02b402\",color:\"black !important\",fontWeight:\"bold !important\",width:\"100%\"},e.label)):null}},RuSG:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/nft2\",function(){return n(\"EM35\")}])},XXjs:function(e,t,n){\"use strict\";var a=n(\"BMxC\"),r=n(\"eJLp\"),o=n(\"q1tI\"),c=n.n(o),i=c.a.createElement;t.a=function(e){var t=e.data,n=e.filename;return i(c.a.Fragment,null,i(a.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},i(r.a,{id:\"downloadLink\",width:\"100%\",onClick:function(e){e.preventDefault();var a=JSON.stringify(t,null,2),r=new Blob([a],{type:\"application/json\"}),o=URL.createObjectURL(r),c=document.createElement(\"a\");c.href=o,c.download=n,document.body.appendChild(c),c.click(),document.body.removeChild(c)}},\"Backup Vault\")))}}},[[\"RuSG\",1,0,14,16,23,2,3,4,5,6,7,8,9,10,11,13,17,18,19,20,21,22,25]]]);","extractedComments":[]}