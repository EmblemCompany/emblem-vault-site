{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[50,54,55],{ATmR:function(e,t,n){\"use strict\";var r=n(\"q1tI\"),a=n(\"i8i4\"),o=n(\"D7Da\");var c=Object(r.forwardRef)((function(e,t){var n=e.children,c=e.container,u=e.isDisabled,i=void 0!==u&&u,s=e.onRendered,l=Object(r.useState)(null),f=l[0],p=l[1],d=Object(o.g)(n.ref,t);return Object(o.f)((function(){i||p(function(e){return e=\"function\"===typeof e?e():e,Object(a.findDOMNode)(e)}(c)||document.body)}),[c,i]),Object(o.f)((function(){if(f&&!i)return Object(o.e)(t,f),function(){Object(o.e)(t,null)}}),[t,f,i]),Object(o.f)((function(){s&&(f||i)&&s()}),[s,f,i]),i?(r.Children.only(n),Object(r.cloneElement)(n,{ref:d})):f?Object(a.createPortal)(n,f):f}));c.displayName=\"Portal\",t.a=c},CoEt:function(e,t,n){\"use strict\";var r=n(\"8OQS\"),a=n.n(r),o=n(\"pVnL\"),c=n.n(o),u=n(\"qKvR\"),i=n(\"q1tI\"),s=n(\"FpzS\"),l=n(\"mf32\"),f=n(\"BMxC\"),p=[\"m\",\"mt\",\"mr\",\"mb\",\"ml\",\"mx\",\"my\",\"margin\",\"marginTop\",\"marginBottom\",\"marginLeft\",\"marginRight\",\"marginY\",\"marginX\",\"flex\",\"flexBasis\",\"width\",\"minWidth\",\"maxWidth\",\"maxW\",\"minW\",\"w\",\"zIndex\",\"top\",\"right\",\"bottom\",\"left\",\"position\",\"pos\"],d=function(e){var t={},n={};for(var r in e)p.includes(r)?t[r]=e[r]:n[r]=e[r];return[t,n]},m=n(\"w0db\"),b=function(e){var t=e.icon,n=a()(e,[\"icon\"]);return\"string\"===typeof t?Object(u.d)(m.a,c()({focusable:\"false\",name:t,color:\"currentColor\"},n)):Object(u.d)(f.a,c()({as:t,\"data-custom-icon\":!0,focusable:\"false\",color:\"currentColor\"},n))},h=Object(i.forwardRef)((function(e,t){return Object(u.d)(f.a,c()({ref:t,position:\"absolute\",display:\"inline-flex\",width:\"1.5rem\",height:\"100%\",alignItems:\"center\",justifyContent:\"center\",right:\"0.5rem\",top:\"50%\",pointerEvents:\"none\",zIndex:2,transform:\"translateY(-50%)\"},e))})),v=Object(i.forwardRef)((function(e,t){var n=e.placeholder,r=e.children,o=a()(e,[\"placeholder\",\"children\"]);return Object(u.d)(s.a,c()({as:\"select\",appearance:\"none\",ref:t,pr:\"2rem\",pb:\"px\",lineHeight:\"normal\"},o),n&&Object(u.d)(\"option\",{value:\"\"},n),r)})),O=Object(i.forwardRef)((function(e,t){var n=e.rootProps,r=e.icon,o=e.iconSize,i=void 0===o?5:o,s=e.iconColor,p=a()(e,[\"rootProps\",\"icon\",\"iconSize\",\"iconColor\"]),m=\"dark\"===Object(l.c)().colorMode?\"whiteAlpha.800\":\"inherit\",O=p.isReadOnly||p.isDisabled?.5:null,j=d(p),x=j[0],g=j[1];return Object(u.d)(f.a,c()({position:\"relative\",width:\"100%\"},x,n),Object(u.d)(v,c()({ref:t,color:m},g)),Object(u.d)(h,{opacity:O,color:s||g.color||m},Object(u.d)(b,{focusable:\"false\",\"aria-hidden\":\"true\",icon:r||\"chevron-down\",size:i})))}));O.displayName=\"Select\";t.a=O},D3uo:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EMBLEM_API\",(function(){return Q})),n.d(t,\"default\",(function(){return X}));var r=n(\"o0o1\"),a=n.n(r),o=n(\"HaE+\"),c=n(\"q1tI\"),u=n.n(c),i=n(\"mf32\"),s=n(\"XZ7F\"),l=n(\"IDkF\"),f=n(\"sK1y\"),p=n(\"Yn+B\"),d=n(\"CoEt\"),m=n(\"FpzS\"),b=n(\"eJLp\"),h=n(\"BMxC\"),v=(n(\"+QRC\"),n(\"N39q\")),O=n(\"Z6YE\"),j=n(\"iBPG\"),x=n(\"8XlW\"),g=n(\"zIq6\"),k=n(\"PLxQ\"),w=n(\"RAs/\"),y=n(\"hVfy\"),C=n(\"eC2I\"),I=n.n(C),N=n(\"vUet\"),S=n(\"YdCC\"),E=function(e){return u.a.forwardRef((function(t,n){return u.a.createElement(\"div\",Object(w.a)({},t,{ref:n,className:I()(t.className,e)}))}))},R=u.a.createContext(null);R.displayName=\"CardContext\";var T=R,M=[\"bsPrefix\",\"className\",\"variant\",\"as\"],A=u.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.variant,o=e.as,c=void 0===o?\"img\":o,i=Object(y.a)(e,M),s=Object(N.a)(n,\"card-img\");return u.a.createElement(c,Object(w.a)({ref:t,className:I()(a?s+\"-\"+a:s,r)},i))}));A.displayName=\"CardImg\",A.defaultProps={variant:null};var P=A,B=[\"bsPrefix\",\"className\",\"bg\",\"text\",\"border\",\"body\",\"children\",\"as\"],V=E(\"h5\"),_=E(\"h6\"),z=Object(S.a)(\"card-body\"),F=Object(S.a)(\"card-title\",{Component:V}),H=Object(S.a)(\"card-subtitle\",{Component:_}),D=Object(S.a)(\"card-link\",{Component:\"a\"}),q=Object(S.a)(\"card-text\",{Component:\"p\"}),L=Object(S.a)(\"card-header\"),W=Object(S.a)(\"card-footer\"),Y=Object(S.a)(\"card-img-overlay\"),U=u.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.bg,o=e.text,i=e.border,s=e.body,l=e.children,f=e.as,p=void 0===f?\"div\":f,d=Object(y.a)(e,B),m=Object(N.a)(n,\"card\"),b=Object(c.useMemo)((function(){return{cardHeaderBsPrefix:m+\"-header\"}}),[m]);return u.a.createElement(T.Provider,{value:b},u.a.createElement(p,Object(w.a)({ref:t},d,{className:I()(r,m,a&&\"bg-\"+a,o&&\"text-\"+o,i&&\"border-\"+i)}),s?u.a.createElement(z,null,l):l))}));U.displayName=\"Card\",U.defaultProps={body:!1},U.Img=P,U.Title=F,U.Subtitle=H,U.Body=z,U.Link=D,U.Text=q,U.Header=L,U.Footer=W,U.ImgOverlay=Y;var G=U,J=u.a.createElement,Q=\"https://api.emblemvault.io\";function X(e){var t=e.isOpen,n=e.onClose,r=e.tokenId,w=e.mine,y=Object(i.c)().colorMode,C=Object(O.b)(),I=C.account,N=C.chainId,S=C.library,E=Object(c.useState)(!1),R=E[0],T=E[1],M=Object(c.useState)(!1),A=M[0],P=M[1],B=Object(c.useState)(!1),V=B[0],_=B[1],z=Object(c.useState)({address:\"\",balance:0,tokenType:\"\",name:\"\"}),F=z[0],H=z[1],D=Object(c.useState)([]),q=D[0],L=D[1],W=Object(c.useState)(0),Y=W[0],U=W[1],X=Object(c.useState)(\"\"),K=X[0],Z=X[1],$=Object(c.useState)(0),ee=$[0],te=$[1],ne=Object(c.useState)(0),re=ne[0],ae=ne[1],oe=Object(c.useState)(!1),ce=oe[0],ue=oe[1],ie=Object(c.useState)(0),se=ie[0],le=ie[1],fe=Object(c.useState)(0),pe=fe[0],de=fe[1],me=Object(c.useState)([]),be=me[0],he=me[1],ve=Object(c.useState)([]),Oe=ve[0],je=ve[1],xe=Object(c.useState)(null),ge=xe[0],ke=xe[1],we=Object(c.useState)([]),ye=we[0],Ce=we[1],Ie=Object(s.a)(),Ne=(Ie.isOpen,Ie.onToggle,function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.replace(\"http://104.154.252.216\",\"https://api.emblemvault.io/s:evmetadata\"),e.prev=1,e.next=4,fetch(t,{method:\"GET\",headers:{}});case 4:return r=e.sent,e.next=7,r.json();case 7:return o=e.sent,e.abrupt(\"return\",n(o));case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt(\"return\",n(!1));case 14:case\"end\":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()),Se=function(e){return console.log(\"contract\",e),Te(e,v.p.covalAbi,!0)},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Te(e||v.p.emblemVault[N],v.p.emblemAbi,!0)},Re=function(){return Te(v.p.nftrade[N],v.p.nftradeAbi,!0)},Te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new x.a(e,t,n?S.getSigner(I).connectUnchecked():S)};Object(c.useEffect)((function(){I&&K!=I&&(Z(I),_(!1))}),[I,K]),Object(c.useEffect)((function(){if(R){var e=setTimeout((function(){T(!1)}),750);return function(){clearTimeout(e)}}}),[R]),Object(c.useEffect)((function(){V||A||(P(!0),qe(I,function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(t),De(),P(!1),_(!0);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}));var Me=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Se(t),console.log(\"decimals\",ee),e.next=4,n.approve(v.p.nftrade[N],Y*Math.pow(10,+ee)).then((function(e){var t=e.hash;ke(t)}));case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,r=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,n=Ee(t),e.next=4,n.setApprovalForAll(v.p.nftrade[N],!0).then((function(e){var t=e.hash;ke(t)}));case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,r,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:null,n=Ee(t),e.next=4,n.isApprovedForAll(I,v.p.nftrade[N]);case 4:r=e.sent,ue(r);case 6:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,c,u,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){return(i=Object(o.a)(a.a.mark((function e(t,o){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.tokenOfOwnerByIndex(I,t);case 2:if(i=e.sent,c.push(i.toNumber()),!(t+1>=r)){e.next=8;break}return e.abrupt(\"return\",o());case 8:return e.abrupt(\"return\",u(t+1,o));case 9:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)},u=function(e,t){return i.apply(this,arguments)},n=Ee(t),e.next=5,n.balanceOf(I);case 5:r=e.sent,c=[],u(0,(function(){Ce(c)}));case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Re(),e.next=3,t.addOffer(F.address,pe,v.p.emblemVault[N],r,se*Math.pow(10,+ee)).then((function(e){var t=e.hash;ke(t)}));case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Re(),e.next=3,n.withdrawOffer(v.p.emblemVault[N],r,t).then((function(e){var t=e.hash;ke(t)}));case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Re(),e.next=3,n.rejectOffer(v.p.emblemVault[N],r,t).then((function(e){var t=e.hash;ke(t)}));case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Re(),e.next=3,n.acceptOffer(v.p.emblemVault[N],r,t).then((function(e){var t=e.hash;ke(t)}));case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Se(t),e.next=3,n.decimals();case 3:return r=e.sent,te(r),e.t0=ae,e.next=8,n.allowance(I,v.p.nftrade[N]).then((function(e){return(e*Math.pow(10,-r)).toString()}));case 8:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=U,e.next=13,n.balanceOf(I).then((function(e){return(e*Math.pow(10,-r)).toString()}));case 13:e.t3=e.sent,(0,e.t2)(e.t3);case 15:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,c,u,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(){return(s=Object(o.a)(a.a.mark((function e(o,s){var l,f,p,d,m,b,h,O,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j=function(){return o+1>=n?s():i(o+1,s)},e.next=3,t.getOffer(v.p.emblemVault[N],r,o);case 3:if(l=e.sent,console.log(\"-------\",l),\"0x0000000000000000000000000000000000000000\"===l.token){e.next=38;break}return f={tokenId:l.tokenId.toNumber(),_from:l._from,token:l.token,amount:l.amount},p=Se(f.token),e.next=10,p.name();case 10:if(d=e.sent,console.log(\"----- name ----\",d),f.name=d,f.index=o,f.address=f.token,console.log(\"----- offer tokenid ----\",l.tokenId.toNumber()),0!=l.tokenId.toNumber()){e.next=31;break}return console.log(\"---------\",\"herererererere\"),e.next=20,p.decimals();case 20:return m=e.sent,e.next=23,p.symbol();case 23:b=e.sent,f.symbol=b,f.decimals=m,f.amount=f.amount.toNumber()*Math.pow(10,-m),c.push(f),f._from==I&&u.push(f),e.next=38;break;case 31:return h=Ee(f.token),e.next=34,h.tokenURI(f.tokenId);case 34:O=(O=e.sent).replace(\"ipfs://\",\"https://gateway.ipfs.io/\"),console.log(\"---------URI---------\",O),Ne(O,(function(e){console.log(\"metadata\",e),f.metadata=e,f.amount=l.amount.toNumber(),f.tokenId=l.tokenId.toNumber(),c.push(f),f._from==I&&u.push(f)}));case 38:j();case 39:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)},i=function(e,t){return s.apply(this,arguments)},t=Re(),e.next=5,t.getOfferCount(v.p.emblemVault[N],r);case 5:n=e.sent.toNumber(),console.log(\"------ offer count ------\",n),w&&Pe(),c=[],u=[],n>0&&i(0,(function(){he(c),je(u),console.log(\"offers\",c,u)}));case 11:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Q+\"/\"+j.d[N]+\"/balance/\"+t,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return r=e.sent,e.next=5,r.json();case 5:return o=e.sent,e.abrupt(\"return\",n(o.values));case 7:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return J(l.a,{isOpen:t,onClose:n,isCentered:!0},J(l.g,null),J(l.d,{color:v.d[y]},J(l.f,null,J(f.a,null,w?null:\"Make\",\" Offer\",w?\"s\":null,\" for: \",r)),J(l.c,null),J(l.b,null,w?null:J(p.a,{direction:\"column\"},J(p.a,{mt:\"6\"},J(f.a,null,\"Choose your Offer Token\"),J(d.a,{w:\"100%\",value:F.address,onChange:function(e){if(\"0\"!==e.target.value){var t=q.filter((function(t){return t.address==e.target.value}))[0];H(t),de(0),\"ERC-20\"==t.tokenType?He(t.address):Be(t.address),console.log(q.filter((function(t){return t.address==e.target.value}))[0]),console.log(e.target.value)}}},J(\"option\",{value:\"0\"},\"Choose a Token\"),q.map((function(e,t){if(\"native\"!==e.tokenType)return J(\"option\",{value:e.address},e.name)}))),F.balance>0&&\"ERC-20\"==F.tokenType&&re>0?J(u.a.Fragment,null,J(f.a,null,\"Max: \",Y),J(m.a,{onChange:function(e){return le(e.target.value)}})):null),J(p.a,{direction:\"row\",justify:\"center\"},\"ERC-20\"==F.tokenType?Y>0&&0==re?J(b.a,{onClick:function(){Me(F.address)}},\"Approve offer of \",F.name):F&&0==Y?J(f.a,null,\"Insufficient Balance\"):J(b.a,{onClick:function(){Ve()}},\"Make Offer\"):ye.length>0?J(d.a,{width:\"100%\",onChange:function(e){\"0\"!==e.target.value&&(de(Number(e.target.value)),Pe(F.address))}},J(\"option\",{value:\"0\"},\"Select TokenId\"),ye.map((function(e,t){return J(\"option\",{value:e},e)}))):null,F.name&&\"ERC-20\"!=F.tokenType&&!ce&&0!=pe?J(b.a,{width:\"100%\",onClick:function(){Ae(F.address)}},\"Approve \",F.name):F.name&&\"ERC-20\"!=F.tokenType&&ce?J(b.a,{onClick:function(){Ve()}},\"Make Offer\"):null),J(p.a,{maxHeight:\"200px\",overflow:\"scroll\"},J(f.a,null,\"My Offers\"),Oe.map((function(e,t){return J(G,null,J(G.Header,{color:\"black\"},J(f.a,{color:\"black\"},e.name,\" \",e.amount>0?e.amount:e.tokenId)),J(G.Body,null,J(b.a,{backgroundColor:\"#2d3848\",onClick:function(){_e(e.index)},m:2},\"Withdraw\"),e.metadata?J(h.a,null,J(k.b,{className:\"\",url:e.metadata.image.replace(\"ipfs://\",\"https://gateway.ipfs.io/\")})):null))})))),w?J(p.a,{direction:\"column\",maxHeight:\"200px\",overflow:\"scroll\"},ce?null:J(b.a,{onClick:function(){Ae()}},\"Allow accepting of Offers\"),J(f.a,null,\"Offers\"),be.map((function(e,t){return J(G,null,J(G.Header,null,J(f.a,{color:\"black\"},e.name,\" \",e.amount>0?e.amount:e.tokenId)),J(G.Body,null,J(b.a,{backgroundColor:\"#2d3848\",onClick:function(){ze(e.index)},m:2},\"Reject Offer\"),ce?J(b.a,{backgroundColor:\"#2d3848\",onClick:function(){Fe(e.index)},m:2},\"Accept Offer\"):null,e.metadata?J(h.a,null,J(k.b,{className:\"\",url:e.metadata.image.replace(\"ipfs://\",\"https://gateway.ipfs.io/\")})):null))}))):null,ge?J(g.a,{hash:ge,onComplete:function(){ke(null),_(!1)}}):null),J(l.e,null)))}}}]);","extractedComments":[]}