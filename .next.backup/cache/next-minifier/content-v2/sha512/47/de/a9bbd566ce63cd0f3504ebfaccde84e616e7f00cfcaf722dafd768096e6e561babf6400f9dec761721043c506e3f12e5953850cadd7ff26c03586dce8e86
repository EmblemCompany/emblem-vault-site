{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[48],{EM35:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return $}));var a=n(\"q1tI\"),r=n.n(a),o=n(\"o0o1\"),i=n.n(o),c=n(\"HaE+\"),s=n(\"XZ7F\"),u=n(\"mf32\"),l=n(\"BMxC\"),f=n(\"Weur\"),d=n(\"Yn+B\"),p=n(\"eJLp\"),g=n(\"sK1y\"),m=n(\"pboS\"),b=n(\"FpzS\"),h=n(\"IP4Q\"),v=n(\"MKZ1\"),O=n(\"jgTY\"),w=n(\"LqLE\"),S=n(\"bQFp\"),j=n(\"wZsY\"),y=n(\"S5RI\"),k=n.n(y),x=n(\"8Kt/\"),C=n.n(x),T=n(\"Z6YE\"),N=n(\"nOHt\"),_=n(\"Ute3\"),E=n(\"a6RD\"),A=n.n(E),I=n(\"iBPG\"),M=n(\"8XlW\"),F=n(\"zIq6\"),V=n(\"N39q\"),H=n(\"21eR\"),P=n(\"NFKh\"),L=n.n(P),D=n(\"IujW\"),G=n.n(D),J=n(\"wH4i\"),R=n.n(J),W=n(\"PLxQ\"),B=n(\"zNBI\"),K=n(\"fksj\"),U=(n(\"Q/0U\"),r.a.createElement),z=A()((function(){return Promise.all([n.e(15),n.e(17),n.e(27)]).then(n.bind(null,\"X/Jl\"))}),{loadableGenerated:{webpack:function(){return[\"X/Jl\"]},modules:[\"./AddrModal\"]}}),q=A()((function(){return Promise.all([n.e(15),n.e(17),n.e(29)]).then(n.bind(null,\"0bCS\"))}),{loadableGenerated:{webpack:function(){return[\"0bCS\"]},modules:[\"./KeysModal\"]}}),X=A()((function(){return Promise.all([n.e(15),n.e(17),n.e(28)]).then(n.bind(null,\"D3uo\"))}),{loadableGenerated:{webpack:function(){return[\"D3uo\"]},modules:[\"./OfferModal\"]}});function Y(){var e=Object(T.b)(),t=e.account,n=e.chainId,o=e.library,y=Object(N.useRouter)(),x=y.query,E=Object(a.useState)(!1),A=E[0],P=E[1],D=Object(a.useState)(x.useOldMint),J=D[0],Y=(D[1],Object(a.useState)(x.key)),Z=(Y[0],Y[1]),$=Object(a.useState)(x.offer||!1),Q=$[0],ee=($[1],Object(a.useState)(x.framed||!0)),te=ee[0],ne=(ee[1],Object(a.useState)(x.id)),ae=ne[0],re=(ne[1],Object(a.useState)(x.experimental)),oe=(re[0],re[1],Object(a.useState)(x.noLayout)),ie=(oe[0],oe[1],Object(a.useState)(x.slideshowOnly||!1)),ce=ie[0],se=(ie[1],Object(a.useState)(\"\")),ue=se[0],le=se[1],fe=Object(a.useState)(\"\"),de=fe[0],pe=fe[1],ge=Object(a.useState)(\"\"),me=ge[0],be=ge[1],he=Object(a.useState)(\"\"),ve=he[0],Oe=he[1],we=Object(a.useState)(\"\"),Se=we[0],je=we[1],ye=Object(a.useState)(\"\"),ke=ye[0],xe=ye[1],Ce=Object(a.useState)(\"\"),Te=Ce[0],Ne=Ce[1],_e=Object(a.useState)([]),Ee=_e[0],Ae=_e[1],Ie=Object(a.useState)(!1),Me=Ie[0],Fe=Ie[1],Ve=Object(a.useState)([]),He=Ve[0],Pe=Ve[1],Le=Object(a.useState)([]),De=Le[0],Ge=Le[1],Je=Object(a.useState)(!1),Re=Je[0],We=Je[1],Be=Object(a.useState)(0),Ke=Be[0],Ue=Be[1],ze=Object(a.useState)(null),qe=ze[0],Xe=ze[1],Ye=Object(a.useState)(null),Ze=(Ye[0],Ye[1]),$e=Object(a.useState)(null),Qe=$e[0],et=$e[1],tt=Object(a.useState)(\"\"),nt=tt[0],at=tt[1],rt=Object(a.useState)(\"\"),ot=rt[0],it=rt[1],ct=Object(a.useState)({loaded:!1}),st=(ct[0],ct[1]),ut=Object(a.useState)(!1),lt=ut[0],ft=ut[1],dt=Object(a.useState)(!1),pt=dt[0],gt=dt[1],mt=Object(a.useState)(\"claimed\"),bt=mt[0],ht=mt[1],vt=Object(a.useState)(!1),Ot=vt[0],wt=vt[1],St=Object(a.useState)(null),jt=St[0],yt=St[1],kt=Object(a.useState)(\"\"),xt=kt[0],Ct=kt[1],Tt=Object(a.useState)(\"\"),Nt=Tt[0],_t=Tt[1],Et=Object(a.useState)(\"\"),At=Et[0],It=Et[1],Mt=Object(a.useState)([]),Ft=Mt[0],Vt=Mt[1],Ht=Object(a.useState)(!1),Pt=Ht[0],Lt=Ht[1],Dt=Object(a.useState)(\"\"),Gt=Dt[0],Jt=Dt[1],Rt=Object(a.useState)(!1),Wt=Rt[0],Bt=Rt[1],Kt=Object(a.useState)(\"\"),Ut=Kt[0],zt=Kt[1],qt=Object(a.useState)(!1),Xt=qt[0],Yt=qt[1],Zt=Object(a.useState)(!1),$t=(Zt[0],Zt[1],Object(a.useState)(!1)),Qt=$t[0],en=$t[1],tn=Object(a.useState)(!1),nn=tn[0],an=tn[1],rn=Object(a.useState)(!1),on=rn[0],cn=(rn[1],Object(a.useState)(\"\")),sn=cn[0],un=(cn[1],Object(a.useState)(!1)),ln=(un[0],un[1]),fn=Object(a.useState)(!1),dn=fn[0],pn=fn[1],gn=Object(a.useState)(null),mn=gn[0],bn=gn[1],hn=Object(a.useState)(!1),vn=hn[0],On=hn[1],wn=Object(a.useState)(null),Sn=wn[0],jn=wn[1],yn=Object(a.useState)(function(){return _a.apply(this,arguments)}()),kn=yn[0],xn=(yn[1],Object(a.useState)(!1)),Cn=xn[0],Tn=xn[1],Nn=Object(a.useState)(null),_n=Nn[0],En=Nn[1],An=Object(a.useState)(null),In=An[0],Mn=An[1],Fn=Object(a.useState)(null),Vn=Fn[0],Hn=Fn[1],Pn=Object(a.useState)(!1),Ln=Pn[0],Dn=Pn[1],Gn=Object(a.useState)(!1),Jn=Gn[0],Rn=Gn[1],Wn=Object(a.useState)(!1),Bn=Wn[0],Kn=Wn[1],Un=Object(a.useState)(!1),zn=(Un[0],Un[1]),qn=Object(a.useState)(null),Xn=qn[0],Yn=qn[1],Zn=Object(a.useState)({name:\"\",image:\"\",metadata:\"\"}),$n=(Zn[0],Zn[1]),Qn=Object(a.useState)({name:\"\",chain:\"\",4:\"\",1:\"\",tokenId:{},serialNumber:{hex:\"\"}}),ea=Qn[0],ta=Qn[1],na=Object(a.useState)(!1),aa=na[0],ra=na[1],oa=Object(a.useState)({}),ia=(oa[0],oa[1]),ca=Object(H.b)(V.o.vaultHandler[n],V.o.vaultHandlerAbi,!0),sa=Object(H.b)(V.o.vaultHandlerV8[n],V.o.vaultHandlerV8Abi,!0),ua=Object(H.b)(V.o.emblemVault[n],V.o.emblemAbi,!0),la=Object(s.a)(),fa=la.isOpen,da=la.onOpen,pa=la.onClose,ga=Object(s.a)(),ma=ga.isOpen,ba=ga.onOpen,ha=ga.onClose,va=Object(s.a)(),Oa=va.isOpen,wa=va.onOpen,Sa=va.onClose,ja=Object(s.a)(),ya=ja.isOpen,ka=ja.onToggle,xa=Object(s.a)(),Ca=xa.isOpen,Ta=xa.onToggle,Na=Object(u.c)().colorMode;function _a(){return(_a=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new k.a({baseUrl:\"\".concat(window.location.origin,\"/serviceworker\"),enableLogging:!0,network:\"testnet\"}),e.next=3,t.init({skipSw:!0,skipInit:!0,skipPrefetch:!0});case 3:return console.log(\"Initialized Torus\"),e.abrupt(\"return\",t);case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var Ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new M.a(e,V.o.erc1155Abi,o.getSigner(t).connectUnchecked())},Aa=function(){console.log(\"Delayed Minting\"),Dn(!1),Rn(!0),Kn(!0);var e=De.filter((function(e){return\"ETH\"==e.coin}))[0].address;ca.buyWithSignature(t,ae,e,_n,In).then((function(e){var t=e.hash;setTimeout((function(){et(t),Rn(!1)}),100)})).catch((function(e){Rn(!1)}))},Ia=function(){var e=Object(c.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage(\"HideAsset: \"+ae).then((function(e){console.log(\"----------------------------------------------------------------\",e),console.log(n.name,n.coin,n.address),Ma(ae,n.coin,n.address,n.name,e,(function(){console.log(\"Done hiding coin and getting new balances\")}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ma(e,t,a,r,o,s){fetch(V.g+\"/hide/\"+e,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({coin:t||null,address:a||null,name:r||null,signature:o||null})}).then(function(){var t=Object(c.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log(\"-------\",a),Fa([],e,(function(e){return Ae(e),s()}));case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var Fa=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(V.g+\"/vault/balance/\"+n,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,console.log(\"responce\",r,o),!(o.balances.length>0)){e.next=11;break}return e.abrupt(\"return\",a(t.concat(o.balances)));case 11:return e.abrupt(\"return\",a(t));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Va=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"getvault\"),!ce&&Ga(),e.next=4,fetch(V.g+\"/v2/meta/\"+ae+\"?experimental=true\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 4:return t=e.sent,e.next=7,t.json();case 7:(n=e.sent).collectionAddress&&(zn(!0),Yn(n.collectionAddress)),n.name?(console.log(\"---------------\",n),Ha(n),!ce&&Da(n),Lt(!1),Yt(!1)):(st({loaded:!0}),Yt(!0));case 10:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ha=function(e){te&&e.image&&!e.image.includes(\"framed=\")&&!e.image.includes(\"http\")&&(e.image=e.image+\"&framed=\"+te),e.ciphertextV2&&(Oe(e.ciphertextV2),console.log(\"ciphertextV2\",e.ciphertextV2)),le(e.name),xe(e.image),Ne(e.ownedImage||null),je(e.description),Ue(e.totalValue||0),e.values&&Ae(Ee.concat(e.values)),e.attributes&&Pe(e.attributes.filter((function(e){return\"key\"===e.trait_type}))),Ge(e.addresses),pe(e.ipfs||null),be(e.image_ipfs||null),e.targetAsset&&$n(e.targetAsset),e.targetContract&&ta(e.targetContract),e.values&&e.targetAsset&&e.values.filter((function(t){return t.coin.toLowerCase()==e.targetContract.chain&&t.name==e.targetAsset.name&&t.project==e.targetContract.name})).length>0&&ra(!0),Tn(0!=e.live),En(e.nonce),Mn(e.signature),Hn(e.to),Ze(e.network),Xe(\"mainnet\"==e.network?1:\"rinkeby\"==e.network?4:\"mumbai\"==e.network?80001:\"matic\"==e.network?137:\"xdai\"==e.network?100:\"bsc\"==e.network?56:\"fantom\"==e.network?250:\"bitcoin\"==e.network?0:97),ht(e.status),\"claimed\"===bt&&yt(e.claimedBy),st({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes(\"private:\")})).length>0;We(t),e.sealed?wt(!0):wt(!1)},Pa=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Me){e.next=2;break}return e.abrupt(\"return\",a(!1));case 2:return Fe(!0),e.next=5,fetch(V.g+\"/vault/balance/\"+n+\"?live=true\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 5:return r=e.sent,e.next=8,r.json();case 8:if(o=e.sent,console.log(\"responce\",r,o),!(o.balances.length>0)){e.next=14;break}return e.abrupt(\"return\",a(t.concat(o.balances)));case 14:return e.abrupt(\"return\",a(t));case 15:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),La=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a,r){var o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(V.g+\"/vault/balance/\"+n+\"/\"+a,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(c=e.sent,console.log(\"responce\",o,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt(\"return\",r(t.concat(c.balances)));case 11:return e.abrupt(\"return\",r(t));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Da=function(e){localStorage.setItem(t+\"_\"+n+\"_\"+ae+\"_vault\",JSON.stringify(e))},Ga=function(){console.log(\"cache\");var e=JSON.parse(localStorage.getItem(t+\"_\"+n+\"_\"+ae+\"_vault\"));e&&(st({loaded:!0}),Ha(e),Lt(!0))},Ja=function(){var e=localStorage.getItem(t+\"_\"+n+\"_\"+ae+\"_mintPassword\");e&&on&&Z(e)},Ra=function(){var e=Object(c.a)(i.a.mark((function e(t,a,r){var o,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append(\"chainid\",n.toString()),o.append(\"Content-Type\",\"application/json\"),c=JSON.stringify({signature:t,tokenId:a}),e.next=6,fetch(\"https://tor-us-signer.vercel.app/sign\",{method:\"POST\",headers:o,body:c,redirect:\"follow\"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt(\"return\",r(u));case 11:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Wa=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,e.next=3,kn;case 3:return e.next=5,e.sent.getTorusKey(\"tor-us-signer-vercel\",t,{verifier_id:t},n).catch((function(e){r=e.message}));case 5:if(o=e.sent,!r){e.next=11;break}return console.log(\"error\",r),e.abrupt(\"return\",a(!1));case 11:return e.abrupt(\"return\",a(o));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ba=function(){var e=Object(c.a)(i.a.mark((function e(t,a,r,o){var c,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append(\"chainId\",n.toString()),c.append(\"service\",\"evmetadata\"),c.append(\"Content-Type\",\"application/json\"),s=JSON.stringify({signature:t,coin:r}),e.next=7,fetch(V.g+\"/address/\"+a,{method:\"POST\",headers:c,body:s,redirect:\"follow\"});case 7:return u=e.sent,e.next=10,u.json();case 10:return l=e.sent,e.abrupt(\"return\",o(l));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ka=function(){var e=Object(c.a)(i.a.mark((function e(t,a,r){var o,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append(\"chainId\",n.toString()),o.append(\"service\",\"evmetadata\"),o.append(\"Content-Type\",\"application/json\"),c=JSON.stringify({signature:t}),e.next=7,fetch(V.g+\"/embed/\"+a,{method:\"POST\",headers:o,body:c,redirect:\"follow\"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt(\"return\",r(u));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ua=function(){var e=Object(c.a)(i.a.mark((function e(){var a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return(o=Object(c.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ea[n]){e.next=6;break}return e.next=3,ua.isApprovedForAll(t,V.o.vaultHandlerV8[n]);case 3:r=e.sent,e.next=9;break;case 6:return e.next=8,ua.isApprovedForAll(t,V.o.vaultHandler[n]);case 8:r=e.sent;case 9:P(r),jn(a),ft(a===t),Ja();case 13:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)},r=function(){return o.apply(this,arguments)},console.log(\"Contract states\"),!1,e.prev=4,!ea[n]){e.next=13;break}return ua=Ea(ea[n]),e.next=9,ua.getOwnerOfSerial(ea.serialNumber);case 9:a=e.sent,console.log(\"---------------------------\",a,A,t,V.o.vaultHandlerV8[n]),e.next=16;break;case 13:return e.next=15,ua.ownerOf(ae);case 15:a=e.sent;case 16:r(),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),a=\"0x0000000000000000000000000000000000000000\",r();case 23:case\"end\":return e.stop()}}),e,null,[[4,19]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log(\"mine?\",lt),console.log(\"claiming?\",pt),console.log(\"accepting?\",Qt),console.log(\"acceptable\",on)}));var za=function(e){return console.log(e,De.filter((function(t){return t.coin==e})).length>0),De.filter((function(t){return t.coin==e})).length>0},qa=function(){var e=Object(c.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage(\"Renew: \"+ae).then((function(e){var t=De.filter((function(e){return\"NMC\"==e.coin}))[0].address;console.log(\"signature\",e,a),fetch(V.g+\"/nmc/renew/\"+t,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({tokenId:ae,signature:e,name:a})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(\"Requested Renew\",n);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xa=function(){var e=Object(c.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ea[n]){e.next=5;break}return ua=Ea(ea[n]),e.next=4,ua.getSerial(ea.tokenId,0);case 4:a=e.sent;case 5:o.getSigner(t).signMessage(\"Claim: \"+(ea[n]?a:ae)).then((function(e){Ra(e,ae,(function(e){console.log(\"----------------------- JWT Response\",e),Wa(ae,e.token,(function(e){var t=L.a.AES.decrypt(ve,e.privateKey),n=JSON.parse(t.toString(L.a.enc.Utf8));Vt(n.values),Ct(n.phrase),De.forEach((function(e){e.key=window.phrasePathToKey(n.phrase,e.path),\"BTC\"==e.coin&&_t(e.key),\"ETH\"==e.coin&&It(e.key)})),ba()}))}))}));case 6:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ya=function(){var e=Object(c.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage(\"Address: \"+ae).then((function(e){Ba(e,ae,n,(function(e){Va()}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Za=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage(\"Embed: \"+ae).then((function(e){Ka(e,ae,(function(e){xe(e.ownedImage)}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$a=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ea[n]?sa.claim(ea[n],ea.tokenId).then((function(e){var t=e.hash;gt(!0),setTimeout((function(){et(t)}),100)})):ua.burn(ae).then((function(e){var t=e.hash;gt(!0),setTimeout((function(){et(t)}),100)}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qa=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,r,o,c,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var i=0;i<r-c;i++){var l=Math.floor(t.length*Math.random()),f=t.charAt(l);s+=f}o==a-1&&c++,o==a&&(u+=n.charAt(c-1),o=0),Jt(u+s),s=\"\"},!Wt){e.next=3;break}return e.abrupt(\"return\");case 3:Bt(!0),t=\"abcdefghijklmnopqrstuvwxyz\",5,r=(n=\"Decrypting\").length,o=0,c=0,s=\"\",u=\"\",function e(t){setTimeout((function(){--t?e(t):Bt(!1),l(t),o+=1}),5)}(r*(a=8)+1);case 14:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function er(e){return(e?e.split(\"\\n\\n\\n\\n\"):[\" \"])[0].trim()}function tr(e){Ut&&(e=Ut),Qa(),console.log(De);var t=De[0].address.replace(\"private:\",\"\");try{var n=L.a.AES.decrypt(t,e);JSON.parse(n.toString(L.a.enc.Utf8)),We(!1),zt(e),Ge(function(e){return De.forEach((function(t){if(t.address.includes(\"private\")){var n=t.address.replace(\"private:\",\"\");t.address=function(e,t){var n=L.a.AES.decrypt(e,t);return JSON.parse(n.toString(L.a.enc.Utf8))}(n,e)}})),De}(e));var a=De.filter((function(e){return\"ETH\"===e.coin}))[0].address,r=De.filter((function(e){return\"BTC\"===e.coin}))[0].address;console.log(\"SUCCESS\",De),La([],a,r,(function(e){Ae(e)}))}catch(o){console.log(\"WTF\",o)}}return Object(a.useEffect)((function(){console.log(\"----\"),Va()}),[]),Object(a.useEffect)((function(){(t&&n&&qe&&n==qe||x.noLayout&&\"true\"==x.noLayout||x.slideshowOnly&&\"true\"==x.slideshowOnly)&&Ua()})),Xn&&(ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new M.a(e||V.o.emblemVault[n],V.o.emblemAbi,o.getSigner(t).connectUnchecked())}(Xn||null)),U(r.a.Fragment,null,U(C.a,null,U(\"meta\",{name:\"twitter:card\",content:\"summary_large_image\"}),U(\"meta\",{name:\"twitter:site\",content:\"Emblem.Finance\"}),U(\"meta\",{name:\"twitter:title\",content:ue}),U(\"meta\",{name:\"twitter:description\",content:er(Se)}),U(\"meta\",{name:\"twitter:image\",content:ke}),U(\"script\",{dangerouslySetInnerHTML:{__html:\"\\n              // $(\\\".NFT\\\").tilt({    \\n              //     maxTilt: 3\\n              // });\\n              $(\\\".NFT\\\").trigger('mouseenter');\\n              $(\\\".NFT\\\").trigger('mouseclick'), '.NFT';\\n              \"}})),U(z,{isOpen:fa,onClose:pa,addrCoin:nt,addrAddr:ot}),U(q,{isOpen:ma,onClose:ha,mnemonic:xt,privKeyBTC:Nt,privKeyETH:At,privValues:Ft,addresses:De}),Q?U(X,{isOpen:Oa,onClose:Sa,tokenId:ae,mine:lt}):null,U(l.a,{height:\"40px\"}),Pt?U(_.a,null):\"\",Xt||ce?Ee.length>0&&ce?U(d.a,{className:\"NFT-content\",align:\"center\"},Ee.length&&Ee.filter((function(e){return\"nft\"==e.type})).length>0?U(B.a,{name:ue,image:Ee[0].image,items:Ee.filter((function(e){return e.image!==Ee[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):U(W.b,{className:\"d-block w-100 NFT-image\",url:ke})):Xt?U(d.a,{align:\"center\"},U(S.a,{width:\"md\",src:\"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg\"}),U(g.a,null,\"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR\",\" \",U(m.a,{color:\"#638cd8\",href:\"../create\"},\"CREATE ONE HERE!\"))):null:U(f.a,{width:\"full\",align:\"center\",justifyContent:\"center\"},U(l.a,{className:\"NFT\",maxW:\"sm\",borderWidth:\"1px\",borderColor:qe!=n?\"orange.500\":\"claimed\"==bt?\"green.500\":null,rounded:\"lg\",overflow:\"hidden\",alignItems:\"center\",minW:390},U(l.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",textTransform:\"uppercase\",alignItems:\"center\",color:\"blue.500\"},\"Vault Network: \",I.a[qe]),U(l.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",alignItems:\"center\"},ue,!Re&&Ke>0?\": ~$\"+Ke.toLocaleString():null),U(d.a,{className:\"NFT-content\",align:\"center\"},U(W.b,{className:\"d-block w-100 NFT-image\",url:ke}),lt&&Te?U(p.a,{onClick:function(){Za()}},\"(OWNED) Show Full Embed\"):null),U(d.a,{align:\"center\"},U(l.a,{mt:\"2\",ml:\"4\",lineHeight:\"tight\"},U(d.a,null,U(g.a,{fontSize:\"xs\"},qe==n?U(m.a,{href:\"./vaults?address=\"+Sn},\"Owner: \",Sn):null),U(g.a,{mt:2,as:\"h4\",ml:\"4\",mr:\"4\",fontSize:\"xs\",fontStyle:\"italic\",className:\"md\"},U(G.a,{plugins:[R.a],children:er(Se)}))))),U(l.a,{p:\"6\"},Re?U(l.a,{mb:5},U(g.a,{pb:2,color:Gt?\"green.500\":null},Gt||\"Contents hidden. Enter password to unlock.\"),U(b.a,{type:\"password\",id:\"vault-password\",onChange:function(e){return tr(e.target.value)},\"aria-describedby\":\"password-helper-text\"})):U(l.a,{d:\"flex\",backgroundColor:\"light\"==Na?\"gray.100\":\"gray.700\",alignItems:\"baseline\",className:\"coin-balance-content\"},U(l.a,{color:\"gray.500\",letterSpacing:\"wide\",fontSize:\"sm\",ml:\"2\"},U(g.a,{as:\"h4\",mt:2,fontWeight:\"semibold\"},\"Current Contents:  \",U(\"button\",{onClick:function(){Pa([],ae,(function(e){Fe(!1),Ae(e)}))}},\" [Refresh Balances]\")),U(g.a,{as:\"p\",color:\"dark\"==Na?\"lightgreen\":\"forestgreen\"},\"$\",Number(Ke.toFixed(4)).toLocaleString()),Ee.length?Ee.map((function(e){return U(d.a,null,U(K.a,{colorMode:Na,coin:e,mine:\"claimed\"===bt&&jt===t||lt,onRenew:qa,hideAsset:Ia}))})):U(_.a,null),He.length?He.map((function(e){return U(g.a,null,\"Data: \",e.attribute_key)})):He.length||Ee.length?null:U(g.a,null,\"Nothing in here! Fill 'er up!\"))),Re?null:U(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},U(h.a,{justifyContent:\"space-between\",spacing:6},U(d.a,null,U(g.a,null,\"Deposit Addresses\"),U(f.a,{w:\"340px\",justify:\"center\",flexWrap:\"wrap\"},De.map((function(e){return U(p.a,{className:\"address_nft_button\",ml:2,mt:2,\"font-weight\":\"100 !important\",key:e.address,onClick:function(){at(e.coin),it(e.address),da()}},\"ETH\"==e.coin?e.coin+\"\":\"BTC\"==e.coin?e.coin+\"/XCP/OMNI\":\"BCH\"==e.coin?e.coin+\"/SLP\":e.coin)}))),(lt||\"claimed\"===bt)&&De.length<10?U(r.a.Fragment,null,U(\"button\",{className:\"nft_button\",onClick:function(){Ta()}},\"Manage Addresses\"),U(f.a,{w:\"340px\",justify:\"center\",flexWrap:\"wrap\"},U(v.a,{isOpen:Ca},za(\"DOGE\")?null:U(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){Ya(\"DOGE\")}},\"Add DOGE\"),za(\"DGB\")?null:U(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){Ya(\"DGB\")}},\"Add Digibyte\"),za(\"NMC\")?null:U(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){Ya(\"NMC\")}},\"Add Namecoin\"),za(\"LTC\")?null:U(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){Ya(\"LTC\")}},\"Add Litecoin\"),za(\"MONA\")?null:U(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){Ya(\"MONA\")}},\"Add Mona\"),za(\"TEZOS\")?null:U(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){Ya(\"TEZOS\")}},\"Add Tezos\"),za(\"SOLANA\")?null:U(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){Ya(\"SOLANA\")}},\"Add Solana\")))):null))),\"claimed\"===bt||!Cn||1!==qe&&4!==qe&&137!==qe?null:U(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},U(d.a,{d:\"flex\",width:\"100%\"},U(p.a,{className:\"nft_button\",width:\"100%\",onClick:function(){location.href=\"https://\"+(4==qe?\"rinkeby.\":\"\")+\"opensea.io/assets/\"+(137==qe?\"matic/\":\"\")+(Xn||V.o.emblemVault[qe])+\"/\"+ae}},\"View Vault on Opensea\"),Q?U(p.a,{className:\"\",onClick:function(){wa()}},lt?\"My Offers\":\"Make an Offer\",\" (NFT\\xb2NFT)\"):null)),\"claimed\"!==bt&&lt&&!on?U(r.a.Fragment,null,U(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\",width:\"100%\"},U(d.a,{direction:\"column\",align:\"center\",width:\"100%\"},U(p.a,{className:\"nft_button\",width:\"100%\",onClick:ka},\"Transfer Vault\"),U(v.a,{isOpen:ya},U(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"2\",width:\"100%\"},U(O.a,{htmlFor:\"owner-address\"},\"Address\"),U(b.a,{mt:1,type:\"text\",id:\"transferAddress\",value:mn||\"\",onChange:function(e){console.log(\"Transfer to\",e.target.value),bn(e.target.value)},autoComplete:\"off\"})),U(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"2\",width:\"100%\"},U(p.a,{isDisabled:!Object(I.k)(mn),onClick:function(){ka(),On(!0),ua.transferFrom(t,mn,ae).then((function(e){var t=e.hash;et(t)})).catch((function(e){}))}},\"Transfer Now\")))))):null,\"claimed\"!==bt&&t&&qe===n&&lt&&!Ot?U(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},U(p.a,{width:\"100%\",onClick:function(){$a()},isDisabled:pt},pt?\"Claiming ...\":\"Claim (Crack Open Vault)\")):\"claimed\"===bt&&jt===t&&qe===n?U(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},U(p.a,{width:\"100%\",onClick:Xa},\"Get Keys\")):null,Cn||Vn!=t||qe!=n||\"claimed\"===bt||Jn?null:U(r.a.Fragment,null,\"true\"==J?U(p.a,{width:\"100%\",mt:5,onClick:Aa},\"Mint Me v1\"):ea.name?U(p.a,{width:\"100%\",mt:5,onClick:function(){o.getSigner(t).signMessage(\"Curated Minting: \"+ae).then((function(e){console.log(\"sig\",e),fetch(V.g+\"/v2/mint-curated\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"},body:JSON.stringify({tokenId:ae,signature:e,chainId:n.toString()})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._payload,n._nonce,n._signature,n.serialNumber),ia(n),sa.buyWithSignedPrice(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._payload,n._nonce,n._signature,n.serialNumber).then((function(e){var t=e.hash;setTimeout((function(){et(t),Rn(!0),Kn(!0)}),100)})).catch((function(e){Rn(!1),Kn(!1)}));case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},isDisabled:!aa},\" Mint Vault \"):U(p.a,{width:\"100%\",mt:5,onClick:function(){o.getSigner(t).signMessage(\"Delayed Minting: \"+ae).then((function(e){console.log(\"sig\",e),fetch(V.g+\"/lazyMint\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({tokenId:ae,signature:e})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(\"data\",n.data),Mn(n.data.signature),En(n.data.nonce),Dn(!0),setTimeout((function(){Aa()}),500);case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},\"Mint Vault \")),Cn&&\"claimed\"!=bt||Vn!=t||qe!=n||Jn||!(Ee.length<1)?null:U(p.a,{width:\"100%\",mt:5,onClick:function(){o.getSigner(t).signMessage(\"Delete: \"+ae).then((function(e){console.log(\"sig\",e),fetch(V.g+\"/v2/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"},body:JSON.stringify({tokenId:ae,signature:e,chainId:n.toString()})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:e.sent,location.href=location.href.split(\"/\")[0]+\"/vaults\";case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},\"Delete Vault \"),Ln?U(p.a,{isDisabled:!0,type:\"submit\"},\"Verifying Signature ...\"):null,Jn?U(p.a,{isDisabled:!0,type:\"submit\"},\"Minting Vault ...\"):null),de?U(d.a,null,U(j.a,{align:\"center\"},U(m.a,{target:\"new\",mb:2,ml:35,href:\"https://gateway.ipfs.io/ipfs/\"+de,isExternal:!0},\"View Metadata on IPFS \"),me?U(m.a,{mb:2,href:\"https://gateway.ipfs.io/ipfs/\"+me,isExternal:!0},\"View Image on IPFS \"):null)):null,Ot?U(l.a,{d:\"flex\",mb:2,ml:35,alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},U(g.a,null,\"*This vault is sealed forever.\")):null,U(d.a,{direction:\"column\",align:\"center\"},\"claimed\"==bt?U(g.a,{color:\"green.500\"},\"CLAIMED\"):null),Qe?U(w.a,{status:\"info\"},U(w.b,null),Qt?\"Accepting Your Gift Vault\":pt?\"Claiming your Vault ...\":nn?\"Handling Approval Flow ...\":vn?\"Transfering Vault ...\":Bn?\"Minting Vault\":\"Generating Gift Link ...\"):null)),Qe?U(F.a,{hash:Qe,onComplete:function(){var e;!pt||Qt||dn?dn?(localStorage.setItem(t+\"_\"+n+\"_\"+ae+\"_mintPassword\",sn),ln(!0),pn(!1),et(null)):Qt?(en(!1),Va(),et(null)):nn?(an(!1),Va(),et(null)):vn?(On(!1),Va(),et(null)):Bn?function(e,t){fetch(V.g+\"/v2/liveliness-curated\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,Tn(n.live),console.log(\"Liveliness check\",n);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t()}(ae,(function(){Kn(!1),Tn(!0)})):(console.log(\"minting\",Bn),console.log(\"claiming\",pt),console.log(\"accepting\",Qt),console.log(\"preTransfering\",dn),console.log(\"approving\",nn),console.log(\"Unknown state\")):(et(null),ht(\"claimed\"),gt(!1),yt(t),e=function(){location.href=location.origin+\"/nft?id=\"+ae},fetch(V.g+\"/web3/selfClaimLogs?chainId=\"+n.toString(),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}}).then(function(){var t=Object(c.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log(\"Log check\",a),t.abrupt(\"return\",e());case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,U(l.a,{height:\"40px\"}))}var Z=r.a.createElement;function $(){return Z(Y,null)}},RuSG:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/nft2\",function(){return n(\"EM35\")}])}},[[\"RuSG\",1,0,11,14,2,3,4,5,6,8,7,9,13,12,16,18,20,19,23]]]);","extractedComments":[]}