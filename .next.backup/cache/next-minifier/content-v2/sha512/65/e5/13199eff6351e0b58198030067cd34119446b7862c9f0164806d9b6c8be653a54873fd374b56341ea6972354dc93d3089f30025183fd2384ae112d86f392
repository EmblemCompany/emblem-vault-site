{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[53],{EM35:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return ae}));var a=n(\"q1tI\"),r=n.n(a),c=n(\"o0o1\"),o=n.n(c),i=n(\"HaE+\"),s=n(\"XZ7F\"),u=n(\"mf32\"),l=n(\"BMxC\"),d=n(\"Weur\"),f=n(\"Yn+B\"),p=n(\"eJLp\"),b=n(\"sK1y\"),m=n(\"pboS\"),h=n(\"wCB1\"),g=n(\"FpzS\"),v=n(\"IP4Q\"),w=n(\"MKZ1\"),O=n(\"LqLE\"),j=n(\"bQFp\"),S=n(\"wZsY\"),k=n(\"8Kt/\"),y=n.n(k),x=n(\"Z6YE\"),C=n(\"nOHt\"),T=n(\"Ute3\"),E=n(\"Y1ui\"),N=n.n(E),A=n(\"a6RD\"),I=n.n(A),_=n(\"8XlW\"),M=n(\"zIq6\"),F=n(\"N39q\"),V=n(\"21eR\"),H=n(\"iBPG\"),P=n(\"NFKh\"),L=n.n(P),R=n(\"IujW\"),W=n.n(R),J=n(\"wH4i\"),G=n.n(J),K=n(\"PLxQ\"),B=n(\"fksj\"),D=n(\"r9y0\"),X=n(\"diTF\"),U=n(\"PSLY\"),q=n(\"FGWJ\"),Y=n(\"XXjs\"),z=n(\"Gp8X\"),Z=r.a.createElement,$=I()((function(){return Promise.all([n.e(13),n.e(16),n.e(29)]).then(n.bind(null,\"X/Jl\"))}),{loadableGenerated:{webpack:function(){return[\"X/Jl\"]},modules:[\"./AddrModal\"]}}),Q=I()((function(){return Promise.all([n.e(13),n.e(16),n.e(30)]).then(n.bind(null,\"0bCS\"))}),{loadableGenerated:{webpack:function(){return[\"0bCS\"]},modules:[\"./KeysModal\"]}}),ee=I()((function(){return Promise.all([n.e(13),n.e(16),n.e(31)]).then(n.bind(null,\"D3uo\"))}),{loadableGenerated:{webpack:function(){return[\"D3uo\"]},modules:[\"./OfferModal\"]}});function te(){var e=Object(x.b)(),t=e.account,n=e.chainId,c=e.library,k=Object(C.useRouter)(),E=k.query,A=Object(a.useState)(!1),I=A[0],P=A[1],R=Object(a.useState)(null),J=R[0],te=R[1],ne=Object(a.useState)(null),ae=ne[0],re=ne[1],ce=Object(a.useState)(null),oe=(ce[0],ce[1]),ie=Object(a.useState)(0),se=(ie[0],ie[1]),ue=Object(a.useState)(null),le=ue[0],de=ue[1],fe=Object(a.useState)(!1),pe=fe[0],be=fe[1],me=Object(a.useState)(!1),he=me[0],ge=me[1],ve=Object(a.useState)(E.key),we=(ve[0],ve[1]),Oe=Object(a.useState)(E.offer||!1),je=Oe[0],Se=(Oe[1],Object(a.useState)(E.framed||!0)),ke=Se[0],ye=(Se[1],Object(a.useState)(E.id)),xe=ye[0],Ce=(ye[1],Object(a.useState)(E.slideshowOnly||!1)),Te=Ce[0],Ee=(Ce[1],Object(a.useState)(\"\")),Ne=Ee[0],Ae=Ee[1],Ie=Object(a.useState)(\"\"),_e=Ie[0],Me=Ie[1],Fe=Object(a.useState)(\"\"),Ve=Fe[0],He=Fe[1],Pe=Object(a.useState)(\"\"),Le=Pe[0],Re=Pe[1],We=Object(a.useState)(\"\"),Je=We[0],Ge=We[1],Ke=Object(a.useState)(\"\"),Be=Ke[0],De=Ke[1],Xe=Object(a.useState)(\"\"),Ue=Xe[0],qe=Xe[1],Ye=Object(a.useState)([]),ze=Ye[0],Ze=Ye[1],$e=Object(a.useState)(!1),Qe=$e[0],et=$e[1],tt=Object(a.useState)([]),nt=tt[0],at=tt[1],rt=Object(a.useState)([]),ct=rt[0],ot=rt[1],it=Object(a.useState)([]),st=it[0],ut=it[1],lt=Object(a.useState)(!1),dt=lt[0],ft=lt[1],pt=Object(a.useState)(0),bt=pt[0],mt=pt[1],ht=Object(a.useState)(null),gt=ht[0],vt=ht[1],wt=Object(a.useState)(null),Ot=(wt[0],wt[1]),jt=Object(a.useState)(null),St=jt[0],kt=jt[1],yt=Object(a.useState)(\"\"),xt=yt[0],Ct=yt[1],Tt=Object(a.useState)(\"\"),Et=Tt[0],Nt=Tt[1],At=Object(a.useState)({loaded:!1}),It=At[0],_t=At[1],Mt=Object(a.useState)(!1),Ft=Mt[0],Vt=Mt[1],Ht=Object(a.useState)(!1),Pt=Ht[0],Lt=Ht[1],Rt=Object(a.useState)(!1),Wt=Rt[0],Jt=Rt[1],Gt=Object(a.useState)(\"claimed\"),Kt=Gt[0],Bt=Gt[1],Dt=Object(a.useState)(!1),Xt=Dt[0],Ut=Dt[1],qt=Object(a.useState)(null),Yt=qt[0],zt=qt[1],Zt=Object(a.useState)(\"\"),$t=Zt[0],Qt=Zt[1],en=Object(a.useState)(\"\"),tn=en[0],nn=en[1],an=Object(a.useState)(\"\"),rn=an[0],cn=an[1],on=Object(a.useState)([]),sn=on[0],un=on[1],ln=Object(a.useState)(!1),dn=ln[0],fn=ln[1],pn=Object(a.useState)(\"\"),bn=pn[0],mn=pn[1],hn=Object(a.useState)(!1),gn=hn[0],vn=hn[1],wn=Object(a.useState)(\"\"),On=wn[0],jn=wn[1],Sn=Object(a.useState)(!1),kn=Sn[0],yn=Sn[1],xn=Object(a.useState)(!1),Cn=xn[0],Tn=xn[1],En=Object(a.useState)(!1),Nn=En[0],An=En[1],In=Object(a.useState)(!1),_n=In[0],Mn=(In[1],Object(a.useState)(\"\")),Fn=Mn[0],Vn=(Mn[1],Object(a.useState)(!1)),Hn=(Vn[0],Vn[1]),Pn=Object(a.useState)(!1),Ln=Pn[0],Rn=Pn[1],Wn=Object(a.useState)(!1),Jn=Wn[0],Gn=Wn[1],Kn=Object(a.useState)(null),Bn=Kn[0],Dn=Kn[1],Xn=Object(a.useState)(!1),Un=Xn[0],qn=Xn[1],Yn=Object(a.useState)(null),zn=(Yn[0],Yn[1]),Zn=Object(a.useState)(null),$n=(Zn[0],Zn[1]),Qn=Object(a.useState)(null),ea=Qn[0],ta=Qn[1],na=Object(a.useState)(!1),aa=na[0],ra=na[1],ca=Object(a.useState)(!1),oa=ca[0],ia=ca[1],sa=Object(a.useState)(!1),ua=(sa[0],sa[1]),la=Object(a.useState)(null),da=la[0],fa=la[1],pa=Object(a.useState)({name:\"\",image:\"\",metadata:\"\"}),ba=pa[0],ma=pa[1],ha=Object(a.useState)({name:\"\",chain:\"\",4:\"\",1:\"\",tokenId:{},serialNumber:{hex:\"\"}}),ga=ha[0],va=ha[1],wa=Object(a.useState)(!1),Oa=wa[0],ja=wa[1],Sa=Object(a.useState)({name:\"\",image:\"\",metadata:\"\"}),ka=(Sa[0],Sa[1]),ya=Object(a.useState)({name:\"\",chain:\"\",4:\"\",1:\"\",tokenId:{},serialNumber:{hex:\"\"}}),xa=(ya[0],ya[1]),Ca=Object(a.useState)(!1),Ta=Ca[0],Ea=Ca[1],Na=Object(a.useState)({}),Aa=Na[0],Ia=Na[1],_a=Object(a.useState)({}),Ma=(_a[0],_a[1]),Fa=Object(V.b)(F.r.vaultHandlerV8[n],F.r.vaultHandlerV8Abi,!0),Va=Object(V.b)(F.r.emblemVault[n],F.r.emblemAbi,!0),Ha=Object(V.b)(F.r.coval[n],F.r.covalAbi,!0),Pa=Object(s.a)(),La=Pa.isOpen,Ra=Pa.onOpen,Wa=Pa.onClose,Ja=Object(s.a)(),Ga=Ja.isOpen,Ka=Ja.onOpen,Ba=Ja.onClose,Da=Object(s.a)(),Xa=Da.isOpen,Ua=Da.onOpen,qa=Da.onClose,Ya=Object(s.a)(),za=Ya.isOpen,Za=Ya.onToggle,$a=Object(u.c)().colorMode,Qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=F.t.filter((function(t){return t[n]==e}));if(a.length>0)return new _.a(e,\"erc1155\"==a[0]._type?F.r.erc1155Abi:F.r.erc721Abi,c.getSigner(t).connectUnchecked())},er=function(){var e=Object(i.a)(o.a.mark((function e(t,n,a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+\"/vault/balance/\"+n,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(c=e.sent,console.log(\"response\",r,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt(\"return\",a(c.balances));case 11:return e.abrupt(\"return\",a(t));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),tr=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"getvault\"),e.next=3,fetch(F.h+\"/meta/\"+xe+\"?experimental=true\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,Ia(n),n.collectionAddress&&(ua(!0),fa(n.collectionAddress)),n.name?(console.log(\"--------------- states -\",n),nr(n),fn(!1),yn(!1)):(_t({loaded:!0}),yn(!0));case 10:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nr=function(e){e.targetAsset||e.move_targetAsset||(location.href=location.origin+\"/nft?id=\"+xe),ke&&e.image&&!e.image.includes(\"framed=\")&&!e.image.includes(\"http\")&&(e.image=e.image+\"&framed=\"+ke),e.ciphertextV2&&Re(e.ciphertextV2),Ea(e.mintLocked&&0==e.mintLockBlock),Ae(e.name),De(e.image),qe(e.ownedImage||null),Ge(e.description),mt(e.totalValue||0),e.values&&Ze(ze.concat(e.values)),e.attributes&&at(e.attributes.filter((function(e){return\"key\"===e.trait_type}))),e.attributes&&ot(e.attributes),ut(e.addresses),Me(e.ipfs||null),He(e.image_ipfs||null),e.targetContract&&e.targetContract.tokenId==xe&&P(!0),e.targetAsset&&ma(e.targetAsset),e.targetContract&&va(e.targetContract),e.move_targetAsset&&ka(e.move_targetAsset),e.move_targetContract&&xa(e.move_targetContract),e.values&&e.targetAsset&&e.values.filter((function(t){return t.coin.toLowerCase()==e.targetContract.chain&&t.name==e.targetAsset.name&&t.project==e.targetContract.name})).length>0&&ja(!0),qn(0!=e.live),zn(e.nonce),$n(e.signature),ta(e.to),Ot(e.network),vt(\"mainnet\"==e.network?1:\"rinkeby\"==e.network?4:\"goerli\"==e.network?5:\"mumbai\"==e.network?80001:\"matic\"==e.network?137:\"xdai\"==e.network?100:\"bsc\"==e.network?56:\"fantom\"==e.network?250:\"bitcoin\"==e.network?0:\"aurora\"==e.network?1313161554:97),e.live||(console.log(\"check liveliness start\"),function(e,t,a){console.log(\"check liveliness next\",t);var r=t&&t.name?F.h+\"/liveliness-curated\":F.g+\"/liveliness\";fetch(r,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,qn(n.live),console.log(\"Liveliness check\",n);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a(!1)}(xe,e.targetContract||e.move_targetContract,(function(e){qn(e)}))),Bt(e.status),\"claimed\"===Kt&&zt(e.claimedBy),_t({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes(\"private:\")})).length>0;ft(t),e.sealed?Ut(!0):Ut(!1)},ar=function(){var e=Object(i.a)(o.a.mark((function e(t,n,a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qe){e.next=2;break}return e.abrupt(\"return\",a(!1));case 2:return et(!0),e.next=5,fetch(F.g+\"/vault/balance/\"+n+\"?live=true\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 5:return r=e.sent,e.next=8,r.json();case 8:if(c=e.sent,console.log(\"response\",r,c),!(c.balances.length>0)){e.next=14;break}return e.abrupt(\"return\",a(t.concat(c.balances)));case 14:return e.abrupt(\"return\",a(t));case 15:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),rr=function(){var e=Object(i.a)(o.a.mark((function e(t,n,a,r){var c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+\"/vault/balance/\"+n+\"/\"+a,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return c=e.sent,e.next=5,c.json();case 5:if(i=e.sent,console.log(\"response\",c,i),!(i.balances.length>0)){e.next=11;break}return e.abrupt(\"return\",r(t.concat(i.balances)));case 11:return e.abrupt(\"return\",r(t));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),cr=function(){var e=localStorage.getItem(t+\"_\"+n+\"_\"+xe+\"_mintPassword\");e&&_n&&we(e)},or=function(){var e=Object(i.a)(o.a.mark((function e(t,a,r){var c,i,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append(\"chainid\",n.toString()),c.append(\"Content-Type\",\"application/json\"),i=JSON.stringify({signature:t,tokenId:a}),e.next=6,fetch(F.p+\"/sign\",{method:\"POST\",headers:c,body:i,redirect:\"follow\"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt(\"return\",r(u));case 11:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function ir(e,t,n){return sr.apply(this,arguments)}function sr(){return(sr=Object(i.a)(o.a.mark((function e(t,n,a){var r,c,i,s,u,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new U.a({network:\"mainnet\"}),c=new q.a({enableOneKey:!0,network:\"mainnet\"}),e.next=4,r.getNodeDetails({verifier:\"tor-us-signer-vercel\",verifierId:t});case 4:return i=e.sent,s=i.torusNodeEndpoints,u=i.torusIndexes,e.next=9,c.retrieveShares(s,u,\"tor-us-signer-vercel\",{verifier_id:t},n);case 9:return l=e.sent,d=l.privKey,e.abrupt(\"return\",a({privateKey:d}));case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var ur=function(){var e=Object(i.a)(o.a.mark((function e(t,a,r){var c,i,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append(\"chainId\",n.toString()),c.append(\"service\",\"evmetadata\"),c.append(\"Content-Type\",\"application/json\"),i=JSON.stringify({signature:t}),e.next=7,fetch(F.g+\"/embed/\"+a,{method:\"POST\",headers:c,body:i,redirect:\"follow\"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt(\"return\",r(u));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),lr=function(){var e=Object(i.a)(o.a.mark((function e(){var a,r,c,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(){return(u=Object(i.a)(o.a.mark((function e(){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ga[n]){e.next=7;break}return e.next=3,Va.isApprovedForAll(t,F.r.vaultHandlerV8[n]);case 3:r=e.sent,ge(r),e.next=11;break;case 7:return e.next=9,Va.isApprovedForAll(t,F.r.vaultHandler[n]);case 9:r=e.sent,ge(r);case 11:Dn(a),Vt(a===t||ea===t&&\"0x0000000000000000000000000000000000000000\"===a),Lt(ea===t&&\"0x0000000000000000000000000000000000000000\"===a),cr();case 15:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)},s=function(){return u.apply(this,arguments)},e.prev=2,!ga[n]){e.next=41;break}return r=F.t.filter((function(e){return e[n]==ga[n]})),Va=Qa(ga[n]),e.t0=te,e.next=9,Ha.decimals();case 9:return e.t1=e.sent,(0,e.t0)(e.t1),de(250*Math.pow(10,J)),e.t2=re,e.next=15,Ha.allowance(t,F.r.vaultHandlerV8[n]).then((function(e){return e.toString()}));case 15:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=oe,e.next=20,Ha.balanceOf(t).then((function(e){return e.toString()}));case 20:if(e.t5=e.sent,(0,e.t4)(e.t5),Number(ae)>=Number(le)?be(!0):be(!1),!(r.length>0)){e.next=38;break}if(\"erc1155\"!=r[0]._type){e.next=32;break}return e.next=27,Va.balanceOf(t,ga.tokenId).then((function(e){return e.toString()}));case 27:c=e.sent,a=Number(c)>0?t:\"0x0000000000000000000000000000000000000000\",Number(c)>0&&se(c),e.next=36;break;case 32:return se(1),e.next=35,Va.ownerOf(xe);case 35:a=e.sent;case 36:e.next=39;break;case 38:a=\"0x0000000000000000000000000000000000000000\";case 39:e.next=44;break;case 41:return e.next=43,Va.ownerOf(xe);case 43:a=e.sent;case 44:s(),e.next=51;break;case 47:e.prev=47,e.t6=e.catch(2),a=\"0x0000000000000000000000000000000000000000\",s();case 51:case\"end\":return e.stop()}}),e,null,[[2,47]])})));return function(){return e.apply(this,arguments)}}(),dr=function(){var e=Object(i.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.getSigner(t).signMessage(\"Renew: \"+xe).then((function(e){var t=st.filter((function(e){return\"NMC\"==e.coin}))[0].address;console.log(\"signature\",e,a),fetch(F.g+\"/nmc/renew/\"+t,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({tokenId:xe,signature:e,name:a})}).then(function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(\"Requested Renew\",n);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fr=function(){var e=Object(i.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ga[n]&&(Va=Qa(ga[n]),a=ga.serialNumber),c.getSigner(t).signMessage(\"Claim: \"+(ga[n]?a:xe)).then((function(e){_t({loaded:!1}),Pt&&\"claimed\"!=Kt&&!Ta&&Ea(!0),or(e,xe,(function(e){ir(xe,e.token,(function(e){try{var t=L.a.AES.decrypt(Le,e.privateKey),n=JSON.parse(t.toString(L.a.enc.Utf8));un(n.values),Qt(n.phrase),st.forEach(function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(\"STX\"!=t.coin){e.next=6;break}return e.next=3,pr(t,n.phrase);case 3:t.key=e.sent,e.next=7;break;case 6:t.key=window.phrasePathToKey(n.phrase,t.path);case 7:\"BTC\"==t.coin&&nn(t.key),\"ETH\"==t.coin&&cn(t.key);case 9:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(a){alert(a),setTimeout((function(){location.href=location.href}),2e3)}_t({loaded:!0}),Ka()}))}))}));case 2:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pr=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.a)({secretKey:n,password:\"\"});case 2:return a=e.sent,console.log(\"------ stacks account -\",a.accounts[0]),r=a.accounts[0],t.key=r.stxPrivateKey,e.abrupt(\"return\",t.key);case 7:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),br=function(){var e=Object(i.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.getSigner(t).signMessage(\"HideAsset: \"+xe).then((function(e){mr(xe,n.coin,n.address,n.name,e,(function(){console.log(\"Done hiding coin and getting new balances\")}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function mr(e,t,a,r,c,s){fetch(F.g+\"/hide/\"+e,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({coin:t||null,address:a||null,name:r||null,signature:c||null})}).then(function(){var t=Object(i.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log(\"-------\",a),er([],e,(function(e){return Ze(e),s()}));case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var hr=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.getSigner(t).signMessage(\"Embed: \"+xe).then((function(e){ur(e,xe,(function(e){De(e.ownedImage)}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gr=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ga[n]?Fa.claim(ga[n],ga.tokenId).then((function(e){var t=e.hash;Jt(!0),setTimeout((function(){kt(t)}),100)})):Va.burn(xe).then((function(e){var t=e.hash;Jt(!0),setTimeout((function(){kt(t)}),100)}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vr=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n,a,r,c,i,s,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var o=0;o<r-i;o++){var l=Math.floor(t.length*Math.random()),d=t.charAt(l);s+=d}c==a-1&&i++,c==a&&(u+=n.charAt(i-1),c=0),mn(u+s),s=\"\"},!gn){e.next=3;break}return e.abrupt(\"return\");case 3:vn(!0),t=\"abcdefghijklmnopqrstuvwxyz\",5,r=(n=\"Decrypting\").length,c=0,i=0,s=\"\",u=\"\",function e(t){setTimeout((function(){--t?e(t):vn(!1),l(t),c+=1}),5)}(r*(a=8)+1);case 14:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function wr(e){return(e?e.split(\"\\n\\n\\n\\n\"):[\" \"])[0].trim()}function Or(e){On&&(e=On),vr(),console.log(st);var t=st[0].address.replace(\"private:\",\"\");try{var n=L.a.AES.decrypt(t,e);JSON.parse(n.toString(L.a.enc.Utf8)),ft(!1),jn(e),ut(function(e){return st.forEach((function(t){if(t.address.includes(\"private\")){var n=t.address.replace(\"private:\",\"\");t.address=function(e,t){var n=L.a.AES.decrypt(e,t);return JSON.parse(n.toString(L.a.enc.Utf8))}(n,e)}})),st}(e));var a=st.filter((function(e){return\"ETH\"===e.coin}))[0].address,r=st.filter((function(e){return\"BTC\"===e.coin}))[0].address;console.log(\"SUCCESS\",st),rr([],a,r,(function(e){Ze(e)}))}catch(c){console.log(\"WTF\",c)}}return Object(a.useEffect)((function(){tr()}),[]),Object(a.useEffect)((function(){(t&&n&&gt&&n==gt||E.noLayout&&\"true\"==E.noLayout||E.slideshowOnly&&\"true\"==E.slideshowOnly)&&lr()})),da&&(Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new _.a(e||F.r.emblemVault[n],F.r.emblemAbi,c.getSigner(t).connectUnchecked())}(da||null)),Z(r.a.Fragment,null,Z(y.a,null,Z(\"meta\",{name:\"twitter:card\",content:\"summary_large_image\"}),Z(\"meta\",{name:\"twitter:site\",content:\"Emblem.Finance\"}),Z(\"meta\",{name:\"twitter:title\",content:Ne}),Z(\"meta\",{name:\"twitter:description\",content:wr(Je)}),Z(\"meta\",{name:\"twitter:image\",content:Be}),Z(\"script\",{dangerouslySetInnerHTML:{__html:'\\n              // $(\".NFT\").tilt({    \\n              //     maxTilt: 3\\n              // });\\n              $(\".NFT\").trigger(\\'mouseenter\\');\\n              $(\".NFT\").trigger(\\'mouseclick\\'), \\'.NFT\\';\\n              if (localStorage.getItem(\"darkMode\") == \\'false\\') {\\n                localStorage.setItem(\"darkMode\",\"true\"); location.href = location.href\\n              }\\n              '}})),Z($,{isOpen:La,onClose:Wa,addrCoin:xt,addrAddr:Et}),Z(Q,{isOpen:Ga,onClose:Ba,mnemonic:$t,privKeyBTC:tn,privKeyETH:rn,privValues:sn,addresses:st}),je?Z(ee,{isOpen:Xa,onClose:qa,tokenId:xe,mine:Ft}):null,Z(N.a,{loaded:It.loaded},Z(l.a,{height:\"40px\"}),dn?Z(T.a,null):\"\",kn||Te?kn?Z(f.a,{align:\"center\"},Z(j.a,{width:\"md\",src:\"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg\"}),Z(b.a,null,\"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR\",\" \",Z(m.a,{color:\"#638cd8\",href:\"../create\"},\"CREATE ONE HERE!\"))):null:Z(d.a,{width:\"full\",align:\"center\",justifyContent:\"center\"},Z(l.a,{className:\"NFT\",maxW:\"sm\",borderWidth:\"1px\",borderColor:gt!=n?\"orange.500\":\"claimed\"==Kt?\"green.500\":null,rounded:\"lg\",overflow:\"hidden\",alignItems:\"center\",minW:390},Z(l.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",textTransform:\"uppercase\",alignItems:\"center\",color:\"blue.500\"},\"Vault Network: \",H.a[gt]),Z(l.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",alignItems:\"center\"},Ne,!dt&&bt>0?\": ~$\"+bt.toLocaleString():null),Z(f.a,{className:\"NFT-content\",align:\"center\"},Z(K.b,{className:\"d-block w-100 NFT-image\",url:Be}),Ft&&Ue?Z(p.a,{onClick:function(){hr()}},\"(OWNED) Show Full Embed\"):null),Z(f.a,{align:\"center\"},Z(l.a,{mt:\"2\",ml:\"4\",lineHeight:\"tight\"},Z(f.a,null,Ft&&gt==n?Z(b.a,{fontSize:\"xs\"},Z(m.a,{href:\"./vaults?address=\"+Bn},\"Owner: \",Bn)):null,Z(b.a,{mt:2,as:\"h4\",ml:\"4\",mr:\"4\",fontSize:\"xs\",fontStyle:\"italic\",className:\"md\"},Z(W.a,{plugins:[G.a],children:wr(Je)}))))),Z(l.a,{p:\"6\"},I?null:Z(h.f,{isFitted:!0,variant:\"enclosed\"},Z(h.c,{mb:\"1em\"},Z(h.a,null,\"Balances\"),Z(h.a,null,\"Attributes\")),Z(h.e,null,Z(h.d,null,dt?Z(l.a,{mb:5},Z(b.a,{pb:2,color:bn?\"green.500\":null},bn||\"Contents hidden. Enter password to unlock.\"),Z(g.a,{type:\"password\",id:\"vault-password\",onChange:function(e){return Or(e.target.value)},\"aria-describedby\":\"password-helper-text\"})):Z(l.a,{d:\"flex\",backgroundColor:\"light\"==$a?\"gray.100\":\"gray.700\",alignItems:\"baseline\",className:\"coin-balance-content\"},Z(l.a,{color:\"gray.500\",letterSpacing:\"wide\",fontSize:\"sm\",ml:\"2\"},Z(b.a,{as:\"h4\",mt:2,fontWeight:\"semibold\"},\"Current Contents:  \",Z(\"button\",{onClick:function(){ar([],xe,(function(e){et(!1),Ze(e)}))}},\" [Refresh Balances]\")),Z(b.a,{as:\"p\",color:\"dark\"==$a?\"lightgreen\":\"forestgreen\"},\"$\",Number(bt.toFixed(4)).toLocaleString()),ze.length?ze.map((function(e){return Z(f.a,null,Z(B.a,{colorMode:$a,coin:e,mine:\"claimed\"===Kt&&Yt===t||Ft,onRenew:dr,hideAsset:!ba.name&&br}))})):Z(T.a,null),nt.length?nt.map((function(e){return Z(b.a,null,\"Data: \",e.attribute_key)})):nt.length||ze.length?null:Z(b.a,null,\"Nothing in here! Fill 'er up!\")))),Z(h.d,null,Z(D.a,{colorMode:$a,attributes:ct})))),I||dt?null:Z(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},Z(v.a,{justifyContent:\"space-between\",spacing:6},Z(f.a,null,Z(b.a,null,\"Deposit Addresses\"),Z(d.a,{w:\"340px\",justify:\"center\",flexWrap:\"wrap\"},st.map((function(e){return Z(p.a,{className:\"address_nft_button\",ml:2,mt:2,\"font-weight\":\"100 !important\",key:e.address,onClick:function(){Ct(e.coin),Nt(e.address),Ra()}},\"ETH\"==e.coin?e.coin+\"\":\"BTC\"==e.coin?e.coin+\"/XCP/OMNI\":\"BCH\"==e.coin?e.coin+\"/SLP\":e.coin)})))))),\"claimed\"===Kt||!Un||1!==gt&&137!==gt?null:Z(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},Z(p.a,{className:\"nft_button\",width:Ft&&1==gt?\"33%\":137==gt?\"100%\":\"50%\",m:2.5,mb:5,onClick:function(){window.open(\"https://\"+(4==gt?\"rinkeby.\":5==gt?\"testnets.\":\"\")+\"opensea.io/assets/\"+(137==gt?\"matic/\":5==gt?\"goerli/\":\"ethereum/\")+(da||(ga[n]?ga[n]:F.r.emblemVault[gt]))+\"/\"+(ga?ga.tokenId:xe),\"_blank\")}},\"Opensea\"),1==gt?Z(p.a,{className:\"nft_button\",width:\"50%\",m:5,onClick:function(){window.open(\"https://\"+(4==gt?\"rinkeby.\":5==gt?\"goerli.\":\"\")+\"looksrare.org/collections/\"+(137==gt?\"matic/\":\"\")+(da||(ga?ga[n]:F.r.emblemVault[gt]))+\"/\"+(ga?ga.tokenId:xe),\"_blank\")}},\"LooksRare\"):null,Ft&&1==gt?Z(p.a,{className:\"nft_button\",width:\"33%\",m:2.5,mb:5,onClick:function(){window.open(\"https://app.arcade.xyz/terms/asset/\".concat(ga[gt]?ga[gt]:F.r.emblemVault[gt],\"/\").concat(xe),\"_blank\")}},\"Arcade\"):null,je?Z(p.a,{className:\"\",onClick:function(){Ua()}},Ft?\"My Offers\":\"Make an Offer\",\" (NFT\\xb2NFT)\"):null),Ft?Z(z.a,{handler:{address:ga[n]?F.r.vaultHandlerV8[n]:F.r.vaultHandler[n],abi:ga[n]?F.r.vaultHandlerV8Abi:F.r.vaultHandlerAbi},spending:{address:ga[n]?ga[n]:F.r.emblemVault[n],abi:ga[n]?F.r.erc1155Abi:F.r.emblemAbi},amount:0,label:\"Approve Creating / Burning Vaults\",watcher:kt}):null,Un||Nn||!pe||!Ft||gt!=n||\"claimed\"===Kt||aa?null:Z(r.a.Fragment,null,ga.name?Z(p.a,{width:\"100%\",mt:5,onClick:function(){_t({loaded:!1}),c.getSigner(t).signMessage(\"Curated Minting: \"+xe).then((function(e){console.log(\"sig\",e),fetch(F.g+\"/v2/mint-curated\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"},body:JSON.stringify({tokenId:xe,signature:e,chainId:n.toString()})}).then(function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,Ma(n),Fa.buyWithSignedPrice(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1).then((function(e){var t=e.hash;setTimeout((function(){kt(t),_t({loaded:!0}),ra(!0),ia(!0)}),100)})).catch((function(e){console.log(\"ERROR\",e),ra(!1),ia(!1),_t({loaded:!0})}));case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log(\"ERROR\",e),ra(!1),ia(!1),_t({loaded:!0})}))},isDisabled:!Oa||Ta},Ta?\"Mint Locked - keys accessed before mint\":Oa?\" Mint Vault\":\"Please load vault to mint\",\" \"):null),Un&&\"claimed\"!==Kt&&t&&gt===n&&Ft&&!Xt&&he?Z(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},Z(p.a,{width:\"100%\",onClick:function(){gr()},isDisabled:Wt},Wt?\"Claiming ...\":\"Unlock Vault (Get Private Keys)\")):gt!==n||\"claimed\"!=Kt&&!Ta||Yt!==t&&!Ft?null:Z(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},Z(p.a,{width:\"100%\",onClick:fr},\"Get Keys\")),!I||Ft?Z(f.a,{mt:5},Z(r.a.Fragment,null,Z(\"button\",{className:\"nft_button\",onClick:function(){Za()}},\"Advanced Operations\"),Z(d.a,{w:\"100%\",justify:\"center\",flexWrap:\"wrap\"},Z(w.a,{width:\"100%\",isOpen:za},gt===n&&Pt&&\"claimed\"!=Kt&&!Ta?Z(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},Z(p.a,{width:\"100%\",onClick:fr},\"Get Keys (Unlocking will prevent minting)\")):null,Ft||Yt==t?Z(Y.a,{data:Aa,filename:\"EmblemVault-\".concat(xe,\".json\")}):null,Un&&\"claimed\"!=Kt||ea!=t||gt!=n||aa||!(ze.length<1)?null:Z(p.a,{width:\"100%\",mt:5,onClick:function(){c.getSigner(t).signMessage(\"Delete: \"+xe).then((function(e){console.log(\"sig\",e),fetch(F.g+\"/v2/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"},body:JSON.stringify({tokenId:xe,signature:e,chainId:n.toString()})}).then(Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:location.href=location.href.split(\"/\")[0]+\"/vaults\";case 1:case\"end\":return e.stop()}}),e)}))))}))}},\"Delete Vault \"))))):null),_e?Z(S.a,{align:\"center\"},Z(m.a,{target:\"new\",mb:2,ml:35,href:\"https://gateway.ipfs.io/ipfs/\"+_e,isExternal:!0},\"View Metadata on IPFS \"),Ve?Z(m.a,{mb:2,href:\"https://gateway.ipfs.io/ipfs/\"+Ve,isExternal:!0},\"View Image on IPFS \"):null):null,Xt?Z(l.a,{d:\"flex\",mb:2,ml:35,alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},Z(b.a,null,\"*This vault is sealed forever.\")):null,Z(f.a,{direction:\"column\",align:\"center\"},\"claimed\"==Kt?Z(b.a,{color:\"green.500\"},\"CLAIMED\"):null),St?Z(O.a,{status:\"info\"},Z(O.b,null),Cn?\"Accepting Your Gift Vault\":Wt?\"Claiming your Vault ...\":Nn?\"Handling Approval Flow ...\":Jn?\"Transfering Vault ...\":oa?\"Minting Vault\":\"Waiting for Transaction ...\"):null)),St?Z(M.a,{hash:St,onComplete:function(){!Wt||Cn||Ln?Ln?(localStorage.setItem(t+\"_\"+n+\"_\"+xe+\"_mintPassword\",Fn),Hn(!0),Rn(!1),kt(null)):Cn?(Tn(!1),tr(),kt(null)):Nn?(An(!1),tr(),kt(null)):Jn?(Gn(!1),tr(),kt(null)):oa||aa?(ia(!1),kt(null),ra(!1),location.href=location.origin+\"/nft2?id=\"+xe):location.href=location.origin+\"/nft2?id=\"+xe:(kt(null),Bt(\"claimed\"),Jt(!1),zt(t),location.href=location.origin+\"/nft?id=\"+xe)}}):null,Z(l.a,{height:\"40px\"})))}var ne=r.a.createElement;function ae(){return ne(te,null)}},Gp8X:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var a=n(\"q1tI\"),r=n.n(a),c=n(\"Weur\"),o=n(\"eJLp\"),i=n(\"8XlW\"),s=n(\"Z6YE\"),u=r.a.createElement,l=function(e,t,n,a){return new i.a(e,t,n.getSigner(a).connectUnchecked())};function d(e){var t=Object(s.b)(),n=t.account,r=t.library,i=Object(a.useState)(!1),d=i[0],f=i[1],p=Object(a.useState)(null),b=p[0],m=p[1],h=Object(a.useState)(null),g=h[0],v=h[1],w=Object(a.useState)(null),O=w[0],j=w[1];return Object(a.useEffect)((function(){!O&&e.handler&&function(e){var t=l(e.address,e.abi,r,n);j(t)}(e.handler)})),Object(a.useEffect)((function(){!g&&e.spending&&function(e){var t=l(e.address,e.abi,r,n);v(t)}(e.spending)})),Object(a.useEffect)((function(){var t,a;g&&(t=e.handler,e.spending,(a=e.amount)>0?g.decimals().then((function(e){m(e),g.allowance(n,t.address).then((function(t){f(t>=a*Math.pow(10,e))}))})):g.isApprovedForAll(n,t.address).then((function(e){f(e)})))})),n&&!d?u(c.a,{w:\"100%\",flexWrap:\"wrap\",mt:3},u(o.a,{onClick:function(){return e.amount>0?void g.approve(e.handler.address,1e6*Math.pow(10,b)).then((function(t){e.watcher(t.hash,(function(e){1===e.status&&f(!0)}))})):void g.setApprovalForAll(e.handler.address,!0).then((function(t){e.watcher(t.hash,(function(e){1===e.status&&f(!0)}))}))},backgroundColor:\"#02b402\",color:\"black !important\",fontWeight:\"bold !important\",width:\"100%\"},e.label)):null}},RuSG:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/nft2\",function(){return n(\"EM35\")}])},XXjs:function(e,t,n){\"use strict\";var a=n(\"BMxC\"),r=n(\"eJLp\"),c=n(\"q1tI\"),o=n.n(c),i=o.a.createElement;t.a=function(e){var t=e.data,n=e.filename;return i(o.a.Fragment,null,i(a.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},i(r.a,{id:\"downloadLink\",width:\"100%\",onClick:function(e){e.preventDefault();var a=JSON.stringify(t,null,2),r=new Blob([a],{type:\"application/json\"}),c=URL.createObjectURL(r),o=document.createElement(\"a\");o.href=c,o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o)}},\"Backup Vault\")))}}},[[\"RuSG\",1,0,11,15,22,2,4,3,5,6,7,8,9,10,12,14,17,18,19,20,21,24]]]);","extractedComments":[]}