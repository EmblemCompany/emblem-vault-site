{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[49,54,55],{ATmR:function(e,n,t){\"use strict\";var r=t(\"q1tI\"),a=t(\"i8i4\"),o=t(\"D7Da\");var c=Object(r.forwardRef)((function(e,n){var t=e.children,c=e.container,u=e.isDisabled,i=void 0!==u&&u,s=e.onRendered,l=Object(r.useState)(null),f=l[0],p=l[1],d=Object(o.g)(t.ref,n);return Object(o.f)((function(){i||p(function(e){return e=\"function\"===typeof e?e():e,Object(a.findDOMNode)(e)}(c)||document.body)}),[c,i]),Object(o.f)((function(){if(f&&!i)return Object(o.e)(n,f),function(){Object(o.e)(n,null)}}),[n,f,i]),Object(o.f)((function(){s&&(f||i)&&s()}),[s,f,i]),i?(r.Children.only(t),Object(r.cloneElement)(t,{ref:d})):f?Object(a.createPortal)(t,f):f}));c.displayName=\"Portal\",n.a=c},CoEt:function(e,n,t){\"use strict\";var r=t(\"8OQS\"),a=t.n(r),o=t(\"pVnL\"),c=t.n(o),u=t(\"qKvR\"),i=t(\"q1tI\"),s=t(\"FpzS\"),l=t(\"mf32\"),f=t(\"BMxC\"),p=[\"m\",\"mt\",\"mr\",\"mb\",\"ml\",\"mx\",\"my\",\"margin\",\"marginTop\",\"marginBottom\",\"marginLeft\",\"marginRight\",\"marginY\",\"marginX\",\"flex\",\"flexBasis\",\"width\",\"minWidth\",\"maxWidth\",\"maxW\",\"minW\",\"w\",\"zIndex\",\"top\",\"right\",\"bottom\",\"left\",\"position\",\"pos\"],d=function(e){var n={},t={};for(var r in e)p.includes(r)?n[r]=e[r]:t[r]=e[r];return[n,t]},m=t(\"w0db\"),b=function(e){var n=e.icon,t=a()(e,[\"icon\"]);return\"string\"===typeof n?Object(u.d)(m.a,c()({focusable:\"false\",name:n,color:\"currentColor\"},t)):Object(u.d)(f.a,c()({as:n,\"data-custom-icon\":!0,focusable:\"false\",color:\"currentColor\"},t))},h=Object(i.forwardRef)((function(e,n){return Object(u.d)(f.a,c()({ref:n,position:\"absolute\",display:\"inline-flex\",width:\"1.5rem\",height:\"100%\",alignItems:\"center\",justifyContent:\"center\",right:\"0.5rem\",top:\"50%\",pointerEvents:\"none\",zIndex:2,transform:\"translateY(-50%)\"},e))})),v=Object(i.forwardRef)((function(e,n){var t=e.placeholder,r=e.children,o=a()(e,[\"placeholder\",\"children\"]);return Object(u.d)(s.a,c()({as:\"select\",appearance:\"none\",ref:n,pr:\"2rem\",pb:\"px\",lineHeight:\"normal\"},o),t&&Object(u.d)(\"option\",{value:\"\"},t),r)})),O=Object(i.forwardRef)((function(e,n){var t=e.rootProps,r=e.icon,o=e.iconSize,i=void 0===o?5:o,s=e.iconColor,p=a()(e,[\"rootProps\",\"icon\",\"iconSize\",\"iconColor\"]),m=\"dark\"===Object(l.c)().colorMode?\"whiteAlpha.800\":\"inherit\",O=p.isReadOnly||p.isDisabled?.5:null,w=d(p),j=w[0],k=w[1];return Object(u.d)(f.a,c()({position:\"relative\",width:\"100%\"},j,t),Object(u.d)(v,c()({ref:n,color:m},k)),Object(u.d)(h,{opacity:O,color:s||k.color||m},Object(u.d)(b,{focusable:\"false\",\"aria-hidden\":\"true\",icon:r||\"chevron-down\",size:i})))}));O.displayName=\"Select\";n.a=O},D3uo:function(e,n,t){\"use strict\";t.r(n),t.d(n,\"EMBLEM_API\",(function(){return g})),t.d(n,\"default\",(function(){return y}));var r=t(\"o0o1\"),a=t.n(r),o=t(\"HaE+\"),c=t(\"q1tI\"),u=t.n(c),i=t(\"mf32\"),s=t(\"IDkF\"),l=t(\"sK1y\"),f=t(\"Yn+B\"),p=t(\"CoEt\"),d=t(\"FpzS\"),m=t(\"eJLp\"),b=(t(\"+QRC\"),t(\"N39q\")),h=t(\"Z6YE\"),v=t(\"iBPG\"),O=t(\"8XlW\"),w=t(\"wZsY\"),j=t(\"zIq6\"),k=t(\"sd7e\"),x=u.a.createElement,g=\"https://api.emblemvault.io\";function y(e){var n=e.isOpen,t=e.onClose,r=e.tokenId,y=e.mine,C=Object(i.c)().colorMode,S=Object(h.b)(),T=S.account,E=S.chainId,I=S.library,M=Object(c.useState)(!1),A=M[0],R=M[1],N=Object(c.useState)(!1),P=N[0],_=N[1],z=Object(c.useState)(!1),B=z[0],D=z[1],F=Object(c.useState)({address:\"\",balance:0,tokenType:\"\",name:\"\"}),V=F[0],W=F[1],L=Object(c.useState)([]),q=L[0],Y=L[1],X=Object(c.useState)(0),G=X[0],J=X[1],U=Object(c.useState)(\"\"),H=U[0],K=U[1],Q=Object(c.useState)(0),Z=Q[0],$=Q[1],ee=Object(c.useState)(0),ne=ee[0],te=ee[1],re=Object(c.useState)(!1),ae=re[0],oe=re[1],ce=Object(c.useState)(0),ue=ce[0],ie=ce[1],se=Object(c.useState)(0),le=se[0],fe=se[1],pe=Object(c.useState)([]),de=pe[0],me=pe[1],be=Object(c.useState)([]),he=be[0],ve=be[1],Oe=Object(c.useState)(null),we=Oe[0],je=Oe[1],ke=Object(c.useState)([]),xe=ke[0],ge=ke[1],ye=function(e){return console.log(\"contract\",e),Te(e,b.p.covalAbi,!0)},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Te(e||b.p.emblemVault[E],b.p.emblemAbi,!0)},Se=function(){return Te(b.p.nftrade[E],b.p.nftradeAbi,!0)},Te=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new O.a(e,n,t?I.getSigner(T).connectUnchecked():I)};Object(c.useEffect)((function(){T&&H!=T&&(K(T),D(!1))}),[T,H]),Object(c.useEffect)((function(){if(A){var e=setTimeout((function(){R(!1)}),750);return function(){clearTimeout(e)}}}),[A]),Object(c.useEffect)((function(){B||P||(_(!0),De(T,function(){var e=Object(o.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y(n),Be(),_(!1),D(!0);case 4:case\"end\":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()))}));var Ee=function(){var e=Object(o.a)(a.a.mark((function e(n){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ye(n),console.log(\"decimals\",Z),e.next=4,t.approve(b.p.nftrade[E],G*Math.pow(10,+Z)).then((function(e){var n=e.hash;je(n)}));case 4:case\"end\":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(o.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ce(),e.next=3,n.setApprovalForAll(b.p.nftrade[E],!0).then((function(e){var n=e.hash;je(n)}));case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=Object(o.a)(a.a.mark((function e(){var n,t,r,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:null,t=Ce(n),e.next=4,t.isApprovedForAll(T,b.p.nftrade[E]);case 4:r=e.sent,console.log(\"---approved\",r),oe(r);case 7:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(o.a)(a.a.mark((function e(n){var t,r,c,u,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){return(i=Object(o.a)(a.a.mark((function e(n,o){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.tokenOfOwnerByIndex(T,n);case 2:if(i=e.sent,c.push(i.toNumber()),!(n+1>=r)){e.next=8;break}return e.abrupt(\"return\",o());case 8:return e.abrupt(\"return\",u(n+1,o));case 9:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)},u=function(e,n){return i.apply(this,arguments)},t=Ce(n),e.next=5,t.balanceOf(T);case 5:r=e.sent,console.log(\"--------------- NFT Info\",T,\"owns\",r.toNumber()),c=[],u(0,(function(){console.log(\"GOT ALL NFTs\",c),ge(c)}));case 9:case\"end\":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Re=function(){var e=Object(o.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Se(),e.next=3,n.addOffer(V.address,le,b.p.emblemVault[E],r,ue*Math.pow(10,+Z)).then((function(e){var n=e.hash;je(n)}));case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(o.a)(a.a.mark((function e(n){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Se(),e.next=3,t.withdrawOffer(b.p.emblemVault[E],r,n).then((function(e){var n=e.hash;je(n)}));case 3:case\"end\":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(o.a)(a.a.mark((function e(n){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Se(),e.next=3,t.rejectOffer(b.p.emblemVault[E],r,n).then((function(e){var n=e.hash;je(n)}));case 3:case\"end\":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),_e=function(){var e=Object(o.a)(a.a.mark((function e(n){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Se(),e.next=3,t.acceptOffer(b.p.emblemVault[E],r,n).then((function(e){var n=e.hash;je(n)}));case 3:case\"end\":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ze=function(){var e=Object(o.a)(a.a.mark((function e(n){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ye(n),e.next=3,t.decimals();case 3:return r=e.sent,$(r),e.t0=te,e.next=8,t.allowance(T,b.p.nftrade[E]).then((function(e){return(e*Math.pow(10,-r)).toString()}));case 8:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=J,e.next=13,t.balanceOf(T).then((function(e){return(e*Math.pow(10,-r)).toString()}));case 13:e.t3=e.sent,(0,e.t2)(e.t3);case 15:case\"end\":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Be=function(){var e=Object(o.a)(a.a.mark((function e(){var n,t,c,u,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(){return(s=Object(o.a)(a.a.mark((function e(o,s){var l,f,p,d,m,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getOffer(b.p.emblemVault[E],r,o);case 2:if(l=e.sent,console.log(\"-------\",l),\"0x0000000000000000000000000000000000000000\"===l.token){e.next=29;break}if(f={tokenId:l.tokenId.toNumber(),_from:l._from,token:l.token,amount:l.amount},p=ye(f.token),l.tokenId){e.next=23;break}return e.next=10,p.name();case 10:return d=e.sent,e.next=13,p.decimals();case 13:return m=e.sent,e.next=16,p.symbol();case 16:h=e.sent,f.symbol=h,f.name=d,f.decimals=m,f.amount=f.amount.toNumber()*Math.pow(10,-m),e.next=25;break;case 23:f.amount=l.amount.toNumber(),f.tokenId=l.tokenId.toNumber();case 25:f.index=o,f.address=f.token,c.push(f),f._from==T&&u.push(f);case 29:if(!(o+1>=t)){e.next=33;break}return e.abrupt(\"return\",s());case 33:return e.abrupt(\"return\",i(o+1,s));case 34:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)},i=function(e,n){return s.apply(this,arguments)},n=Se(),e.next=5,n.getOfferCount(b.p.emblemVault[E],r);case 5:t=e.sent.toNumber(),y&&Me(),c=[],u=[],t>0&&i(0,(function(){me(c),ve(u)})),console.log(t);case 11:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(o.a)(a.a.mark((function e(n,t){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(g+\"/\"+v.d[E]+\"/balance/\"+n,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return r=e.sent,e.next=5,r.json();case 5:return o=e.sent,e.abrupt(\"return\",t(o.values));case 7:case\"end\":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return x(s.a,{isOpen:n,onClose:t,isCentered:!0},x(s.g,null),x(s.d,{color:b.d[C]},x(s.f,null,x(l.a,null,y?null:\"Make\",\" Offer\",y?\"s\":null,\" for: \",r)),x(s.c,null),x(s.b,null,y?null:x(f.a,{direction:\"column\"},x(f.a,{mt:\"6\"},x(l.a,null,\"Choose your Offer Token\"),x(p.a,{w:\"100%\",value:V.address,onChange:function(e){if(\"0\"!==e.target.value){var n=q.filter((function(n){return n.address==e.target.value}))[0];W(n),\"ERC-20\"==n.tokenType?ze(n.address):Ae(n.address),console.log(q.filter((function(n){return n.address==e.target.value}))[0]),console.log(e.target.value)}}},x(\"option\",{value:\"0\"},\"Choose a Token\"),q.map((function(e,n){if(\"native\"!==e.tokenType)return x(\"option\",{value:e.address},e.name)}))),V.balance>0&&\"ERC-20\"==V.tokenType&&ne>0?x(u.a.Fragment,null,x(l.a,null,\"Max: \",G),x(d.a,{onChange:function(e){return ie(e.target.value)}})):null),x(f.a,{direction:\"row\",justify:\"center\"},\"ERC-20\"==V.tokenType?G>0&&0==ne?x(m.a,{onClick:function(){Ee(V.address)}},\"Approve offer of \",V.name):V&&0==G?x(l.a,null,\"Insufficient Balance\"):x(m.a,{onClick:function(){Re()}},\"Make Offer\"):xe.length>0?x(p.a,{width:\"100%\",onChange:function(e){\"0\"!==e.target.value&&(console.log(\"Picked TokenID: \",e.target.value,V),fe(Number(e.target.value)),Me(V.address))}},x(\"option\",{value:\"0\"},\"Select TokenId\"),xe.map((function(e,n){return x(\"option\",{value:e},e)}))):null,V.name&&\"ERC-20\"!=V.tokenType&&!ae&&0!=le?x(m.a,{onClick:function(){Ee(V.address)}},\"Approve offer of \",V.name):V.name&&\"ERC-20\"!=V.tokenType&&ae?x(m.a,{onClick:function(){Re()}},\"Make Offer\"):null),x(f.a,null,x(l.a,null,\"My Offers\"),he.map((function(e,n){return x(w.a,null,x(l.a,null,e.name,\" \",e.amount),x(m.a,{onClick:function(){Ne(e.index)}},\"Withdraw Offer\"))})))),y?x(f.a,{direction:\"column\"},ae?null:x(m.a,{onClick:function(){Ie()}},\"Allow accepting of Offers\"),x(l.a,null,\"Offers\"),de.map((function(e,n){return x(w.a,null,x(l.a,{onClick:function(){Object(k.addTokenToWallet)(e)}},e.name,\" \",e.amount),x(m.a,{onClick:function(){Pe(e.index)}},\"Reject Offer\"),ae?x(m.a,{onClick:function(){_e(e.index)}},\"Accept Offer\"):null)}))):null,we?x(j.a,{hash:we,onComplete:function(){je(null),D(!1)}}):null),x(s.e,null)))}},sd7e:function(e,n,t){var r=t(\"o0o1\"),a=t(\"yXPU\"),o=function(e){console.log(e),web3.currentProvider.sendAsync({method:\"wallet_watchAsset\",params:{type:\"ERC20\",options:{address:e.address,symbol:e.symbol,decimals:e.decimals,image:e.image||\"https://raw.githubusercontent.com/trustwallet/tokens/master/tokens/\"+e.address+\".png\"}},id:Math.round(1e5*Math.random())},(function(e,n){}))};function c(e){return new Promise((function(n){return setTimeout(n,e)}))}e.exports={addTokenToWallet:o,addMany:function(){var e=a(r.mark((function e(n){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.reverse().pop(),t=n.pop(),o(t),e.next=5,c(1);case 5:return alert(\"Loading all tokens into wallet..\"),e.next=8,c(1);case 8:n.reverse().forEach((function(e){return o(e)}));case 9:case\"end\":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}},yXPU:function(e,n){function t(e,n,t,r,a,o,c){try{var u=e[o](c),i=u.value}catch(s){return void t(s)}u.done?n(i):Promise.resolve(i).then(r,a)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var c=e.apply(n,r);function u(e){t(c,a,o,u,i,\"next\",e)}function i(e){t(c,a,o,u,i,\"throw\",e)}u(void 0)}))}}}}]);","extractedComments":[]}