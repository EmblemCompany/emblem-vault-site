{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[52],{EM35:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return te}));var a=n(\"q1tI\"),r=n.n(a),o=n(\"o0o1\"),c=n.n(o),i=n(\"HaE+\"),s=n(\"XZ7F\"),u=n(\"mf32\"),l=n(\"BMxC\"),f=n(\"Weur\"),d=n(\"Yn+B\"),p=n(\"eJLp\"),m=n(\"sK1y\"),g=n(\"pboS\"),b=n(\"wCB1\"),h=n(\"FpzS\"),v=n(\"IP4Q\"),w=n(\"MKZ1\"),O=n(\"jgTY\"),j=n(\"LqLE\"),S=n(\"bQFp\"),y=n(\"wZsY\"),k=n(\"8Kt/\"),x=n.n(k),C=n(\"Z6YE\"),T=n(\"nOHt\"),N=n(\"Ute3\"),_=n(\"a6RD\"),A=n.n(_),E=n(\"iBPG\"),I=n(\"8XlW\"),M=n(\"zIq6\"),F=n(\"N39q\"),H=n(\"21eR\"),V=n(\"NFKh\"),P=n.n(V),L=n(\"IujW\"),D=n.n(L),G=n(\"wH4i\"),J=n.n(G),K=n(\"PLxQ\"),R=n(\"zNBI\"),W=n(\"fksj\"),B=(n(\"Q/0U\"),n(\"r9y0\")),U=n(\"diTF\"),z=n(\"PSLY\"),q=n(\"FGWJ\"),X=r.a.createElement,Y=A()((function(){return Promise.all([n.e(16),n.e(18),n.e(30)]).then(n.bind(null,\"X/Jl\"))}),{loadableGenerated:{webpack:function(){return[\"X/Jl\"]},modules:[\"./AddrModal\"]}}),Z=A()((function(){return Promise.all([n.e(16),n.e(18),n.e(31)]).then(n.bind(null,\"0bCS\"))}),{loadableGenerated:{webpack:function(){return[\"0bCS\"]},modules:[\"./KeysModal\"]}}),$=A()((function(){return Promise.all([n.e(16),n.e(18),n.e(32)]).then(n.bind(null,\"D3uo\"))}),{loadableGenerated:{webpack:function(){return[\"D3uo\"]},modules:[\"./OfferModal\"]}});function Q(){var e=Object(C.b)(),t=e.account,n=e.chainId,o=e.library,k=Object(T.useRouter)(),_=k.query,A=Object(a.useState)(!1),V=A[0],L=A[1],G=Object(a.useState)(_.useOldMint),Q=(G[0],G[1],Object(a.useState)(_.key)),ee=Q[0],te=Q[1],ne=Object(a.useState)(_.offer||!1),ae=ne[0],re=(ne[1],Object(a.useState)(_.framed||!0)),oe=re[0],ce=(re[1],Object(a.useState)(_.id)),ie=ce[0],se=(ce[1],Object(a.useState)(_.experimental)),ue=(se[0],se[1],Object(a.useState)(_.noLayout)),le=(ue[0],ue[1],Object(a.useState)(_.slideshowOnly||!1)),fe=le[0],de=(le[1],Object(a.useState)(\"\")),pe=de[0],me=de[1],ge=Object(a.useState)(\"\"),be=ge[0],he=ge[1],ve=Object(a.useState)(\"\"),we=ve[0],Oe=ve[1],je=Object(a.useState)(\"\"),Se=je[0],ye=je[1],ke=Object(a.useState)(\"\"),xe=ke[0],Ce=ke[1],Te=Object(a.useState)(\"\"),Ne=Te[0],_e=Te[1],Ae=Object(a.useState)(\"\"),Ee=Ae[0],Ie=Ae[1],Me=Object(a.useState)([]),Fe=Me[0],He=Me[1],Ve=Object(a.useState)(!1),Pe=Ve[0],Le=Ve[1],De=Object(a.useState)([]),Ge=De[0],Je=De[1],Ke=Object(a.useState)([]),Re=Ke[0],We=Ke[1],Be=Object(a.useState)([]),Ue=Be[0],ze=Be[1],qe=Object(a.useState)(!1),Xe=qe[0],Ye=qe[1],Ze=Object(a.useState)(0),$e=Ze[0],Qe=Ze[1],et=Object(a.useState)(null),tt=et[0],nt=et[1],at=Object(a.useState)(null),rt=(at[0],at[1]),ot=Object(a.useState)(null),ct=ot[0],it=ot[1],st=Object(a.useState)(\"\"),ut=st[0],lt=st[1],ft=Object(a.useState)(\"\"),dt=ft[0],pt=ft[1],mt=Object(a.useState)({loaded:!1}),gt=(mt[0],mt[1]),bt=Object(a.useState)(!1),ht=bt[0],vt=bt[1],wt=Object(a.useState)(!1),Ot=wt[0],jt=wt[1],St=Object(a.useState)(\"claimed\"),yt=St[0],kt=St[1],xt=Object(a.useState)(!1),Ct=xt[0],Tt=xt[1],Nt=Object(a.useState)(null),_t=Nt[0],At=Nt[1],Et=Object(a.useState)(\"\"),It=Et[0],Mt=Et[1],Ft=Object(a.useState)(\"\"),Ht=Ft[0],Vt=Ft[1],Pt=Object(a.useState)(\"\"),Lt=Pt[0],Dt=Pt[1],Gt=Object(a.useState)([]),Jt=Gt[0],Kt=Gt[1],Rt=Object(a.useState)(!1),Wt=Rt[0],Bt=Rt[1],Ut=Object(a.useState)(\"\"),zt=Ut[0],qt=Ut[1],Xt=Object(a.useState)(!1),Yt=Xt[0],Zt=Xt[1],$t=Object(a.useState)(\"\"),Qt=$t[0],en=$t[1],tn=Object(a.useState)(!1),nn=tn[0],an=tn[1],rn=Object(a.useState)(!1),on=(rn[0],rn[1],Object(a.useState)(!1)),cn=on[0],sn=on[1],un=Object(a.useState)(!1),ln=un[0],fn=un[1],dn=Object(a.useState)(!1),pn=dn[0],mn=(dn[1],Object(a.useState)(\"\")),gn=mn[0],bn=(mn[1],Object(a.useState)(!1)),hn=bn[0],vn=bn[1],wn=Object(a.useState)(!1),On=wn[0],jn=wn[1],Sn=Object(a.useState)(null),yn=Sn[0],kn=Sn[1],xn=Object(a.useState)(!1),Cn=xn[0],Tn=xn[1],Nn=Object(a.useState)(null),_n=Nn[0],An=Nn[1],En=Object(a.useState)(!1),In=En[0],Mn=En[1],Fn=Object(a.useState)(null),Hn=Fn[0],Vn=Fn[1],Pn=Object(a.useState)(null),Ln=Pn[0],Dn=Pn[1],Gn=Object(a.useState)(null),Jn=Gn[0],Kn=Gn[1],Rn=Object(a.useState)(!1),Wn=Rn[0],Bn=Rn[1],Un=Object(a.useState)(!1),zn=Un[0],qn=Un[1],Xn=Object(a.useState)(!1),Yn=Xn[0],Zn=Xn[1],$n=Object(a.useState)(!1),Qn=($n[0],$n[1]),ea=Object(a.useState)(null),ta=ea[0],na=ea[1],aa=Object(a.useState)({name:\"\",image:\"\",metadata:\"\"}),ra=(aa[0],aa[1]),oa=Object(a.useState)({name:\"\",chain:\"\",4:\"\",1:\"\",tokenId:{},serialNumber:{hex:\"\"}}),ca=oa[0],ia=oa[1],sa=Object(a.useState)(!1),ua=sa[0],la=sa[1],fa=Object(a.useState)({}),da=(fa[0],fa[1]),pa=Object(H.b)(F.o.vaultHandler[n],F.o.vaultHandlerAbi,!0),ma=Object(H.b)(F.o.vaultHandlerV8[n],F.o.vaultHandlerV8Abi,!0),ga=Object(H.b)(F.o.emblemVault[n],F.o.emblemAbi,!0),ba=Object(s.a)(),ha=ba.isOpen,va=ba.onOpen,wa=ba.onClose,Oa=Object(s.a)(),ja=Oa.isOpen,Sa=Oa.onOpen,ya=Oa.onClose,ka=Object(s.a)(),xa=ka.isOpen,Ca=ka.onOpen,Ta=ka.onClose,Na=Object(s.a)(),_a=Na.isOpen,Aa=Na.onToggle,Ea=Object(s.a)(),Ia=Ea.isOpen,Ma=Ea.onToggle,Fa=Object(u.c)().colorMode,Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new I.a(e,F.o.erc1155Abi,o.getSigner(t).connectUnchecked())},Va=function(e,t){return fetch(F.g+\"/v2/liveliness-curated\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,Mn(n.live),console.log(\"Liveliness check\",n);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(!1)},Pa=function(){console.log(\"Delayed Minting\"),Bn(!1),qn(!0),Zn(!0);var e=Ue.filter((function(e){return\"ETH\"==e.coin}))[0].address;pa.buyWithSignature(t,ie,e,Hn,Ln).then((function(e){var t=e.hash;setTimeout((function(){it(t),qn(!1)}),100)})).catch((function(e){qn(!1)}))},La=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+\"/vault/balance/\"+n,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,console.log(\"responce\",r,o),!(o.balances.length>0)){e.next=11;break}return e.abrupt(\"return\",a(t.concat(o.balances)));case 11:return e.abrupt(\"return\",a(t));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Da=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"getvault\"),e.next=3,fetch(F.g+\"/v2/meta/\"+ie+\"?experimental=true\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).collectionAddress&&(Qn(!0),na(n.collectionAddress)),n.name?(console.log(\"--------------- states -\",n),Ga(n),Bt(!1),an(!1)):(gt({loaded:!0}),an(!0));case 9:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ga=function(e){oe&&e.image&&!e.image.includes(\"framed=\")&&!e.image.includes(\"http\")&&(e.image=e.image+\"&framed=\"+oe),e.ciphertextV2&&(ye(e.ciphertextV2),console.log(\"ciphertextV2\",e.ciphertextV2)),me(e.name),_e(e.image),Ie(e.ownedImage||null),Ce(e.description),Qe(e.totalValue||0),e.values&&He(Fe.concat(e.values)),e.attributes&&Je(e.attributes.filter((function(e){return\"key\"===e.trait_type}))),e.attributes&&We(e.attributes),ze(e.addresses),he(e.ipfs||null),Oe(e.image_ipfs||null),e.targetAsset&&ra(e.targetAsset),e.targetContract&&ia(e.targetContract),e.values&&e.targetAsset&&e.values.filter((function(t){return t.coin.toLowerCase()==e.targetContract.chain&&t.name==e.targetAsset.name&&t.project==e.targetContract.name})).length>0&&la(!0),Mn(0!=e.live),e.live||Va(ie,(function(e){Mn(e)})),Vn(e.nonce),Dn(e.signature),Kn(e.to),rt(e.network),nt(\"mainnet\"==e.network?1:\"rinkeby\"==e.network?4:\"goerli\"==e.network?5:\"mumbai\"==e.network?80001:\"matic\"==e.network?137:\"xdai\"==e.network?100:\"bsc\"==e.network?56:\"fantom\"==e.network?250:\"bitcoin\"==e.network?0:\"aurora\"==e.network?1313161554:97),kt(e.status),\"claimed\"===yt&&At(e.claimedBy),gt({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes(\"private:\")})).length>0;Ye(t),e.sealed?Tt(!0):Tt(!1)},Ja=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pe){e.next=2;break}return e.abrupt(\"return\",a(!1));case 2:return Le(!0),e.next=5,fetch(F.g+\"/vault/balance/\"+n+\"?live=true\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 5:return r=e.sent,e.next=8,r.json();case 8:if(o=e.sent,console.log(\"responce\",r,o),!(o.balances.length>0)){e.next=14;break}return e.abrupt(\"return\",a(t.concat(o.balances)));case 14:return e.abrupt(\"return\",a(t));case 15:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ka=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a,r){var o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+\"/vault/balance/\"+n+\"/\"+a,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(i=e.sent,console.log(\"responce\",o,i),!(i.balances.length>0)){e.next=11;break}return e.abrupt(\"return\",r(t.concat(i.balances)));case 11:return e.abrupt(\"return\",r(t));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ra=function(){var e=localStorage.getItem(t+\"_\"+n+\"_\"+ie+\"_mintPassword\");e&&pn&&te(e)},Wa=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r){var o,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append(\"chainid\",n.toString()),o.append(\"Content-Type\",\"application/json\"),i=JSON.stringify({signature:t,tokenId:a}),e.next=6,fetch(\"https://tor-us-signer-vert.vercel.app/sign\",{method:\"POST\",headers:o,body:i,redirect:\"follow\"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt(\"return\",r(u));case 11:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function Ba(e,t,n){return Ua.apply(this,arguments)}function Ua(){return(Ua=Object(i.a)(c.a.mark((function e(t,n,a){var r,o,i,s,u,l,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new z.a({network:\"https://rpc.ankr.com/eth_ropsten\",proxyAddress:\"0x6258c9d6c12ed3edda59a1a6527e469517744aa7\"}),o=new q.a({enableOneKey:!0,network:\"testnet\"}),e.next=4,r.getNodeDetails({verifier:\"tor-us-signer-vercel\",verifierId:t});case 4:return i=e.sent,s=i.torusNodeEndpoints,u=i.torusIndexes,e.next=9,o.retrieveShares(s,u,\"tor-us-signer-vercel\",{verifier_id:t},n);case 9:return l=e.sent,f=l.privKey,e.abrupt(\"return\",a({privateKey:f}));case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var za=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r,o){var i,s,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append(\"chainId\",n.toString()),i.append(\"service\",\"evmetadata\"),i.append(\"Content-Type\",\"application/json\"),s=JSON.stringify({signature:t,coin:r}),e.next=7,fetch(F.g+\"/address/\"+a,{method:\"POST\",headers:i,body:s,redirect:\"follow\"});case 7:return u=e.sent,e.next=10,u.json();case 10:return l=e.sent,e.abrupt(\"return\",o(l));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),qa=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r){var o,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append(\"chainId\",n.toString()),o.append(\"service\",\"evmetadata\"),o.append(\"Content-Type\",\"application/json\"),i=JSON.stringify({signature:t}),e.next=7,fetch(F.g+\"/embed/\"+a,{method:\"POST\",headers:o,body:i,redirect:\"follow\"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt(\"return\",r(u));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Xa=function(){var e=Object(i.a)(c.a.mark((function e(){var a,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return(o=Object(i.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ca[n]){e.next=6;break}return e.next=3,ga.isApprovedForAll(t,F.o.vaultHandlerV8[n]);case 3:r=e.sent,e.next=9;break;case 6:return e.next=8,ga.isApprovedForAll(t,F.o.vaultHandler[n]);case 8:r=e.sent;case 9:L(r),An(a),vt(a===t),Ra();case 13:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)},r=function(){return o.apply(this,arguments)},console.log(\"Contract states\"),!1,e.prev=4,!ca[n]){e.next=13;break}return ga=Ha(ca[n]),e.next=9,ga.getOwnerOfSerial(ca.serialNumber);case 9:a=e.sent,console.log(\"--------------------------- owner\",a,V,t,F.o.vaultHandlerV8[n]),e.next=16;break;case 13:return e.next=15,ga.ownerOf(ie);case 15:a=e.sent;case 16:r(),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),a=\"0x0000000000000000000000000000000000000000\",r();case 23:case\"end\":return e.stop()}}),e,null,[[4,19]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log(\"mine?\",ht),console.log(\"claiming?\",Ot),console.log(\"accepting?\",cn),console.log(\"acceptable\",pn),console.log(\"-----\",In,Jn,t,tt,n,yt,zn,Se)}));var Ya=function(e){return console.log(e,Ue.filter((function(t){return t.coin==e})).length>0),Ue.filter((function(t){return t.coin==e})).length>0},Za=function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage(\"Renew: \"+ie).then((function(e){var t=Ue.filter((function(e){return\"NMC\"==e.coin}))[0].address;console.log(\"signature\",e,a),fetch(F.g+\"/nmc/renew/\"+t,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({tokenId:ie,signature:e,name:a})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(\"Requested Renew\",n);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$a=function(){var e=Object(i.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ca[n]&&(ga=Ha(ca[n]),a=ca.serialNumber),o.getSigner(t).signMessage(\"Claim: \"+(ca[n]?a:ie)).then((function(e){Wa(e,ie,(function(e){Ba(ie,e.token,(function(e){var t=P.a.AES.decrypt(Se,e.privateKey),n=JSON.parse(t.toString(P.a.enc.Utf8));Kt(n.values),Mt(n.phrase),Ue.forEach(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(\"STX\"!=t.coin){e.next=6;break}return e.next=3,Qa(t,n.phrase);case 3:t.key=e.sent,e.next=7;break;case 6:t.key=window.phrasePathToKey(n.phrase,t.path);case 7:\"BTC\"==t.coin&&Vt(t.key),\"ETH\"==t.coin&&Dt(t.key);case 9:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Sa()}))}))}));case 2:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qa=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.a)({secretKey:n,password:\"\"});case 2:return a=e.sent,console.log(\"------ stacks account -\",a.accounts[0]),r=a.accounts[0],t.key=r.stxPrivateKey,e.abrupt(\"return\",t.key);case 7:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),er=function(){var e=Object(i.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage(\"HideAsset: \"+ie).then((function(e){console.log(\"----------------------------------------------------------------\",e),console.log(n.name,n.coin,n.address),tr(ie,n.coin,n.address,n.name,e,(function(){console.log(\"Done hiding coin and getting new balances\")}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function tr(e,t,a,r,o,s){fetch(F.g+\"/hide/\"+e,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({coin:t||null,address:a||null,name:r||null,signature:o||null})}).then(function(){var t=Object(i.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log(\"-------\",a),La([],e,(function(e){return He(e),s()}));case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var nr=function(){var e=Object(i.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage(\"Address: \"+ie).then((function(e){za(e,ie,n,(function(e){Da()}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ar=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage(\"Embed: \"+ie).then((function(e){qa(e,ie,(function(e){_e(e.ownedImage)}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rr=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ca[n]?ma.claim(ca[n],ca.tokenId).then((function(e){var t=e.hash;jt(!0),setTimeout((function(){it(t)}),100)})):ga.burn(ie).then((function(e){var t=e.hash;jt(!0),setTimeout((function(){it(t)}),100)}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),or=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,r,o,i,s,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var c=0;c<r-i;c++){var l=Math.floor(t.length*Math.random()),f=t.charAt(l);s+=f}o==a-1&&i++,o==a&&(u+=n.charAt(i-1),o=0),qt(u+s),s=\"\"},!Yt){e.next=3;break}return e.abrupt(\"return\");case 3:Zt(!0),t=\"abcdefghijklmnopqrstuvwxyz\",5,r=(n=\"Decrypting\").length,o=0,i=0,s=\"\",u=\"\",function e(t){setTimeout((function(){--t?e(t):Zt(!1),l(t),o+=1}),5)}(r*(a=8)+1);case 14:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function cr(e){return(e?e.split(\"\\n\\n\\n\\n\"):[\" \"])[0].trim()}function ir(e){Qt&&(e=Qt),or(),console.log(Ue);var t=Ue[0].address.replace(\"private:\",\"\");try{var n=P.a.AES.decrypt(t,e);JSON.parse(n.toString(P.a.enc.Utf8)),Ye(!1),en(e),ze(function(e){return Ue.forEach((function(t){if(t.address.includes(\"private\")){var n=t.address.replace(\"private:\",\"\");t.address=function(e,t){var n=P.a.AES.decrypt(e,t);return JSON.parse(n.toString(P.a.enc.Utf8))}(n,e)}})),Ue}(e));var a=Ue.filter((function(e){return\"ETH\"===e.coin}))[0].address,r=Ue.filter((function(e){return\"BTC\"===e.coin}))[0].address;console.log(\"SUCCESS\",Ue),Ka([],a,r,(function(e){He(e)}))}catch(o){console.log(\"WTF\",o)}}return Object(a.useEffect)((function(){console.log(\"----\"),Da()}),[]),Object(a.useEffect)((function(){(t&&n&&tt&&n==tt||_.noLayout&&\"true\"==_.noLayout||_.slideshowOnly&&\"true\"==_.slideshowOnly)&&Xa()})),ta&&(ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new I.a(e||F.o.emblemVault[n],F.o.emblemAbi,o.getSigner(t).connectUnchecked())}(ta||null)),X(r.a.Fragment,null,X(x.a,null,X(\"meta\",{name:\"twitter:card\",content:\"summary_large_image\"}),X(\"meta\",{name:\"twitter:site\",content:\"Emblem.Finance\"}),X(\"meta\",{name:\"twitter:title\",content:pe}),X(\"meta\",{name:\"twitter:description\",content:cr(xe)}),X(\"meta\",{name:\"twitter:image\",content:Ne}),X(\"script\",{dangerouslySetInnerHTML:{__html:'\\n              // $(\".NFT\").tilt({    \\n              //     maxTilt: 3\\n              // });\\n              $(\".NFT\").trigger(\\'mouseenter\\');\\n              $(\".NFT\").trigger(\\'mouseclick\\'), \\'.NFT\\';\\n              if (localStorage.getItem(\"darkMode\") == \\'false\\') {\\n                localStorage.setItem(\"darkMode\",\"true\"); location.href = location.href\\n              }\\n              '}})),X(Y,{isOpen:ha,onClose:wa,addrCoin:ut,addrAddr:dt}),X(Z,{isOpen:ja,onClose:ya,mnemonic:It,privKeyBTC:Ht,privKeyETH:Lt,privValues:Jt,addresses:Ue}),ae?X($,{isOpen:xa,onClose:Ta,tokenId:ie,mine:ht}):null,X(l.a,{height:\"40px\"}),Wt?X(N.a,null):\"\",nn||fe?Fe.length>0&&fe?X(d.a,{className:\"NFT-content\",align:\"center\"},Fe.length&&Fe.filter((function(e){return\"nft\"==e.type})).length>0?X(R.a,{name:pe,image:Fe[0].image,items:Fe.filter((function(e){return e.image!==Fe[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):X(K.b,{className:\"d-block w-100 NFT-image\",url:Ne})):nn?X(d.a,{align:\"center\"},X(S.a,{width:\"md\",src:\"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg\"}),X(m.a,null,\"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR\",\" \",X(g.a,{color:\"#638cd8\",href:\"../create\"},\"CREATE ONE HERE!\"))):null:X(f.a,{width:\"full\",align:\"center\",justifyContent:\"center\"},X(l.a,{className:\"NFT\",maxW:\"sm\",borderWidth:\"1px\",borderColor:tt!=n?\"orange.500\":\"claimed\"==yt?\"green.500\":null,rounded:\"lg\",overflow:\"hidden\",alignItems:\"center\",minW:390},X(l.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",textTransform:\"uppercase\",alignItems:\"center\",color:\"blue.500\"},\"Vault Network: \",E.a[tt]),X(l.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",alignItems:\"center\"},pe,!Xe&&$e>0?\": ~$\"+$e.toLocaleString():null),X(d.a,{className:\"NFT-content\",align:\"center\"},X(K.b,{className:\"d-block w-100 NFT-image\",url:Ne}),ht&&Ee?X(p.a,{onClick:function(){ar()}},\"(OWNED) Show Full Embed\"):null),X(d.a,{align:\"center\"},X(l.a,{mt:\"2\",ml:\"4\",lineHeight:\"tight\"},X(d.a,null,X(m.a,{fontSize:\"xs\"},tt==n?X(g.a,{href:\"./vaults?address=\"+_n},\"Owner: \",_n):null),X(m.a,{mt:2,as:\"h4\",ml:\"4\",mr:\"4\",fontSize:\"xs\",fontStyle:\"italic\",className:\"md\"},X(D.a,{plugins:[J.a],children:cr(xe)}))))),X(l.a,{p:\"6\"},X(b.f,{isFitted:!0,variant:\"enclosed\"},X(b.c,{mb:\"1em\"},X(b.a,null,\"Balances\"),X(b.a,null,\"Attributes\")),X(b.e,null,X(b.d,null,Xe?X(l.a,{mb:5},X(m.a,{pb:2,color:zt?\"green.500\":null},zt||\"Contents hidden. Enter password to unlock.\"),X(h.a,{type:\"password\",id:\"vault-password\",onChange:function(e){return ir(e.target.value)},\"aria-describedby\":\"password-helper-text\"})):X(l.a,{d:\"flex\",backgroundColor:\"light\"==Fa?\"gray.100\":\"gray.700\",alignItems:\"baseline\",className:\"coin-balance-content\"},X(l.a,{color:\"gray.500\",letterSpacing:\"wide\",fontSize:\"sm\",ml:\"2\"},X(m.a,{as:\"h4\",mt:2,fontWeight:\"semibold\"},\"Current Contents:  \",X(\"button\",{onClick:function(){Ja([],ie,(function(e){Le(!1),He(e)}))}},\" [Refresh Balances]\")),X(m.a,{as:\"p\",color:\"dark\"==Fa?\"lightgreen\":\"forestgreen\"},\"$\",Number($e.toFixed(4)).toLocaleString()),Fe.length?Fe.map((function(e){return X(d.a,null,X(W.a,{colorMode:Fa,coin:e,mine:\"claimed\"===yt&&_t===t||ht,onRenew:Za,hideAsset:er}))})):X(N.a,null),Ge.length?Ge.map((function(e){return X(m.a,null,\"Data: \",e.attribute_key)})):Ge.length||Fe.length?null:X(m.a,null,\"Nothing in here! Fill 'er up!\")))),X(b.d,null,X(B.a,{colorMode:Fa,attributes:Re})))),Xe?null:X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(v.a,{justifyContent:\"space-between\",spacing:6},X(d.a,null,X(m.a,null,\"Deposit Addresses\"),X(f.a,{w:\"340px\",justify:\"center\",flexWrap:\"wrap\"},Ue.map((function(e){return X(p.a,{className:\"address_nft_button\",ml:2,mt:2,\"font-weight\":\"100 !important\",key:e.address,onClick:function(){lt(e.coin),pt(e.address),va()}},\"ETH\"==e.coin?e.coin+\"\":\"BTC\"==e.coin?e.coin+\"/XCP/OMNI\":\"BCH\"==e.coin?e.coin+\"/SLP\":e.coin)}))),(ht||\"claimed\"===yt)&&Ue.length<10?X(r.a.Fragment,null,X(\"button\",{className:\"nft_button\",onClick:function(){Ma()}},\"Manage Addresses\"),X(f.a,{w:\"340px\",justify:\"center\",flexWrap:\"wrap\"},X(w.a,{isOpen:Ia},Ya(\"DOGE\")?null:X(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){nr(\"DOGE\")}},\"Add DOGE\"),Ya(\"DGB\")?null:X(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){nr(\"DGB\")}},\"Add Digibyte\"),Ya(\"NMC\")?null:X(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){nr(\"NMC\")}},\"Add Namecoin\"),Ya(\"LTC\")?null:X(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){nr(\"LTC\")}},\"Add Litecoin\"),Ya(\"MONA\")?null:X(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){nr(\"MONA\")}},\"Add Mona\"),Ya(\"TEZOS\")?null:X(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){nr(\"TEZOS\")}},\"Add Tezos\"),Ya(\"SOLANA\")?null:X(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){nr(\"SOLANA\")}},\"Add Solana\")))):null))),\"claimed\"===yt||!In||1!==tt&&4!==tt&&137!==tt?null:X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(p.a,{className:\"nft_button\",width:\"50%\",m:5,onClick:function(){window.open(\"https://\"+(4==tt?\"rinkeby.\":\"\")+\"opensea.io/assets/\"+(137==tt?\"matic/\":\"\")+(ta||(ca?ca[n]:F.o.emblemVault[tt]))+\"/\"+(ca?ca.tokenId:ie),\"_blank\")}},\"Opensea\"),X(p.a,{className:\"nft_button\",width:\"50%\",m:5,onClick:function(){window.open(\"https://\"+(4==tt?\"rinkeby.\":\"\")+\"looksrare.org/collections/\"+(137==tt?\"matic/\":\"\")+(ta||(ca?ca[n]:F.o.emblemVault[tt]))+\"/\"+(ca?ca.tokenId:ie),\"_blank\")}},\"LooksRare\"),ae?X(p.a,{className:\"\",onClick:function(){Ca()}},ht?\"My Offers\":\"Make an Offer\",\" (NFT\\xb2NFT)\"):null),\"claimed\"!==yt&&ht&&!pn?X(r.a.Fragment,null,X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\",width:\"100%\"},X(d.a,{direction:\"column\",align:\"center\",width:\"100%\"},X(p.a,{className:\"nft_button\",width:\"100%\",onClick:Aa},\"Transfer Vault\"),X(w.a,{isOpen:_a},X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"2\",width:\"100%\"},X(O.a,{htmlFor:\"owner-address\"},\"Address\"),X(h.a,{mt:1,type:\"text\",id:\"transferAddress\",value:yn||\"\",onChange:function(e){console.log(\"Transfer to\",e.target.value),kn(e.target.value)},autoComplete:\"off\"})),X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"2\",width:\"100%\"},X(p.a,{isDisabled:!Object(E.k)(yn),onClick:function(){Aa(),Tn(!0),ga.transferFrom(t,yn,ie).then((function(e){var t=e.hash;it(t)})).catch((function(e){}))}},\"Transfer Now\")))))):null,!ht||pn||V?null:X(r.a.Fragment,null,X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(p.a,{className:\"nft_button\",width:\"100%\",onClick:function(){if(!V)return fn(!0),void(ca.name?(ga=Ha(ca[n])).setApprovalForAll(F.o.vaultHandlerV8[n],!0).then((function(e){var t=e.hash;setTimeout((function(){it(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log(\"tx failed.\",e):fn(!1)})):ga.setApprovalForAll(F.o.vaultHandler[n],!0).then((function(e){var t=e.hash;setTimeout((function(){it(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log(\"tx failed.\",e):fn(!1)})))}},\"Approve Claiming\"))),(hn||ee)&&pn?X(l.a,null,X(g.a,{href:location.protocol+\"//\"+location.host+\"/nft?id=\"+ie+\"&key=\"+(gn||ee)},\"Copy Gift Link\"),X(m.a,null,\"Password: \",gn||ee)):null,\"claimed\"!==yt&&t&&tt===n&&ht&&!Ct?X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(p.a,{width:\"100%\",onClick:function(){rr()},isDisabled:Ot},Ot?\"Claiming ...\":\"Claim (Crack Open Vault)\")):\"claimed\"===yt&&_t===t&&tt===n?X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(p.a,{width:\"100%\",onClick:$a},\"Get Keys\")):null,In||Jn!=t||tt!=n||\"claimed\"===yt||zn?null:X(r.a.Fragment,null,ca.name?X(p.a,{width:\"100%\",mt:5,onClick:function(){o.getSigner(t).signMessage(\"Curated Minting: \"+ie).then((function(e){console.log(\"sig\",e),fetch(F.g+\"/v2/mint-curated\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"},body:JSON.stringify({tokenId:ie,signature:e,chainId:n.toString()})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._payload,n._nonce,n._signature,n.serialNumber),da(n),ma.buyWithSignedPrice(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._payload,n._nonce,n._signature,n.serialNumber).then((function(e){var t=e.hash;setTimeout((function(){it(t),qn(!0),Zn(!0)}),100)})).catch((function(e){qn(!1),Zn(!1)}));case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},isDisabled:!ua},\" Mint Vault \"):X(p.a,{width:\"100%\",mt:5,onClick:function(){o.getSigner(t).signMessage(\"Delayed Minting: \"+ie).then((function(e){console.log(\"sig\",e),fetch(F.g+\"/lazyMint\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({tokenId:ie,signature:e})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(\"data\",n.data),Dn(n.data.signature),Vn(n.data.nonce),Bn(!0),setTimeout((function(){Pa()}),500);case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},\"Mint Vault \")),In&&\"claimed\"!=yt||Jn!=t||tt!=n||zn||!(Fe.length<1)?null:X(p.a,{width:\"100%\",mt:5,onClick:function(){o.getSigner(t).signMessage(\"Delete: \"+ie).then((function(e){console.log(\"sig\",e),fetch(F.g+\"/v2/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"},body:JSON.stringify({tokenId:ie,signature:e,chainId:n.toString()})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:e.sent,location.href=location.href.split(\"/\")[0]+\"/vaults\";case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},\"Delete Vault \"),Wn?X(p.a,{isDisabled:!0,type:\"submit\"},\"Verifying Signature ...\"):null,zn?X(p.a,{isDisabled:!0,type:\"submit\"},\"Minting Vault ...\"):null),be?X(d.a,null,X(y.a,{align:\"center\"},X(g.a,{target:\"new\",mb:2,ml:35,href:\"https://gateway.ipfs.io/ipfs/\"+be,isExternal:!0},\"View Metadata on IPFS \"),we?X(g.a,{mb:2,href:\"https://gateway.ipfs.io/ipfs/\"+we,isExternal:!0},\"View Image on IPFS \"):null)):null,Ct?X(l.a,{d:\"flex\",mb:2,ml:35,alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(m.a,null,\"*This vault is sealed forever.\")):null,X(d.a,{direction:\"column\",align:\"center\"},\"claimed\"==yt?X(m.a,{color:\"green.500\"},\"CLAIMED\"):null),ct?X(j.a,{status:\"info\"},X(j.b,null),cn?\"Accepting Your Gift Vault\":Ot?\"Claiming your Vault ...\":ln?\"Handling Approval Flow ...\":Cn?\"Transfering Vault ...\":Yn?\"Minting Vault\":\"Generating Gift Link ...\"):null)),ct?X(M.a,{hash:ct,onComplete:function(){var e;!Ot||cn||On?On?(localStorage.setItem(t+\"_\"+n+\"_\"+ie+\"_mintPassword\",gn),vn(!0),jn(!1),it(null)):cn?(sn(!1),Da(),it(null)):ln?(fn(!1),Da(),it(null)):Cn?(Tn(!1),Da(),it(null)):Yn?Va(ie,(function(e){Zn(!1),Mn(e)})):(console.log(\"minting\",Yn),console.log(\"claiming\",Ot),console.log(\"accepting\",cn),console.log(\"preTransfering\",On),console.log(\"approving\",ln),console.log(\"Unknown state\")):(it(null),kt(\"claimed\"),jt(!1),At(t),e=function(){location.href=location.origin+\"/nft?id=\"+ie},fetch(F.g+\"/web3/selfClaimLogs?chainId=\"+n.toString()+\"_vercel_no_cache=1\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}}).then(function(){var t=Object(i.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log(\"Log check\",a),t.abrupt(\"return\",e());case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,X(l.a,{height:\"40px\"}))}var ee=r.a.createElement;function te(){return ee(Q,null)}},RuSG:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/nft2\",function(){return n(\"EM35\")}])}},[[\"RuSG\",1,0,12,14,25,2,3,4,5,6,8,7,9,11,13,15,17,19,21,20,22,26]]]);","extractedComments":[]}