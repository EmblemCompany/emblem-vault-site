{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[34],{\"pZB+\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return U}));var a=n(\"q1tI\"),r=n.n(a),i=n(\"wx14\"),c=n(\"o0o1\"),s=n.n(c),u=n(\"HaE+\"),o=n(\"XZ7F\"),l=n(\"Weur\"),d=n(\"BMxC\"),f=n(\"Yn+B\"),p=n(\"sK1y\"),m=n(\"pboS\"),b=n(\"FpzS\"),h=n(\"7fKF\"),g=n(\"IP4Q\"),w=n(\"eJLp\"),O=n(\"LqLE\"),j=n(\"bQFp\"),v=n(\"8Kt/\"),y=n.n(v),S=n(\"Z6YE\"),x=n(\"nOHt\"),k=n(\"Ute3\"),E=n(\"Y1ui\"),C=n.n(E),T=n(\"a6RD\"),_=n.n(T),N=n(\"zIq6\"),I=n(\"N39q\"),A=n(\"21eR\"),H=n(\"c+OE\"),F=n.n(H),J=n(\"NFKh\"),R=n.n(J),W=n(\"sd7e\"),G=n(\"IujW\"),K=n.n(G),z=n(\"wH4i\"),B=n.n(z),L=n(\"PLxQ\"),M=r.a.createElement,P=_()((function(){return Promise.all([n.e(13),n.e(14),n.e(42)]).then(n.bind(null,\"X/Jl\"))}),{loadableGenerated:{webpack:function(){return[\"X/Jl\"]},modules:[\"./AddrModal\"]}}),V=_()((function(){return Promise.all([n.e(13),n.e(14),n.e(43)]).then(n.bind(null,\"0bCS\"))}),{loadableGenerated:{webpack:function(){return[\"0bCS\"]},modules:[\"./KeysModal\"]}});function q(){var e=Object(S.b)(),t=e.account,n=e.chainId,c=e.library,v=Object(x.useRouter)().query,E=Object(a.useState)(v.id),T=E[0],_=(E[1],Object(a.useState)(v.framed||!0)),H=_[0],J=(_[1],Object(a.useState)(v.experimental)),G=J[0],z=(J[1],Object(a.useState)(\"\")),q=z[0],D=z[1],U=Object(a.useState)(\"\"),X=U[0],Y=U[1],Z=Object(a.useState)(\"\"),Q=Z[0],$=Z[1],ee=Object(a.useState)([]),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),re=ae[0],ie=ae[1],ce=Object(a.useState)([]),se=ce[0],ue=ce[1],oe=Object(a.useState)(!1),le=oe[0],de=oe[1],fe=Object(a.useState)(0),pe=fe[0],me=fe[1],be=Object(a.useState)(null),he=be[0],ge=be[1],we=Object(a.useState)(null),Oe=we[0],je=we[1],ve=Object(a.useState)(\"\"),ye=ve[0],Se=ve[1],xe=Object(a.useState)(\"\"),ke=xe[0],Ee=xe[1],Ce=Object(a.useState)({loaded:!1}),Te=Ce[0],_e=Ce[1],Ne=Object(a.useState)(!1),Ie=Ne[0],Ae=Ne[1],He=Object(a.useState)(!1),Fe=He[0],Je=He[1],Re=Object(a.useState)(\"claimed\"),We=Re[0],Ge=Re[1],Ke=Object(a.useState)(null),ze=Ke[0],Be=Ke[1],Le=Object(a.useState)(\"\"),Me=Le[0],Pe=Le[1],Ve=Object(a.useState)(\"\"),qe=Ve[0],De=Ve[1],Ue=Object(a.useState)(\"\"),Xe=Ue[0],Ye=Ue[1],Ze=Object(a.useState)([]),Qe=Ze[0],$e=Ze[1],et=Object(a.useState)(!1),tt=et[0],nt=et[1],at=Object(a.useState)(\"\"),rt=at[0],it=at[1],ct=Object(a.useState)(!1),st=ct[0],ut=ct[1],ot=Object(a.useState)(\"\"),lt=ot[0],dt=ot[1],ft=Object(a.useState)(!1),pt=ft[0],mt=ft[1],bt=Object(a.useState)(!1),ht=(bt[0],bt[1],Object(a.useState)(null)),gt=ht[0],wt=ht[1],Ot=Object(A.b)(I.p.emblemVault[n],I.p.emblemAbi,!0),jt=Object(o.a)(),vt=jt.isOpen,yt=jt.onOpen,St=jt.onClose,xt=Object(o.a)(),kt=xt.isOpen,Et=xt.onOpen,Ct=xt.onClose,Tt=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nt(),e.next=3,fetch(I.h+\"/meta/\"+T+(G?\"?experimental=true\":\"\"),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).name?(_t(n),Ft(n),nt(!1),mt(!1)):(_e({loaded:!0}),mt(!0));case 8:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_t=function(e){H&&!e.image.includes(\"framed=\")&&(e.image=e.image+\"&framed=\"+H),D(e.name),$(e.image),Y(e.description),me(e.totalValue||0),ne(te.concat(e.values)),ie(e.attributes.filter((function(e){return\"key\"===e.trait_type}))),Y(e.description),ue(e.addresses),ge(\"mainnet\"==e.network?1:\"rinkeby\"==e.network?4:\"mumbai\"==e.network?80001:\"matic\"==e.network?137:\"xdai\"==e.network?100:\"bsc\"==e.network?56:\"fantom\"==e.network?250:97),Ge(e.status),\"claimed\"===We&&Be(e.claimedBy),_e({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes(\"private:\")})).length>0;de(t),setTimeout((function(){!t&&Ht(e.values,e.addresses.filter((function(e){return\"ETH\"===e.coin}))[0].address,(function(e){ne(e)}))}),5)},Nt=function(){var e=JSON.parse(localStorage.getItem(t+\"_\"+n+\"_\"+T+\"_vault\"));e&&(_e({loaded:!0}),_t(e),nt(!0))},It=function(){var e=Object(u.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(I.h+\"/eth/balance/\"+t,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,me(Number(pe)+Number(r.totalValue)),e.abrupt(\"return\",n(r.values));case 8:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),At=function(){var e=Object(u.a)(s.a.mark((function e(t,n,a){var r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(I.h+\"/btc/balance/\"+n,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.abrupt(\"return\",a(t.concat(i.values)));case 7:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ht=function(){var e=Object(u.a)(s.a.mark((function e(t,n,a){var r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(I.h+\"/eth/nft/\"+n,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(!((i=e.sent).length>0)){e.next=10;break}return e.abrupt(\"return\",a(t.concat(i)));case 10:return e.abrupt(\"return\",a(t));case 11:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ft=function(e){localStorage.setItem(t+\"_\"+n+\"_\"+T+\"_vault\",JSON.stringify(e))},Jt=function(){var e=Object(u.a)(s.a.mark((function e(t,a,r){var i,c,u,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append(\"chainId\",n.toString()),i.append(\"service\",\"evmetadata\"),i.append(\"Content-Type\",\"application/json\"),c=JSON.stringify({signature:t}),e.next=7,fetch(I.h+\"/claim/\"+a,{method:\"POST\",headers:i,body:c,redirect:\"follow\"});case 7:return u=e.sent,e.next=10,u.json();case 10:return o=e.sent,e.abrupt(\"return\",r(o));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot.ownerOf(T);case 2:n=e.sent,Ae(n===t),wt(n);case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Wt=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.getSigner(t).signMessage(\"Claim: \"+T).then((function(e){Jt(e,T,(function(e){Pe(e.decrypted.phrase),De(e.decrypted.keys.filter((function(e){return\"btc\"===e.coin}))[0].privkey),Ye(e.decrypted.keys.filter((function(e){return\"eth\"===e.coin}))[0].privkey),$e(e.decrypted.values),Et()}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ot.transferFrom(t,I.c,T).then((function(e){var t=e.hash;Je(!0),setTimeout((function(){je(t)}),100)}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,a,r,i,c,u,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var s=0;s<r-c;s++){var l=Math.floor(t.length*Math.random()),d=t.charAt(l);u+=d}i==a-1&&c++,i==a&&(o+=n.charAt(c-1),i=0),it(o+u),u=\"\"},!st){e.next=3;break}return e.abrupt(\"return\");case 3:ut(!0),t=\"abcdefghijklmnopqrstuvwxyz\",5,r=(n=\"Decrypting\").length,i=0,c=0,u=\"\",o=\"\",function e(t){setTimeout((function(){--t?e(t):ut(!1),l(t),i+=1}),5)}(r*(a=8)+1);case 14:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function zt(e){return e.split(\"\\n\\n\\n\\n\")[0].trim()}function Bt(e){lt&&(e=lt),Kt();var t=se[0].address.replace(\"private:\",\"\");try{var n=R.a.AES.decrypt(t,e);JSON.parse(n.toString(R.a.enc.Utf8)),de(!1),dt(e),ue(function(e){return se.forEach((function(t){var n=t.address.replace(\"private:\",\"\");t.address=function(e,t){var n=R.a.AES.decrypt(e,t);return JSON.parse(n.toString(R.a.enc.Utf8))}(n,e)})),se}(e)),It(se.filter((function(e){return\"ETH\"===e.coin}))[0].address,(function(e){At(e,se.filter((function(e){return\"BTC\"===e.coin}))[0].address,(function(e){Ht(e,se.filter((function(e){return\"ETH\"===e.coin}))[0].address,(function(e){ne(e.concat(te))}))}))}))}catch(a){}}return Object(a.useEffect)((function(){Tt()}),[]),Object(a.useEffect)((function(){t&&n&&he&&n==he&&Rt()})),M(r.a.Fragment,null,M(y.a,null,M(\"meta\",{name:\"twitter:card\",content:\"summary_large_image\"}),M(\"meta\",{name:\"twitter:site\",content:\"Emblem.Finance\"}),M(\"meta\",{name:\"twitter:title\",content:q}),M(\"meta\",{name:\"twitter:description\",content:zt(X)}),M(\"meta\",{name:\"twitter:image\",content:Q})),M(P,{isOpen:vt,onClose:St,addrCoin:ye,addrAddr:ke}),M(V,{isOpen:kt,onClose:Ct,mnemonic:Me,privKeyBTC:qe,privKeyETH:Xe,privValues:Qe}),M(C.a,{loaded:Te.loaded},tt?M(k.a,null):\"\",pt?M(f.a,{align:\"center\"},M(j.a,{width:\"md\",src:\"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg\"}),M(p.a,null,\"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR\",\" \",M(m.a,{color:\"#638cd8\",href:\"../create\"},\"CREATE ONE HERE!\"))):M(F.a,{className:\"Tilt\",options:{max:0,scale:1}},M(l.a,{width:\"full\",align:\"center\",justifyContent:\"center\"},M(d.a,{maxW:\"sm\",borderWidth:\"1px\",borderColor:he!=n?\"orange.500\":\"claimed\"==We?\"green.500\":null,rounded:\"lg\",overflow:\"hidden\",alignItems:\"center\",minW:390},he!=n?M(d.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",textTransform:\"uppercase\",alignItems:\"center\",color:\"orange.500\"},\"BEWARE: Vault is on a different network than you are.\"):null,M(d.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",textTransform:\"uppercase\",alignItems:\"center\"},q,le?null:\": ~$\"+pe),M(f.a,{align:\"center\"},M(L.b,{url:Q})),M(f.a,{align:\"center\"},M(d.a,{mt:\"2\",ml:\"4\",lineHeight:\"tight\"},M(f.a,null,M(p.a,{fontSize:\"xs\"},he==n?M(m.a,{href:\"./vaultlist?address=\"+gt},\"Owner: \",gt):null),M(p.a,{mt:2,ml:\"4\",mr:\"4\",fontSize:\"xs\",fontStyle:\"italic\"},M(K.a,{plugins:[B.a],children:zt(X)}))))),M(d.a,{p:\"6\"},M(d.a,{d:\"flex\",alignItems:\"baseline\"},M(d.a,{color:\"gray.500\",letterSpacing:\"wide\",fontSize:\"sm\",ml:\"2\"},M(p.a,{as:\"h4\",fontWeight:\"semibold\"},\"Current Contents:\"),le?M(r.a.Fragment,null,M(p.a,{pb:2,color:rt?\"green.500\":null},rt||\"Contents hidden. Enter password to unlock.\"),M(b.a,{type:\"password\",id:\"vault-password\",onChange:function(e){return Bt(e.target.value)},\"aria-describedby\":\"password-helper-text\"})):te.length?te.map((function(e){return M(p.a,{key:e.name,isTruncated:!0},e.address&&\"nft\"!==e.type?M(h.a,{\"aria-label\":e.name,hasArrow:!0,label:\"Add \"+e.symbol+\" to wallet\",placement:\"top\"},M(m.a,{onClick:function(){Object(W.addTokenToWallet)({address:e.address,symbol:e.symbol,decimals:e.decimals,image:e.image?e.image:null})}},\"+\")):null,\"(\",e.coin.toLowerCase(),\")\",\" \",e.name,\" :\",\" \",e.balance?e.balance:\"nft\"==e.type?M(m.a,{href:e.external_url,isExternal:!0},\"View NFT\"):null)})):null,re.length?re.map((function(e){return M(p.a,null,\"Data: \",e.attribute_key)})):re.length||te.length?null:M(p.a,null,\"Nothing in here! Fill 'er up!\"))),le?null:M(d.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},M(g.a,{justifyContent:\"space-between\",spacing:6},se.map((function(e){return M(w.a,{key:e.address,onClick:function(){Se(e.coin),Ee(e.address),yt()}},\"Put \",\"ETH\"==e.coin?e.coin+\"/ERC20\":e.coin,\" In\")})))),\"claimed\"!==We?M(d.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},M(w.a,Object(i.a)({width:\"100%\",as:\"a\"},{href:\"https://\"+(4==he?\"rinkeby.\":\"\")+\"opensea.io/assets/\"+I.p.emblemVault[he]+\"/\"+T,target:\"_blank\",rel:\"noopener noreferrer\"}),Ie?\"Sell/Gift/Send\":\"Make an Offer\")):null,\"claimed\"!==We&&t&&he===n&&Ie?M(d.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},M(w.a,{width:\"100%\",onClick:function(){Gt()},isDisabled:Fe},Fe?\"Claiming ...\":\"Claim\")):\"claimed\"===We&&ze===t&&he===n?M(d.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},M(w.a,{width:\"100%\",onClick:Wt},\"Get Keys\")):null),M(f.a,{direction:\"column\",align:\"center\"},\"claimed\"==We?M(p.a,{color:\"green.500\"},\"CLAIMED\"):null),Oe?M(O.a,{status:\"info\"},M(O.b,null),\"Claiming your vault ...\"):null))),Oe?M(N.a,{hash:Oe,onComplete:function(){Fe&&(je(null),Ge(\"claimed\"),Je(!1),Be(t),Wt())}}):null))}var D=r.a.createElement;function U(){return D(q,null)}},zjfc:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/vault\",function(){return n(\"pZB+\")}])}},[[\"zjfc\",1,0,7,10,2,4,3,5,6,9,11,8,12,15,16,19]]]);","extractedComments":[]}