{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[51],{EM35:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return te}));var a=n(\"q1tI\"),r=n.n(a),o=n(\"o0o1\"),c=n.n(o),i=n(\"HaE+\"),s=n(\"XZ7F\"),l=n(\"mf32\"),u=n(\"BMxC\"),d=n(\"Weur\"),p=n(\"Yn+B\"),f=n(\"eJLp\"),g=n(\"sK1y\"),m=n(\"pboS\"),b=n(\"wCB1\"),h=n(\"FpzS\"),v=n(\"IP4Q\"),w=n(\"MKZ1\"),O=n(\"jgTY\"),j=n(\"LqLE\"),S=n(\"bQFp\"),y=n(\"wZsY\"),k=n(\"8Kt/\"),x=n.n(k),C=n(\"Z6YE\"),T=n(\"nOHt\"),N=n(\"Ute3\"),E=n(\"a6RD\"),I=n.n(E),_=n(\"iBPG\"),A=n(\"8XlW\"),F=n(\"zIq6\"),M=n(\"N39q\"),H=n(\"21eR\"),V=n(\"NFKh\"),P=n.n(V),L=n(\"IujW\"),D=n.n(L),R=n(\"wH4i\"),G=n.n(R),J=n(\"PLxQ\"),K=n(\"zNBI\"),W=n(\"fksj\"),B=(n(\"Q/0U\"),n(\"r9y0\")),U=n(\"diTF\"),q=n(\"PSLY\"),z=n(\"FGWJ\"),X=r.a.createElement,Y=I()((function(){return Promise.all([n.e(14),n.e(16),n.e(28)]).then(n.bind(null,\"X/Jl\"))}),{loadableGenerated:{webpack:function(){return[\"X/Jl\"]},modules:[\"./AddrModal\"]}}),$=I()((function(){return Promise.all([n.e(14),n.e(16),n.e(29)]).then(n.bind(null,\"0bCS\"))}),{loadableGenerated:{webpack:function(){return[\"0bCS\"]},modules:[\"./KeysModal\"]}}),Q=I()((function(){return Promise.all([n.e(14),n.e(16),n.e(30)]).then(n.bind(null,\"D3uo\"))}),{loadableGenerated:{webpack:function(){return[\"D3uo\"]},modules:[\"./OfferModal\"]}});function Z(){var e=Object(C.b)(),t=e.account,n=e.chainId,o=e.library,k=Object(T.useRouter)(),E=k.query,I=Object(a.useState)(!1),V=I[0],L=I[1],R=Object(a.useState)(null),Z=R[0],ee=R[1],te=Object(a.useState)(null),ne=te[0],ae=te[1],re=Object(a.useState)(null),oe=re[0],ce=re[1],ie=Object(a.useState)(null),se=ie[0],le=ie[1],ue=Object(a.useState)(!1),de=ue[0],pe=ue[1],fe=Object(a.useState)(!1),ge=fe[0],me=fe[1],be=Object(a.useState)(E.useOldMint),he=(be[0],be[1],Object(a.useState)(E.key)),ve=he[0],we=he[1],Oe=Object(a.useState)(E.offer||!1),je=Oe[0],Se=(Oe[1],Object(a.useState)(E.framed||!0)),ye=Se[0],ke=(Se[1],Object(a.useState)(E.id)),xe=ke[0],Ce=(ke[1],Object(a.useState)(E.experimental)),Te=(Ce[0],Ce[1],Object(a.useState)(E.noLayout)),Ne=(Te[0],Te[1],Object(a.useState)(E.slideshowOnly||!1)),Ee=Ne[0],Ie=(Ne[1],Object(a.useState)(\"\")),_e=Ie[0],Ae=Ie[1],Fe=Object(a.useState)(\"\"),Me=Fe[0],He=Fe[1],Ve=Object(a.useState)(\"\"),Pe=Ve[0],Le=Ve[1],De=Object(a.useState)(\"\"),Re=De[0],Ge=De[1],Je=Object(a.useState)(\"\"),Ke=Je[0],We=Je[1],Be=Object(a.useState)(\"\"),Ue=Be[0],qe=Be[1],ze=Object(a.useState)(\"\"),Xe=ze[0],Ye=ze[1],$e=Object(a.useState)([]),Qe=$e[0],Ze=$e[1],et=Object(a.useState)(!1),tt=et[0],nt=et[1],at=Object(a.useState)([]),rt=at[0],ot=at[1],ct=Object(a.useState)([]),it=ct[0],st=ct[1],lt=Object(a.useState)([]),ut=lt[0],dt=lt[1],pt=Object(a.useState)(!1),ft=pt[0],gt=pt[1],mt=Object(a.useState)(0),bt=mt[0],ht=mt[1],vt=Object(a.useState)(null),wt=vt[0],Ot=vt[1],jt=Object(a.useState)(null),St=(jt[0],jt[1]),yt=Object(a.useState)(null),kt=yt[0],xt=yt[1],Ct=Object(a.useState)(\"\"),Tt=Ct[0],Nt=Ct[1],Et=Object(a.useState)(\"\"),It=Et[0],_t=Et[1],At=Object(a.useState)({loaded:!1}),Ft=(At[0],At[1]),Mt=Object(a.useState)(!1),Ht=Mt[0],Vt=Mt[1],Pt=Object(a.useState)(!1),Lt=Pt[0],Dt=Pt[1],Rt=Object(a.useState)(\"claimed\"),Gt=Rt[0],Jt=Rt[1],Kt=Object(a.useState)(!1),Wt=Kt[0],Bt=Kt[1],Ut=Object(a.useState)(null),qt=Ut[0],zt=Ut[1],Xt=Object(a.useState)(\"\"),Yt=Xt[0],$t=Xt[1],Qt=Object(a.useState)(\"\"),Zt=Qt[0],en=Qt[1],tn=Object(a.useState)(\"\"),nn=tn[0],an=tn[1],rn=Object(a.useState)([]),on=rn[0],cn=rn[1],sn=Object(a.useState)(!1),ln=sn[0],un=sn[1],dn=Object(a.useState)(\"\"),pn=dn[0],fn=dn[1],gn=Object(a.useState)(!1),mn=gn[0],bn=gn[1],hn=Object(a.useState)(\"\"),vn=hn[0],wn=hn[1],On=Object(a.useState)(!1),jn=On[0],Sn=On[1],yn=Object(a.useState)(!1),kn=(yn[0],yn[1],Object(a.useState)(!1)),xn=kn[0],Cn=kn[1],Tn=Object(a.useState)(!1),Nn=Tn[0],En=Tn[1],In=Object(a.useState)(!1),_n=In[0],An=(In[1],Object(a.useState)(\"\")),Fn=An[0],Mn=(An[1],Object(a.useState)(!1)),Hn=Mn[0],Vn=Mn[1],Pn=Object(a.useState)(!1),Ln=Pn[0],Dn=Pn[1],Rn=Object(a.useState)(null),Gn=Rn[0],Jn=Rn[1],Kn=Object(a.useState)(!1),Wn=Kn[0],Bn=Kn[1],Un=Object(a.useState)(null),qn=Un[0],zn=Un[1],Xn=Object(a.useState)(!1),Yn=Xn[0],$n=Xn[1],Qn=Object(a.useState)(null),Zn=Qn[0],ea=Qn[1],ta=Object(a.useState)(null),na=ta[0],aa=ta[1],ra=Object(a.useState)(null),oa=ra[0],ca=ra[1],ia=Object(a.useState)(!1),sa=ia[0],la=ia[1],ua=Object(a.useState)(!1),da=ua[0],pa=ua[1],fa=Object(a.useState)(!1),ga=fa[0],ma=fa[1],ba=Object(a.useState)(!1),ha=(ba[0],ba[1]),va=Object(a.useState)(null),wa=va[0],Oa=va[1],ja=Object(a.useState)({name:\"\",image:\"\",metadata:\"\"}),Sa=ja[0],ya=ja[1],ka=Object(a.useState)({name:\"\",chain:\"\",4:\"\",1:\"\",tokenId:{},serialNumber:{hex:\"\"}}),xa=ka[0],Ca=ka[1],Ta=Object(a.useState)(!1),Na=Ta[0],Ea=Ta[1],Ia=Object(a.useState)({}),_a=(Ia[0],Ia[1]),Aa=Object(H.b)(M.p.vaultHandler[n],M.p.vaultHandlerAbi,!0),Fa=Object(H.b)(M.p.vaultHandlerV8[n],M.p.vaultHandlerV8Abi,!0),Ma=Object(H.b)(M.p.emblemVault[n],M.p.emblemAbi,!0),Ha=Object(H.b)(M.p.coval[n],M.p.covalAbi,!0),Va=Object(s.a)(),Pa=Va.isOpen,La=Va.onOpen,Da=Va.onClose,Ra=Object(s.a)(),Ga=Ra.isOpen,Ja=Ra.onOpen,Ka=Ra.onClose,Wa=Object(s.a)(),Ba=Wa.isOpen,Ua=Wa.onOpen,qa=Wa.onClose,za=Object(s.a)(),Xa=za.isOpen,Ya=za.onToggle,$a=Object(s.a)(),Qa=($a.isOpen,$a.onToggle,Object(l.c)().colorMode),Za=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new A.a(e,M.p.erc1155Abi,o.getSigner(t).connectUnchecked())},er=function(){console.log(\"Delayed Minting\"),la(!1),pa(!0),ma(!0),console.log(\"---------@@@@@------\",M.p.vaultHandler[n]);var e=ut.filter((function(e){return\"ETH\"==e.coin}))[0].address;Aa.buyWithSignature(t,xe,e,Zn,na).then((function(e){var t=e.hash;setTimeout((function(){xt(t),pa(!1)}),100)})).catch((function(e){pa(!1)}))},tr=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(M.g+\"/vault/balance/\"+n,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,console.log(\"responce\",r,o),!(o.balances.length>0)){e.next=11;break}return e.abrupt(\"return\",a(t.concat(o.balances)));case 11:return e.abrupt(\"return\",a(t));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),nr=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"getvault\"),e.next=3,fetch(M.g+\"/v2/meta/\"+xe+\"?experimental=true\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).collectionAddress&&(ha(!0),Oa(n.collectionAddress)),n.name?(console.log(\"--------------- states -\",n),ar(n),un(!1),Sn(!1)):(Ft({loaded:!0}),Sn(!0));case 9:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ar=function(e){ye&&e.image&&!e.image.includes(\"framed=\")&&!e.image.includes(\"http\")&&(e.image=e.image+\"&framed=\"+ye),e.ciphertextV2&&(Ge(e.ciphertextV2),console.log(\"ciphertextV2\",e.ciphertextV2)),Ae(e.name),qe(e.image),Ye(e.ownedImage||null),We(e.description),ht(e.totalValue||0),e.values&&Ze(Qe.concat(e.values)),e.attributes&&ot(e.attributes.filter((function(e){return\"key\"===e.trait_type}))),e.attributes&&st(e.attributes),dt(e.addresses),He(e.ipfs||null),Le(e.image_ipfs||null),e.targetContract&&e.targetContract.tokenId==xe&&L(!0),e.targetAsset&&ya(e.targetAsset),e.targetContract&&Ca(e.targetContract),e.values&&e.targetAsset&&e.values.filter((function(t){return t.coin.toLowerCase()==e.targetContract.chain&&t.name==e.targetAsset.name&&t.project==e.targetContract.name})).length>0&&Ea(!0),$n(0!=e.live),ea(e.nonce),aa(e.signature),ca(e.to),St(e.network),Ot(\"mainnet\"==e.network?1:\"rinkeby\"==e.network?4:\"goerli\"==e.network?5:\"mumbai\"==e.network?80001:\"matic\"==e.network?137:\"xdai\"==e.network?100:\"bsc\"==e.network?56:\"fantom\"==e.network?250:\"bitcoin\"==e.network?0:\"aurora\"==e.network?1313161554:97),e.live||(console.log(\"check liveliness start\"),function(e,t,a){console.log(\"check liveliness next\",t);var r=t.name?M.g+\"/v2/liveliness-curated\":M.g+\"/liveliness\";fetch(r,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,$n(n.live),console.log(\"Liveliness check\",n);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a(!1)}(xe,e.targetContract,(function(e){$n(e)}))),Jt(e.status),\"claimed\"===Gt&&zt(e.claimedBy),Ft({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes(\"private:\")})).length>0;gt(t),e.sealed?Bt(!0):Bt(!1)},rr=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!tt){e.next=2;break}return e.abrupt(\"return\",a(!1));case 2:return nt(!0),e.next=5,fetch(M.g+\"/vault/balance/\"+n+\"?live=true\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 5:return r=e.sent,e.next=8,r.json();case 8:if(o=e.sent,console.log(\"responce\",r,o),!(o.balances.length>0)){e.next=14;break}return e.abrupt(\"return\",a(t.concat(o.balances)));case 14:return e.abrupt(\"return\",a(t));case 15:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),or=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a,r){var o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(M.g+\"/vault/balance/\"+n+\"/\"+a,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(i=e.sent,console.log(\"responce\",o,i),!(i.balances.length>0)){e.next=11;break}return e.abrupt(\"return\",r(t.concat(i.balances)));case 11:return e.abrupt(\"return\",r(t));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),cr=function(){var e=localStorage.getItem(t+\"_\"+n+\"_\"+xe+\"_mintPassword\");e&&_n&&we(e)},ir=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r){var o,i,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append(\"chainid\",n.toString()),o.append(\"Content-Type\",\"application/json\"),i=JSON.stringify({signature:t,tokenId:a}),e.next=6,fetch(M.n+\"/sign\",{method:\"POST\",headers:o,body:i,redirect:\"follow\"});case 6:return s=e.sent,e.next=9,s.json();case 9:return l=e.sent,e.abrupt(\"return\",r(l));case 11:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function sr(e,t,n){return lr.apply(this,arguments)}function lr(){return(lr=Object(i.a)(c.a.mark((function e(t,n,a){var r,o,i,s,l,u,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new q.a({network:\"https://solemn-restless-diagram.ropsten.discover.quiknode.pro/37fca8f14d3a42d9ec00f50a3f6adc404d5e2a04/\",proxyAddress:\"0x6258c9d6c12ed3edda59a1a6527e469517744aa7\"}),o=new z.a({enableOneKey:!0,network:\"testnet\"}),e.next=4,r.getNodeDetails({verifier:\"tor-us-signer-vercel\",verifierId:t});case 4:return i=e.sent,s=i.torusNodeEndpoints,l=i.torusIndexes,e.next=9,o.retrieveShares(s,l,\"tor-us-signer-vercel\",{verifier_id:t},n);case 9:return u=e.sent,d=u.privKey,e.abrupt(\"return\",a({privateKey:d}));case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var ur=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r){var o,i,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append(\"chainId\",n.toString()),o.append(\"service\",\"evmetadata\"),o.append(\"Content-Type\",\"application/json\"),i=JSON.stringify({signature:t}),e.next=7,fetch(M.g+\"/embed/\"+a,{method:\"POST\",headers:o,body:i,redirect:\"follow\"});case 7:return s=e.sent,e.next=10,s.json();case 10:return l=e.sent,e.abrupt(\"return\",r(l));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),dr=function(){var e=Object(i.a)(c.a.mark((function e(){var a,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return(o=Object(i.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xa[n]){e.next=10;break}return console.log(\"@@@@@@@@@@@@@------- checking approved start\",\"me\",t,\"v8\",M.p.vaultHandlerV8[n]),e.next=4,Ma.isApprovedForAll(t,M.p.vaultHandlerV8[n]);case 4:r=e.sent,me(r),console.log(\"@@@@@@@@@@@@@------- checking approved end\",\"approved\",r,\"acceptable\",_n,\"mine\",Ht),console.log(\"price\",se,\"decimals\",Z,\"allowance\",ne,\"balance\",oe,\"isCovalApproved\",de),e.next=14;break;case 10:return e.next=12,Ma.isApprovedForAll(t,M.p.vaultHandler[n]);case 12:r=e.sent,me(r);case 14:zn(a),Vt(a===t),cr();case 17:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)},r=function(){return o.apply(this,arguments)},console.log(\"Contract states\"),!1,e.prev=4,!xa[n]){e.next=29;break}return Ma=Za(xa[n]),e.t0=ee,e.next=10,Ha.decimals();case 10:return e.t1=e.sent,(0,e.t0)(e.t1),le(250*Math.pow(10,Z)),e.t2=ae,e.next=16,Ha.allowance(t,M.p.vaultHandlerV8[n]).then((function(e){return e.toString()}));case 16:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=ce,e.next=21,Ha.balanceOf(t).then((function(e){return e.toString()}));case 21:return e.t5=e.sent,(0,e.t4)(e.t5),Number(ne)>=Number(se)?pe(!0):pe(!1),e.next=26,Ma.getOwnerOfSerial(xa.serialNumber);case 26:a=e.sent,e.next=32;break;case 29:return e.next=31,Ma.ownerOf(xe);case 31:a=e.sent;case 32:r(),e.next=39;break;case 35:e.prev=35,e.t6=e.catch(4),a=\"0x0000000000000000000000000000000000000000\",r();case 39:case\"end\":return e.stop()}}),e,null,[[4,35]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log(\"mine?\",Ht),console.log(\"claiming?\",Lt),console.log(\"accepting?\",xn),console.log(\"acceptable\",_n),console.log(\"-----\",Yn,oa,t,wt,n,Gt,da,Re)}));var pr=function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage(\"Renew: \"+xe).then((function(e){var t=ut.filter((function(e){return\"NMC\"==e.coin}))[0].address;console.log(\"signature\",e,a),fetch(M.g+\"/nmc/renew/\"+t,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({tokenId:xe,signature:e,name:a})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(\"Requested Renew\",n);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fr=function(){var e=Object(i.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xa[n]&&(Ma=Za(xa[n]),a=xa.serialNumber),o.getSigner(t).signMessage(\"Claim: \"+(xa[n]?a:xe)).then((function(e){ir(e,xe,(function(e){sr(xe,e.token,(function(e){var t=P.a.AES.decrypt(Re,e.privateKey),n=JSON.parse(t.toString(P.a.enc.Utf8));cn(n.values),$t(n.phrase),ut.forEach(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(\"STX\"!=t.coin){e.next=6;break}return e.next=3,gr(t,n.phrase);case 3:t.key=e.sent,e.next=7;break;case 6:t.key=window.phrasePathToKey(n.phrase,t.path);case 7:\"BTC\"==t.coin&&en(t.key),\"ETH\"==t.coin&&an(t.key);case 9:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ja()}))}))}));case 2:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gr=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.a)({secretKey:n,password:\"\"});case 2:return a=e.sent,console.log(\"------ stacks account -\",a.accounts[0]),r=a.accounts[0],t.key=r.stxPrivateKey,e.abrupt(\"return\",t.key);case 7:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),mr=function(){var e=Object(i.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage(\"HideAsset: \"+xe).then((function(e){console.log(\"----------------------------------------------------------------\",e),console.log(n.name,n.coin,n.address),br(xe,n.coin,n.address,n.name,e,(function(){console.log(\"Done hiding coin and getting new balances\")}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function br(e,t,a,r,o,s){fetch(M.g+\"/hide/\"+e,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({coin:t||null,address:a||null,name:r||null,signature:o||null})}).then(function(){var t=Object(i.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log(\"-------\",a),tr([],e,(function(e){return Ze(e),s()}));case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var hr=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage(\"Embed: \"+xe).then((function(e){ur(e,xe,(function(e){qe(e.ownedImage)}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vr=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xa[n]?Fa.claim(xa[n],xa.tokenId).then((function(e){var t=e.hash;Dt(!0),setTimeout((function(){xt(t)}),100)})):Ma.burn(xe).then((function(e){var t=e.hash;Dt(!0),setTimeout((function(){xt(t)}),100)}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),wr=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,r,o,i,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e){for(var c=0;c<r-i;c++){var u=Math.floor(t.length*Math.random()),d=t.charAt(u);s+=d}o==a-1&&i++,o==a&&(l+=n.charAt(i-1),o=0),fn(l+s),s=\"\"},!mn){e.next=3;break}return e.abrupt(\"return\");case 3:bn(!0),t=\"abcdefghijklmnopqrstuvwxyz\",5,r=(n=\"Decrypting\").length,o=0,i=0,s=\"\",l=\"\",function e(t){setTimeout((function(){--t?e(t):bn(!1),u(t),o+=1}),5)}(r*(a=8)+1);case 14:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Or(e){return(e?e.split(\"\\n\\n\\n\\n\"):[\" \"])[0].trim()}function jr(e){vn&&(e=vn),wr(),console.log(ut);var t=ut[0].address.replace(\"private:\",\"\");try{var n=P.a.AES.decrypt(t,e);JSON.parse(n.toString(P.a.enc.Utf8)),gt(!1),wn(e),dt(function(e){return ut.forEach((function(t){if(t.address.includes(\"private\")){var n=t.address.replace(\"private:\",\"\");t.address=function(e,t){var n=P.a.AES.decrypt(e,t);return JSON.parse(n.toString(P.a.enc.Utf8))}(n,e)}})),ut}(e));var a=ut.filter((function(e){return\"ETH\"===e.coin}))[0].address,r=ut.filter((function(e){return\"BTC\"===e.coin}))[0].address;console.log(\"SUCCESS\",ut),or([],a,r,(function(e){Ze(e)}))}catch(o){console.log(\"WTF\",o)}}return Object(a.useEffect)((function(){console.log(\"----\"),nr()}),[]),Object(a.useEffect)((function(){(t&&n&&wt&&n==wt||E.noLayout&&\"true\"==E.noLayout||E.slideshowOnly&&\"true\"==E.slideshowOnly)&&dr()})),wa&&(Ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new A.a(e||M.p.emblemVault[n],M.p.emblemAbi,o.getSigner(t).connectUnchecked())}(wa||null)),X(r.a.Fragment,null,X(x.a,null,X(\"meta\",{name:\"twitter:card\",content:\"summary_large_image\"}),X(\"meta\",{name:\"twitter:site\",content:\"Emblem.Finance\"}),X(\"meta\",{name:\"twitter:title\",content:_e}),X(\"meta\",{name:\"twitter:description\",content:Or(Ke)}),X(\"meta\",{name:\"twitter:image\",content:Ue}),X(\"script\",{dangerouslySetInnerHTML:{__html:'\\n              // $(\".NFT\").tilt({    \\n              //     maxTilt: 3\\n              // });\\n              $(\".NFT\").trigger(\\'mouseenter\\');\\n              $(\".NFT\").trigger(\\'mouseclick\\'), \\'.NFT\\';\\n              if (localStorage.getItem(\"darkMode\") == \\'false\\') {\\n                localStorage.setItem(\"darkMode\",\"true\"); location.href = location.href\\n              }\\n              '}})),X(Y,{isOpen:Pa,onClose:Da,addrCoin:Tt,addrAddr:It}),X($,{isOpen:Ga,onClose:Ka,mnemonic:Yt,privKeyBTC:Zt,privKeyETH:nn,privValues:on,addresses:ut}),je?X(Q,{isOpen:Ba,onClose:qa,tokenId:xe,mine:Ht}):null,X(u.a,{height:\"40px\"}),ln?X(N.a,null):\"\",jn||Ee?Qe.length>0&&Ee?X(p.a,{className:\"NFT-content\",align:\"center\"},Qe.length&&Qe.filter((function(e){return\"nft\"==e.type})).length>0?X(K.a,{name:_e,image:Qe[0].image,items:Qe.filter((function(e){return e.image!==Qe[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):X(J.b,{className:\"d-block w-100 NFT-image\",url:Ue})):jn?X(p.a,{align:\"center\"},X(S.a,{width:\"md\",src:\"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg\"}),X(g.a,null,\"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR\",\" \",X(m.a,{color:\"#638cd8\",href:\"../create\"},\"CREATE ONE HERE!\"))):null:X(d.a,{width:\"full\",align:\"center\",justifyContent:\"center\"},X(u.a,{className:\"NFT\",maxW:\"sm\",borderWidth:\"1px\",borderColor:wt!=n?\"orange.500\":\"claimed\"==Gt?\"green.500\":null,rounded:\"lg\",overflow:\"hidden\",alignItems:\"center\",minW:390},X(u.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",textTransform:\"uppercase\",alignItems:\"center\",color:\"blue.500\"},\"Vault Network: \",_.a[wt]),X(u.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",alignItems:\"center\"},_e,!ft&&bt>0?\": ~$\"+bt.toLocaleString():null),X(p.a,{className:\"NFT-content\",align:\"center\"},X(J.b,{className:\"d-block w-100 NFT-image\",url:Ue}),Ht&&Xe?X(f.a,{onClick:function(){hr()}},\"(OWNED) Show Full Embed\"):null),X(p.a,{align:\"center\"},X(u.a,{mt:\"2\",ml:\"4\",lineHeight:\"tight\"},X(p.a,null,X(g.a,{fontSize:\"xs\"},V||wt!=n?null:X(m.a,{href:\"./vaults?address=\"+qn},\"Owner: \",qn)),X(g.a,{mt:2,as:\"h4\",ml:\"4\",mr:\"4\",fontSize:\"xs\",fontStyle:\"italic\",className:\"md\"},X(D.a,{plugins:[G.a],children:Or(Ke)}))))),X(u.a,{p:\"6\"},V?null:X(b.f,{isFitted:!0,variant:\"enclosed\"},X(b.c,{mb:\"1em\"},X(b.a,null,\"Balances\"),X(b.a,null,\"Attributes\")),X(b.e,null,X(b.d,null,ft?X(u.a,{mb:5},X(g.a,{pb:2,color:pn?\"green.500\":null},pn||\"Contents hidden. Enter password to unlock.\"),X(h.a,{type:\"password\",id:\"vault-password\",onChange:function(e){return jr(e.target.value)},\"aria-describedby\":\"password-helper-text\"})):X(u.a,{d:\"flex\",backgroundColor:\"light\"==Qa?\"gray.100\":\"gray.700\",alignItems:\"baseline\",className:\"coin-balance-content\"},X(u.a,{color:\"gray.500\",letterSpacing:\"wide\",fontSize:\"sm\",ml:\"2\"},X(g.a,{as:\"h4\",mt:2,fontWeight:\"semibold\"},\"Current Contents:  \",X(\"button\",{onClick:function(){rr([],xe,(function(e){nt(!1),Ze(e)}))}},\" [Refresh Balances]\")),X(g.a,{as:\"p\",color:\"dark\"==Qa?\"lightgreen\":\"forestgreen\"},\"$\",Number(bt.toFixed(4)).toLocaleString()),Qe.length?Qe.map((function(e){return X(p.a,null,X(W.a,{colorMode:Qa,coin:e,mine:\"claimed\"===Gt&&qt===t||Ht,onRenew:pr,hideAsset:!Sa.name&&mr}))})):X(N.a,null),rt.length?rt.map((function(e){return X(g.a,null,\"Data: \",e.attribute_key)})):rt.length||Qe.length?null:X(g.a,null,\"Nothing in here! Fill 'er up!\")))),X(b.d,null,X(B.a,{colorMode:Qa,attributes:it})))),V||ft?null:X(u.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(v.a,{justifyContent:\"space-between\",spacing:6},X(p.a,null,X(g.a,null,\"Deposit Addresses\"),X(d.a,{w:\"340px\",justify:\"center\",flexWrap:\"wrap\"},ut.map((function(e){return X(f.a,{className:\"address_nft_button\",ml:2,mt:2,\"font-weight\":\"100 !important\",key:e.address,onClick:function(){Nt(e.coin),_t(e.address),La()}},\"ETH\"==e.coin?e.coin+\"\":\"BTC\"==e.coin?e.coin+\"/XCP/OMNI\":\"BCH\"==e.coin?e.coin+\"/SLP\":e.coin)})))))),V||\"claimed\"!==Gt&&Yn&&(1===wt||4===wt||5===wt||137===wt)?X(u.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(f.a,{className:\"nft_button\",width:\"50%\",m:5,onClick:function(){window.open(\"https://\"+(4==wt?\"rinkeby.\":5==wt?\"testnets.\":\"\")+\"opensea.io/assets/\"+(137==wt?\"matic/\":5==wt?\"goerli/\":\"\")+(wa||(xa[n]?xa[n]:M.p.emblemVault[wt]))+\"/\"+(xa?xa.tokenId:xe),\"_blank\")}},\"Opensea\"),X(f.a,{className:\"nft_button\",width:\"50%\",m:5,onClick:function(){window.open(\"https://\"+(4==wt?\"rinkeby.\":5==wt?\"goerli.\":\"\")+\"looksrare.org/collections/\"+(137==wt?\"matic/\":\"\")+(wa||(xa?xa[n]:M.p.emblemVault[wt]))+\"/\"+(xa?xa.tokenId:xe),\"_blank\")}},\"LooksRare\"),je?X(f.a,{className:\"\",onClick:function(){Ua()}},Ht?\"My Offers\":\"Make an Offer\",\" (NFT\\xb2NFT)\"):null):null,!V&&Yn&&\"claimed\"!==Gt&&Ht&&!_n?X(r.a.Fragment,null,X(u.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\",width:\"100%\"},X(p.a,{direction:\"column\",align:\"center\",width:\"100%\"},X(f.a,{className:\"nft_button\",width:\"100%\",onClick:Ya},\"Transfer Vault\"),X(w.a,{isOpen:Xa},X(u.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"2\",width:\"100%\"},X(O.a,{htmlFor:\"owner-address\"},\"Address\"),X(h.a,{mt:1,type:\"text\",id:\"transferAddress\",value:Gn||\"\",onChange:function(e){console.log(\"Transfer to\",e.target.value),Jn(e.target.value)},autoComplete:\"off\"})),X(u.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"2\",width:\"100%\"},X(f.a,{isDisabled:!Object(_.k)(Gn),onClick:function(){Ya(),Bn(!0),Ma.transferFrom(t,Gn,xe).then((function(e){var t=e.hash;xt(t)})).catch((function(e){}))}},\"Transfer Now\")))))):null,V||!Ht||_n||ge?null:X(r.a.Fragment,null,X(u.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(f.a,{className:\"nft_button\",width:\"100%\",onClick:function(){if(!ge)return En(!0),void(xa.name?(Ma=Za(xa[n])).setApprovalForAll(M.p.vaultHandlerV8[n],!0).then((function(e){var t=e.hash;setTimeout((function(){xt(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log(\"tx failed.\",e):En(!1)})):Ma.setApprovalForAll(M.p.vaultHandler[n],!0).then((function(e){var t=e.hash;setTimeout((function(){xt(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log(\"tx failed.\",e):En(!1)})))}},\"Approve Claiming\"))),!V&&(Hn||ve)&&_n?X(u.a,null,X(m.a,{href:location.protocol+\"//\"+location.host+\"/nft?id=\"+xe+\"&key=\"+(Fn||ve)},\"Copy Gift Link\"),X(g.a,null,\"Password: \",Fn||ve)):null,!V&&Yn&&\"claimed\"!==Gt&&t&&wt===n&&Ht&&!Wt&&ge?X(u.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(f.a,{width:\"100%\",onClick:function(){vr()},isDisabled:Lt},Lt?\"Claiming ...\":\"Claim (Crack Open Vault)\")):null,V||\"claimed\"!=Gt||qt!==t||wt!==n?null:X(u.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(f.a,{width:\"100%\",onClick:fr},\"Get Keys\")),de||Nn||oa!=t?null:X(f.a,{width:\"100%\",mt:5,onClick:function(){En(!0);var e=xa.name?M.p.vaultHandlerV8[n]:M.p.vaultHandler[n];Ha.approve(e,\"100000000000000\").then((function(e){var t=e.hash;xt(t)})).catch((function(e){4001==(null===e||void 0===e?void 0:e.code)&&En(!1)}))},type:\"submit\"},\"Approve Coval\"),V||Yn||Nn||!de||oa!=t||wt!=n||\"claimed\"===Gt||da?null:X(r.a.Fragment,null,xa.name?X(f.a,{width:\"100%\",mt:5,onClick:function(){o.getSigner(t).signMessage(\"Curated Minting: \"+xe).then((function(e){console.log(\"sig\",e),fetch(M.g+\"/v2/mint-curated\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"},body:JSON.stringify({tokenId:xe,signature:e,chainId:n.toString()})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(\"WTFFFFF\"),console.log(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1),_a(n),Fa.buyWithSignedPrice(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1).then((function(e){var t=e.hash;setTimeout((function(){xt(t),pa(!0),ma(!0)}),100)})).catch((function(e){console.log(\"ERROR\",e),pa(!1),ma(!1)}));case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},isDisabled:!Na},\" Mint Vault \"):X(f.a,{width:\"100%\",mt:5,onClick:function(){o.getSigner(t).signMessage(\"Delayed Minting: \"+xe).then((function(e){console.log(\"sig\",e),fetch(M.g+\"/lazyMint\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:n.toString()},body:JSON.stringify({tokenId:xe,signature:e})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(\"data\",n.data),aa(n.data.signature),ea(n.data.nonce),la(!0),setTimeout((function(){er()}),500);case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},\"Mint Vault \")),Yn&&\"claimed\"!=Gt||oa!=t||wt!=n||da||!(Qe.length<1)?null:X(f.a,{width:\"100%\",mt:5,onClick:function(){o.getSigner(t).signMessage(\"Delete: \"+xe).then((function(e){console.log(\"sig\",e),fetch(M.g+\"/v2/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"},body:JSON.stringify({tokenId:xe,signature:e,chainId:n.toString()})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:e.sent,location.href=location.href.split(\"/\")[0]+\"/vaults\";case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},\"Delete Vault \"),sa?X(f.a,{isDisabled:!0,type:\"submit\"},\"Verifying Signature ...\"):null,da?X(f.a,{isDisabled:!0,type:\"submit\"},\"Minting Vault ...\"):null),!V&&Me?X(p.a,null,X(y.a,{align:\"center\"},X(m.a,{target:\"new\",mb:2,ml:35,href:\"https://gateway.ipfs.io/ipfs/\"+Me,isExternal:!0},\"View Metadata on IPFS \"),Pe?X(m.a,{mb:2,href:\"https://gateway.ipfs.io/ipfs/\"+Pe,isExternal:!0},\"View Image on IPFS \"):null)):null,Wt?X(u.a,{d:\"flex\",mb:2,ml:35,alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(g.a,null,\"*This vault is sealed forever.\")):null,X(p.a,{direction:\"column\",align:\"center\"},\"claimed\"==Gt?X(g.a,{color:\"green.500\"},\"CLAIMED\"):null),kt?X(j.a,{status:\"info\"},X(j.b,null),xn?\"Accepting Your Gift Vault\":Lt?\"Claiming your Vault ...\":Nn?\"Handling Approval Flow ...\":Wn?\"Transfering Vault ...\":ga?\"Minting Vault\":\"Generating Gift Link ...\"):null)),kt?X(F.a,{hash:kt,onComplete:function(){var e;!Lt||xn||Ln?Ln?(localStorage.setItem(t+\"_\"+n+\"_\"+xe+\"_mintPassword\",Fn),Vn(!0),Dn(!1),xt(null)):xn?(Cn(!1),nr(),xt(null)):Nn?(En(!1),nr(),xt(null)):Wn?(Bn(!1),nr(),xt(null)):ga?(console.log(\"GOD SAKES REDIRECT\"),ma(!1),xt(null),pa(!1),location.href=location.origin+\"/nft?id=\"+xe):(console.log(\"minting\",ga),console.log(\"claiming\",Lt),console.log(\"accepting\",xn),console.log(\"preTransfering\",Ln),console.log(\"approving\",Nn),console.log(\"Unknown state\")):(xt(null),Jt(\"claimed\"),Dt(!1),zt(t),e=function(){location.href=location.origin+\"/nft?id=\"+xe},fetch(M.g+\"/web3/selfClaimLogs?chainId=\"+n.toString()+\"_vercel_no_cache=1\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}}).then(function(){var t=Object(i.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log(\"Log check\",a),t.abrupt(\"return\",e());case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,X(u.a,{height:\"40px\"}))}var ee=r.a.createElement;function te(){return ee(Z,null)}},RuSG:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/nft2\",function(){return n(\"EM35\")}])}},[[\"RuSG\",1,0,9,13,22,2,3,4,5,7,6,8,11,10,15,17,20,19,18,21,24]]]);","extractedComments":[]}