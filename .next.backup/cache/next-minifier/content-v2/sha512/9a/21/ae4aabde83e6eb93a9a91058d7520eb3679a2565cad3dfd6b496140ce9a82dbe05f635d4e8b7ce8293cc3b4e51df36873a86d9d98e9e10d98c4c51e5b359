{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{ePsk:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return Q}));var a=n(\"o0o1\"),r=n.n(a),o=n(\"HaE+\"),c=n(\"q1tI\"),i=n.n(c),s=n(\"XZ7F\"),u=n(\"mf32\"),l=n(\"BMxC\"),f=n(\"Weur\"),d=n(\"Yn+B\"),p=n(\"eJLp\"),m=n(\"sK1y\"),g=n(\"pboS\"),h=n(\"wCB1\"),b=n(\"FpzS\"),v=n(\"IP4Q\"),w=n(\"MKZ1\"),O=n(\"jgTY\"),S=n(\"LqLE\"),j=n(\"bQFp\"),y=n(\"wZsY\"),k=n(\"8Kt/\"),x=n.n(k),C=n(\"Z6YE\"),T=n(\"nOHt\"),N=n(\"Ute3\"),A=n(\"a6RD\"),E=n.n(A),I=n(\"iBPG\"),_=n(\"8XlW\"),M=n(\"zIq6\"),F=n(\"N39q\"),H=n(\"21eR\"),V=n(\"NFKh\"),L=n.n(V),P=n(\"IujW\"),D=n.n(P),G=n(\"wH4i\"),J=n.n(G),W=n(\"PLxQ\"),K=n(\"zNBI\"),B=n(\"fksj\"),R=(n(\"Q/0U\"),n(\"r9y0\")),U=n(\"diTF\"),z=n(\"PSLY\"),q=n(\"FGWJ\"),X=i.a.createElement,Y=E()((function(){return Promise.all([n.e(16),n.e(18),n.e(30)]).then(n.bind(null,\"X/Jl\"))}),{loadableGenerated:{webpack:function(){return[\"X/Jl\"]},modules:[\"./AddrModal\"]}}),Z=E()((function(){return Promise.all([n.e(16),n.e(18),n.e(31)]).then(n.bind(null,\"0bCS\"))}),{loadableGenerated:{webpack:function(){return[\"0bCS\"]},modules:[\"./KeysModal\"]}}),$=E()((function(){return Promise.all([n.e(16),n.e(18),n.e(32)]).then(n.bind(null,\"D3uo\"))}),{loadableGenerated:{webpack:function(){return[\"D3uo\"]},modules:[\"./OfferModal\"]}});function Q(){var e,t=Object(C.b)(),n=t.account,a=t.chainId,k=t.library,A=Object(T.useRouter)(),E=A.query,V=Object(c.useState)(\"t\"==E.cc),P=V[0],G=(V[1],Object(c.useState)(!1)),Q=G[0],ee=G[1],te=Object(c.useState)(E.useOldMint),ne=te[0],ae=(te[1],Object(c.useState)(E.key)),re=ae[0],oe=ae[1],ce=Object(c.useState)(E.offer||!1),ie=ce[0],se=(ce[1],Object(c.useState)(E.framed||!0)),ue=se[0],le=(se[1],Object(c.useState)(E.id)),fe=le[0],de=(le[1],Object(c.useState)(E.experimental)),pe=(de[0],de[1],Object(c.useState)(E.noLayout)),me=(pe[0],pe[1],Object(c.useState)(E.slideshowOnly||!1)),ge=me[0],he=(me[1],Object(c.useState)(\"\")),be=he[0],ve=he[1],we=Object(c.useState)(\"\"),Oe=we[0],Se=we[1],je=Object(c.useState)(\"\"),ye=je[0],ke=je[1],xe=Object(c.useState)(\"\"),Ce=xe[0],Te=xe[1],Ne=Object(c.useState)(\"\"),Ae=Ne[0],Ee=Ne[1],Ie=Object(c.useState)(\"\"),_e=Ie[0],Me=Ie[1],Fe=Object(c.useState)(\"\"),He=Fe[0],Ve=Fe[1],Le=Object(c.useState)([]),Pe=Le[0],De=Le[1],Ge=Object(c.useState)(!1),Je=Ge[0],We=Ge[1],Ke=Object(c.useState)([]),Be=Ke[0],Re=Ke[1],Ue=Object(c.useState)([]),ze=Ue[0],qe=Ue[1],Xe=Object(c.useState)([]),Ye=Xe[0],Ze=Xe[1],$e=Object(c.useState)(!1),Qe=$e[0],et=$e[1],tt=Object(c.useState)(0),nt=tt[0],at=tt[1],rt=Object(c.useState)(null),ot=rt[0],ct=rt[1],it=Object(c.useState)(null),st=(it[0],it[1]),ut=Object(c.useState)(null),lt=ut[0],ft=ut[1],dt=Object(c.useState)(\"\"),pt=dt[0],mt=dt[1],gt=Object(c.useState)(\"\"),ht=gt[0],bt=gt[1],vt=Object(c.useState)({loaded:!1}),wt=(vt[0],vt[1]),Ot=Object(c.useState)(!1),St=Ot[0],jt=Ot[1],yt=Object(c.useState)(!1),kt=yt[0],xt=yt[1],Ct=Object(c.useState)(\"claimed\"),Tt=Ct[0],Nt=Ct[1],At=Object(c.useState)(!1),Et=At[0],It=At[1],_t=Object(c.useState)(null),Mt=_t[0],Ft=_t[1],Ht=Object(c.useState)(\"\"),Vt=Ht[0],Lt=Ht[1],Pt=Object(c.useState)(\"\"),Dt=Pt[0],Gt=Pt[1],Jt=Object(c.useState)(\"\"),Wt=Jt[0],Kt=Jt[1],Bt=Object(c.useState)([]),Rt=Bt[0],Ut=Bt[1],zt=Object(c.useState)(!1),qt=zt[0],Xt=zt[1],Yt=Object(c.useState)(\"\"),Zt=Yt[0],$t=Yt[1],Qt=Object(c.useState)(!1),en=Qt[0],tn=Qt[1],nn=Object(c.useState)(\"\"),an=nn[0],rn=nn[1],on=Object(c.useState)(!1),cn=on[0],sn=on[1],un=Object(c.useState)(!1),ln=(un[0],un[1],Object(c.useState)(!1)),fn=ln[0],dn=ln[1],pn=Object(c.useState)(!1),mn=pn[0],gn=pn[1],hn=Object(c.useState)(!1),bn=hn[0],vn=hn[1],wn=Object(c.useState)(\"\"),On=wn[0],Sn=wn[1],jn=Object(c.useState)(!1),yn=jn[0],kn=jn[1],xn=Object(c.useState)(!1),Cn=xn[0],Tn=xn[1],Nn=Object(c.useState)(null),An=Nn[0],En=Nn[1],In=Object(c.useState)(!1),_n=In[0],Mn=In[1],Fn=Object(c.useState)(null),Hn=Fn[0],Vn=Fn[1],Ln=Object(c.useState)(!1),Pn=Ln[0],Dn=Ln[1],Gn=Object(c.useState)(null),Jn=Gn[0],Wn=Gn[1],Kn=Object(c.useState)(null),Bn=Kn[0],Rn=Kn[1],Un=Object(c.useState)(null),zn=Un[0],qn=Un[1],Xn=Object(c.useState)(!1),Yn=Xn[0],Zn=Xn[1],$n=Object(c.useState)(!1),Qn=$n[0],ea=$n[1],ta=Object(c.useState)(!1),na=ta[0],aa=ta[1],ra=Object(c.useState)(!1),oa=(ra[0],ra[1]),ca=Object(c.useState)(null),ia=ca[0],sa=ca[1],ua=Object(c.useState)({name:\"\",image:\"\",metadata:\"\"}),la=(ua[0],ua[1]),fa=Object(c.useState)({name:\"\",chain:\"\",4:\"\",1:\"\",tokenId:{},serialNumber:{hex:\"\"}}),da=fa[0],pa=fa[1],ma=Object(H.b)(F.o.vaultHandler[a],F.o.vaultHandlerAbi,!0),ga=Object(H.b)(F.o.vaultHandlerV8[a],F.o.vaultHandlerV8Abi,!0),ha=Object(H.b)(F.o.emblemVault[a],F.o.emblemAbi,!0),ba=Object(s.a)(),va=ba.isOpen,wa=ba.onOpen,Oa=ba.onClose,Sa=Object(s.a)(),ja=Sa.isOpen,ya=Sa.onOpen,ka=Sa.onClose,xa=Object(s.a)(),Ca=xa.isOpen,Ta=xa.onOpen,Na=xa.onClose,Aa=Object(s.a)(),Ea=Aa.isOpen,Ia=Aa.onToggle,_a=Object(s.a)(),Ma=_a.isOpen,Fa=_a.onToggle,Ha=Object(u.c)().colorMode,Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new _.a(e,F.o.erc1155Abi,k.getSigner(n).connectUnchecked())},La=function(e,t){return fetch(F.g+\"/liveliness\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:a.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,Dn(n.live),console.log(\"Liveliness check\",n);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t()},Pa=function(){console.log(\"Delayed Minting\"),Zn(!1),ea(!0),aa(!0);var e=Ye.filter((function(e){return\"ETH\"==e.coin}))[0].address;console.log(\"--------------------------------------------------------Delayed Minting\",n,fe,e,Jn,Bn),ma.buyWithSignature(n,fe,e,Jn,Bn).then((function(e){var t=e.hash;setTimeout((function(){ft(t),ea(!1)}),100)})).catch((function(e){console.log(\"AAAAAHHHHHH\",e.code),ea(!1)}))},Da=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"getvault\"),e.next=3,fetch(F.g+\"/meta/\"+fe+\"?experimental=true\"+(P?\"&_vercel_no_cache=1\":\"\"),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",cc:P?\"t\":\"\"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).image_ipfs,n.collectionAddress&&(oa(!0),sa(n.collectionAddress)),n.name?(Ja(n),Xt(!1),sn(!1)):(wt({loaded:!0}),sn(!0)),!Qe&&!Je&&Ka([],fe,(function(e){e&&De(e)})),n.targetContract&&setTimeout((function(){location.href=location.origin+\"/nft2?id=\"+n.targetContract.tokenId}),500);case 12:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ga=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+\"/witness/\"+fe,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",cc:\"t\",service:\"evmetadata\",chainid:a.toString()}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(o=e.sent).signature){e.next=11;break}return console.log(\"witness\",o),e.abrupt(\"return\",t(o));case 11:return e.abrupt(\"return\",t(!1));case 12:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ja=function(e){ue&&e.image&&!e.image.includes(\"framed=\")&&!e.image.includes(\"http\")&&(e.image=e.image+\"&framed=\"+ue),e.ciphertextV2&&(Te(e.ciphertextV2),console.log(\"ciphertextV2\",e.ciphertextV2)),ve(e.name),Me(e.image),Ve(e.ownedImage||null),Ee(e.description),at(e.totalValue||0),e.values&&De(Pe.concat(e.values)),e.attributes&&Re(e.attributes.filter((function(e){return\"key\"===e.trait_type}))),e.attributes&&qe(e.attributes),Ze(e.addresses),Se(e.ipfs||null),ke(e.image_ipfs||null),e.targetAsset&&la(e.targetAsset),e.targetContract&&pa(e.targetContract),e.targetContract&&setTimeout((function(){location.href=location.origin+\"/nft2?id=\"+e.tokenId}),500),0==e.live&&La(e.tokenId,(function(){})),Dn(0!=e.live),Wn(e.nonce),Rn(e.signature),qn(e.to),st(e.network),ct(\"mainnet\"==e.network?1:\"rinkeby\"==e.network?4:\"mumbai\"==e.network?80001:\"matic\"==e.network?137:\"xdai\"==e.network?100:\"bsc\"==e.network?56:\"fantom\"==e.network?250:\"bitcoin\"==e.network?0:\"aurora\"==e.network?1313161554:97),Nt(e.status),\"claimed\"===Tt&&Ft(e.claimedBy),wt({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes(\"private:\")})).length>0;et(t),e.sealed?It(!0):It(!1)},Wa=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+\"/vault/balance/\"+n,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(c=e.sent,console.log(\"responce\",o,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt(\"return\",a(t.concat(c.balances)));case 11:return e.abrupt(\"return\",a(t));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ka=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Je){e.next=2;break}return e.abrupt(\"return\",a(!1));case 2:return We(!0),e.next=5,fetch(F.g+\"/vault/balance/\"+n+\"?live=true\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 5:return o=e.sent,e.next=8,o.json();case 8:if(c=e.sent,console.log(\"responce\",o,c),!(c.balances.length>0)){e.next=14;break}return e.abrupt(\"return\",a(t.concat(c.balances)));case 14:return e.abrupt(\"return\",a(t));case 15:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ba=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){var c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+\"/vault/balance/\"+n+\"/\"+a,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return c=e.sent,e.next=5,c.json();case 5:if(i=e.sent,console.log(\"responce\",c,i),!(i.balances.length>0)){e.next=11;break}return e.abrupt(\"return\",o(t.concat(i.balances)));case 11:return e.abrupt(\"return\",o(t));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ra=function(){var e=localStorage.getItem(n+\"_\"+a+\"_\"+fe+\"_mintPassword\");e&&bn&&oe(e)},Ua=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o){var c,i,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append(\"chainid\",a.toString()),c.append(\"Content-Type\",\"application/json\"),i=JSON.stringify({signature:t,tokenId:n}),e.next=6,fetch(\"https://tor-us-signer.vercel.app/sign\",{method:\"POST\",headers:c,body:i,redirect:\"follow\"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt(\"return\",o(u));case 11:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function za(e,t,n){return qa.apply(this,arguments)}function qa(){return(qa=Object(o.a)(r.a.mark((function e(t,n,a){var o,c,i,s,u,l,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new z.a({network:\"https://rpc.ankr.com/eth_ropsten\",proxyAddress:\"0x6258c9d6c12ed3edda59a1a6527e469517744aa7\"}),c=new q.a({enableOneKey:!0,network:\"testnet\"}),e.next=4,o.getNodeDetails({verifier:\"tor-us-signer-vercel\",verifierId:t});case 4:return i=e.sent,s=i.torusNodeEndpoints,u=i.torusIndexes,e.next=9,c.retrieveShares(s,u,\"tor-us-signer-vercel\",{verifier_id:t},n);case 9:return l=e.sent,f=l.privKey,e.abrupt(\"return\",a({privateKey:f}));case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var Xa=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o,c){var i,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append(\"chainId\",a.toString()),i.append(\"service\",\"evmetadata\"),i.append(\"Content-Type\",\"application/json\"),s=JSON.stringify({signature:t,coin:o}),e.next=7,fetch(F.g+\"/address/\"+n,{method:\"POST\",headers:i,body:s,redirect:\"follow\"});case 7:return u=e.sent,e.next=10,u.json();case 10:return l=e.sent,e.abrupt(\"return\",c(l));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ya=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o){var c,i,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append(\"chainId\",a.toString()),c.append(\"service\",\"evmetadata\"),c.append(\"Content-Type\",\"application/json\"),i=JSON.stringify({signature:t}),e.next=7,fetch(F.g+\"/embed/\"+n,{method:\"POST\",headers:c,body:i,redirect:\"follow\"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt(\"return\",o(u));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Za=function(){var e=Object(o.a)(r.a.mark((function e(){var t,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(){return(i=Object(o.a)(r.a.mark((function e(){var o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma.getPreTransfer(fe);case 2:if(o=e.sent,!da[a]){e.next=9;break}return e.next=6,ha.isApprovedForAll(n,F.o.vaultHandlerV8[a]);case 6:c=e.sent,e.next=12;break;case 9:return e.next=11,ha.isApprovedForAll(n,F.o.vaultHandler[a]);case 11:c=e.sent;case 12:ee(c),vn(\"0x0000000000000000000000000000000000000000\"!==o._from),Vn(t),jt(t===n),Ra();case 17:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)},c=function(){return i.apply(this,arguments)},console.log(\"Contract states\"),!1,e.prev=4,!da[a]){e.next=14;break}return console.log(\"Checking owner wth targetContract\"),ha=Va(da[a]),e.next=10,ha.getOwnerOfSerial(da.serialNumber);case 10:t=e.sent,console.log(\"--------------------------- owner\",t,Q,n,F.o.vaultHandlerV8[a]),e.next=17;break;case 14:return e.next=16,ha.ownerOf(fe);case 16:t=e.sent;case 17:c(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(4),t=\"0x0000000000000000000000000000000000000000\",c();case 24:case\"end\":return e.stop()}}),e,null,[[4,20]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){console.log(\"mine?\",St),console.log(\"claiming?\",kt),console.log(\"accepting?\",fn),console.log(\"acceptable\",bn)}));var $a=function(e){return console.log(e,Ye.filter((function(t){return t.coin==e})).length>0),Ye.filter((function(t){return t.coin==e})).length>0},Qa=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage(\"Renew: \"+fe).then((function(e){var n=Ye.filter((function(e){return\"NMC\"==e.coin}))[0].address;console.log(\"signature\",e,t),fetch(F.g+\"/nmc/renew/\"+n,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:a.toString()},body:JSON.stringify({tokenId:fe,signature:e,name:t})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(\"Requested Renew\",n);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),er=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!da[a]){e.next=5;break}return ha=Va(da[a]),e.next=4,ha.getSerial(da.tokenId,0);case 4:t=e.sent;case 5:k.getSigner(n).signMessage(\"Claim: \"+(da[a]?t:fe)).then((function(e){Ua(e,fe,(function(e){za(fe,e.token,(function(e){var t=L.a.AES.decrypt(Ce,e.privateKey),n=JSON.parse(t.toString(L.a.enc.Utf8));Ut(n.values),Lt(n.phrase),Ye.forEach(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(\"STX\"!=t.coin){e.next=6;break}return e.next=3,tr(t,n.phrase);case 3:t.key=e.sent,e.next=7;break;case 6:t.key=window.phrasePathToKey(n.phrase,t.path);case 7:\"BTC\"==t.coin&&Gt(t.key),\"ETH\"==t.coin&&Kt(t.key);case 9:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ya()}))}))}));case 6:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tr=function(){var e=Object(o.a)(r.a.mark((function e(t,n){var a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.a)({secretKey:n,password:\"\"});case 2:return a=e.sent,console.log(\"------ stacks account -\",a.accounts[0]),o=a.accounts[0],t.key=o.stxPrivateKey,e.abrupt(\"return\",t.key);case 7:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nr=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage(\"HideAsset: \"+fe).then((function(e){console.log(\"----------------------------------------------------------------\",e),console.log(t.name,t.coin,t.address),ar(fe,t.coin,t.address,t.name,e,(function(){console.log(\"Done hiding coin and getting new balances\")}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ar(e,t,n,c,i,s){fetch(F.g+\"/hide/\"+e,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:a.toString()},body:JSON.stringify({coin:t||null,address:n||null,name:c||null,signature:i||null})}).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log(\"-------\",a),Wa([],e,(function(e){return De(e),s()}));case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var rr=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage(\"Address: \"+fe).then((function(e){Xa(e,fe,t,(function(e){Da()}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),or=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage(\"Embed: \"+fe).then((function(e){Ya(e,fe,(function(e){Me(e.ownedImage)}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cr=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:da[a]?ga.claim(da[a],da.tokenId).then((function(e){var t=e.hash;xt(!0),setTimeout((function(){ft(t)}),100)})):ha.burn(fe).then((function(e){var t=e.hash;xt(!0),setTimeout((function(){ft(t)}),100)}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ir=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a,o,c,i,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var r=0;r<o-i;r++){var l=Math.floor(t.length*Math.random()),f=t.charAt(l);s+=f}c==a-1&&i++,c==a&&(u+=n.charAt(i-1),c=0),$t(u+s),s=\"\"},!en){e.next=3;break}return e.abrupt(\"return\");case 3:tn(!0),t=\"abcdefghijklmnopqrstuvwxyz\",5,o=(n=\"Decrypting\").length,c=0,i=0,s=\"\",u=\"\",function e(t){setTimeout((function(){--t?e(t):tn(!1),l(t),c+=1}),5)}(o*(a=8)+1);case 14:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function sr(e){return(e?e.split(\"\\n\\n\\n\\n\"):[\" \"])[0].trim()}function ur(e){an&&(e=an),ir(),console.log(Ye);var t=Ye[0].address.replace(\"private:\",\"\");try{var n=L.a.AES.decrypt(t,e);JSON.parse(n.toString(L.a.enc.Utf8)),et(!1),rn(e),Ze(function(e){return Ye.forEach((function(t){if(t.address.includes(\"private\")){var n=t.address.replace(\"private:\",\"\");t.address=function(e,t){var n=L.a.AES.decrypt(e,t);return JSON.parse(n.toString(L.a.enc.Utf8))}(n,e)}})),Ye}(e));var a=Ye.filter((function(e){return\"ETH\"===e.coin}))[0].address,r=Ye.filter((function(e){return\"BTC\"===e.coin}))[0].address;console.log(\"SUCCESS\",Ye),Ba([],a,r,(function(e){De(e)}))}catch(o){console.log(\"WTF\",o)}}return Object(c.useEffect)((function(){console.log(\"----\"),Da()}),[]),Object(c.useEffect)((function(){(n&&a&&ot&&a==ot||E.noLayout&&\"true\"==E.noLayout||E.slideshowOnly&&\"true\"==E.slideshowOnly)&&Za()})),ia&&(ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new _.a(e||F.o.emblemVault[a],F.o.emblemAbi,k.getSigner(n).connectUnchecked())}(ia||null)),X(i.a.Fragment,null,X(x.a,null,X(\"meta\",{name:\"twitter:card\",content:\"summary_large_image\"}),X(\"meta\",{name:\"twitter:site\",content:\"Emblem.Finance\"}),X(\"meta\",{name:\"twitter:title\",content:be}),X(\"meta\",{name:\"twitter:description\",content:sr(Ae)}),X(\"meta\",{name:\"twitter:image\",content:_e}),X(\"script\",{dangerouslySetInnerHTML:{__html:'\\n              // $(\".NFT\").tilt({    \\n              //     maxTilt: 3\\n              // });\\n              $(\".NFT\").trigger(\\'mouseenter\\');\\n              $(\".NFT\").trigger(\\'mouseclick\\'), \\'.NFT\\';\\n              if (localStorage.getItem(\"darkMode\") == \\'false\\') {\\n                localStorage.setItem(\"darkMode\",\"true\"); location.href = location.href\\n              }\\n              '}})),X(Y,{isOpen:va,onClose:Oa,addrCoin:pt,addrAddr:ht}),X(Z,{isOpen:ja,onClose:ka,mnemonic:Vt,privKeyBTC:Dt,privKeyETH:Wt,privValues:Rt,addresses:Ye}),ie?X($,{isOpen:Ca,onClose:Na,tokenId:fe,mine:St}):null,X(l.a,{height:\"40px\"}),qt?X(N.a,null):\"\",cn||ge?Pe.length>0&&ge?X(d.a,{className:\"NFT-content\",align:\"center\"},Pe.length&&Pe.filter((function(e){return\"nft\"==e.type})).length>0?X(K.a,{name:be,image:Pe[0].image,items:Pe.filter((function(e){return e.image!==Pe[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):X(W.b,{className:\"d-block w-100 NFT-image\",url:_e})):cn?X(d.a,{align:\"center\"},X(j.a,{width:\"md\",src:\"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg\"}),X(m.a,null,\"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR\",\" \",X(g.a,{color:\"#638cd8\",href:\"../create\"},\"CREATE ONE HERE!\"))):null:X(f.a,{width:\"full\",align:\"center\",justifyContent:\"center\"},X(l.a,{className:\"NFT\",maxW:\"sm\",borderWidth:\"1px\",borderColor:ot!=a?\"orange.500\":\"claimed\"==Tt?\"green.500\":null,rounded:\"lg\",overflow:\"hidden\",alignItems:\"center\",minW:390},X(l.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",textTransform:\"uppercase\",alignItems:\"center\",color:\"blue.500\"},\"Vault Network: \",I.a[ot]),X(l.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",alignItems:\"center\"},be,!Qe&&nt>0?\": ~$\"+nt.toLocaleString():null),X(d.a,{className:\"NFT-content\",align:\"center\"},Pe.length&&Pe.filter((function(e){return\"nft\"==e.type})).length>0?X(K.a,{name:be,image:_e,items:Pe.map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):X(W.b,{className:\"d-block w-100 NFT-image\",url:_e}),St&&He?X(p.a,{onClick:function(){or()}},\"(OWNED) Show Full Embed\"):null),X(d.a,{align:\"center\"},X(l.a,{mt:\"2\",ml:\"4\",lineHeight:\"tight\"},X(d.a,null,X(m.a,{fontSize:\"xs\"},ot==a?X(g.a,{href:\"./vaults?address=\"+Hn},\"Owner: \",Hn):null),X(m.a,{mt:2,as:\"h4\",ml:\"4\",mr:\"4\",fontSize:\"xs\",fontStyle:\"italic\",className:\"md\"},X(D.a,{plugins:[J.a],children:sr(Ae)}))))),X(l.a,{p:\"6\"},X(h.f,{isFitted:!0,variant:\"enclosed\"},X(h.c,{mb:\"1em\"},X(h.a,null,\"Balances\"),X(h.a,null,\"Attributes\")),X(h.e,null,X(h.d,null,Qe?X(l.a,{mb:5},X(m.a,{pb:2,color:Zt?\"green.500\":null},Zt||\"Contents hidden. Enter password to unlock.\"),X(b.a,{type:\"password\",id:\"vault-password\",onChange:function(e){return ur(e.target.value)},\"aria-describedby\":\"password-helper-text\"})):X(l.a,{d:\"flex\",backgroundColor:\"light\"==Ha?\"gray.100\":\"gray.700\",alignItems:\"baseline\",className:\"coin-balance-content\"},X(l.a,{color:\"gray.500\",letterSpacing:\"wide\",fontSize:\"sm\",ml:\"2\"},X(m.a,{as:\"h4\",mt:2,fontWeight:\"semibold\"},\"Current Contents:  \",X(\"button\",{onClick:function(){Ka([],fe,(function(e){We(!1),De(e)}))}},\" [Refresh Balances]\")),X(m.a,{as:\"p\",color:\"dark\"==Ha?\"lightgreen\":\"forestgreen\"},\"$\",Number(nt.toFixed(4)).toLocaleString()),Pe.length?Pe.map((function(e){return X(d.a,null,X(B.a,{colorMode:Ha,coin:e,mine:\"claimed\"===Tt&&Mt===n||St,onRenew:Qa,hideAsset:nr}))})):X(N.a,null),Be.length?Be.map((function(e){return X(m.a,null,\"Data: \",e.attribute_key)})):Be.length||Pe.length?null:X(m.a,null,\"Nothing in here! Fill 'er up!\")))),X(h.d,null,X(R.a,{colorMode:Ha,attributes:ze})))),Qe?null:X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(v.a,{justifyContent:\"space-between\",spacing:6},X(d.a,null,X(m.a,null,\"Deposit Addresses\"),X(f.a,{w:\"340px\",justify:\"center\",flexWrap:\"wrap\"},Ye.map((function(e){return X(p.a,{className:\"address_nft_button\",ml:2,mt:2,\"font-weight\":\"100 !important\",key:e.address,onClick:function(){mt(e.coin),bt(e.address),wa()}},\"ETH\"==e.coin?e.coin+\"/EVM\":\"BTC\"==e.coin?e.coin+\"/XCP/OMNI\":\"BCH\"==e.coin?e.coin+\"/SLP\":e.coin)}))),(St||\"claimed\"===Tt)&&Ye.length<10?X(i.a.Fragment,null,X(\"button\",{className:\"nft_button\",onClick:function(){Fa()}},\"Manage Addresses\"),X(f.a,{w:\"340px\",justify:\"center\",flexWrap:\"wrap\"},X(w.a,{isOpen:Ma},$a(\"DOGE\")?null:X(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){rr(\"DOGE\")}},\"Add DOGE\"),$a(\"DGB\")?null:X(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){rr(\"DGB\")}},\"Add Digibyte\"),$a(\"NMC\")?null:X(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){rr(\"NMC\")}},\"Add Namecoin\"),$a(\"LTC\")?null:X(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){rr(\"LTC\")}},\"Add Litecoin\"),$a(\"MONA\")?null:X(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){rr(\"MONA\")}},\"Add Mona\"),$a(\"TEZOS\")?null:X(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){rr(\"TEZOS\")}},\"Add Tezos\"),$a(\"SOLANA\")?null:X(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){rr(\"SOLANA\")}},\"Add Solana\"),$a(\"STX\")?null:X(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){rr(\"STX\")}},\"Add Stacks\")))):null))),\"claimed\"===Tt||!Pn||1!==ot&&4!==ot&&137!==ot?null:X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(p.a,{className:\"nft_button\",width:\"50%\",m:5,onClick:function(){window.open(\"https://\"+(4==ot?\"rinkeby.\":\"\")+\"opensea.io/assets/\"+(137==ot?\"matic/\":\"\")+(ia||F.o.emblemVault[ot])+\"/\"+fe,\"_blank\")}},\"Opensea\"),X(p.a,{className:\"nft_button\",width:\"50%\",m:5,onClick:function(){window.open(\"https://\"+(4==ot?\"rinkeby.\":\"\")+\"looksrare.org/collections/\"+(137==ot?\"matic/\":\"\")+(ia||F.o.emblemVault[ot])+\"/\"+fe,\"_blank\")}},\"LooksRare\"),ie?X(p.a,{className:\"\",onClick:function(){Ta()}},St?\"My Offers\":\"Make an Offer\",\" (NFT\\xb2NFT)\"):null),\"claimed\"!==Tt&&St&&!bn?X(i.a.Fragment,null,X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\",width:\"100%\"},X(d.a,{direction:\"column\",align:\"center\",width:\"100%\"},X(p.a,{className:\"nft_button\",width:\"100%\",onClick:Ia},\"Transfer Vault\"),X(w.a,{isOpen:Ea},X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"2\",width:\"100%\"},X(O.a,{htmlFor:\"owner-address\"},\"Address\"),X(b.a,{mt:1,type:\"text\",id:\"transferAddress\",value:An||\"\",onChange:function(e){console.log(\"Transfer to\",e.target.value),En(e.target.value)},autoComplete:\"off\"})),X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"2\",width:\"100%\"},X(p.a,{isDisabled:!Object(I.k)(An),onClick:function(){Ia(),Mn(!0),ha.transferFrom(n,An,fe).then((function(e){var t=e.hash;ft(t)})).catch((function(e){}))}},\"Transfer Now\")))))):null,St&&!bn?X(i.a.Fragment,null,X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(p.a,{className:\"nft_button\",width:\"100%\",onClick:function(){if(!Q)return gn(!0),void ha.setApprovalForAll(F.o.vaultHandler[a],!0).then((function(e){var t=e.hash;setTimeout((function(){ft(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log(\"tx failed.\",e):gn(!1)}));var t=L.a.lib.WordArray.random(16).toString(),n=L.a.SHA256(t).toString();console.log(\"plain\",t),console.log(\"sha\",n),Sn(t),e=n,setTimeout((function(){console.log(\"transferImage\",\"0x\"+e),Tn(!0),ma.addPreTransfer(fe,\"0x\"+e).then((function(e){var t=e.hash;ft(t),console.log(\"Set Pre Transfering True\",Cn)})).catch((function(e){null!==e&&void 0!==e&&e.code&&(console.log(\"Error?\"),Tn(!1),kn(!1),Sn(\"\"))}))}),500)}},\" \",Q?\"Get Link (Send Vault Via Link)\":\"Approve Gifting\",\" \"))):null,(yn||re)&&bn?X(l.a,null,X(g.a,{href:location.protocol+\"//\"+location.host+\"/nft?id=\"+fe+\"&key=\"+(On||re)},\"Copy Gift Link\"),X(m.a,null,\"Password: \",On||re)):null,bn&&Mt!==n?X(i.a.Fragment,null,X(p.a,{mt:2,width:\"100%\",onClick:function(){console.log(re),dn(!0),Ga((function(e){ma.transferWithCode(fe,re,n,e.nonce,e.signature).then((function(e){var t=e.hash;setTimeout((function(){ft(t)}),100)})).catch((function(e){dn(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.log(\"tx failed.\",e)}))}))}},\"Accept\"),X(b.a,{mt:2,type:\"password\",id:\"mintPassword\",minLength:3,maxLength:200,value:re||\"\",onChange:function(e){console.log(\"grrr\",e.target.value,re),oe(e.target.value)},autoComplete:\"off\"})):null,\"claimed\"!==Tt&&n&&ot===a&&St&&!Et?X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(p.a,{width:\"100%\",onClick:function(){cr()},isDisabled:kt},kt?\"Claiming ...\":\"Claim (Crack Open Vault)\")):\"claimed\"===Tt&&Mt===n&&ot===a?X(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(p.a,{width:\"100%\",onClick:er},\"Get Keys\")):null,Pn||zn!=n||ot!=a||\"claimed\"===Tt||Qn?null:X(i.a.Fragment,null,\"true\"==ne?X(p.a,{width:\"100%\",mt:5,onClick:Pa},\"Mint Me v1\"):X(p.a,{width:\"100%\",mt:5,onClick:function(){k.getSigner(n).signMessage(\"Delayed Minting: \"+fe).then((function(e){console.log(\"sig\",e),fetch(F.g+\"/lazyMint\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:a.toString()},body:JSON.stringify({tokenId:fe,signature:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(\"data\",n.data),Rn(n.data.signature),Wn(n.data.nonce),Zn(!0),setTimeout((function(){Pa()}),500);case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},\"Mint Vault \")),Pn&&\"claimed\"!=Tt||zn!=n||ot!=a||Qn||!(Pe.length<1)?null:X(p.a,{width:\"100%\",mt:5,onClick:function(){k.getSigner(n).signMessage(\"Delete: \"+fe).then((function(e){console.log(\"sig\",e),fetch(F.g+\"/v2/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"},body:JSON.stringify({tokenId:fe,signature:e,chainId:a.toString()})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:e.sent,location.href=location.href.split(\"/\")[0]+\"/vaults\";case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},\"Delete Vault \"),Yn?X(p.a,{isDisabled:!0,type:\"submit\"},\"Verifying Signature ...\"):null,Qn?X(p.a,{isDisabled:!0,type:\"submit\"},\"Minting Vault ...\"):null),Oe?X(d.a,null,X(y.a,{align:\"center\"},X(g.a,{target:\"new\",mb:2,ml:35,href:\"https://gateway.ipfs.io/ipfs/\"+Oe,isExternal:!0},\"View Metadata on IPFS \"),ye?X(g.a,{mb:2,href:\"https://gateway.ipfs.io/ipfs/\"+ye,isExternal:!0},\"View Image on IPFS \"):null)):null,Et?X(l.a,{d:\"flex\",mb:2,ml:35,alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},X(m.a,null,\"*This vault is sealed forever.\")):null,X(d.a,{direction:\"column\",align:\"center\"},\"claimed\"==Tt?X(m.a,{color:\"green.500\"},\"CLAIMED\"):null),lt?X(S.a,{status:\"info\"},X(S.b,null),fn?\"Accepting Your Gift Vault\":kt?\"Claiming your Vault ...\":mn?\"Handling Approval Flow ...\":_n?\"Transfering Vault ...\":na?\"Minting Vault\":\"Generating Gift Link ...\"):null)),lt?X(M.a,{hash:lt,onComplete:function(){var e;!kt||fn||Cn?Cn?(localStorage.setItem(n+\"_\"+a+\"_\"+fe+\"_mintPassword\",On),kn(!0),Tn(!1),ft(null)):fn?(dn(!1),Da(),ft(null)):mn?(gn(!1),Da(),ft(null)):_n?(Mn(!1),Da(),ft(null)):na?La(fe,(function(){aa(!1),Dn(!0)})):(console.log(\"minting\",na),console.log(\"claiming\",kt),console.log(\"accepting\",fn),console.log(\"preTransfering\",Cn),console.log(\"approving\",mn),console.log(\"Unknown state\")):(ft(null),Nt(\"claimed\"),xt(!1),Ft(n),e=function(){location.href=location.origin+\"/nft?id=\"+fe+\"&cc=t\"},fetch(F.g+\"/web3/selfClaimLogs?chainId=\"+a.toString()+\"_vercel_no_cache=1\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",cc:\"t\"}}).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log(\"Log check\",a),t.abrupt(\"return\",e());case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,X(l.a,{height:\"40px\"}))}}}]);","extractedComments":[]}