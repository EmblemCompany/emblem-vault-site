{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{FpzS:function(e,t,r){\"use strict\";var n=r(\"pVnL\"),a=r.n(n),o=r(\"8OQS\"),i=r.n(o),s=r(\"qKvR\"),c=r(\"q1tI\"),l=r(\"we/t\"),u=r(\"+Cyc\"),d=r(\"lSNA\"),p=r.n(d),f=r(\"CjxU\"),b=r(\"mf32\"),h=r(\"za5s\");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O={_readOnly:{bg:\"transparent\",boxShadow:\"none !important\",userSelect:\"all\"}},v={bg:\"transparent\",px:void 0,height:void 0},j=function(e){switch(e.variant){case\"flushed\":return function(e){var t=e.theme,r=e.focusBorderColor,n=e.errorBorderColor,a=Object(h.h)(t.colors,r,r),o=Object(h.h)(t.colors,n,n);return g({},O,{borderBottom:\"2px\",borderColor:\"inherit\",rounded:0,px:void 0,bg:\"transparent\",_focus:{zIndex:1,borderColor:a},_invalid:{borderColor:o}})}(e);case\"unstyled\":return v;case\"filled\":return function(e){var t=e.theme,r=e.focusBorderColor,n=e.errorBorderColor,a=e.colorMode,o=Object(h.h)(t.colors,r,r),i=Object(h.h)(t.colors,n,n);return g({},O,{border:\"2px\",borderColor:\"transparent\",bg:{light:\"gray.100\",dark:\"whiteAlpha.50\"}[a],_hover:{bg:{light:\"gray.200\",dark:\"whiteAlpha.100\"}[a]},_disabled:{opacity:\"0.4\",cursor:\"not-allowed\"},_focus:{zIndex:1,bg:\"transparent\",borderColor:o},_invalid:{borderColor:i}})}(e);case\"outline\":return function(e){var t=e.theme,r=e.colorMode,n=e.focusBorderColor,a=e.errorBorderColor,o=Object(h.h)(t.colors,n,n),i=Object(h.h)(t.colors,a,a);return g({},O,{border:\"1px\",borderColor:{light:\"inherit\",dark:\"whiteAlpha.50\"}[r],bg:{light:\"white\",dark:\"whiteAlpha.100\"}[r],_hover:{borderColor:{light:\"gray.300\",dark:\"whiteAlpha.200\"}[r]},_disabled:{opacity:\"0.4\",cursor:\"not-allowed\"},_focus:{zIndex:1,borderColor:o,boxShadow:\"0 0 0 1px \"+o},_invalid:{borderColor:i,boxShadow:\"0 0 0 1px \"+i}})}(e);default:return{}}},y={display:\"flex\",alignItems:\"center\",position:\"relative\",transition:\"all 0.2s\",outline:\"none\",appearance:\"none\"},w={lg:{fontSize:\"lg\",px:4,height:12,rounded:\"md\"},md:{fontSize:\"md\",px:4,height:10,rounded:\"md\"},sm:{fontSize:\"sm\",px:3,height:8,rounded:\"sm\"}},C=function(e){var t=g({},e,{theme:Object(f.b)(),colorMode:Object(b.c)().colorMode});return g({width:e.isFullWidth?\"100%\":void 0},y,{},function(e){return w[e.size]}(t),{},j(t))},S=Object(c.forwardRef)((function(e,t){e.size,e.variant;var r=e.as,n=e[\"aria-label\"],o=e[\"aria-describedby\"],c=e.isReadOnly,d=(e.isFullWidth,e.isDisabled,e.isInvalid,e.isRequired,e.focusBorderColor,e.errorBorderColor,i()(e,[\"size\",\"variant\",\"as\",\"aria-label\",\"aria-describedby\",\"isReadOnly\",\"isFullWidth\",\"isDisabled\",\"isInvalid\",\"isRequired\",\"focusBorderColor\",\"errorBorderColor\"])),p=C(e),f=Object(l.b)(e);return Object(s.d)(u.a,a()({ref:t,as:r,readOnly:f.isReadOnly,\"aria-readonly\":c,disabled:f.isDisabled,\"aria-label\":n,\"aria-invalid\":f.isInvalid,required:f.isRequired,\"aria-required\":f.isRequired,\"aria-disabled\":f.isDisabled,\"aria-describedby\":o},p,d))}));S.displayName=\"Input\",S.defaultProps={size:\"md\",as:\"input\",variant:\"outline\",isFullWidth:!0,focusBorderColor:\"blue.500\",errorBorderColor:\"red.500\"};t.a=S},Ute3:function(e,t,r){\"use strict\";var n=r(\"q1tI\"),a=r.n(n),o=r(\"Weur\"),i=r(\"sK1y\"),s=r(\"yI6m\"),c=a.a.createElement;t.a=function(){return c(o.a,{pb:2,justify:\"center\"},c(i.a,{pr:2},\"Refreshing \"),c(s.a,null))}},\"pZB+\":function(e,t,r){\"use strict\";r.r(t),r.d(t,\"default\",(function(){return P}));var n=r(\"q1tI\"),a=r.n(n),o=r(\"wx14\"),i=r(\"o0o1\"),s=r.n(i),c=r(\"HaE+\"),l=r(\"XZ7F\"),u=r(\"Weur\"),d=r(\"BMxC\"),p=r(\"Yn+B\"),f=r(\"bQFp\"),b=r(\"sK1y\"),h=r(\"FpzS\"),m=r(\"IP4Q\"),g=r(\"eJLp\"),O=r(\"Z6YE\"),v=r(\"nOHt\"),j=r(\"Ute3\"),y=r(\"Y1ui\"),w=r.n(y),C=r(\"a6RD\"),S=r.n(C),x=r(\"iBPG\"),k=r(\"zIq6\"),I=r(\"N39q\"),_=r(\"21eR\"),B=a.a.createElement,E=S()((function(){return Promise.all([r.e(8),r.e(10),r.e(26)]).then(r.bind(null,\"X/Jl\"))}),{loadableGenerated:{webpack:function(){return[\"X/Jl\"]},modules:[\"./AddrModal\"]}}),R=S()((function(){return Promise.all([r.e(8),r.e(10),r.e(29)]).then(r.bind(null,\"0bCS\"))}),{loadableGenerated:{webpack:function(){return[\"0bCS\"]},modules:[\"./KeysModal\"]}});function q(){var e=Object(O.b)(),t=e.account,r=e.chainId,i=e.library,y=Object(v.useRouter)(),C=y.query,S=(y.pathname,y.replace,Object(n.useState)(C.id)),q=S[0],z=(S[1],Object(n.useState)(\"\")),P=z[0],A=z[1],T=Object(n.useState)(\"\"),F=T[0],D=T[1],N=Object(n.useState)(\"\"),W=N[0],M=N[1],H=Object(n.useState)([]),K=H[0],J=H[1],G=Object(n.useState)([]),V=G[0],X=G[1],Y=Object(n.useState)(!1),Q=Y[0],Z=Y[1],L=Object(n.useState)(null),U=L[0],$=L[1],ee=Object(n.useState)(null),te=ee[0],re=ee[1],ne=Object(n.useState)(\"\"),ae=ne[0],oe=ne[1],ie=Object(n.useState)(\"\"),se=ie[0],ce=ie[1],le=Object(n.useState)({loaded:!1}),ue=le[0],de=le[1],pe=Object(n.useState)(!1),fe=pe[0],be=pe[1],he=Object(n.useState)(!1),me=he[0],ge=he[1],Oe=Object(n.useState)(!1),ve=Oe[0],je=Oe[1],ye=Object(n.useState)(\"claimed\"),we=ye[0],Ce=ye[1],Se=Object(n.useState)(null),xe=Se[0],ke=Se[1],Ie=Object(n.useState)(\"\"),_e=Ie[0],Be=Ie[1],Ee=Object(n.useState)(\"\"),Re=Ee[0],qe=Ee[1],ze=Object(n.useState)(\"\"),Pe=ze[0],Ae=ze[1],Te=Object(n.useState)(!1),Fe=Te[0],De=Te[1],Ne=Object(n.useState)(\"\"),We=Ne[0],Me=Ne[1],He=Object(_.b)(I.p.emblemVault[r],I.p.emblemAbi,!0),Ke=Object(l.a)(),Je=Ke.isOpen,Ge=Ke.onOpen,Ve=Ke.onClose,Xe=Object(l.a)(),Ye=Xe.isOpen,Qe=Xe.onOpen,Ze=Xe.onClose,Le=function(){var e=Object(c.a)(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $e(),e.next=3,fetch(I.h+\"/meta/\"+q,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,console.log(r),Ue(r),et(r),De(!1);case 11:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(e){A(e.name),M(e.image),D(e.description),J(e.values),D(e.description),X(e.addresses),$(\"mainnet\"==e.network?1:4),Ce(e.status),\"claimed\"===we&&ke(e.claimedBy),de({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes(\"private:\")})).length>0;console.log(\"pvt\",t),Z(t)},$e=function(){var e=JSON.parse(localStorage.getItem(t+\"_\"+r+\"_\"+q+\"_vault\"));e&&(de({loaded:!0}),Ue(e),De(!0))},et=function(e){localStorage.setItem(t+\"_\"+r+\"_\"+q+\"_vault\",JSON.stringify(e))},tt=function(){var e=Object(c.a)(s.a.mark((function e(t,n,a){var o,i,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append(\"chainId\",r.toString()),o.append(\"service\",\"evmetadata\"),o.append(\"Content-Type\",\"application/json\"),i=JSON.stringify({signature:t}),e.next=7,fetch(I.h+\"/verify/\"+n,{method:\"POST\",headers:o,body:i,redirect:\"follow\"});case 7:return c=e.sent,e.next=10,c.json();case 10:return l=e.sent,e.abrupt(\"return\",a(l));case 12:case\"end\":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),rt=function(){var e=Object(c.a)(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.ownerOf(q);case 2:r=e.sent,ge(r===t),me&&be(!0),console.log(\"status\",we,\"claimedBy\",xe);case 6:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nt=function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:He.setApprovalForAll(I.p.vaultHandler[r],!0).then((function(e){var t=e.hash;re(t)}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),at=function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.getSigner(t).signMessage(\"Claim: \"+q).then((function(e){tt(e,q,(function(e){Be(e.decrypted.phrase),qe(\"BTC KEY\"),Ae(\"ETH KEY\"),Qe(),console.log(e.decrypted)}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:He.transferFrom(t,I.c,q).then((function(e){var t=e.hash;je(!0),setTimeout((function(){re(t),at(),Qe()}),100)}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=function(){var e=Object(c.a)(s.a.mark((function e(){var t,r,n,a,o,i,c,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=function(e){for(var s=0;s<a-i;s++){var u=Math.floor(t.length*Math.random()),d=t.charAt(u);c+=d}o==n-1&&i++,o==n&&(l+=r.charAt(i-1),o=0),Me(l+c),c=\"\"},t=\"abcdefghijklmnopqrstuvwxyz\",5,a=(r=\"Decrypting\").length,o=0,i=0,c=\"\",l=\"\",function e(t){setTimeout((function(){--t&&e(t),u(),o+=1}),5)}(a*(n=8)+1);case 11:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Le()}),[]),Object(n.useEffect)((function(){console.log(\"Account chainid = \"+r+\" and vaultchainid = \"+U),t&&r&&U&&r==U&&rt()})),B(a.a.Fragment,null,B(E,{isOpen:Je,onClose:Ve,addrCoin:ae,addrAddr:se}),B(R,{isOpen:Ye,onClose:Ze,mnemonic:_e,privKeyBTC:Re,privKeyETH:Pe}),B(w.a,{loaded:ue.loaded},Fe?B(j.a,null):\"\",B(u.a,{width:\"full\",align:\"center\",justifyContent:\"center\"},B(d.a,{maxW:\"sm\",borderWidth:\"1px\",borderColor:U!=r?\"orange.500\":\"claimed\"==we?\"green.500\":null,rounded:\"lg\",overflow:\"hidden\",alignItems:\"center\"},U!=r?B(d.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",textTransform:\"uppercase\",alignItems:\"center\",color:\"orange.500\"},\"Vault is on a different network than you are.\"):null,B(d.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",textTransform:\"uppercase\",alignItems:\"center\"},P),B(p.a,{align:\"center\"},B(f.a,{src:Object(x.j)(W)?W:\"https://circuitsofvalue.com/public/coval-logo.png\",width:\"250px\"})),B(p.a,{align:\"center\"},B(d.a,{mt:\"1\",ml:\"4\",lineHeight:\"tight\"},B(b.a,{as:\"h4\",ml:\"4\",mr:\"4\"},F.split(\"\\n\\n\\n\\n\")[0].trim()))),B(d.a,{p:\"6\"},B(d.a,{d:\"flex\",alignItems:\"baseline\"},B(d.a,{color:\"gray.500\",letterSpacing:\"wide\",fontSize:\"sm\",ml:\"2\"},B(b.a,{as:\"h4\",fontWeight:\"semibold\"},\"Current Contents:\"),Q?B(a.a.Fragment,null,B(b.a,{pb:2,color:We?\"green.500\":null},We||\"Contents hidden. Enter password to unlock.\"),B(h.a,{type:\"password\",id:\"vault-password\",onChange:function(e){return t=e.target.value,it(),void console.log(t);var t},\"aria-describedby\":\"password-helper-text\"})):K.length?K.map((function(e){return B(b.a,{key:e.name,isTruncated:!0},e.name,\": \",e.balance)})):B(b.a,null,\"Nothing in here! Fill 'er up!\"))),Q?null:B(d.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},B(p.a,{direction:\"row\",align:\"center\",spacing:\"1rem\",flexWrap:\"wrap\",shouldWrapChildren:!0},B(m.a,{spacing:4},V.map((function(e){return B(g.a,{key:e.address,onClick:function(){oe(e.coin),ce(e.address),Ge()}},\"Put \",\"ETH\"==e.coin?e.coin+\"/ERC20\":e.coin,\" In\")}))))),B(d.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},\"claimed\"===we&&xe===t?B(g.a,{width:\"100%\",onClick:at},\"Get Keys\"):B(g.a,Object(o.a)({width:\"100%\",as:\"a\"},{href:\"https://\"+(4==U?\"rinkeby.\":\"\")+\"opensea.io/assets/\"+I.p.emblemVault[U]+\"/\"+q,target:\"_blank\",rel:\"noopener noreferrer\"}),me?\"Sell/Gift/Send\":\"Make an Offer\")),B(d.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},me?B(g.a,{width:\"100%\",onClick:function(){fe?ot():nt()}},fe?\"Claim\":\"Approve\"):\"\")))),te?B(k.a,{hash:te,onComplete:function(){ve&&re(null)}}):null))}var z=a.a.createElement;function P(){return z(q,null)}},\"we/t\":function(e,t,r){\"use strict\";r.d(t,\"b\",(function(){return u}));var n=r(\"pVnL\"),a=r.n(n),o=r(\"8OQS\"),i=r.n(o),s=r(\"qKvR\"),c=r(\"q1tI\"),l=r(\"BMxC\"),u=function(e){var t=p();return t?Object.keys(t).reduce((function(r,n){return r[n]=e[n],t&&null==e[n]&&(r[n]=t[n]),r}),{}):e},d=Object(c.createContext)(),p=function(){return Object(c.useContext)(d)},f=Object(c.forwardRef)((function(e,t){var r=e.isInvalid,n=e.isRequired,o=e.isDisabled,c=e.isReadOnly,u=i()(e,[\"isInvalid\",\"isRequired\",\"isDisabled\",\"isReadOnly\"]),p={isRequired:n,isDisabled:o,isInvalid:r,isReadOnly:c};return Object(s.d)(d.Provider,{value:p},Object(s.d)(l.a,a()({role:\"group\",ref:t},u)))}));f.displayName=\"FormControl\",t.a=f},zjfc:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/vault\",function(){return r(\"pZB+\")}])}},[[\"zjfc\",2,1,5,7,0,3,4,6,9,12]]]);","extractedComments":[]}