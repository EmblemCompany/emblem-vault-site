{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{ePsk:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return Z}));var a=n(\"o0o1\"),r=n.n(a),o=n(\"HaE+\"),i=n(\"q1tI\"),c=n.n(i),s=n(\"XZ7F\"),u=n(\"mf32\"),l=n(\"BMxC\"),f=n(\"Weur\"),p=n(\"Yn+B\"),d=n(\"eJLp\"),m=n(\"sK1y\"),g=n(\"pboS\"),b=n(\"FpzS\"),h=n(\"IP4Q\"),w=n(\"MKZ1\"),v=n(\"jgTY\"),O=n(\"LqLE\"),S=n(\"bQFp\"),j=n(\"wZsY\"),y=n(\"S5RI\"),k=n.n(y),x=n(\"8Kt/\"),C=n.n(x),T=n(\"Z6YE\"),N=n(\"nOHt\"),A=n(\"Ute3\"),E=n(\"a6RD\"),I=n.n(E),_=n(\"iBPG\"),M=n(\"8XlW\"),F=n(\"zIq6\"),L=n(\"N39q\"),P=n(\"21eR\"),H=n(\"NFKh\"),V=n.n(H),G=n(\"IujW\"),D=n.n(G),J=n(\"wH4i\"),W=n.n(J),R=n(\"PLxQ\"),K=n(\"zNBI\"),B=n(\"fksj\"),U=(n(\"Q/0U\"),c.a.createElement),z=I()((function(){return Promise.all([n.e(9),n.e(14),n.e(23)]).then(n.bind(null,\"X/Jl\"))}),{loadableGenerated:{webpack:function(){return[\"X/Jl\"]},modules:[\"./AddrModal\"]}}),q=I()((function(){return Promise.all([n.e(9),n.e(14),n.e(25)]).then(n.bind(null,\"0bCS\"))}),{loadableGenerated:{webpack:function(){return[\"0bCS\"]},modules:[\"./KeysModal\"]}}),Y=I()((function(){return Promise.all([n.e(9),n.e(14),n.e(24)]).then(n.bind(null,\"D3uo\"))}),{loadableGenerated:{webpack:function(){return[\"D3uo\"]},modules:[\"./OfferModal\"]}});function Z(){var e,t=Object(T.b)(),n=t.account,a=t.chainId,y=t.library,x=Object(N.useRouter)(),E=x.query,I=Object(i.useState)(!1),H=I[0],G=I[1],J=Object(i.useState)(E.useOldMint),Z=J[0],X=(J[1],Object(i.useState)(E.key)),$=X[0],Q=X[1],ee=Object(i.useState)(E.offer||!1),te=ee[0],ne=(ee[1],Object(i.useState)(E.framed||!0)),ae=ne[0],re=(ne[1],Object(i.useState)(E.id)),oe=re[0],ie=(re[1],Object(i.useState)(E.experimental)),ce=(ie[0],ie[1],Object(i.useState)(E.noLayout)),se=(ce[0],ce[1],Object(i.useState)(E.slideshowOnly||!1)),ue=se[0],le=(se[1],Object(i.useState)(\"\")),fe=le[0],pe=le[1],de=Object(i.useState)(\"\"),me=de[0],ge=de[1],be=Object(i.useState)(\"\"),he=be[0],we=be[1],ve=Object(i.useState)(\"\"),Oe=ve[0],Se=ve[1],je=Object(i.useState)(\"\"),ye=je[0],ke=je[1],xe=Object(i.useState)(\"\"),Ce=xe[0],Te=xe[1],Ne=Object(i.useState)(\"\"),Ae=Ne[0],Ee=Ne[1],Ie=Object(i.useState)([]),_e=Ie[0],Me=Ie[1],Fe=Object(i.useState)(!1),Le=Fe[0],Pe=Fe[1],He=Object(i.useState)([]),Ve=He[0],Ge=He[1],De=Object(i.useState)([]),Je=De[0],We=De[1],Re=Object(i.useState)(!1),Ke=Re[0],Be=Re[1],Ue=Object(i.useState)(0),ze=Ue[0],qe=Ue[1],Ye=Object(i.useState)(null),Ze=Ye[0],Xe=Ye[1],$e=Object(i.useState)(null),Qe=($e[0],$e[1]),et=Object(i.useState)(null),tt=et[0],nt=et[1],at=Object(i.useState)(\"\"),rt=at[0],ot=at[1],it=Object(i.useState)(\"\"),ct=it[0],st=it[1],ut=Object(i.useState)({loaded:!1}),lt=(ut[0],ut[1]),ft=Object(i.useState)(!1),pt=ft[0],dt=ft[1],mt=Object(i.useState)(!1),gt=mt[0],bt=mt[1],ht=Object(i.useState)(\"claimed\"),wt=ht[0],vt=ht[1],Ot=Object(i.useState)(!1),St=Ot[0],jt=Ot[1],yt=Object(i.useState)(null),kt=yt[0],xt=yt[1],Ct=Object(i.useState)(\"\"),Tt=Ct[0],Nt=Ct[1],At=Object(i.useState)(\"\"),Et=At[0],It=At[1],_t=Object(i.useState)(\"\"),Mt=_t[0],Ft=_t[1],Lt=Object(i.useState)([]),Pt=Lt[0],Ht=Lt[1],Vt=Object(i.useState)(!1),Gt=Vt[0],Dt=Vt[1],Jt=Object(i.useState)(\"\"),Wt=Jt[0],Rt=Jt[1],Kt=Object(i.useState)(!1),Bt=Kt[0],Ut=Kt[1],zt=Object(i.useState)(\"\"),qt=zt[0],Yt=zt[1],Zt=Object(i.useState)(!1),Xt=Zt[0],$t=Zt[1],Qt=Object(i.useState)(!1),en=(Qt[0],Qt[1],Object(i.useState)(!1)),tn=en[0],nn=en[1],an=Object(i.useState)(!1),rn=an[0],on=an[1],cn=Object(i.useState)(!1),sn=cn[0],un=cn[1],ln=Object(i.useState)(\"\"),fn=ln[0],pn=ln[1],dn=Object(i.useState)(!1),mn=dn[0],gn=dn[1],bn=Object(i.useState)(!1),hn=bn[0],wn=bn[1],vn=Object(i.useState)(null),On=vn[0],Sn=vn[1],jn=Object(i.useState)(!1),yn=jn[0],kn=jn[1],xn=Object(i.useState)(null),Cn=xn[0],Tn=xn[1],Nn=Object(i.useState)(function(){return Ta.apply(this,arguments)}()),An=Nn[0],En=(Nn[1],Object(i.useState)(!1)),In=En[0],_n=En[1],Mn=Object(i.useState)(null),Fn=Mn[0],Ln=Mn[1],Pn=Object(i.useState)(null),Hn=Pn[0],Vn=Pn[1],Gn=Object(i.useState)(null),Dn=Gn[0],Jn=Gn[1],Wn=Object(i.useState)(!1),Rn=Wn[0],Kn=Wn[1],Bn=Object(i.useState)(!1),Un=Bn[0],zn=Bn[1],qn=Object(i.useState)(!1),Yn=qn[0],Zn=qn[1],Xn=Object(i.useState)(!1),$n=(Xn[0],Xn[1]),Qn=Object(i.useState)(null),ea=Qn[0],ta=Qn[1],na=Object(i.useState)({name:\"\",image:\"\",metadata:\"\"}),aa=(na[0],na[1]),ra=Object(i.useState)({name:\"\",chain:\"\",4:\"\",1:\"\"}),oa=(ra[0],ra[1]),ia=Object(P.b)(L.o.vaultHandler[a],L.o.vaultHandlerAbi,!0),ca=Object(P.b)(L.o.emblemVault[a],L.o.emblemAbi,!0),sa=Object(s.a)(),ua=sa.isOpen,la=sa.onOpen,fa=sa.onClose,pa=Object(s.a)(),da=pa.isOpen,ma=pa.onOpen,ga=pa.onClose,ba=Object(s.a)(),ha=ba.isOpen,wa=ba.onOpen,va=ba.onClose,Oa=Object(s.a)(),Sa=Oa.isOpen,ja=Oa.onToggle,ya=Object(s.a)(),ka=ya.isOpen,xa=ya.onToggle,Ca=Object(u.c)().colorMode;function Ta(){return(Ta=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new k.a({baseUrl:\"\".concat(window.location.origin,\"/serviceworker\"),enableLogging:!0,network:\"testnet\"}),e.next=3,t.init({skipSw:!0,skipInit:!0,skipPrefetch:!0});case 3:return console.log(\"Initialized Torus\"),e.abrupt(\"return\",t);case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var Na=function(e,t){return fetch(L.g+\"/liveliness\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:a.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,_n(n.live),console.log(\"Liveliness check\",n);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t()},Aa=function(){Kn(!1),zn(!0),Zn(!0);var e=Ke?\"0x0000000000000000000000000000000000000000\":Je.filter((function(e){return\"ETH\"==e.coin}))[0].address;console.log({account:n,tokenId:oe,cipherTextHash:e,nonce:Fn,mintSignature:Hn}),ia.buyWithSignature(n,oe,e,Fn,Hn).then((function(e){var t=e.hash;setTimeout((function(){nt(t),zn(!1)}),100)})).catch((function(e){zn(!1)}))},Ea=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"getvault\"),!ue&&Pa(),e.next=4,fetch(L.g+\"/meta/\"+oe+\"?experimental=true\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 4:return t=e.sent,e.next=7,t.json();case 7:(n=e.sent).collectionAddress&&($n(!0),ta(n.collectionAddress)),n.name?(_a(n),!ue&&La(n),Dt(!1),$t(!1)):(lt({loaded:!0}),$t(!0)),!Ke&&!Le&&Ma([],oe,(function(e){e&&Me(e)}));case 11:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ia=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(L.g+\"/witness/\"+oe,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:a.toString()}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(o=e.sent).signature){e.next=11;break}return console.log(\"witness\",o),e.abrupt(\"return\",t(o));case 11:return e.abrupt(\"return\",t(!1));case 12:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_a=function(e){ae&&e.image&&!e.image.includes(\"framed=\")&&!e.image.includes(\"http\")&&(e.image=e.image+\"&framed=\"+ae),e.ciphertextV2&&(Se(e.ciphertextV2),console.log(\"ciphertextV2\",e.ciphertextV2)),pe(e.name),Te(e.image),Ee(e.ownedImage||null),ke(e.description),qe(e.totalValue||0),Me(_e.concat(e.values)),Ge(e.attributes.filter((function(e){return\"key\"===e.trait_type}))),e.values&&Me(_e.concat(e.values)),e.attributes&&Ge(e.attributes.filter((function(e){return\"key\"===e.trait_type}))),We(e.addresses),ge(e.ipfs||null),we(e.image_ipfs||null),e.targetAsset&&aa(e.targetAsset),e.targetContract&&oa(e.targetAsset),0==e.live&&Na(e.tokenId,(function(){})),_n(0!=e.live),Ln(e.nonce),Vn(e.signature),Jn(e.to),Qe(e.network),Xe(\"mainnet\"==e.network?1:\"rinkeby\"==e.network?4:\"mumbai\"==e.network?80001:\"matic\"==e.network?137:\"xdai\"==e.network?100:\"bsc\"==e.network?56:\"fantom\"==e.network?250:\"bitcoin\"==e.network?0:97),vt(e.status),\"claimed\"===wt&&xt(e.claimedBy),lt({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes(\"private:\")})).length>0;Be(t),e.sealed?jt(!0):jt(!1)},Ma=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Le){e.next=2;break}return e.abrupt(\"return\",a(!1));case 2:return Pe(!0),e.next=5,fetch(L.g+\"/vault/balance/\"+n+\"?live=true\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 5:return o=e.sent,e.next=8,o.json();case 8:if(i=e.sent,console.log(\"responce\",o,i),!(i.balances.length>0)){e.next=14;break}return e.abrupt(\"return\",a(t.concat(i.balances)));case 14:return e.abrupt(\"return\",a(t));case 15:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Fa=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){var i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(L.g+\"/vault/balance/\"+n+\"/\"+a,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return i=e.sent,e.next=5,i.json();case 5:if(c=e.sent,console.log(\"responce\",i,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt(\"return\",o(t.concat(c.balances)));case 11:return e.abrupt(\"return\",o(t));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),La=function(e){localStorage.setItem(n+\"_\"+a+\"_\"+oe+\"_vault\",JSON.stringify(e))},Pa=function(){console.log(\"cache\");var e=JSON.parse(localStorage.getItem(n+\"_\"+a+\"_\"+oe+\"_vault\"));e&&(lt({loaded:!0}),_a(e),Dt(!0))},Ha=function(){var e=localStorage.getItem(n+\"_\"+a+\"_\"+oe+\"_mintPassword\");e&&sn&&Q(e)},Va=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o){var i,c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append(\"chainid\",a.toString()),i.append(\"Content-Type\",\"application/json\"),c=JSON.stringify({signature:t,tokenId:n}),e.next=6,fetch(\"https://tor-us-signer.vercel.app/sign\",{method:\"POST\",headers:i,body:c,redirect:\"follow\"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt(\"return\",o(u));case 11:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ga=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!1,e.next=3,An;case 3:return e.next=5,e.sent.getTorusKey(\"tor-us-signer-vercel\",t,{verifier_id:t},n).catch((function(e){o=e.message}));case 5:if(i=e.sent,!o){e.next=11;break}return console.log(\"error\",o),e.abrupt(\"return\",a(!1));case 11:return e.abrupt(\"return\",a(i));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Da=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o,i){var c,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append(\"chainId\",a.toString()),c.append(\"service\",\"evmetadata\"),c.append(\"Content-Type\",\"application/json\"),s=JSON.stringify({signature:t,coin:o}),e.next=7,fetch(L.g+\"/address/\"+n,{method:\"POST\",headers:c,body:s,redirect:\"follow\"});case 7:return u=e.sent,e.next=10,u.json();case 10:return l=e.sent,e.abrupt(\"return\",i(l));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ja=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o){var i,c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append(\"chainId\",a.toString()),i.append(\"service\",\"evmetadata\"),i.append(\"Content-Type\",\"application/json\"),c=JSON.stringify({signature:t}),e.next=7,fetch(L.g+\"/embed/\"+n,{method:\"POST\",headers:i,body:c,redirect:\"follow\"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt(\"return\",o(u));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Wa=function(){var e=Object(o.a)(r.a.mark((function e(){var t,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(){return(c=Object(o.a)(r.a.mark((function e(){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia.getPreTransfer(oe);case 2:return o=e.sent,e.next=5,ca.isApprovedForAll(n,L.o.vaultHandler[a]);case 5:i=e.sent,G(i),un(\"0x0000000000000000000000000000000000000000\"!==o._from),Tn(t),dt(t===n),Ha();case 11:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)},i=function(){return c.apply(this,arguments)},console.log(\"Contract states\"),!1,e.prev=4,e.next=7,ca.ownerOf(oe);case 7:t=e.sent,i(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t=\"0x0000000000000000000000000000000000000000\",i();case 15:case\"end\":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){console.log(\"mine?\",pt),console.log(\"claiming?\",gt),console.log(\"accepting?\",tn),console.log(\"acceptable\",sn)}));var Ra=function(e){return console.log(e,Je.filter((function(t){return t.coin==e})).length>0),Je.filter((function(t){return t.coin==e})).length>0},Ka=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.getSigner(n).signMessage(\"Renew: \"+oe).then((function(e){var n=Je.filter((function(e){return\"NMC\"==e.coin}))[0].address;console.log(\"signature\",e,t),fetch(L.g+\"/nmc/renew/\"+n,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:a.toString()},body:JSON.stringify({tokenId:oe,signature:e,name:t})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(\"Requested Renew\",n);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ba=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.getSigner(n).signMessage(\"Claim: \"+oe).then((function(e){Va(e,oe,(function(e){Ga(oe,e.token,(function(e){var t=V.a.AES.decrypt(Oe,e.privateKey),n=JSON.parse(t.toString(V.a.enc.Utf8));Ht(n.values),Nt(n.phrase);var a=window.phrasePathToKey(n.phrase,Je.filter((function(e){return\"BTC\"==e.coin}))[0].path);It(a);var r=window.phrasePathToKey(n.phrase,Je.filter((function(e){return\"ETH\"==e.coin}))[0].path);Ft(r),Je.forEach((function(e){e.key=window.phrasePathToKey(n.phrase,e.path)})),ma()}))}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ua=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.getSigner(n).signMessage(\"Address: \"+oe).then((function(e){Da(e,oe,t,(function(e){Ea()}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),za=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.getSigner(n).signMessage(\"Embed: \"+oe).then((function(e){Ja(e,oe,(function(e){Te(e.ownedImage)}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qa=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ca.burn(oe).then((function(e){var t=e.hash;bt(!0),setTimeout((function(){nt(t)}),100)}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ya=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a,o,i,c,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var r=0;r<o-c;r++){var l=Math.floor(t.length*Math.random()),f=t.charAt(l);s+=f}i==a-1&&c++,i==a&&(u+=n.charAt(c-1),i=0),Rt(u+s),s=\"\"},!Bt){e.next=3;break}return e.abrupt(\"return\");case 3:Ut(!0),t=\"abcdefghijklmnopqrstuvwxyz\",5,o=(n=\"Decrypting\").length,i=0,c=0,s=\"\",u=\"\",function e(t){setTimeout((function(){--t?e(t):Ut(!1),l(t),i+=1}),5)}(o*(a=8)+1);case 14:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Za(e){return e.split(\"\\n\\n\\n\\n\")[0].trim()}function Xa(e){qt&&(e=qt),Ya(),console.log(Je);var t=Je[0].address.replace(\"private:\",\"\");try{var n=V.a.AES.decrypt(t,e);JSON.parse(n.toString(V.a.enc.Utf8)),Be(!1),Yt(e),We(function(e){return Je.forEach((function(t){if(t.address.includes(\"private\")){var n=t.address.replace(\"private:\",\"\");t.address=function(e,t){var n=V.a.AES.decrypt(e,t);return JSON.parse(n.toString(V.a.enc.Utf8))}(n,e)}})),Je}(e));var a=Je.filter((function(e){return\"ETH\"===e.coin}))[0].address,r=Je.filter((function(e){return\"BTC\"===e.coin}))[0].address;console.log(\"SUCCESS\",Je),Fa([],a,r,(function(e){Me(e)}))}catch(o){console.log(\"WTF\",o)}}return Object(i.useEffect)((function(){console.log(\"----\"),Ea()}),[]),Object(i.useEffect)((function(){(n&&a&&Ze&&a==Ze||E.noLayout&&\"true\"==E.noLayout||E.slideshowOnly&&\"true\"==E.slideshowOnly)&&Wa()})),ea&&(ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new M.a(e||L.o.emblemVault[a],L.o.emblemAbi,y.getSigner(n).connectUnchecked())}(ea||null)),U(c.a.Fragment,null,U(C.a,null,U(\"meta\",{name:\"twitter:card\",content:\"summary_large_image\"}),U(\"meta\",{name:\"twitter:site\",content:\"Emblem.Finance\"}),U(\"meta\",{name:\"twitter:title\",content:fe}),U(\"meta\",{name:\"twitter:description\",content:Za(ye)}),U(\"meta\",{name:\"twitter:image\",content:Ce}),U(\"script\",{dangerouslySetInnerHTML:{__html:\"\\n              // $(\\\".NFT\\\").tilt({    \\n              //     maxTilt: 3\\n              // });\\n              $(\\\".NFT\\\").trigger('mouseenter');\\n              $(\\\".NFT\\\").trigger('mouseclick'), '.NFT';\\n              \"}})),U(z,{isOpen:ua,onClose:fa,addrCoin:rt,addrAddr:ct}),U(q,{isOpen:da,onClose:ga,mnemonic:Tt,privKeyBTC:Et,privKeyETH:Mt,privValues:Pt,addresses:Je}),te?U(Y,{isOpen:ha,onClose:va,tokenId:oe,mine:pt}):null,U(l.a,{height:\"40px\"}),Gt?U(A.a,null):\"\",Xt||ue?_e.length>0&&ue?U(p.a,{className:\"NFT-content\",align:\"center\"},_e.length&&_e.filter((function(e){return\"nft\"==e.type})).length>0?U(K.a,{name:fe,image:_e[0].image,items:_e.filter((function(e){return e.image!==_e[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):U(R.b,{className:\"d-block w-100 NFT-image\",url:Ce})):Xt?U(p.a,{align:\"center\"},U(S.a,{width:\"md\",src:\"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg\"}),U(m.a,null,\"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR\",\" \",U(g.a,{color:\"#638cd8\",href:\"../create\"},\"CREATE ONE HERE!\"))):null:U(f.a,{width:\"full\",align:\"center\",justifyContent:\"center\"},U(l.a,{className:\"NFT\",maxW:\"sm\",borderWidth:\"1px\",borderColor:Ze!=a?\"orange.500\":\"claimed\"==wt?\"green.500\":null,rounded:\"lg\",overflow:\"hidden\",alignItems:\"center\",minW:390},U(l.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",textTransform:\"uppercase\",alignItems:\"center\",color:\"blue.500\"},\"Vault Network: \",_.a[Ze]),U(l.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",alignItems:\"center\"},fe,!Ke&&ze>0?\": ~$\"+ze.toLocaleString():null),U(p.a,{className:\"NFT-content\",align:\"center\"},_e.length&&_e.filter((function(e){return\"nft\"==e.type})).length>0?U(K.a,{name:fe,image:Ce,items:_e.map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):U(R.b,{className:\"d-block w-100 NFT-image\",url:Ce}),pt&&Ae?U(d.a,{onClick:function(){za()}},\"(OWNED) Show Full Embed\"):null),U(p.a,{align:\"center\"},U(l.a,{mt:\"2\",ml:\"4\",lineHeight:\"tight\"},U(p.a,null,U(m.a,{fontSize:\"xs\"},Ze==a?U(g.a,{href:\"./vaults?address=\"+Cn},\"Owner: \",Cn):null),U(m.a,{mt:2,as:\"h4\",ml:\"4\",mr:\"4\",fontSize:\"xs\",fontStyle:\"italic\",className:\"md\"},U(D.a,{plugins:[W.a],children:Za(ye)}))))),U(l.a,{p:\"6\"},Ke?U(l.a,{mb:5},U(m.a,{pb:2,color:Wt?\"green.500\":null},Wt||\"Contents hidden. Enter password to unlock.\"),U(b.a,{type:\"password\",id:\"vault-password\",onChange:function(e){return Xa(e.target.value)},\"aria-describedby\":\"password-helper-text\"})):U(l.a,{d:\"flex\",backgroundColor:\"light\"==Ca?\"gray.100\":\"gray.700\",alignItems:\"baseline\",className:\"coin-balance-content\"},U(l.a,{color:\"gray.500\",letterSpacing:\"wide\",fontSize:\"sm\",ml:\"2\"},U(m.a,{as:\"h4\",mt:2,fontWeight:\"semibold\"},\"Current Contents:  \",U(\"button\",{onClick:function(){Ma([],oe,(function(e){Pe(!1),Me(e)}))}},\" [Refresh Balances]\")),U(m.a,{as:\"p\",color:\"dark\"==Ca?\"lightgreen\":\"forestgreen\"},\"$\",Number(ze.toFixed(4)).toLocaleString()),_e.length?_e.map((function(e){return U(p.a,null,U(B.a,{colorMode:Ca,coin:e,mine:\"claimed\"===wt&&kt===n||pt,onRenew:Ka}))})):U(A.a,null),Ve.length?Ve.map((function(e){return U(m.a,null,\"Data: \",e.attribute_key)})):Ve.length||_e.length?null:U(m.a,null,\"Nothing in here! Fill 'er up!\"))),Ke?null:U(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},U(h.a,{justifyContent:\"space-between\",spacing:6},U(p.a,null,U(m.a,null,\"Deposit Addresses\"),U(f.a,{w:\"340px\",justify:\"center\",flexWrap:\"wrap\"},Je.map((function(e){return U(d.a,{className:\"address_nft_button\",ml:2,mt:2,\"font-weight\":\"100 !important\",key:e.address,onClick:function(){ot(e.coin),st(e.address),la()}},\"ETH\"==e.coin?e.coin+\"\":\"BTC\"==e.coin?e.coin+\"/XCP/OMNI\":\"BCH\"==e.coin?e.coin+\"/SLP\":e.coin)}))),(pt||\"claimed\"===wt)&&Je.length<10?U(c.a.Fragment,null,U(\"button\",{className:\"nft_button\",onClick:function(){xa()}},\"Manage Addresses\"),U(f.a,{w:\"340px\",justify:\"center\",flexWrap:\"wrap\"},U(w.a,{isOpen:ka},Ra(\"DOGE\")?null:U(d.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){Ua(\"DOGE\")}},\"Add DOGE\"),Ra(\"DGB\")?null:U(d.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){Ua(\"DGB\")}},\"Add Digibyte\"),Ra(\"NMC\")?null:U(d.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){Ua(\"NMC\")}},\"Add Namecoin\"),Ra(\"LTC\")?null:U(d.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){Ua(\"LTC\")}},\"Add Litecoin\"),Ra(\"MONA\")?null:U(d.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){Ua(\"MONA\")}},\"Add Mona\"),Ra(\"TEZOS\")?null:U(d.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){Ua(\"TEZOS\")}},\"Add Tezos\"),Ra(\"SOLANA\")?null:U(d.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){Ua(\"SOLANA\")}},\"Add Solana\")))):null))),\"claimed\"===wt||1!==Ze&&4!==Ze&&137!==Ze?null:U(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},U(d.a,{className:\"nft_button\",width:\"50%\",m:5,onClick:function(){window.open(\"https://\"+(4==Ze?\"rinkeby.\":\"\")+\"opensea.io/assets/\"+(137==Ze?\"matic/\":\"\")+(ea||L.o.emblemVault[Ze])+\"/\"+oe,\"_blank\")}},\"Opensea\"),U(d.a,{className:\"nft_button\",width:\"50%\",m:5,onClick:function(){window.open(\"https://\"+(4==Ze?\"rinkeby.\":\"\")+\"looksrare.org/collections/\"+(137==Ze?\"matic/\":\"\")+(ea||L.o.emblemVault[Ze])+\"/\"+oe,\"_blank\")}},\"LooksRare\"),te?U(d.a,{className:\"\",onClick:function(){wa()}},pt?\"My Offers\":\"Make an Offer\",\" (NFT\\xb2NFT)\"):null),\"claimed\"!==wt&&pt&&!sn?U(c.a.Fragment,null,U(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\",width:\"100%\"},U(p.a,{direction:\"column\",align:\"center\",width:\"100%\"},U(d.a,{className:\"nft_button\",width:\"100%\",onClick:ja},\"Transfer Vault\"),U(w.a,{isOpen:Sa},U(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"2\",width:\"100%\"},U(v.a,{htmlFor:\"owner-address\"},\"Address\"),U(b.a,{mt:1,type:\"text\",id:\"transferAddress\",value:On||\"\",onChange:function(e){console.log(\"Transfer to\",e.target.value),Sn(e.target.value)},autoComplete:\"off\"})),U(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"2\",width:\"100%\"},U(d.a,{isDisabled:!Object(_.j)(On),onClick:function(){ja(),kn(!0),ca.transferFrom(n,On,oe).then((function(e){var t=e.hash;nt(t)})).catch((function(e){}))}},\"Transfer Now\")))))):null,pt&&!sn?U(c.a.Fragment,null,U(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},U(d.a,{className:\"nft_button\",width:\"100%\",onClick:function(){if(!H)return on(!0),void ca.setApprovalForAll(L.o.vaultHandler[a],!0).then((function(e){var t=e.hash;setTimeout((function(){nt(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log(\"tx failed.\",e):on(!1)}));var t=V.a.lib.WordArray.random(16).toString(),n=V.a.SHA256(t).toString();console.log(\"plain\",t),console.log(\"sha\",n),pn(t),e=n,setTimeout((function(){console.log(\"transferImage\",\"0x\"+e),wn(!0),ia.addPreTransfer(oe,\"0x\"+e).then((function(e){var t=e.hash;nt(t),console.log(\"Set Pre Transfering True\",hn)})).catch((function(e){null!==e&&void 0!==e&&e.code&&(console.log(\"Error?\"),wn(!1),gn(!1),pn(\"\"))}))}),500)}},\" \",H?\"Get Link (Send Vault Via Link)\":\"Approve Gifting\",\" \"))):null,(mn||$)&&sn?U(l.a,null,U(g.a,{href:location.protocol+\"//\"+location.host+\"/nft?id=\"+oe+\"&key=\"+(fn||$)},\"Copy Gift Link\"),U(m.a,null,\"Password: \",fn||$)):null,sn&&kt!==n?U(c.a.Fragment,null,U(d.a,{mt:2,width:\"100%\",onClick:function(){console.log($),nn(!0),Ia((function(e){ia.transferWithCode(oe,$,n,e.nonce,e.signature).then((function(e){var t=e.hash;setTimeout((function(){nt(t)}),100)})).catch((function(e){nn(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.log(\"tx failed.\",e)}))}))}},\"Accept\"),U(b.a,{mt:2,type:\"password\",id:\"mintPassword\",minLength:3,maxLength:200,value:$||\"\",onChange:function(e){console.log(\"grrr\",e.target.value,$),Q(e.target.value)},autoComplete:\"off\"})):null,\"claimed\"!==wt&&n&&Ze===a&&pt&&!St?U(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},U(d.a,{width:\"100%\",onClick:function(){qa()},isDisabled:gt},gt?\"Claiming ...\":\"Claim (Crack Open Vault)\")):\"claimed\"===wt&&kt===n&&Ze===a?U(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},U(d.a,{width:\"100%\",onClick:Ba},\"Get Keys\")):null,In||Dn!=n||Ze!=a||\"claimed\"===wt||Un?null:U(c.a.Fragment,null,\"true\"==Z?U(d.a,{width:\"100%\",mt:5,onClick:Aa},\"Mint Me v1\"):U(d.a,{width:\"100%\",mt:5,onClick:function(){y.getSigner(n).signMessage(\"Delayed Minting: \"+oe).then((function(e){console.log(\"sig\",e),fetch(L.g+\"/lazyMint\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:a.toString()},body:JSON.stringify({tokenId:oe,signature:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(\"data\",n.data),Vn(n.data.signature),Ln(n.data.nonce),Kn(!0),setTimeout((function(){Aa()}),500);case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},\"Mint Vault \")),Rn?U(d.a,{isDisabled:!0,type:\"submit\"},\"Verifying Signature ...\"):null,Un?U(d.a,{isDisabled:!0,type:\"submit\"},\"Making Vault ...\"):null),me?U(p.a,null,U(j.a,{align:\"center\"},U(g.a,{target:\"new\",mb:2,ml:35,href:\"https://gateway.ipfs.io/ipfs/\"+me,isExternal:!0},\"View Metadata on IPFS \"),he?U(g.a,{mb:2,href:\"https://gateway.ipfs.io/ipfs/\"+he,isExternal:!0},\"View Image on IPFS \"):null)):null,St?U(l.a,{d:\"flex\",mb:2,ml:35,alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},U(m.a,null,\"*This vault is sealed forever.\")):null,U(p.a,{direction:\"column\",align:\"center\"},\"claimed\"==wt?U(m.a,{color:\"green.500\"},\"CLAIMED\"):null),tt?U(O.a,{status:\"info\"},U(O.b,null),tn?\"Accepting Your Gift Vault\":gt?\"Claiming your Vault ...\":rn?\"Handling Approval Flow ...\":yn?\"Transfering Vault ...\":Yn?\"Minting Vault\":\"Generating Gift Link ...\"):null)),tt?U(F.a,{hash:tt,onComplete:function(){var e;!gt||tn||hn?hn?(localStorage.setItem(n+\"_\"+a+\"_\"+oe+\"_mintPassword\",fn),gn(!0),wn(!1),nt(null)):tn?(nn(!1),Ea(),nt(null)):rn?(on(!1),Ea(),nt(null)):yn?(kn(!1),Ea(),nt(null)):Yn?Na(oe,(function(){Zn(!1),_n(!0)})):(console.log(\"minting\",Yn),console.log(\"claiming\",gt),console.log(\"accepting\",tn),console.log(\"preTransfering\",hn),console.log(\"approving\",rn),console.log(\"Unknown state\")):(nt(null),vt(\"claimed\"),bt(!1),xt(n),e=function(){location.href=location.origin+\"/nft?id=\"+oe},fetch(L.g+\"/web3/selfClaimLogs?chainId=\"+a.toString(),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}}).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log(\"Log check\",a),t.abrupt(\"return\",e());case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,U(l.a,{height:\"40px\"}))}}}]);","extractedComments":[]}