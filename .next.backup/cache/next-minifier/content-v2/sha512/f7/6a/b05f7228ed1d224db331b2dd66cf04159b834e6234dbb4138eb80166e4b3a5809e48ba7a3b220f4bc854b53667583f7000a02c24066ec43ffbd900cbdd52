{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{ePsk:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return $}));var a=n(\"o0o1\"),r=n.n(a),o=n(\"HaE+\"),i=n(\"q1tI\"),c=n.n(i),s=n(\"XZ7F\"),u=n(\"mf32\"),l=n(\"BMxC\"),f=n(\"Weur\"),d=n(\"Yn+B\"),p=n(\"eJLp\"),g=n(\"sK1y\"),m=n(\"pboS\"),b=n(\"wCB1\"),h=n(\"FpzS\"),v=n(\"IP4Q\"),w=n(\"MKZ1\"),O=n(\"jgTY\"),S=n(\"LqLE\"),j=n(\"bQFp\"),y=n(\"wZsY\"),k=n(\"S5RI\"),x=n.n(k),C=n(\"8Kt/\"),T=n.n(C),N=n(\"Z6YE\"),A=n(\"nOHt\"),E=n(\"Ute3\"),I=n(\"a6RD\"),M=n.n(I),F=n(\"iBPG\"),H=n(\"8XlW\"),_=n(\"zIq6\"),L=n(\"N39q\"),V=n(\"21eR\"),P=n(\"NFKh\"),D=n.n(P),G=n(\"IujW\"),J=n.n(G),W=n(\"wH4i\"),B=n.n(W),R=n(\"PLxQ\"),K=n(\"zNBI\"),U=n(\"fksj\"),z=(n(\"Q/0U\"),n(\"r9y0\")),q=c.a.createElement,Y=M()((function(){return Promise.all([n.e(16),n.e(18)]).then(n.bind(null,\"X/Jl\"))}),{loadableGenerated:{webpack:function(){return[\"X/Jl\"]},modules:[\"./AddrModal\"]}}),Z=M()((function(){return Promise.all([n.e(16),n.e(18)]).then(n.bind(null,\"0bCS\"))}),{loadableGenerated:{webpack:function(){return[\"0bCS\"]},modules:[\"./KeysModal\"]}}),X=M()((function(){return Promise.all([n.e(16),n.e(18)]).then(n.bind(null,\"D3uo\"))}),{loadableGenerated:{webpack:function(){return[\"D3uo\"]},modules:[\"./OfferModal\"]}});function $(){var e,t=Object(N.b)(),n=t.account,a=t.chainId,k=t.library,C=Object(A.useRouter)(),I=C.query,M=Object(i.useState)(\"t\"==I.cc),P=M[0],G=(M[1],Object(i.useState)(!1)),W=G[0],$=G[1],Q=Object(i.useState)(I.useOldMint),ee=Q[0],te=(Q[1],Object(i.useState)(I.key)),ne=te[0],ae=te[1],re=Object(i.useState)(I.offer||!1),oe=re[0],ie=(re[1],Object(i.useState)(I.framed||!0)),ce=ie[0],se=(ie[1],Object(i.useState)(I.id)),ue=se[0],le=(se[1],Object(i.useState)(I.experimental)),fe=(le[0],le[1],Object(i.useState)(I.noLayout)),de=(fe[0],fe[1],Object(i.useState)(I.slideshowOnly||!1)),pe=de[0],ge=(de[1],Object(i.useState)(\"\")),me=ge[0],be=ge[1],he=Object(i.useState)(\"\"),ve=he[0],we=he[1],Oe=Object(i.useState)(\"\"),Se=Oe[0],je=Oe[1],ye=Object(i.useState)(\"\"),ke=ye[0],xe=ye[1],Ce=Object(i.useState)(\"\"),Te=Ce[0],Ne=Ce[1],Ae=Object(i.useState)(\"\"),Ee=Ae[0],Ie=Ae[1],Me=Object(i.useState)(\"\"),Fe=Me[0],He=Me[1],_e=Object(i.useState)([]),Le=_e[0],Ve=_e[1],Pe=Object(i.useState)(!1),De=Pe[0],Ge=Pe[1],Je=Object(i.useState)([]),We=Je[0],Be=Je[1],Re=Object(i.useState)([]),Ke=Re[0],Ue=Re[1],ze=Object(i.useState)([]),qe=ze[0],Ye=ze[1],Ze=Object(i.useState)(!1),Xe=Ze[0],$e=Ze[1],Qe=Object(i.useState)(0),et=Qe[0],tt=Qe[1],nt=Object(i.useState)(null),at=nt[0],rt=nt[1],ot=Object(i.useState)(null),it=(ot[0],ot[1]),ct=Object(i.useState)(null),st=ct[0],ut=ct[1],lt=Object(i.useState)(\"\"),ft=lt[0],dt=lt[1],pt=Object(i.useState)(\"\"),gt=pt[0],mt=pt[1],bt=Object(i.useState)({loaded:!1}),ht=(bt[0],bt[1]),vt=Object(i.useState)(!1),wt=vt[0],Ot=vt[1],St=Object(i.useState)(!1),jt=St[0],yt=St[1],kt=Object(i.useState)(\"claimed\"),xt=kt[0],Ct=kt[1],Tt=Object(i.useState)(!1),Nt=Tt[0],At=Tt[1],Et=Object(i.useState)(null),It=Et[0],Mt=Et[1],Ft=Object(i.useState)(\"\"),Ht=Ft[0],_t=Ft[1],Lt=Object(i.useState)(\"\"),Vt=Lt[0],Pt=Lt[1],Dt=Object(i.useState)(\"\"),Gt=Dt[0],Jt=Dt[1],Wt=Object(i.useState)([]),Bt=Wt[0],Rt=Wt[1],Kt=Object(i.useState)(!1),Ut=Kt[0],zt=Kt[1],qt=Object(i.useState)(\"\"),Yt=qt[0],Zt=qt[1],Xt=Object(i.useState)(!1),$t=Xt[0],Qt=Xt[1],en=Object(i.useState)(\"\"),tn=en[0],nn=en[1],an=Object(i.useState)(!1),rn=an[0],on=an[1],cn=Object(i.useState)(!1),sn=(cn[0],cn[1],Object(i.useState)(!1)),un=sn[0],ln=sn[1],fn=Object(i.useState)(!1),dn=fn[0],pn=fn[1],gn=Object(i.useState)(!1),mn=gn[0],bn=gn[1],hn=Object(i.useState)(\"\"),vn=hn[0],wn=hn[1],On=Object(i.useState)(!1),Sn=On[0],jn=On[1],yn=Object(i.useState)(!1),kn=yn[0],xn=yn[1],Cn=Object(i.useState)(null),Tn=Cn[0],Nn=Cn[1],An=Object(i.useState)(!1),En=An[0],In=An[1],Mn=Object(i.useState)(null),Fn=Mn[0],Hn=Mn[1],_n=Object(i.useState)(function(){return La.apply(this,arguments)}()),Ln=_n[0],Vn=(_n[1],Object(i.useState)(!1)),Pn=Vn[0],Dn=Vn[1],Gn=Object(i.useState)(null),Jn=Gn[0],Wn=Gn[1],Bn=Object(i.useState)(null),Rn=Bn[0],Kn=Bn[1],Un=Object(i.useState)(null),zn=Un[0],qn=Un[1],Yn=Object(i.useState)(!1),Zn=Yn[0],Xn=Yn[1],$n=Object(i.useState)(!1),Qn=$n[0],ea=$n[1],ta=Object(i.useState)(!1),na=ta[0],aa=ta[1],ra=Object(i.useState)(!1),oa=(ra[0],ra[1]),ia=Object(i.useState)(null),ca=ia[0],sa=ia[1],ua=Object(i.useState)({name:\"\",image:\"\",metadata:\"\"}),la=(ua[0],ua[1]),fa=Object(i.useState)({name:\"\",chain:\"\",4:\"\",1:\"\",tokenId:{},serialNumber:{hex:\"\"}}),da=fa[0],pa=fa[1],ga=Object(V.b)(L.o.vaultHandler[a],L.o.vaultHandlerAbi,!0),ma=Object(V.b)(L.o.vaultHandlerV8[a],L.o.vaultHandlerV8Abi,!0),ba=Object(V.b)(L.o.emblemVault[a],L.o.emblemAbi,!0),ha=Object(s.a)(),va=ha.isOpen,wa=ha.onOpen,Oa=ha.onClose,Sa=Object(s.a)(),ja=Sa.isOpen,ya=Sa.onOpen,ka=Sa.onClose,xa=Object(s.a)(),Ca=xa.isOpen,Ta=xa.onOpen,Na=xa.onClose,Aa=Object(s.a)(),Ea=Aa.isOpen,Ia=Aa.onToggle,Ma=Object(s.a)(),Fa=Ma.isOpen,Ha=Ma.onToggle,_a=Object(u.c)().colorMode;function La(){return(La=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new x.a({baseUrl:\"\".concat(window.location.origin,\"/serviceworker\"),enableLogging:!0,network:\"testnet\"}),e.next=3,t.init({skipSw:!0,skipInit:!0,skipPrefetch:!0});case 3:return console.log(\"Initialized Torus\"),e.abrupt(\"return\",t);case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new H.a(e,L.o.erc1155Abi,k.getSigner(n).connectUnchecked())},Pa=function(e,t){return fetch(L.g+\"/liveliness\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:a.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,Dn(n.live),console.log(\"Liveliness check\",n);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t()},Da=function(){console.log(\"Delayed Minting\"),Xn(!1),ea(!0),aa(!0);var e=qe.filter((function(e){return\"ETH\"==e.coin}))[0].address;console.log(\"--------------------------------------------------------Delayed Minting\",n,ue,e,Jn,Rn),ga.buyWithSignature(n,ue,e,Jn,Rn).then((function(e){var t=e.hash;setTimeout((function(){ut(t),ea(!1)}),100)})).catch((function(e){console.log(\"AAAAAHHHHHH\",e.code),ea(!1)}))},Ga=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"getvault\"),e.next=3,fetch(L.g+\"/meta/\"+ue+\"?experimental=true&cc=\"+(P?\"t\":\"\"),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",cc:P?\"t\":\"\"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).image_ipfs,n.collectionAddress&&(oa(!0),sa(n.collectionAddress)),n.name?(Wa(n),zt(!1),on(!1)):(ht({loaded:!0}),on(!0)),!Xe&&!De&&Ra([],ue,(function(e){e&&Ve(e)}));case 11:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ja=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(L.g+\"/witness/\"+ue,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",cc:\"t\",service:\"evmetadata\",chainid:a.toString()}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(o=e.sent).signature){e.next=11;break}return console.log(\"witness\",o),e.abrupt(\"return\",t(o));case 11:return e.abrupt(\"return\",t(!1));case 12:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wa=function(e){ce&&e.image&&!e.image.includes(\"framed=\")&&!e.image.includes(\"http\")&&(e.image=e.image+\"&framed=\"+ce),e.ciphertextV2&&(xe(e.ciphertextV2),console.log(\"ciphertextV2\",e.ciphertextV2)),be(e.name),Ie(e.image),He(e.ownedImage||null),Ne(e.description),tt(e.totalValue||0),e.values&&Ve(Le.concat(e.values)),e.attributes&&Be(e.attributes.filter((function(e){return\"key\"===e.trait_type}))),e.attributes&&Ue(e.attributes),Ye(e.addresses),we(e.ipfs||null),je(e.image_ipfs||null),e.targetAsset&&la(e.targetAsset),e.targetContract&&pa(e.targetContract),0==e.live&&Pa(e.tokenId,(function(){})),Dn(0!=e.live),Wn(e.nonce),Kn(e.signature),qn(e.to),it(e.network),rt(\"mainnet\"==e.network?1:\"rinkeby\"==e.network?4:\"mumbai\"==e.network?80001:\"matic\"==e.network?137:\"xdai\"==e.network?100:\"bsc\"==e.network?56:\"fantom\"==e.network?250:\"bitcoin\"==e.network?0:\"aurora\"==e.network?1313161554:97),Ct(e.status),\"claimed\"===xt&&Mt(e.claimedBy),ht({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes(\"private:\")})).length>0;$e(t),e.sealed?At(!0):At(!1)},Ba=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(L.g+\"/vault/balance/\"+n,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(i=e.sent,console.log(\"responce\",o,i),!(i.balances.length>0)){e.next=11;break}return e.abrupt(\"return\",a(t.concat(i.balances)));case 11:return e.abrupt(\"return\",a(t));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ra=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!De){e.next=2;break}return e.abrupt(\"return\",a(!1));case 2:return Ge(!0),e.next=5,fetch(L.g+\"/vault/balance/\"+n+\"?live=true\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",cc:\"t\"}});case 5:return o=e.sent,e.next=8,o.json();case 8:if(i=e.sent,console.log(\"responce\",o,i),!(i.balances.length>0)){e.next=14;break}return e.abrupt(\"return\",a(t.concat(i.balances)));case 14:return e.abrupt(\"return\",a(t));case 15:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ka=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){var i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(L.g+\"/vault/balance/\"+n+\"/\"+a,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"}});case 2:return i=e.sent,e.next=5,i.json();case 5:if(c=e.sent,console.log(\"responce\",i,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt(\"return\",o(t.concat(c.balances)));case 11:return e.abrupt(\"return\",o(t));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ua=function(){var e=localStorage.getItem(n+\"_\"+a+\"_\"+ue+\"_mintPassword\");e&&mn&&ae(e)},za=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o){var i,c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append(\"chainid\",a.toString()),i.append(\"Content-Type\",\"application/json\"),c=JSON.stringify({signature:t,tokenId:n}),e.next=6,fetch(\"https://tor-us-signer.vercel.app/sign\",{method:\"POST\",headers:i,body:c,redirect:\"follow\"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt(\"return\",o(u));case 11:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),qa=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!1,e.next=3,Ln;case 3:return e.next=5,e.sent.getTorusKey(\"tor-us-signer-vercel\",t,{verifier_id:t},n).catch((function(e){o=e.message}));case 5:if(i=e.sent,!o){e.next=11;break}return console.log(\"error\",o),e.abrupt(\"return\",a(!1));case 11:return e.abrupt(\"return\",a(i));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ya=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o,i){var c,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append(\"chainId\",a.toString()),c.append(\"service\",\"evmetadata\"),c.append(\"Content-Type\",\"application/json\"),s=JSON.stringify({signature:t,coin:o}),e.next=7,fetch(L.g+\"/address/\"+n,{method:\"POST\",headers:c,body:s,redirect:\"follow\"});case 7:return u=e.sent,e.next=10,u.json();case 10:return l=e.sent,e.abrupt(\"return\",i(l));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Za=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o){var i,c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append(\"chainId\",a.toString()),i.append(\"service\",\"evmetadata\"),i.append(\"Content-Type\",\"application/json\"),c=JSON.stringify({signature:t}),e.next=7,fetch(L.g+\"/embed/\"+n,{method:\"POST\",headers:i,body:c,redirect:\"follow\"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt(\"return\",o(u));case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Xa=function(){var e=Object(o.a)(r.a.mark((function e(){var t,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(){return(c=Object(o.a)(r.a.mark((function e(){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.getPreTransfer(ue);case 2:if(o=e.sent,!da[a]){e.next=9;break}return e.next=6,ba.isApprovedForAll(n,L.o.vaultHandlerV8[a]);case 6:i=e.sent,e.next=12;break;case 9:return e.next=11,ba.isApprovedForAll(n,L.o.vaultHandler[a]);case 11:i=e.sent;case 12:$(i),bn(\"0x0000000000000000000000000000000000000000\"!==o._from),Hn(t),Ot(t===n),Ua();case 17:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)},i=function(){return c.apply(this,arguments)},console.log(\"Contract states\"),!1,e.prev=4,!da[a]){e.next=14;break}return console.log(\"Checking owner wth targetContract\"),ba=Va(da[a]),e.next=10,ba.getOwnerOfSerial(da.serialNumber);case 10:t=e.sent,console.log(\"--------------------------- owner\",t,W,n,L.o.vaultHandlerV8[a]),e.next=17;break;case 14:return e.next=16,ba.ownerOf(ue);case 16:t=e.sent;case 17:i(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(4),t=\"0x0000000000000000000000000000000000000000\",i();case 24:case\"end\":return e.stop()}}),e,null,[[4,20]])})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){console.log(\"mine?\",wt),console.log(\"claiming?\",jt),console.log(\"accepting?\",un),console.log(\"acceptable\",mn)}));var $a=function(e){return console.log(e,qe.filter((function(t){return t.coin==e})).length>0),qe.filter((function(t){return t.coin==e})).length>0},Qa=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage(\"Renew: \"+ue).then((function(e){var n=qe.filter((function(e){return\"NMC\"==e.coin}))[0].address;console.log(\"signature\",e,t),fetch(L.g+\"/nmc/renew/\"+n,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:a.toString()},body:JSON.stringify({tokenId:ue,signature:e,name:t})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(\"Requested Renew\",n);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),er=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!da[a]){e.next=5;break}return ba=Va(da[a]),e.next=4,ba.getSerial(da.tokenId,0);case 4:t=e.sent;case 5:k.getSigner(n).signMessage(\"Claim: \"+(da[a]?t:ue)).then((function(e){za(e,ue,(function(e){qa(ue,e.token,(function(e){var t=D.a.AES.decrypt(ke,e.privateKey),n=JSON.parse(t.toString(D.a.enc.Utf8));Rt(n.values),_t(n.phrase),qe.forEach((function(e){e.key=window.phrasePathToKey(n.phrase,e.path),\"BTC\"==e.coin&&Pt(e.key),\"ETH\"==e.coin&&Jt(e.key)})),ya()}))}))}));case 6:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tr=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage(\"HideAsset: \"+ue).then((function(e){console.log(\"----------------------------------------------------------------\",e),console.log(t.name,t.coin,t.address),nr(ue,t.coin,t.address,t.name,e,(function(){console.log(\"Done hiding coin and getting new balances\")}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function nr(e,t,n,i,c,s){fetch(L.g+\"/hide/\"+e,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:a.toString()},body:JSON.stringify({coin:t||null,address:n||null,name:i||null,signature:c||null})}).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log(\"-------\",a),Ba([],e,(function(e){return Ve(e),s()}));case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var ar=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage(\"Address: \"+ue).then((function(e){Ya(e,ue,t,(function(e){Ga()}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rr=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage(\"Embed: \"+ue).then((function(e){Za(e,ue,(function(e){Ie(e.ownedImage)}))}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),or=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:da[a]?ma.claim(da[a],da.tokenId).then((function(e){var t=e.hash;yt(!0),setTimeout((function(){ut(t)}),100)})):ba.burn(ue).then((function(e){var t=e.hash;yt(!0),setTimeout((function(){ut(t)}),100)}));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ir=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a,o,i,c,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var r=0;r<o-c;r++){var l=Math.floor(t.length*Math.random()),f=t.charAt(l);s+=f}i==a-1&&c++,i==a&&(u+=n.charAt(c-1),i=0),Zt(u+s),s=\"\"},!$t){e.next=3;break}return e.abrupt(\"return\");case 3:Qt(!0),t=\"abcdefghijklmnopqrstuvwxyz\",5,o=(n=\"Decrypting\").length,i=0,c=0,s=\"\",u=\"\",function e(t){setTimeout((function(){--t?e(t):Qt(!1),l(t),i+=1}),5)}(o*(a=8)+1);case 14:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function cr(e){return(e?e.split(\"\\n\\n\\n\\n\"):[\" \"])[0].trim()}function sr(e){tn&&(e=tn),ir(),console.log(qe);var t=qe[0].address.replace(\"private:\",\"\");try{var n=D.a.AES.decrypt(t,e);JSON.parse(n.toString(D.a.enc.Utf8)),$e(!1),nn(e),Ye(function(e){return qe.forEach((function(t){if(t.address.includes(\"private\")){var n=t.address.replace(\"private:\",\"\");t.address=function(e,t){var n=D.a.AES.decrypt(e,t);return JSON.parse(n.toString(D.a.enc.Utf8))}(n,e)}})),qe}(e));var a=qe.filter((function(e){return\"ETH\"===e.coin}))[0].address,r=qe.filter((function(e){return\"BTC\"===e.coin}))[0].address;console.log(\"SUCCESS\",qe),Ka([],a,r,(function(e){Ve(e)}))}catch(o){console.log(\"WTF\",o)}}return Object(i.useEffect)((function(){console.log(\"----\"),Ga()}),[]),Object(i.useEffect)((function(){(n&&a&&at&&a==at||I.noLayout&&\"true\"==I.noLayout||I.slideshowOnly&&\"true\"==I.slideshowOnly)&&Xa()})),ca&&(ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new H.a(e||L.o.emblemVault[a],L.o.emblemAbi,k.getSigner(n).connectUnchecked())}(ca||null)),q(c.a.Fragment,null,q(T.a,null,q(\"meta\",{name:\"twitter:card\",content:\"summary_large_image\"}),q(\"meta\",{name:\"twitter:site\",content:\"Emblem.Finance\"}),q(\"meta\",{name:\"twitter:title\",content:me}),q(\"meta\",{name:\"twitter:description\",content:cr(Te)}),q(\"meta\",{name:\"twitter:image\",content:Ee}),q(\"script\",{dangerouslySetInnerHTML:{__html:'\\n              // $(\".NFT\").tilt({    \\n              //     maxTilt: 3\\n              // });\\n              $(\".NFT\").trigger(\\'mouseenter\\');\\n              $(\".NFT\").trigger(\\'mouseclick\\'), \\'.NFT\\';\\n              if (localStorage.getItem(\"darkMode\") == \\'false\\') {\\n                localStorage.setItem(\"darkMode\",\"true\"); location.href = location.href\\n              }\\n              '}})),q(Y,{isOpen:va,onClose:Oa,addrCoin:ft,addrAddr:gt}),q(Z,{isOpen:ja,onClose:ka,mnemonic:Ht,privKeyBTC:Vt,privKeyETH:Gt,privValues:Bt,addresses:qe}),oe?q(X,{isOpen:Ca,onClose:Na,tokenId:ue,mine:wt}):null,q(l.a,{height:\"40px\"}),Ut?q(E.a,null):\"\",rn||pe?Le.length>0&&pe?q(d.a,{className:\"NFT-content\",align:\"center\"},Le.length&&Le.filter((function(e){return\"nft\"==e.type})).length>0?q(K.a,{name:me,image:Le[0].image,items:Le.filter((function(e){return e.image!==Le[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):q(R.b,{className:\"d-block w-100 NFT-image\",url:Ee})):rn?q(d.a,{align:\"center\"},q(j.a,{width:\"md\",src:\"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg\"}),q(g.a,null,\"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR\",\" \",q(m.a,{color:\"#638cd8\",href:\"../create\"},\"CREATE ONE HERE!\"))):null:q(f.a,{width:\"full\",align:\"center\",justifyContent:\"center\"},q(l.a,{className:\"NFT\",maxW:\"sm\",borderWidth:\"1px\",borderColor:at!=a?\"orange.500\":\"claimed\"==xt?\"green.500\":null,rounded:\"lg\",overflow:\"hidden\",alignItems:\"center\",minW:390},q(l.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",textTransform:\"uppercase\",alignItems:\"center\",color:\"blue.500\"},\"Vault Network: \",F.a[at]),q(l.a,{mt:\"1\",fontWeight:\"semibold\",as:\"h3\",lineHeight:\"tight\",p:2,textAlign:\"center\",alignItems:\"center\"},me,!Xe&&et>0?\": ~$\"+et.toLocaleString():null),q(d.a,{className:\"NFT-content\",align:\"center\"},Le.length&&Le.filter((function(e){return\"nft\"==e.type})).length>0?q(K.a,{name:me,image:Ee,items:Le.map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):q(R.b,{className:\"d-block w-100 NFT-image\",url:Ee}),wt&&Fe?q(p.a,{onClick:function(){rr()}},\"(OWNED) Show Full Embed\"):null),q(d.a,{align:\"center\"},q(l.a,{mt:\"2\",ml:\"4\",lineHeight:\"tight\"},q(d.a,null,q(g.a,{fontSize:\"xs\"},at==a?q(m.a,{href:\"./vaults?address=\"+Fn},\"Owner: \",Fn):null),q(g.a,{mt:2,as:\"h4\",ml:\"4\",mr:\"4\",fontSize:\"xs\",fontStyle:\"italic\",className:\"md\"},q(J.a,{plugins:[B.a],children:cr(Te)}))))),q(l.a,{p:\"6\"},q(b.f,{isFitted:!0,variant:\"enclosed\"},q(b.c,{mb:\"1em\"},q(b.a,null,\"Balances\"),q(b.a,null,\"Attributes\")),q(b.e,null,q(b.d,null,Xe?q(l.a,{mb:5},q(g.a,{pb:2,color:Yt?\"green.500\":null},Yt||\"Contents hidden. Enter password to unlock.\"),q(h.a,{type:\"password\",id:\"vault-password\",onChange:function(e){return sr(e.target.value)},\"aria-describedby\":\"password-helper-text\"})):q(l.a,{d:\"flex\",backgroundColor:\"light\"==_a?\"gray.100\":\"gray.700\",alignItems:\"baseline\",className:\"coin-balance-content\"},q(l.a,{color:\"gray.500\",letterSpacing:\"wide\",fontSize:\"sm\",ml:\"2\"},q(g.a,{as:\"h4\",mt:2,fontWeight:\"semibold\"},\"Current Contents:  \",q(\"button\",{onClick:function(){Ra([],ue,(function(e){Ge(!1),Ve(e)}))}},\" [Refresh Balances]\")),q(g.a,{as:\"p\",color:\"dark\"==_a?\"lightgreen\":\"forestgreen\"},\"$\",Number(et.toFixed(4)).toLocaleString()),Le.length?Le.map((function(e){return q(d.a,null,q(U.a,{colorMode:_a,coin:e,mine:\"claimed\"===xt&&It===n||wt,onRenew:Qa,hideAsset:tr}))})):q(E.a,null),We.length?We.map((function(e){return q(g.a,null,\"Data: \",e.attribute_key)})):We.length||Le.length?null:q(g.a,null,\"Nothing in here! Fill 'er up!\")))),q(b.d,null,q(z.a,{colorMode:_a,attributes:Ke})))),Xe?null:q(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},q(v.a,{justifyContent:\"space-between\",spacing:6},q(d.a,null,q(g.a,null,\"Deposit Addresses\"),q(f.a,{w:\"340px\",justify:\"center\",flexWrap:\"wrap\"},qe.map((function(e){return q(p.a,{className:\"address_nft_button\",ml:2,mt:2,\"font-weight\":\"100 !important\",key:e.address,onClick:function(){dt(e.coin),mt(e.address),wa()}},\"ETH\"==e.coin?e.coin+\"\":\"BTC\"==e.coin?e.coin+\"/XCP/OMNI\":\"BCH\"==e.coin?e.coin+\"/SLP\":e.coin)}))),(wt||\"claimed\"===xt)&&qe.length<10?q(c.a.Fragment,null,q(\"button\",{className:\"nft_button\",onClick:function(){Ha()}},\"Manage Addresses\"),q(f.a,{w:\"340px\",justify:\"center\",flexWrap:\"wrap\"},q(w.a,{isOpen:Fa},$a(\"DOGE\")?null:q(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){ar(\"DOGE\")}},\"Add DOGE\"),$a(\"DGB\")?null:q(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){ar(\"DGB\")}},\"Add Digibyte\"),$a(\"NMC\")?null:q(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){ar(\"NMC\")}},\"Add Namecoin\"),$a(\"LTC\")?null:q(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){ar(\"LTC\")}},\"Add Litecoin\"),$a(\"MONA\")?null:q(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){ar(\"MONA\")}},\"Add Mona\"),$a(\"TEZOS\")?null:q(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){ar(\"TEZOS\")}},\"Add Tezos\"),$a(\"SOLANA\")?null:q(p.a,{className:\"nft_button\",mr:2,mt:2,onClick:function(){ar(\"SOLANA\")}},\"Add Solana\")))):null))),\"claimed\"===xt||!Pn||1!==at&&4!==at&&137!==at?null:q(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},q(p.a,{className:\"nft_button\",width:\"50%\",m:5,onClick:function(){window.open(\"https://\"+(4==at?\"rinkeby.\":\"\")+\"opensea.io/assets/\"+(137==at?\"matic/\":\"\")+(ca||L.o.emblemVault[at])+\"/\"+ue,\"_blank\")}},\"Opensea\"),q(p.a,{className:\"nft_button\",width:\"50%\",m:5,onClick:function(){window.open(\"https://\"+(4==at?\"rinkeby.\":\"\")+\"looksrare.org/collections/\"+(137==at?\"matic/\":\"\")+(ca||L.o.emblemVault[at])+\"/\"+ue,\"_blank\")}},\"LooksRare\"),oe?q(p.a,{className:\"\",onClick:function(){Ta()}},wt?\"My Offers\":\"Make an Offer\",\" (NFT\\xb2NFT)\"):null),\"claimed\"!==xt&&wt&&!mn?q(c.a.Fragment,null,q(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\",width:\"100%\"},q(d.a,{direction:\"column\",align:\"center\",width:\"100%\"},q(p.a,{className:\"nft_button\",width:\"100%\",onClick:Ia},\"Transfer Vault\"),q(w.a,{isOpen:Ea},q(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"2\",width:\"100%\"},q(O.a,{htmlFor:\"owner-address\"},\"Address\"),q(h.a,{mt:1,type:\"text\",id:\"transferAddress\",value:Tn||\"\",onChange:function(e){console.log(\"Transfer to\",e.target.value),Nn(e.target.value)},autoComplete:\"off\"})),q(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"2\",width:\"100%\"},q(p.a,{isDisabled:!Object(F.k)(Tn),onClick:function(){Ia(),In(!0),ba.transferFrom(n,Tn,ue).then((function(e){var t=e.hash;ut(t)})).catch((function(e){}))}},\"Transfer Now\")))))):null,wt&&!mn?q(c.a.Fragment,null,q(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},q(p.a,{className:\"nft_button\",width:\"100%\",onClick:function(){if(!W)return pn(!0),void ba.setApprovalForAll(L.o.vaultHandler[a],!0).then((function(e){var t=e.hash;setTimeout((function(){ut(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log(\"tx failed.\",e):pn(!1)}));var t=D.a.lib.WordArray.random(16).toString(),n=D.a.SHA256(t).toString();console.log(\"plain\",t),console.log(\"sha\",n),wn(t),e=n,setTimeout((function(){console.log(\"transferImage\",\"0x\"+e),xn(!0),ga.addPreTransfer(ue,\"0x\"+e).then((function(e){var t=e.hash;ut(t),console.log(\"Set Pre Transfering True\",kn)})).catch((function(e){null!==e&&void 0!==e&&e.code&&(console.log(\"Error?\"),xn(!1),jn(!1),wn(\"\"))}))}),500)}},\" \",W?\"Get Link (Send Vault Via Link)\":\"Approve Gifting\",\" \"))):null,(Sn||ne)&&mn?q(l.a,null,q(m.a,{href:location.protocol+\"//\"+location.host+\"/nft?id=\"+ue+\"&key=\"+(vn||ne)},\"Copy Gift Link\"),q(g.a,null,\"Password: \",vn||ne)):null,mn&&It!==n?q(c.a.Fragment,null,q(p.a,{mt:2,width:\"100%\",onClick:function(){console.log(ne),ln(!0),Ja((function(e){ga.transferWithCode(ue,ne,n,e.nonce,e.signature).then((function(e){var t=e.hash;setTimeout((function(){ut(t)}),100)})).catch((function(e){ln(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.log(\"tx failed.\",e)}))}))}},\"Accept\"),q(h.a,{mt:2,type:\"password\",id:\"mintPassword\",minLength:3,maxLength:200,value:ne||\"\",onChange:function(e){console.log(\"grrr\",e.target.value,ne),ae(e.target.value)},autoComplete:\"off\"})):null,\"claimed\"!==xt&&n&&at===a&&wt&&!Nt?q(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},q(p.a,{width:\"100%\",onClick:function(){or()},isDisabled:jt},jt?\"Claiming ...\":\"Claim (Crack Open Vault)\")):\"claimed\"===xt&&It===n&&at===a?q(l.a,{d:\"flex\",alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},q(p.a,{width:\"100%\",onClick:er},\"Get Keys\")):null,Pn||zn!=n||at!=a||\"claimed\"===xt||Qn?null:q(c.a.Fragment,null,\"true\"==ee?q(p.a,{width:\"100%\",mt:5,onClick:Da},\"Mint Me v1\"):q(p.a,{width:\"100%\",mt:5,onClick:function(){k.getSigner(n).signMessage(\"Delayed Minting: \"+ue).then((function(e){console.log(\"sig\",e),fetch(L.g+\"/lazyMint\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",chainid:a.toString()},body:JSON.stringify({tokenId:ue,signature:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(\"data\",n.data),Kn(n.data.signature),Wn(n.data.nonce),Xn(!0),setTimeout((function(){Da()}),500);case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},\"Mint Vault \")),Pn&&\"claimed\"!=xt||zn!=n||at!=a||Qn||!(Le.length<1)?null:q(p.a,{width:\"100%\",mt:5,onClick:function(){k.getSigner(n).signMessage(\"Delete: \"+ue).then((function(e){console.log(\"sig\",e),fetch(L.g+\"/v2/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\"},body:JSON.stringify({tokenId:ue,signature:e,chainId:a.toString()})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:e.sent,location.href=location.href.split(\"/\")[0]+\"/vaults\";case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},\"Delete Vault \"),Zn?q(p.a,{isDisabled:!0,type:\"submit\"},\"Verifying Signature ...\"):null,Qn?q(p.a,{isDisabled:!0,type:\"submit\"},\"Minting Vault ...\"):null),ve?q(d.a,null,q(y.a,{align:\"center\"},q(m.a,{target:\"new\",mb:2,ml:35,href:\"https://gateway.ipfs.io/ipfs/\"+ve,isExternal:!0},\"View Metadata on IPFS \"),Se?q(m.a,{mb:2,href:\"https://gateway.ipfs.io/ipfs/\"+Se,isExternal:!0},\"View Image on IPFS \"):null)):null,Nt?q(l.a,{d:\"flex\",mb:2,ml:35,alignItems:\"baseline\",justifyContent:\"space-between\",mt:\"4\"},q(g.a,null,\"*This vault is sealed forever.\")):null,q(d.a,{direction:\"column\",align:\"center\"},\"claimed\"==xt?q(g.a,{color:\"green.500\"},\"CLAIMED\"):null),st?q(S.a,{status:\"info\"},q(S.b,null),un?\"Accepting Your Gift Vault\":jt?\"Claiming your Vault ...\":dn?\"Handling Approval Flow ...\":En?\"Transfering Vault ...\":na?\"Minting Vault\":\"Generating Gift Link ...\"):null)),st?q(_.a,{hash:st,onComplete:function(){var e;!jt||un||kn?kn?(localStorage.setItem(n+\"_\"+a+\"_\"+ue+\"_mintPassword\",vn),jn(!0),xn(!1),ut(null)):un?(ln(!1),Ga(),ut(null)):dn?(pn(!1),Ga(),ut(null)):En?(In(!1),Ga(),ut(null)):na?Pa(ue,(function(){aa(!1),Dn(!0)})):(console.log(\"minting\",na),console.log(\"claiming\",jt),console.log(\"accepting\",un),console.log(\"preTransfering\",kn),console.log(\"approving\",dn),console.log(\"Unknown state\")):(ut(null),Ct(\"claimed\"),yt(!1),Mt(n),e=function(){location.href=location.origin+\"/nft?id=\"+ue+\"&cc=t\"},fetch(L.g+\"/web3/selfClaimLogs?chainId=\"+a.toString()+\"&cc=t\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",service:\"evmetadata\",cc:\"t\"}}).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log(\"Log check\",a),t.abrupt(\"return\",e());case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,q(l.a,{height:\"40px\"}))}}}]);","extractedComments":[]}