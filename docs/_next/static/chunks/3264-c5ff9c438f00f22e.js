"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3264],{43264:function(e,t,n){n.d(t,{Z:function(){return ea}});var a=n(85893),l=n(7335),s=n(45161),i=n(57747),r=n(93717),o=n(51343),c=n(93108),d=n(71293),u=n(32883),m=n(36752),h=n(77458),g=n(35232),p=n(72047),f=n(37365),x=n(33090),j=n(78590),S=n(34292),b=n(74153),w=n(7405),y=n(6089),v=n(8161),C=n(9008),k=n.n(C),T=n(77044),A=n(67294),N=n(11163),O=n(71114),E=n(70758),_=n.n(E),I=n(5152),q=n.n(I),H=n(77294),P=n(64541),V=n(31238),M=n(80902),F=n(62850),z=n(81354),Z=n.n(z),G=n(30724),K=n.n(G),L=n(10043),B=n.n(L),D=n(33862),W=n(97903),U=n(74174),R=n(35649),J=n(18974),$=n(87070),X=n(38299);let Y=(e,t,n,a)=>new H.CH(e,t,n.getSigner(a).connectUnchecked());function Q(e){let{account:t,library:n}=(0,T.Ge)(),[l,s]=(0,A.useState)(!1),[i,o]=(0,A.useState)(null),[d,u]=(0,A.useState)(null),[m,h]=(0,A.useState)(null);return(0,A.useEffect)(()=>{var a;!m&&e.handler&&h(Y((a=e.handler).address,a.abi,n,t))}),(0,A.useEffect)(()=>{var a;!d&&e.spending&&u(Y((a=e.spending).address,a.abi,n,t))}),(0,A.useEffect)(()=>{var n,a,l;d&&(n=e.handler,e.spending,(l=e.amount)>0?d.decimals().then(e=>{o(e),d.allowance(t,n.address).then(t=>{s(t>=l*10**e)})}):d.isApprovedForAll(t,n.address).then(e=>{s(e)}))}),t&&!l?(0,a.jsx)(r.k,{w:"100%",flexWrap:"wrap",mt:3,children:(0,a.jsx)(c.z,{onClick:function(){return e.amount>0?void d.approve(e.handler.address,1e6*10**i).then(t=>{e.watcher(t.hash,e=>{1===e.status&&s(!0)})}):void d.setApprovalForAll(e.handler.address,!0).then(t=>{e.watcher(t.hash,e=>{1===e.status&&s(!0)})})},backgroundColor:"#02b402",color:"black !important",fontWeight:"bold !important",width:"100%",children:e.label})}):null}var ee=n(10063);let et=q()(()=>Promise.all([n.e(1793),n.e(8159),n.e(6115),n.e(7414)]).then(n.bind(n,37414)),{loadableGenerated:{webpack:()=>[37414]}}),en=q()(()=>Promise.all([n.e(1793),n.e(8159),n.e(1817)]).then(n.bind(n,81817)),{loadableGenerated:{webpack:()=>[81817]}});function ea(){let{account:e,chainId:t,library:n}=(0,T.Ge)(),{query:C}=(0,N.useRouter)(),[E,I]=(0,A.useState)("t"==C.cc),[q,z]=(0,A.useState)({to:[]}),[G,L]=(0,A.useState)(!1),[Y,ea]=(0,A.useState)(C.key),[el,es]=(0,A.useState)(C.offer||!1),[ei,er]=(0,A.useState)("true"==C.debug),[eo,ec]=(0,A.useState)(null),[ed,eu]=(0,A.useState)(C.framed||!0),[em,eh]=(0,A.useState)(C.id),[eg,ep]=(0,A.useState)(C.slideshowOnly||!1),[ef,ex]=(0,A.useState)(""),[ej,eS]=(0,A.useState)(""),[eb,ew]=(0,A.useState)(""),[ey,ev]=(0,A.useState)(""),[eC,ek]=(0,A.useState)(""),[eT,eA]=(0,A.useState)(""),[eN,eO]=(0,A.useState)(""),[eE,e_]=(0,A.useState)([]),[eI,eq]=(0,A.useState)(!1),[eH,eP]=(0,A.useState)([]),[eV,eM]=(0,A.useState)([]),[eF,ez]=(0,A.useState)([]),[eZ,eG]=(0,A.useState)(!1),[eK,eL]=(0,A.useState)(0),[eB,eD]=(0,A.useState)(null),[eW,eU]=(0,A.useState)(null),[eR,eJ]=(0,A.useState)(null),[e$,eX]=(0,A.useState)(""),[eY,eQ]=(0,A.useState)(""),[e0,e1]=(0,A.useState)({loaded:!1}),[e7,e2]=(0,A.useState)(!1),[e3,e4]=(0,A.useState)(!1),[e5,e8]=(0,A.useState)("claimed"),[e9,e6]=(0,A.useState)(!1),[te,tt]=(0,A.useState)(null),[tn,ta]=(0,A.useState)(""),[tl,ts]=(0,A.useState)(""),[ti,tr]=(0,A.useState)(""),[to,tc]=(0,A.useState)([]),[td,tu]=(0,A.useState)(!1),[tm,th]=(0,A.useState)(""),[tg,tp]=(0,A.useState)(!1),[tf,tx]=(0,A.useState)(""),[tj,tS]=(0,A.useState)(!1),[tb,tw]=(0,A.useState)(!1),[ty,tv]=(0,A.useState)(!1),[tC,tk]=(0,A.useState)(!1),[tT,tA]=(0,A.useState)(""),[tN,tO]=(0,A.useState)(!1),[tE,t_]=(0,A.useState)(!1),[tI,tq]=(0,A.useState)(!1),[tH,tP]=(0,A.useState)(null),[tV,tM]=(0,A.useState)(!1),[tF,tz]=(0,A.useState)(!1),[tZ,tG]=(0,A.useState)(null),[tK,tL]=(0,A.useState)(null),[tB,tD]=(0,A.useState)(null),[tW,tU]=(0,A.useState)(null),[tR,tJ]=(0,A.useState)(!1),[t$,tX]=(0,A.useState)(!1),[tY,tQ]=(0,A.useState)(!1),[t0,t1]=(0,A.useState)(!1),[t7,t2]=(0,A.useState)(null),[t3,t4]=(0,A.useState)({name:"",image:"",metadata:""}),[t5,t8]=(0,A.useState)({migrating:!1,name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),[t9,t6]=(0,A.useState)({name:"",image:"",metadata:""}),[ne,nt]=(0,A.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),[nn,na]=(0,A.useState)(!1),[nl,ns]=(0,A.useState)(!1),[ni,nr]=(0,A.useState)(null),[no,nc]=(0,A.useState)(null),[nd,nu]=(0,A.useState)(null),[nm,nh]=(0,A.useState)(null),[ng,np]=(0,A.useState)(!1),[nf,nx]=(0,A.useState)(!1),[nj,nS]=(0,A.useState)({}),nb=(0,M.cq)(V.q7.vaultHandler[t],V.q7.vaultHandlerAbi,!0),nw=(0,M.cq)(V.q7.vaultHandlerV8[t],V.q7.vaultHandlerV8Abi,!0),ny=(0,M.cq)(V.q7.emblemVault[t],V.q7.emblemAbi,!0),nv=(0,M.cq)(V.q7.coval[t],V.q7.covalAbi,!0),{isOpen:nC,onOpen:nk,onClose:nT}=(0,l.q)(),{isOpen:nA,onOpen:nN,onClose:nO}=(0,l.q)(),{isOpen:nE,onToggle:n_}=(0,l.q)(),{isOpen:nI,onToggle:nq}=(0,l.q)(),{isOpen:nH,onToggle:nP}=(0,l.q)(),{colorMode:nV}=(0,s.If)(),nM=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new H.CH(t,V.q7.erc1155Abi,n.getSigner(e).connectUnchecked())},nF=(e,n)=>{fetch(V._z+"/liveliness",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:e})}).then(async function(e){let t=await e.json();return tM(t.live),console.log("Liveliness check",t),n(t.live)})},nz=()=>{tv(!0),ny.setApprovalForAll("0x23859b51117dbFBcdEf5b757028B18d7759a4460",!0).then(e=>{let{hash:t}=e;setTimeout(()=>{eJ(t)},100)}).catch(e=>{(null==e?void 0:e.code)!==4001?console.log("tx failed.",e):tv(!1)})},nZ=async()=>{let t=await fetch(V._z+"/meta/"+em+"?experimental=true"+(E?"&_vercel_no_cache=1":""),{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",cc:E?"t":""}}),n=await t.json(),a=await F.SZ.generateMigrateReport(e,!0);(a=Object.keys(a=Object.fromEntries(Object.entries(a).filter(e=>{let[t,n]=e;return!n.to.includes("Embels")}))).map(e=>({...a[e],tokenId:e})).find(e=>e.tokenId==em))&&a.to&&a.to.length>0&&(n.move=a),nS(n),nG(n),n.image_ipfs,n.collectionAddress&&(t1(!0),t2(n.collectionAddress)),n.name?(tu(!1),tS(!1)):(e1({loaded:!0}),tS(!0)),eZ||eI||nL([],em,e=>{e&&e_(e)})},nG=e=>{if(ed&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+ed),e.ciphertextV2&&ev(e.ciphertextV2),nx(e.mintLocked&&0==e.mintLockBlock),ex(e.name),eA(e.image),eO(e.ownedImage||null),ek(e.description),eL(e.totalValue||0),e.values&&e_(eE.concat(e.values)),e.attributes&&eP(e.attributes.filter(e=>"key"===e.trait_type)),e.attributes&&eM(e.attributes),ez(e.addresses),eS(e.ipfs||null),ew(e.image_ipfs||null),e.targetAsset&&t4(e.targetAsset),e.targetContract&&t8(e.targetContract),e.move_targetContract&&nt(e.move_targetContract),e.move_targetAsset&&t6(e.move_targetAsset),"Migrated Vault"==e.name||e.targetContract&&e.targetContract[t]&&!e.targetContract.migrating)return location.href=location.origin+"/nft2?id="+em,!1;tM(!1!=e.live),tG(e.nonce),tD(e.signature),tU(e.to),eU(e.network),eD("mainnet"==e.network?1:"rinkeby"==e.network?4:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),e8(e.status),"claimed"===e5&&tt(e.claimedBy),eG(e.addresses.filter(e=>e.address.includes("private:")).length>0),e.sealed?e6(!0):e6(!1),e.move&&e.move.to&&e.move.to.length>0&&z(e.move),e1({loaded:!0})},nK=async(e,t,n)=>{let a=await fetch(V.HP+"/vault/balance/"+t,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),l=await a.json();return n((console.log("response",a,l),l.balances.length>0)?e.concat(l.balances):e)},nL=async(e,t,n)=>{if(eI)return n(!1);eq(!0);let a=await fetch(V.HP+"/vault/balance/"+t+"?live=true&_vercel_no_cache=1",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),l=await a.json();return n((console.log("response",a,l),l.balances.length>0)?e.concat(l.balances):e)},nB=async(e,t,n,a)=>{let l=await fetch(V.HP+"/vault/balance/"+t+"/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),s=await l.json();return a((console.log("response",l,s),s.balances.length>0)?e.concat(s.balances):e)},nD=()=>{localStorage.setItem(e+"_"+t+"_"+em+"_mintPassword",tT)},nW=()=>{let n=localStorage.getItem(e+"_"+t+"_"+em+"_mintPassword");n&&tC&&ea(n)},nU=async(e,n,a)=>{var l=new Headers;l.append("chainid",t.toString()),l.append("Content-Type","application/json");var s=JSON.stringify({signature:e,tokenId:n});let i=await fetch(V.pU+"/sign",{method:"POST",headers:l,body:s,redirect:"follow"}),r=await i.json();return a(r)};async function nR(e,t,n){let a=new J.ZP({network:"mainnet"}),l=new $.ZP({enableOneKey:!0,network:"mainnet"}),{torusNodeEndpoints:s,torusIndexes:i}=await a.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:e}),{privKey:r}=await l.retrieveShares(s,i,"tor-us-signer-vercel",{verifier_id:e},t);return n({privateKey:r})}let nJ=async(e,n,a,l)=>{var s=new Headers;s.append("chainId",t.toString()),s.append("service","evmetadata"),s.append("Content-Type","application/json");var i=JSON.stringify({signature:e,coin:a});let r=await fetch(V.HP+"/address/"+n,{method:"POST",headers:s,body:i,redirect:"follow"}),o=await r.json();return l(o)},n$=async(e,n,a)=>{var l=new Headers;l.append("chainId",t.toString()),l.append("service","evmetadata"),l.append("Content-Type","application/json");var s=JSON.stringify({signature:e});let i=await fetch(V.HP+"/embed/"+n,{method:"POST",headers:l,body:s,redirect:"follow"}),r=await i.json();return a(r)},nX=async()=>{let n;console.log("Contract states");try{t5[t]&&!t5.migrating?(console.log("Checking owner wth targetContract"),ny=nM(t5[t]),n=await ny.getOwnerOfSerial(t5.serialNumber),console.log("--------------------------- owner",n,nl,e,V.q7.vaultHandlerV8[t])):n=tV||t5.migrating?await ny.ownerOf(em):"0x0000000000000000000000000000000000000000",nr(await nv.decimals()),nc(await nv.allowance(e,V.q7.vaultHandler[t]).then(e=>e.toString())),nu(await nv.balanceOf(e).then(e=>e.toString())),nh(await nb.price().then(e=>e.toString())),Number(no)>=Number(nm)?na(!0):na(!1),a()}catch(e){n="0x0000000000000000000000000000000000000000",a()}async function a(){let a=await nb.getPreTransfer(em);ns(await ny.isApprovedForAll(e,V.q7.vaultHandlerV8[t])),tk("0x0000000000000000000000000000000000000000"!==a._from),tP(n),e2(n===e||tW===e&&"0x0000000000000000000000000000000000000000"===n),np(tW===e&&"0x0000000000000000000000000000000000000000"===n),nW(),tH&&!1==tV&&!tF&&(tz(!0),nF(em,()=>{}))}};(0,A.useEffect)(()=>{console.log("mine?",e7),console.log("claiming?",e3),console.log("accepting?",tb),console.log("acceptable",tC),console.log("qualified",q),console.log("owner",tH)}),(0,A.useEffect)(()=>{if(e&&t&&eB&&ei&&tH){let n="DEBUG Report for ".concat(em,":\n\n");n+="Props:\n   owner: ".concat(tH,"\n   mine: ").concat(e7,"\n   created by: ").concat(tW,"\n   account: ").concat(e,"\n   vaultChainId: ").concat(eB,"\n   chainId: ").concat(t,"\n   sealed: ").concat(e9,"\n   approved: ").concat(nl,"\n   live: ").concat(tV,"\n   mineUnMinted: ").concat(ng,"\n   status: ").concat(e5,"\n   mintLockedForever: ").concat(nf,"\n")+"Can Unlock Before Mint: ".concat(eB===t&&ng&&"claimed"!=e5&&!nf,"\n")+"Can Claim: ".concat("claimed"!==e5&&e&&eB===t&&e7&&!e9&&nl&&tV,"\n"),er(!1),ec(n)}},[e,t,eB,ei,tH]);let nY=e=>(console.log(e,eF.filter(t=>t.coin==e).length>0),eF.filter(t=>t.coin==e).length>0),nQ=async a=>{n.getSigner(e).signMessage("Renew: "+em).then(e=>{let n=eF.filter(e=>"NMC"==e.coin)[0].address;console.log("signature",e,a),fetch(V.HP+"/nmc/renew/"+n,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:em,signature:e,name:a})}).then(async function(e){console.log("Requested Renew",await e.json())})})},n0=async()=>{let a;t5[t]&&(ny=nM(t5[t]),a=await ny.getSerial(t5.tokenId,0)),n.getSigner(e).signMessage("Claim: "+(t5[t]?a:em)).then(e=>{e1({loaded:!1}),ng&&"claimed"!=e5&&!nf&&nx(!0),nU(e,em,e=>{nR(em,e.token,async e=>{try{var t=Z().AES.decrypt(ey,e.privateKey);let n=JSON.parse(t.toString(Z().enc.Utf8));tc(n.values),ta(n.phrase),eF.forEach(async e=>{"STX"==e.coin?e.key=await n1(e,n.phrase):e.key=window.phrasePathToKey(n.phrase,e.path),"BTC"==e.coin&&ts(e.key),"ETH"==e.coin&&tr(e.key)})}catch(e){alert(e),e1({loaded:!0})}e1({loaded:!0}),nN()})})})},n1=async(e,t)=>"contact emblem.team if you see this error",n7=async a=>{n.getSigner(e).signMessage("HideAsset: "+em).then(e=>{!function(e,n,a,l,s,i){fetch(V.HP+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({coin:n||null,address:a||null,name:l||null,signature:s||null})}).then(async function(t){console.log("-------",await t.json()),nK([],e,e=>(e_(e),i()))})}(em,a.coin,a.address,a.name,e,()=>{console.log("Done hiding coin and getting new balances")})})},n2=async t=>{n.getSigner(e).signMessage("Address: "+em).then(e=>{nJ(e,em,t,e=>{nZ()})})},n3=async()=>{n.getSigner(e).signMessage("Embed: "+em).then(e=>{n$(e,em,e=>{eA(e.ownedImage)})})},n4=async a=>{L(!0),await (0,ee.mv)(em);let l=q.to[a],s=await F.SZ.fetchCuratedContractByName(l);n.getSigner(e).signMessage("Move Vault: "+em).then(n=>{fetch(V._z+"/move-vault/",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({chainId:1,from:e,sourceContract:{1:V.q7.emblemVault[eB]},targetContract:s,targetAsset:{name:eE[0].name},amount:1,tokenId:em,signature:n})}).then(async function(e){let n=await e.json();n.sig&&(console.log(V.q7.emblemVault[eB]),console.log(V.q7.emblemVault[eB],s[t],em,n.tokenId,n.nonce,n.sig,n.serial),nw.moveVault(V.q7.emblemVault[eB],s[t],em,n.tokenId,n.nonce,n.sig,n.serial).then(async e=>{eJ(e.hash),await (0,ee.mv)(em)}).catch(e=>{nF(em,t=>{alert(e.message),t?location.href=location.href:location.href=location.origin+(t?"/nft?id=":"/nft2?id=")+em})}))})}).catch(e=>{console.log(e),alert(e.message),L(!1)})},n5=async()=>{t5[t]?nw.claim(t5[t],t5.tokenId).then(e=>{let{hash:t}=e;e4(!0),setTimeout(()=>{eJ(t)},100)}).catch(e=>{alert(e.message),e4(!1)}):nb.claimOnChain(em).then(e=>{let{hash:t}=e;e4(!0),setTimeout(()=>{eJ(t)},100)}).catch(e=>{alert(e.message),e4(!1)})},n8=async()=>{if(!tg){tp(!0);var e="abcdefghijklmnopqrstuvwxyz",t="Decrypting",n=t.length,a=0,l=0,s="",i="";!function r(o){setTimeout(function(){--o?r(o):tp(!1),function(r){for(var o=0;o<n-l;o++){var c=Math.floor(e.length*Math.random());s+=e.charAt(c)}7==a&&l++,8==a&&(i+=t.charAt(l-1),a=0),th(i+s),s=""}(0),a+=1},5)}(8*n+1)}};function n9(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}return(0,A.useEffect)(()=>{nZ()},[]),(0,A.useEffect)(()=>{(e&&t&&eB&&t==eB||C.noLayout&&"true"==C.noLayout||C.slideshowOnly&&"true"==C.slideshowOnly)&&nX()}),t7&&(ny=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new H.CH(a||V.q7.emblemVault[t],V.q7.emblemAbi,n.getSigner(e).connectUnchecked())}(t7||null)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(k(),{children:[(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:site",content:"Emblem.Finance"}),(0,a.jsx)("meta",{name:"twitter:title",content:ef}),(0,a.jsx)("meta",{name:"twitter:description",content:n9(eC)}),(0,a.jsx)("meta",{name:"twitter:image",content:eT}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})]}),(0,a.jsx)(et,{isOpen:nC,onClose:nT,addrCoin:e$,addrAddr:eY}),(0,a.jsx)(en,{isOpen:nA,onClose:nO,mnemonic:tn,privKeyBTC:tl,privKeyETH:ti,privValues:to,addresses:eF}),(0,a.jsxs)(_(),{loaded:e0.loaded,children:[(0,a.jsx)(i.xu,{height:"40px"}),td?(0,a.jsx)(O.Z,{}):"",!e0.loaded||tj||eg?eE.length>0&&eg?(0,a.jsx)(o.K,{className:"NFT-content",align:"center",children:eE.length&&eE.filter(e=>"nft"==e.type).length>0?(0,a.jsx)(W.Z,{name:ef,image:eE[0].image,items:eE.filter(e=>e.image!==eE[0].image).map(e=>({image:e.image,description:e.description,name:e.name,type:e.type})),properties:{duration:3e3,canSwipe:!1}}):(0,a.jsx)(D.Z,{className:"d-block w-100 NFT-image",url:eT})}):tj?(0,a.jsxs)(o.K,{align:"center",children:[(0,a.jsx)(y.E,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),(0,a.jsxs)(d.x,{children:["THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",(0,a.jsx)(u.r,{color:"#638cd8",href:"../create",children:"CREATE ONE HERE!"})]})]}):null:(0,a.jsx)(r.k,{width:"full",align:"center",justifyContent:"center",children:eo?(0,a.jsx)(i.xu,{as:"pre",style:{color:"white",opacity:1},children:eo}):(0,a.jsxs)(i.xu,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:eB!=t?"orange.500":"claimed"==e5?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390,children:[(0,a.jsxs)(i.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500",children:["Vault Network: ",F.zh[eB]]}),(0,a.jsxs)(i.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center",children:[ef,!eZ&&eK>0?": ~$"+eK.toLocaleString():null]}),(0,a.jsxs)(o.K,{className:"NFT-content",align:"center",children:[eE.length&&eE.filter(e=>"nft"==e.type).length>0?(0,a.jsx)(W.Z,{name:ef,image:eT,items:eE.map(e=>({image:e.image,description:e.description,name:e.name,type:e.type})),properties:{duration:3e3,canSwipe:!1}}):(0,a.jsx)(D.Z,{className:"d-block w-100 NFT-image",url:eT}),e7&&eN?(0,a.jsx)(c.z,{onClick:()=>{n3()},children:"(OWNED) Show Full Embed"}):null]}),(0,a.jsx)(o.K,{align:"center",maxWidth:"400px",children:(0,a.jsx)(i.xu,{mt:"2",ml:"4",lineHeight:"tight",maxWidth:"400px",children:(0,a.jsxs)(o.K,{children:[(0,a.jsx)(d.x,{fontSize:"xs",children:eB==t?(0,a.jsxs)(u.r,{href:"./vaults?address="+tH,children:["Owner: ",tH]}):null}),(0,a.jsx)(d.x,{overflowWrap:"anywhere",mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md",children:(0,a.jsx)(K(),{plugins:[B()],children:n9(eC)})})]})})}),(0,a.jsxs)(i.xu,{p:"6",children:[(0,a.jsxs)(m.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(h.t,{mb:"1em",children:[(0,a.jsx)(g.O,{children:"Balances"}),(0,a.jsx)(g.O,{children:"Attributes"})]}),(0,a.jsxs)(p.n,{children:[(0,a.jsx)(f.x,{children:eZ?(0,a.jsxs)(i.xu,{mb:5,children:[(0,a.jsx)(d.x,{pb:2,color:tm?"green.500":null,children:tm||"Contents hidden. Enter password to unlock."}),(0,a.jsx)(x.I,{type:"password",id:"vault-password",onChange:e=>(function(e){tf&&(e=tf),n8(),console.log(eF);let t=eF[0].address.replace("private:","");try{var n,a=Z().AES.decrypt(t,e);JSON.parse(a.toString(Z().enc.Utf8)),eG(!1),tx(e),ez((n=e,eF.forEach(e=>{if(e.address.includes("private")){let t=e.address.replace("private:","");e.address=JSON.parse(Z().AES.decrypt(t,n).toString(Z().enc.Utf8))}}),eF));let l=eF.filter(e=>"ETH"===e.coin)[0].address,s=eF.filter(e=>"BTC"===e.coin)[0].address;console.log("SUCCESS",eF),nB([],l,s,e=>{e_(e)})}catch(e){console.log("WTF",e)}})(e.target.value),"aria-describedby":"password-helper-text"})]}):(0,a.jsx)(i.xu,{display:"flex",backgroundColor:"light"==nV?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content",children:(0,a.jsxs)(i.xu,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2",children:[(0,a.jsxs)(d.x,{as:"div",mt:2,fontWeight:"semibold",children:["Current Contents:  ",(0,a.jsx)("button",{onClick:()=>{nL([],em,e=>{eq(!1),e_(e)})},children:" [Refresh Balances]"})]}),(0,a.jsxs)(d.x,{as:"p",color:"dark"==nV?"lightgreen":"forestgreen",children:["$",Number(eK.toFixed(4)).toLocaleString()]}),eE.length?eE.map(t=>(0,a.jsx)(o.K,{children:(0,a.jsx)(U.Z,{colorMode:nV,coin:t,mine:"claimed"===e5&&te===e||e7,onRenew:nQ,hideAsset:n7})})):(0,a.jsx)(O.Z,{}),eH.length?eH.map(e=>(0,a.jsxs)(d.x,{children:["Data: ",e.attribute_key]})):eH.length||eE.length?null:(0,a.jsx)(d.x,{children:"Nothing in here! Fill 'er up!"})]})})}),(0,a.jsx)(f.x,{children:(0,a.jsx)(R.Z,{colorMode:nV,attributes:eV})})]})]}),eZ?null:(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(j.h,{justifyContent:"space-between",spacing:6,children:(0,a.jsxs)(o.K,{children:[(0,a.jsx)(d.x,{children:"Deposit Addresses"}),(0,a.jsx)(r.k,{w:"340px",justify:"center",flexWrap:"wrap",children:eF&&eF.length>0?eF.map(e=>(0,a.jsx)(c.z,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",onClick:()=>{eX(e.coin),eQ(e.address),nk()},children:"ETH"==e.coin?e.coin+"/EVM":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":"TAP"==e.coin?"TAPROOT":e.coin},e.address)):null}),(e7||"claimed"===e5)&&eF.length<12?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"nft_button",onClick:()=>{nq()},children:"Manage Addresses"}),(0,a.jsx)(r.k,{w:"340px",justify:"center",flexWrap:"wrap",children:(0,a.jsxs)(v.Z,{isOpen:nI,children:[nY("DOGE")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("DOGE")},children:"Add DOGE"}),nY("DGB")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("DGB")},children:"Add Digibyte"}),nY("NMC")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("NMC")},children:"Add Namecoin"}),nY("LTC")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("LTC")},children:"Add Litecoin"}),nY("MONA")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("MONA")},children:"Add Mona"}),nY("TEZOS")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("TEZOS")},children:"Add Tezos"}),nY("SOLANA")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("SOLANA")},children:"Add Solana"}),nY("STX")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("STX")},children:"Add Stacks"}),nY("TAP")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("TAP")},children:"Add Taproot"})]})})]}):null]})})}),e7&&!nl?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{backgroundColor:"#02b402",color:"black !important",fontWeight:"bold !important",className:"nft_button",width:"100%",onClick:()=>nz(),children:" Approve Minting"})})}):null,(tN||Y)&&tC?(0,a.jsxs)(i.xu,{children:[(0,a.jsx)(u.r,{href:location.protocol+"//"+location.host+"/nft?id="+em+"&key="+(tT||Y),children:"Copy Gift Link"}),(0,a.jsxs)(d.x,{children:["Password: ",tT||Y]})]}):null,"claimed"!==e5&&e&&eB===t&&e7&&!e9&&nl&&tV?(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:()=>{n5()},isDisabled:e3,children:e3?"Claiming ...":"Unlock Vault (Get Private Keys)"})}):eB===t&&("claimed"==e5||nf)&&(te===e||e7)?(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:n0,children:"Get Keys"})}):null,(0,a.jsx)(o.K,{mt:5,children:(0,a.jsxs)(a.Fragment,{children:[e7&&e0.loaded?(0,a.jsx)(Q,{handler:{address:V.q7.vaultHandler[t],abi:V.q7.vaultHandlerAbi},spending:{address:V.q7.emblemVault[t],abi:V.q7.emblemAbi},amount:0,label:"Approve Creating / Burning Vaults",watcher:eJ}):null,e&&e0.loaded?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"nft_button",onClick:()=>{nP()},children:"Advanced Operations"}),(0,a.jsx)(r.k,{w:"100%",justify:"center",flexWrap:"wrap",children:(0,a.jsxs)(v.Z,{width:"100%",isOpen:nH,children:[eB===t&&ng&&"claimed"!=e5&&!nf?(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:n0,children:"Get Keys (Unlocking will prevent minting)"})}):null,e7&&q&&q.to.length>0?(0,a.jsx)(a.Fragment,{children:q.to.map((e,t)=>(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:()=>{n4(t)},isDisabled:G,children:G?"Migrating ...":"Migrate Vault to ".concat(e)})}))}):null,e7||te==e?(0,a.jsx)(X.Z,{data:nj,filename:"EmblemVault-".concat(em,".json")}):null,tV&&"claimed"!=e5||tW!=e||eB!=t||t$||!(eE.length<1)?null:(0,a.jsx)(c.z,{width:"100%",mt:5,onClick:()=>{n.getSigner(e).signMessage("Delete: "+em).then(e=>{console.log("sig",e),fetch(V.HP+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:em,signature:e,chainId:t.toString()})}).then(async function(){location.href=location.href.split("/")[0]+"/vaults"})})},children:"Delete Vault "}),(0,a.jsx)(Q,{handler:{address:V.q7.vaultHandler[t],abi:V.q7.vaultHandlerAbi},spending:{address:V.q7.emblemVault[t],abi:V.q7.emblemAbi},amount:0,label:"Approve Creating / Burning Vaults",watcher:eJ})]})})]}):null]})})]}),ej?(0,a.jsxs)(S.U,{align:"center",children:[(0,a.jsx)(u.r,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+ej,isExternal:!0,children:"View Metadata on IPFS "}),eb?(0,a.jsx)(u.r,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+eb,isExternal:!0,children:"View Image on IPFS "}):null]}):null,e9?(0,a.jsx)(i.xu,{display:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(d.x,{children:"*This vault is sealed forever."})}):null,(0,a.jsx)(o.K,{direction:"column",align:"center",children:"claimed"==e5?(0,a.jsx)(d.x,{color:"green.500",children:"CLAIMED"}):null}),eR?(0,a.jsxs)(b.b,{status:"info",children:[(0,a.jsx)(w.z,{}),tb?"Accepting Your Gift Vault":e3?"Claiming your Vault ...":ty?"Handling Approval Flow ...":tI?"Transfering Vault ...":tY?"Minting Vault":"Validating transaction"]}):null]})}),eR?(0,a.jsx)(P.Z,{hash:eR,onComplete:()=>{G?(L(!1),location.href=location.origin+"/nft2?id="+em):!e3||tb||tE?tE?(nD(),tO(!0),t_(!1),eJ(null)):tb?(tw(!1),nZ(),eJ(null)):ty?(tv(!1),nZ(),eJ(null),location.href=location.origin+"/nft?id="+em):tI?(tq(!1),nZ(),eJ(null)):tY?nF(em,()=>{tQ(!1),tM(!0),location.href=location.origin+"/nft?id="+em}):location.href=location.origin+"/nft?id="+em:(eJ(null),e8("claimed"),e4(!1),tt(e),location.href=location.origin+"/nft?id="+em)}}):null,(0,a.jsx)(i.xu,{height:"40px"})]})]})}},97903:function(e,t,n){var a=n(85893),l=n(67294),s=n(71963),i=n(10682),r=n(51343),o=n(57747),c=n(33862);class d extends l.Component{render(){let e=[{image:this.props.image,name:this.props.name,type:"nft"}];return console.log("items",e=(e=e.concat(this.props.items)).filter(e=>""!==e.image&&"nft"==e.type)),(0,a.jsx)(i.Z,{className:"p-3",children:(0,a.jsx)(s.Z,{children:e.map((e,t)=>(0,a.jsx)(s.Z.Item,{children:(0,a.jsxs)(r.K,{children:[(0,a.jsx)(o.xu,{children:(0,a.jsx)(c.Z,{className:"d-block w-100 NFT-image",url:e.image})}),(0,a.jsx)(o.xu,{children:(0,a.jsx)(s.Z.Caption,{children:(0,a.jsx)("h3",{children:e.name})})})]})},t))})})}}t.Z=d}}]);