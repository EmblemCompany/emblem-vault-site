"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3264],{43264:function(e,t,n){n.d(t,{Z:function(){return en}});var a=n(85893),l=n(7335),s=n(45161),i=n(57747),r=n(93717),o=n(51343),c=n(93108),d=n(14e3),u=n(32883),h=n(36752),m=n(77458),g=n(35232),p=n(72047),x=n(37365),f=n(33090),j=n(78590),S=n(34292),w=n(74153),b=n(7405),v=n(6089),y=n(8161),C=n(9008),k=n.n(C),T=n(77044),A=n(67294),N=n(11163),O=n(71114),H=n(70758),E=n.n(H),q=n(5152),_=n.n(q),I=n(77294),P=n(64541),M=n(31238),V=n(80902),F=n(62850),z=n(81354),Z=n.n(z),W=n(30724),D=n.n(W),K=n(10043),L=n.n(K),G=n(33862),U=n(97903),B=n(74174),J=n(35649),R=n(18974),$=n(87070),X=n(38299);let Y=(e,t,n,a)=>new I.CH(e,t,n.getSigner(a).connectUnchecked());function Q(e){let{account:t,library:n}=(0,T.Ge)(),[l,s]=(0,A.useState)(!1),[i,o]=(0,A.useState)(null),[d,u]=(0,A.useState)(null),[h,m]=(0,A.useState)(null);return(0,A.useEffect)(()=>{var a;!h&&e.handler&&m(Y((a=e.handler).address,a.abi,n,t))}),(0,A.useEffect)(()=>{var a;!d&&e.spending&&u(Y((a=e.spending).address,a.abi,n,t))}),(0,A.useEffect)(()=>{var n,a,l;d&&(n=e.handler,e.spending,(l=e.amount)>0?d.decimals().then(e=>{o(e),d.allowance(t,n.address).then(t=>{s(t>=l*10**e)})}):d.isApprovedForAll(t,n.address).then(e=>{s(e)}))}),t&&!l?(0,a.jsx)(r.k,{w:"100%",flexWrap:"wrap",mt:3,children:(0,a.jsx)(c.z,{onClick:function(){return e.amount>0?void d.approve(e.handler.address,1e6*10**i).then(t=>{e.watcher(t.hash,e=>{1===e.status&&s(!0)})}):void d.setApprovalForAll(e.handler.address,!0).then(t=>{e.watcher(t.hash,e=>{1===e.status&&s(!0)})})},backgroundColor:"#02b402",color:"black !important",fontWeight:"bold !important",width:"100%",children:e.label})}):null}let ee=_()(()=>Promise.all([n.e(6843),n.e(6115),n.e(7414)]).then(n.bind(n,37414)),{loadableGenerated:{webpack:()=>[37414]}}),et=_()(()=>Promise.all([n.e(6843),n.e(1817)]).then(n.bind(n,81817)),{loadableGenerated:{webpack:()=>[81817]}});function en(){let{account:e,chainId:t,library:n}=(0,T.Ge)(),{query:C}=(0,N.useRouter)(),[H,q]=(0,A.useState)("t"==C.cc),[_,z]=(0,A.useState)("t"==C.curated),[W,K]=(0,A.useState)({1:"",name:"",chain:""}),[Y,en]=(0,A.useState)(!1),[ea,el]=(0,A.useState)(C.key),[es,ei]=(0,A.useState)(C.offer||!1),[er,eo]=(0,A.useState)(C.framed||!0),[ec,ed]=(0,A.useState)(C.id),[eu,eh]=(0,A.useState)(C.slideshowOnly||!1),[em,eg]=(0,A.useState)(""),[ep,ex]=(0,A.useState)(""),[ef,ej]=(0,A.useState)(""),[eS,ew]=(0,A.useState)(""),[eb,ev]=(0,A.useState)(""),[ey,eC]=(0,A.useState)(""),[ek,eT]=(0,A.useState)(""),[eA,eN]=(0,A.useState)([]),[eO,eH]=(0,A.useState)(!1),[eE,eq]=(0,A.useState)([]),[e_,eI]=(0,A.useState)([]),[eP,eM]=(0,A.useState)([]),[eV,eF]=(0,A.useState)(!1),[ez,eZ]=(0,A.useState)(0),[eW,eD]=(0,A.useState)(null),[eK,eL]=(0,A.useState)(null),[eG,eU]=(0,A.useState)(null),[eB,eJ]=(0,A.useState)(""),[eR,e$]=(0,A.useState)(""),[eX,eY]=(0,A.useState)({loaded:!1}),[eQ,e0]=(0,A.useState)(!1),[e1,e7]=(0,A.useState)(!1),[e2,e3]=(0,A.useState)("claimed"),[e4,e5]=(0,A.useState)(!1),[e8,e6]=(0,A.useState)(null),[e9,te]=(0,A.useState)(""),[tt,tn]=(0,A.useState)(""),[ta,tl]=(0,A.useState)(""),[ts,ti]=(0,A.useState)([]),[tr,to]=(0,A.useState)(!1),[tc,td]=(0,A.useState)(""),[tu,th]=(0,A.useState)(!1),[tm,tg]=(0,A.useState)(""),[tp,tx]=(0,A.useState)(!1),[tf,tj]=(0,A.useState)(!1),[tS,tw]=(0,A.useState)(!1),[tb,tv]=(0,A.useState)(!1),[ty,tC]=(0,A.useState)(""),[tk,tT]=(0,A.useState)(!1),[tA,tN]=(0,A.useState)(!1),[tO,tH]=(0,A.useState)(!1),[tE,tq]=(0,A.useState)(null),[t_,tI]=(0,A.useState)(!1),[tP,tM]=(0,A.useState)(!1),[tV,tF]=(0,A.useState)(null),[tz,tZ]=(0,A.useState)(null),[tW,tD]=(0,A.useState)(null),[tK,tL]=(0,A.useState)(null),[tG,tU]=(0,A.useState)(!1),[tB,tJ]=(0,A.useState)(!1),[tR,t$]=(0,A.useState)(!1),[tX,tY]=(0,A.useState)(!1),[tQ,t0]=(0,A.useState)(null),[t1,t7]=(0,A.useState)({name:"",image:"",metadata:""}),[t2,t3]=(0,A.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),[t4,t5]=(0,A.useState)({name:"",image:"",metadata:""}),[t8,t6]=(0,A.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),[t9,ne]=(0,A.useState)(!1),[nt,nn]=(0,A.useState)(!1),[na,nl]=(0,A.useState)(null),[ns,ni]=(0,A.useState)(null),[nr,no]=(0,A.useState)(null),[nc,nd]=(0,A.useState)(null),[nu,nh]=(0,A.useState)(!1),[nm,ng]=(0,A.useState)(!1),[np,nx]=(0,A.useState)({}),nf=(0,V.cq)(M.q7.vaultHandler[t],M.q7.vaultHandlerAbi,!0),nj=(0,V.cq)(M.q7.vaultHandlerV8[t],M.q7.vaultHandlerV8Abi,!0),nS=(0,V.cq)(M.q7.emblemVault[t],M.q7.emblemAbi,!0),nw=(0,V.cq)(M.q7.coval[t],M.q7.covalAbi,!0),{isOpen:nb,onOpen:nv,onClose:ny}=(0,l.q)(),{isOpen:nC,onOpen:nk,onClose:nT}=(0,l.q)(),{isOpen:nA,onToggle:nN}=(0,l.q)(),{isOpen:nO,onToggle:nH}=(0,l.q)(),{isOpen:nE,onToggle:nq}=(0,l.q)(),{colorMode:n_}=(0,s.If)(),nI=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new I.CH(t,M.q7.erc1155Abi,n.getSigner(e).connectUnchecked())},nP=(e,n)=>(fetch(M.HP+"/liveliness",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:e})}).then(async function(e){let t=await e.json();tI(t.live),console.log("Liveliness check",t)}),n()),nM=(t,n,a)=>{console.log("Delayed Minting"),tU(!1),tJ(!0),t$(!0);let l=eP.filter(e=>"ETH"==e.coin)[0].address;console.log("--------------------------------------------------------Delayed Minting",e,ec,l,t,n,a),nf.buyWithSignature2(e,ec,l,t,n,a).then(e=>{let{hash:t}=e;setTimeout(()=>{eU(t),tJ(!1)},100)}).catch(e=>{console.log("AAAAAHHHHHH",e),tJ(!1)})},nV=()=>{console.log(ea),tj(!0),nz(t=>{nf.transferWithCode(ec,ea,e,t.nonce,t.signature).then(e=>{let{hash:t}=e;setTimeout(()=>{eU(t)},100)}).catch(e=>{tj(!1),(null==e?void 0:e.code)!==4001&&console.log("tx failed.",e)})})},nF=async()=>{let e=await fetch(M.HP+"/meta/"+ec+"?experimental=true"+(H?"&_vercel_no_cache=1":""),{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",cc:H?"t":""}}),t=await e.json();nx(t),nZ(t),t.image_ipfs,t.collectionAddress&&(tY(!0),t0(t.collectionAddress)),t.name?(to(!1),tx(!1)):(eY({loaded:!0}),tx(!0)),eV||eO||nD([],ec,e=>{e&&eN(e)})},nz=async e=>{let n=await fetch(M.HP+"/witness/"+ec,{method:"GET",headers:{"Content-Type":"application/json",cc:"t",service:"evmetadata",chainid:t.toString()}}),a=await n.json();return a.signature?(console.log("witness",a),e(a)):e(!1)},nZ=e=>{if(er&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+er),e.ciphertextV2&&ew(e.ciphertextV2),ng(e.mintLocked&&0==e.mintLockBlock),eg(e.name),eC(e.image),eT(e.ownedImage||null),ev(e.description),eZ(e.totalValue||0),e.values&&eN(eA.concat(e.values)),e.attributes&&eq(e.attributes.filter(e=>"key"===e.trait_type)),e.attributes&&eI(e.attributes),eM(e.addresses),ex(e.ipfs||null),ej(e.image_ipfs||null),e.targetAsset&&t7(e.targetAsset),e.targetContract&&t3(e.targetContract),e.move_targetContract&&t6(e.move_targetContract),e.move_targetAsset&&t5(e.move_targetAsset),"Migrated Vault"==e.name||e.targetContract&&e.targetContract[t])return location.href=location.origin+"/nft2?id="+ec,!1;if(tI(!1!=e.live),tF(e.nonce),tD(e.signature),tL(e.to),eL(e.network),eD("mainnet"==e.network?1:"rinkeby"==e.network?4:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),e3(e.status),"claimed"===e2&&e6(e.claimedBy),eY({loaded:!0}),eF(e.addresses.filter(e=>e.address.includes("private:")).length>0),e.sealed?e5(!0):e5(!1),1==e.values.length&&e.attributes.length>0){let t=e.attributes.filter(t=>t.value==e.values[0].name);if(t.length>0){let e=t[0].trait_type,n=F.h3.filter(t=>t.name==e);n.length>0&&K(n[0])}}},nW=async(e,t,n)=>{let a=await fetch(M.HP+"/vault/balance/"+t,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),l=await a.json();return n((console.log("response",a,l),l.balances.length>0)?e.concat(l.balances):e)},nD=async(e,t,n)=>{if(eO)return n(!1);eH(!0);let a=await fetch(M.HP+"/vault/balance/"+t+"?live=true&_vercel_no_cache=1",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),l=await a.json();return n((console.log("response",a,l),l.balances.length>0)?e.concat(l.balances):e)},nK=async(e,t,n,a)=>{let l=await fetch(M.HP+"/vault/balance/"+t+"/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),s=await l.json();return a((console.log("response",l,s),s.balances.length>0)?e.concat(s.balances):e)},nL=()=>{localStorage.setItem(e+"_"+t+"_"+ec+"_mintPassword",ty)},nG=()=>{let n=localStorage.getItem(e+"_"+t+"_"+ec+"_mintPassword");n&&tb&&el(n)},nU=async(e,n,a)=>{var l=new Headers;l.append("chainid",t.toString()),l.append("Content-Type","application/json");var s=JSON.stringify({signature:e,tokenId:n});let i=await fetch(M.pU+"/sign",{method:"POST",headers:l,body:s,redirect:"follow"}),r=await i.json();return a(r)};async function nB(e,t,n){let a=new R.ZP({network:"mainnet"}),l=new $.ZP({enableOneKey:!0,network:"mainnet"}),{torusNodeEndpoints:s,torusIndexes:i}=await a.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:e}),{privKey:r}=await l.retrieveShares(s,i,"tor-us-signer-vercel",{verifier_id:e},t);return n({privateKey:r})}let nJ=async(e,n,a,l)=>{var s=new Headers;s.append("chainId",t.toString()),s.append("service","evmetadata"),s.append("Content-Type","application/json");var i=JSON.stringify({signature:e,coin:a});let r=await fetch(M.HP+"/address/"+n,{method:"POST",headers:s,body:i,redirect:"follow"}),o=await r.json();return l(o)},nR=async(e,n,a)=>{var l=new Headers;l.append("chainId",t.toString()),l.append("service","evmetadata"),l.append("Content-Type","application/json");var s=JSON.stringify({signature:e});let i=await fetch(M.HP+"/embed/"+n,{method:"POST",headers:l,body:s,redirect:"follow"}),r=await i.json();return a(r)},n$=async()=>{let n;console.log("Contract states");try{t2[t]?(console.log("Checking owner wth targetContract"),nS=nI(t2[t]),n=await nS.getOwnerOfSerial(t2.serialNumber),console.log("--------------------------- owner",n,nt,e,M.q7.vaultHandlerV8[t])):n=t_?await nS.ownerOf(ec):"0x0000000000000000000000000000000000000000",nl(await nw.decimals()),ni(await nw.allowance(e,M.q7.vaultHandler[t]).then(e=>e.toString())),no(await nw.balanceOf(e).then(e=>e.toString())),nd(await nf.price().then(e=>e.toString())),Number(ns)>=Number(nc)?ne(!0):ne(!1),a()}catch(e){n="0x0000000000000000000000000000000000000000",a()}async function a(){let a=await nf.getPreTransfer(ec);nn(t2[t]?await nS.isApprovedForAll(e,M.q7.vaultHandlerV8[t]):await nS.isApprovedForAll(e,M.q7.vaultHandler[t])),tv("0x0000000000000000000000000000000000000000"!==a._from),tq(n),e0(n===e||tK===e&&"0x0000000000000000000000000000000000000000"===n),nh(tK===e&&"0x0000000000000000000000000000000000000000"===n),nG(),tE&&!1==t_&&!tP&&(tM(!0),nP(ec,()=>{}))}};(0,A.useEffect)(()=>{console.log("mine?",eQ),console.log("claiming?",e1),console.log("accepting?",tf),console.log("acceptable",tb),console.log("qualified",W),console.log("owner",tE)});let nX=e=>(console.log(e,eP.filter(t=>t.coin==e).length>0),eP.filter(t=>t.coin==e).length>0),nY=async a=>{n.getSigner(e).signMessage("Renew: "+ec).then(e=>{let n=eP.filter(e=>"NMC"==e.coin)[0].address;console.log("signature",e,a),fetch(M.HP+"/nmc/renew/"+n,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:ec,signature:e,name:a})}).then(async function(e){console.log("Requested Renew",await e.json())})})},nQ=async()=>{let a;t2[t]&&(nS=nI(t2[t]),a=await nS.getSerial(t2.tokenId,0)),n.getSigner(e).signMessage("Claim: "+(t2[t]?a:ec)).then(e=>{eY({loaded:!1}),nu&&"claimed"!=e2&&!nm&&ng(!0),nU(e,ec,e=>{nB(ec,e.token,async e=>{try{var t=Z().AES.decrypt(eS,e.privateKey);let n=JSON.parse(t.toString(Z().enc.Utf8));ti(n.values),te(n.phrase),eP.forEach(async e=>{"STX"==e.coin?e.key=await n0(e,n.phrase):e.key=window.phrasePathToKey(n.phrase,e.path),"BTC"==e.coin&&tn(e.key),"ETH"==e.coin&&tl(e.key)})}catch(e){alert(e),eY({loaded:!0})}eY({loaded:!0}),nk()})})})},n0=async(e,t)=>"contact emblem.team if you see this error",n1=async a=>{n.getSigner(e).signMessage("HideAsset: "+ec).then(e=>{!function(e,n,a,l,s,i){fetch(M.HP+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({coin:n||null,address:a||null,name:l||null,signature:s||null})}).then(async function(t){console.log("-------",await t.json()),nW([],e,e=>(eN(e),i()))})}(ec,a.coin,a.address,a.name,e,()=>{console.log("Done hiding coin and getting new balances")})})},n7=async t=>{n.getSigner(e).signMessage("Address: "+ec).then(e=>{nJ(e,ec,t,e=>{nF()})})},n2=async()=>{n.getSigner(e).signMessage("Embed: "+ec).then(e=>{nR(e,ec,e=>{eC(e.ownedImage)})})},n3=async()=>{console.log("---------- qualified move",W),n.getSigner(e).signMessage("Move Vault: "+ec).then(n=>{fetch(M._z+"/move-vault/",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({chainId:1,from:e,sourceContract:{1:M.q7.emblemVault[eW]},targetContract:{1:W[t],name:W.name,chain:W.chain},targetAsset:{name:eA[0].name},amount:1,tokenId:ec,signature:n})}).then(async function(e){let n=await e.json();n.sig&&nj.moveVault(M.q7.emblemVault[eW],W[t],ec,n.tokenId,n.nonce,n.sig,n.serial).then(e=>{eU(e.hash)})})})},n4=async()=>{t2[t]?nj.claim(t2[t],t2.tokenId).then(e=>{let{hash:t}=e;e7(!0),setTimeout(()=>{eU(t)},100)}):nf.claimOnChain(ec).then(e=>{let{hash:t}=e;e7(!0),setTimeout(()=>{eU(t)},100)})},n5=async()=>{if(!tu){th(!0);var e="abcdefghijklmnopqrstuvwxyz",t="Decrypting",n=t.length,a=0,l=0,s="",i="";!function r(o){setTimeout(function(){--o?r(o):th(!1),function(r){for(var o=0;o<n-l;o++){var c=Math.floor(e.length*Math.random());s+=e.charAt(c)}7==a&&l++,8==a&&(i+=t.charAt(l-1),a=0),td(i+s),s=""}(0),a+=1},5)}(8*n+1)}};function n8(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}return(0,A.useEffect)(()=>{nF()},[]),(0,A.useEffect)(()=>{(e&&t&&eW&&t==eW||C.noLayout&&"true"==C.noLayout||C.slideshowOnly&&"true"==C.slideshowOnly)&&n$()}),tQ&&(nS=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new I.CH(a||M.q7.emblemVault[t],M.q7.emblemAbi,n.getSigner(e).connectUnchecked())}(tQ||null)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(k(),{children:[(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:site",content:"Emblem.Finance"}),(0,a.jsx)("meta",{name:"twitter:title",content:em}),(0,a.jsx)("meta",{name:"twitter:description",content:n8(eb)}),(0,a.jsx)("meta",{name:"twitter:image",content:ey}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})]}),(0,a.jsx)(ee,{isOpen:nb,onClose:ny,addrCoin:eB,addrAddr:eR}),(0,a.jsx)(et,{isOpen:nC,onClose:nT,mnemonic:e9,privKeyBTC:tt,privKeyETH:ta,privValues:ts,addresses:eP}),(0,a.jsxs)(E(),{loaded:eX.loaded,children:[(0,a.jsx)(i.xu,{height:"40px"}),tr?(0,a.jsx)(O.Z,{}):"",tp||eu?eA.length>0&&eu?(0,a.jsx)(o.K,{className:"NFT-content",align:"center",children:eA.length&&eA.filter(e=>"nft"==e.type).length>0?(0,a.jsx)(U.Z,{name:em,image:eA[0].image,items:eA.filter(e=>e.image!==eA[0].image).map(e=>({image:e.image,description:e.description,name:e.name,type:e.type})),properties:{duration:3e3,canSwipe:!1}}):(0,a.jsx)(G.Z,{className:"d-block w-100 NFT-image",url:ey})}):tp?(0,a.jsxs)(o.K,{align:"center",children:[(0,a.jsx)(v.E,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),(0,a.jsxs)(d.x,{children:["THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",(0,a.jsx)(u.r,{color:"#638cd8",href:"../create",children:"CREATE ONE HERE!"})]})]}):null:(0,a.jsx)(r.k,{width:"full",align:"center",justifyContent:"center",children:(0,a.jsxs)(i.xu,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:eW!=t?"orange.500":"claimed"==e2?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390,children:[(0,a.jsxs)(i.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500",children:["Vault Network: ",F.zh[eW]]}),(0,a.jsxs)(i.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center",children:[em,!eV&&ez>0?": ~$"+ez.toLocaleString():null]}),(0,a.jsxs)(o.K,{className:"NFT-content",align:"center",children:[eA.length&&eA.filter(e=>"nft"==e.type).length>0?(0,a.jsx)(U.Z,{name:em,image:ey,items:eA.map(e=>({image:e.image,description:e.description,name:e.name,type:e.type})),properties:{duration:3e3,canSwipe:!1}}):(0,a.jsx)(G.Z,{className:"d-block w-100 NFT-image",url:ey}),eQ&&ek?(0,a.jsx)(c.z,{onClick:()=>{n2()},children:"(OWNED) Show Full Embed"}):null]}),(0,a.jsx)(o.K,{align:"center",maxWidth:"400px",children:(0,a.jsx)(i.xu,{mt:"2",ml:"4",lineHeight:"tight",maxWidth:"400px",children:(0,a.jsxs)(o.K,{children:[(0,a.jsx)(d.x,{fontSize:"xs",children:eW==t?(0,a.jsxs)(u.r,{href:"./vaults?address="+tE,children:["Owner: ",tE]}):null}),(0,a.jsx)(d.x,{overflowWrap:"anywhere",mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md",children:(0,a.jsx)(D(),{plugins:[L()],children:n8(eb)})})]})})}),(0,a.jsxs)(i.xu,{p:"6",children:[(0,a.jsxs)(h.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(m.t,{mb:"1em",children:[(0,a.jsx)(g.O,{children:"Balances"}),(0,a.jsx)(g.O,{children:"Attributes"})]}),(0,a.jsxs)(p.n,{children:[(0,a.jsx)(x.x,{children:eV?(0,a.jsxs)(i.xu,{mb:5,children:[(0,a.jsx)(d.x,{pb:2,color:tc?"green.500":null,children:tc||"Contents hidden. Enter password to unlock."}),(0,a.jsx)(f.I,{type:"password",id:"vault-password",onChange:e=>(function(e){tm&&(e=tm),n5(),console.log(eP);let t=eP[0].address.replace("private:","");try{var n,a=Z().AES.decrypt(t,e);JSON.parse(a.toString(Z().enc.Utf8)),eF(!1),tg(e),eM((n=e,eP.forEach(e=>{if(e.address.includes("private")){let t=e.address.replace("private:","");e.address=JSON.parse(Z().AES.decrypt(t,n).toString(Z().enc.Utf8))}}),eP));let l=eP.filter(e=>"ETH"===e.coin)[0].address,s=eP.filter(e=>"BTC"===e.coin)[0].address;console.log("SUCCESS",eP),nK([],l,s,e=>{eN(e)})}catch(e){console.log("WTF",e)}})(e.target.value),"aria-describedby":"password-helper-text"})]}):(0,a.jsx)(i.xu,{display:"flex",backgroundColor:"light"==n_?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content",children:(0,a.jsxs)(i.xu,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2",children:[(0,a.jsxs)(d.x,{as:"div",mt:2,fontWeight:"semibold",children:["Current Contents:  ",(0,a.jsx)("button",{onClick:()=>{nD([],ec,e=>{eH(!1),eN(e)})},children:" [Refresh Balances]"})]}),(0,a.jsxs)(d.x,{as:"p",color:"dark"==n_?"lightgreen":"forestgreen",children:["$",Number(ez.toFixed(4)).toLocaleString()]}),eA.length?eA.map(t=>(0,a.jsx)(o.K,{children:(0,a.jsx)(B.Z,{colorMode:n_,coin:t,mine:"claimed"===e2&&e8===e||eQ,onRenew:nY,hideAsset:n1})})):(0,a.jsx)(O.Z,{}),eE.length?eE.map(e=>(0,a.jsxs)(d.x,{children:["Data: ",e.attribute_key]})):eE.length||eA.length?null:(0,a.jsx)(d.x,{children:"Nothing in here! Fill 'er up!"})]})})}),(0,a.jsx)(x.x,{children:(0,a.jsx)(J.Z,{colorMode:n_,attributes:e_})})]})]}),eV?null:(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(j.h,{justifyContent:"space-between",spacing:6,children:(0,a.jsxs)(o.K,{children:[(0,a.jsx)(d.x,{children:"Deposit Addresses"}),(0,a.jsx)(r.k,{w:"340px",justify:"center",flexWrap:"wrap",children:eP&&eP.length>0?eP.map(e=>(0,a.jsx)(c.z,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",onClick:()=>{eJ(e.coin),e$(e.address),nv()},children:"ETH"==e.coin?e.coin+"/EVM":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":"TAP"==e.coin?"TAPROOT":e.coin},e.address)):null}),(eQ||"claimed"===e2)&&eP.length<12?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"nft_button",onClick:()=>{nH()},children:"Manage Addresses"}),(0,a.jsx)(r.k,{w:"340px",justify:"center",flexWrap:"wrap",children:(0,a.jsxs)(y.Z,{isOpen:nO,children:[nX("DOGE")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n7("DOGE")},children:"Add DOGE"}),nX("DGB")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n7("DGB")},children:"Add Digibyte"}),nX("NMC")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n7("NMC")},children:"Add Namecoin"}),nX("LTC")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n7("LTC")},children:"Add Litecoin"}),nX("MONA")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n7("MONA")},children:"Add Mona"}),nX("TEZOS")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n7("TEZOS")},children:"Add Tezos"}),nX("SOLANA")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n7("SOLANA")},children:"Add Solana"}),nX("STX")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n7("STX")},children:"Add Stacks"}),nX("TAP")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n7("TAP")},children:"Add Taproot"})]})})]}):null]})})}),t9&&!t_?(0,a.jsx)(o.K,{direction:"row",align:"flex-start",spacing:"0rem",flexWrap:"wrap",shouldWrapChildren:!0,children:(0,a.jsx)(i.xu,{maxW:"sm",borderWidth:"1px",p:1,rounded:"lg",overflow:"hidden",children:(0,a.jsxs)(d.x,{children:["Creating a vault spends ",nc*Math.pow(10,-na)," Coval from your wallet"]})})}):null,(tk||ea)&&tb?(0,a.jsxs)(i.xu,{children:[(0,a.jsx)(u.r,{href:location.protocol+"//"+location.host+"/nft?id="+ec+"&key="+(ty||ea),children:"Copy Gift Link"}),(0,a.jsxs)(d.x,{children:["Password: ",ty||ea]})]}):null,tb&&e8!==e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.z,{mt:2,width:"100%",onClick:()=>{nV()},children:"Accept"}),(0,a.jsx)(f.I,{mt:2,type:"password",id:"mintPassword",minLength:3,maxLength:200,value:ea||"",onChange:e=>{console.log("grrr",e.target.value,ea),el(e.target.value)},autoComplete:"off"})]}):null,!t_&&eQ&&eW==t&&"claimed"!==e2&&!tB&&nt&&t9?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c.z,{width:"100%",mt:5,isDisabled:!eV&&eA.length<1||nm,onClick:()=>{n.getSigner(e).signMessage("Delayed Minting: "+ec).then(e=>{console.log("sig",e),fetch(M.HP+"/lazyMint",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:ec,signature:e})}).then(async function(e){let t=await e.json();!t.error&&t.data?(tD(t.data.signature),tF(t.data.nonce),tZ(t.data.block),tU(!0),setTimeout(()=>{nM(t.data.nonce,t.data.block,t.data.signature)},1500)):alert(t.error?t.msg:"unknown error")})})},children:nm?"Mint Locked - keys accessed before mint":!eV&&eA.length<1?"Please load the vault to mint":"Mint Vault"})}):null,"claimed"!==e2&&e&&eW===t&&eQ&&!e4&&nt&&t_?(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:()=>{n4()},isDisabled:e1,children:e1?"Claiming ...":"Unlock Vault (Get Private Keys)"})}):eW===t&&("claimed"==e2||nm)&&(e8===e||eQ)?(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:nQ,children:"Get Keys"})}):null,(0,a.jsx)(o.K,{mt:5,children:(0,a.jsxs)(a.Fragment,{children:[eQ?(0,a.jsxs)(a.Fragment,{children:[t9?null:(0,a.jsx)(Q,{handler:{address:M.q7.vaultHandler[t],abi:M.q7.vaultHandlerAbi},spending:{address:M.q7.coval[t],abi:M.q7.covalAbi},amount:1e3,label:"Approve Spending Coval",watcher:eU}),nt?null:(0,a.jsx)(Q,{handler:{address:M.q7.vaultHandler[t],abi:M.q7.vaultHandlerAbi},spending:{address:M.q7.emblemVault[t],abi:M.q7.emblemAbi},amount:0,label:"Approve Creating / Burning Vaults",watcher:eU})]}):null,(0,a.jsx)("button",{className:"nft_button",onClick:()=>{nq()},children:"Advanced Operations"}),(0,a.jsx)(r.k,{w:"100%",justify:"center",flexWrap:"wrap",children:(0,a.jsxs)(y.Z,{width:"100%",isOpen:nE,children:[eW===t&&nu&&"claimed"!=e2&&!nm?(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:nQ,children:"Get Keys (Unlocking will prevent minting)"})}):null,eQ&&_&&W&&W[t]&&W.name&&W.chain?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Q,{handler:{address:M.q7.vaultHandlerV8[t],abi:M.q7.vaultHandlerV8Abi},spending:{address:M.q7.emblemVault[t],abi:M.q7.emblemAbi},amount:0,label:"Approve Moving (part 1)",watcher:eU}),(0,a.jsx)(Q,{handler:{address:M.q7.vaultHandlerV8[t],abi:M.q7.vaultHandlerV8Abi},spending:{address:W[t],abi:M.q7.erc1155Abi},amount:0,label:"Approve Moving (part 2)",watcher:eU}),(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:()=>{en(!0),n3()},isDisabled:Y,children:Y?"Moving ...":"Move Vault"})})]}):null,eQ||e8==e?(0,a.jsx)(X.Z,{data:np,filename:"EmblemVault-".concat(ec,".json")}):null,t_&&"claimed"!=e2||tK!=e||eW!=t||tB||!(eA.length<1)?null:(0,a.jsx)(c.z,{width:"100%",mt:5,onClick:()=>{n.getSigner(e).signMessage("Delete: "+ec).then(e=>{console.log("sig",e),fetch(M.HP+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:ec,signature:e,chainId:t.toString()})}).then(async function(){location.href=location.href.split("/")[0]+"/vaults"})})},children:"Delete Vault "})]})})]})})]}),ep?(0,a.jsxs)(S.U,{align:"center",children:[(0,a.jsx)(u.r,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+ep,isExternal:!0,children:"View Metadata on IPFS "}),ef?(0,a.jsx)(u.r,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+ef,isExternal:!0,children:"View Image on IPFS "}):null]}):null,e4?(0,a.jsx)(i.xu,{display:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(d.x,{children:"*This vault is sealed forever."})}):null,(0,a.jsx)(o.K,{direction:"column",align:"center",children:"claimed"==e2?(0,a.jsx)(d.x,{color:"green.500",children:"CLAIMED"}):null}),eG?(0,a.jsxs)(w.b,{status:"info",children:[(0,a.jsx)(b.z,{}),tf?"Accepting Your Gift Vault":e1?"Claiming your Vault ...":tS?"Handling Approval Flow ...":tO?"Transfering Vault ...":tR?"Minting Vault":"Validating transaction"]}):null]})}),eG?(0,a.jsx)(P.Z,{hash:eG,onComplete:()=>{Y?(en(!1),location.href=location.origin+"/nft2?id="+ec):!e1||tf||tA?tA?(nL(),tT(!0),tN(!1),eU(null)):tf?(tj(!1),nF(),eU(null)):tS?(tw(!1),nF(),eU(null),location.href=location.origin+"/nft?id="+ec):tO?(tH(!1),nF(),eU(null)):tR?nP(ec,()=>{t$(!1),tI(!0),location.href=location.origin+"/nft?id="+ec}):location.href=location.origin+"/nft?id="+ec:(eU(null),e3("claimed"),e7(!1),e6(e),location.href=location.origin+"/nft?id="+ec)}}):null,(0,a.jsx)(i.xu,{height:"40px"})]})]})}},97903:function(e,t,n){var a=n(85893),l=n(67294),s=n(71963),i=n(10682),r=n(51343),o=n(57747),c=n(33862);class d extends l.Component{render(){let e=[{image:this.props.image,name:this.props.name,type:"nft"}];return console.log("items",e=(e=e.concat(this.props.items)).filter(e=>""!==e.image&&"nft"==e.type)),(0,a.jsx)(i.Z,{className:"p-3",children:(0,a.jsx)(s.Z,{children:e.map((e,t)=>(0,a.jsx)(s.Z.Item,{children:(0,a.jsxs)(r.K,{children:[(0,a.jsx)(o.xu,{children:(0,a.jsx)(c.Z,{className:"d-block w-100 NFT-image",url:e.image})}),(0,a.jsx)(o.xu,{children:(0,a.jsx)(s.Z.Caption,{children:(0,a.jsx)("h3",{children:e.name})})})]})},t))})})}}t.Z=d}}]);