"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5534],{78358:function(e,t,n){var a=n(85893),r=n(93108),o=n(57747);n(67294),t.Z=e=>{let{data:t,filename:n}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(r.z,{id:"downloadLink",width:"100%",onClick:e=>{e.preventDefault();let a=JSON.stringify(t,null,2),r=new Blob([a],{type:"application/json"}),o=URL.createObjectURL(r),s=document.createElement("a");s.href=o,s.download=n,document.body.appendChild(s),s.click(),document.body.removeChild(s)},children:"Backup Vault"})})})}},45534:function(e,t,n){n.d(t,{Z:function(){return en}});var a=n(85893),r=n(7335),o=n(45161),s=n(57747),l=n(93717),i=n(51343),c=n(93108),d=n(71293),u=n(32883),m=n(36752),h=n(77458),g=n(35232),p=n(72047),f=n(37365),x=n(33090),w=n(78590),j=n(34292),v=n(74153),S=n(7405),b=n(6089),y=n(8161),k=n(9008),C=n.n(k),T=n(77044),N=n(67294),A=n(11163),O=n(55233),I=n(70758),E=n.n(I),_=n(5152),F=n.n(_),P=n(77294),H=n(66129),M=n(61256),q=n(77571),V=n(83230),D=n(81354),z=n.n(D),Z=n(30724),B=n.n(Z),L=n(10043),G=n.n(L),K=n(44302),W=n(8730),U=n(91620),R=n(96288),J=n(13021),$=n(87070),X=n(78358);let Y=(e,t,n,a)=>new P.CH(e,t,n.getSigner(a).connectUnchecked());function Q(e){let{account:t,library:n}=(0,T.Ge)(),[r,o]=(0,N.useState)(!1),[s,i]=(0,N.useState)(null),[d,u]=(0,N.useState)(null),[m,h]=(0,N.useState)(null);return(0,N.useEffect)(()=>{var a;!m&&e.handler&&h(Y((a=e.handler).address,a.abi,n,t))}),(0,N.useEffect)(()=>{var a;!d&&e.spending&&u(Y((a=e.spending).address,a.abi,n,t))}),(0,N.useEffect)(()=>{var n,a,r;d&&(n=e.handler,e.spending,(r=e.amount)>0?d.decimals().then(e=>{i(e),d.allowance(t,n.address).then(t=>{o(t>=r*10**e)})}):d.isApprovedForAll(t,n.address).then(e=>{o(e)}))}),t&&!r?(0,a.jsx)(l.k,{w:"100%",flexWrap:"wrap",mt:3,children:(0,a.jsx)(c.z,{onClick:function(){return e.amount>0?void d.approve(e.handler.address,1e6*10**s).then(t=>{e.watcher(t.hash,e=>{1===e.status&&o(!0)})}):void d.setApprovalForAll(e.handler.address,!0).then(t=>{e.watcher(t.hash,e=>{1===e.status&&o(!0)})})},backgroundColor:"#02b402",color:"black !important",fontWeight:"bold !important",width:"100%",children:e.label})}):(0,a.jsx)(a.Fragment,{children:"Approved"})}n(9452);let ee=F()(()=>Promise.all([n.e(1793),n.e(2344),n.e(1832),n.e(4690)]).then(n.bind(n,34690)),{loadableGenerated:{webpack:()=>[34690]}}),et=F()(()=>Promise.all([n.e(1793),n.e(2344),n.e(9958)]).then(n.bind(n,69958)),{loadableGenerated:{webpack:()=>[69958]}});function en(){let{account:e,chainId:t,library:n}=(0,T.Ge)(),{query:k}=(0,A.useRouter)(),[I,_]=(0,N.useState)("t"==k.cc),[F,D]=(0,N.useState)({to:[]}),[Z,L]=(0,N.useState)(!1),[Y,en]=(0,N.useState)(k.key),[ea,er]=(0,N.useState)(k.offer||!1),[eo,es]=(0,N.useState)("true"==k.debug),[el,ei]=(0,N.useState)(null),[ec,ed]=(0,N.useState)(k.framed||!0),[eu,em]=(0,N.useState)(k.id),[eh,eg]=(0,N.useState)(k.slideshowOnly||!1),[ep,ef]=(0,N.useState)(""),[ex,ew]=(0,N.useState)(""),[ej,ev]=(0,N.useState)(""),[eS,eb]=(0,N.useState)(""),[ey,ek]=(0,N.useState)(""),[eC,eT]=(0,N.useState)(""),[eN,eA]=(0,N.useState)(""),[eO,eI]=(0,N.useState)([]),[eE,e_]=(0,N.useState)(!1),[eF,eP]=(0,N.useState)([]),[eH,eM]=(0,N.useState)([]),[eq,eV]=(0,N.useState)([]),[eD,ez]=(0,N.useState)(!1),[eZ,eB]=(0,N.useState)(0),[eL,eG]=(0,N.useState)(null),[eK,eW]=(0,N.useState)(null),[eU,eR]=(0,N.useState)(null),[eJ,e$]=(0,N.useState)(""),[eX,eY]=(0,N.useState)(""),[eQ,e0]=(0,N.useState)({loaded:!1}),[e1,e2]=(0,N.useState)(!1),[e7,e3]=(0,N.useState)(!1),[e4,e5]=(0,N.useState)("claimed"),[e8,e9]=(0,N.useState)(!1),[e6,te]=(0,N.useState)(null),[tt,tn]=(0,N.useState)(""),[ta,tr]=(0,N.useState)(""),[to,ts]=(0,N.useState)(""),[tl,ti]=(0,N.useState)([]),[tc,td]=(0,N.useState)(!1),[tu,tm]=(0,N.useState)(""),[th,tg]=(0,N.useState)(!1),[tp,tf]=(0,N.useState)(""),[tx,tw]=(0,N.useState)(!1),[tj,tv]=(0,N.useState)(!1),[tS,tb]=(0,N.useState)(!1),[ty,tk]=(0,N.useState)(!1),[tC,tT]=(0,N.useState)(""),[tN,tA]=(0,N.useState)(!1),[tO,tI]=(0,N.useState)(!1),[tE,t_]=(0,N.useState)(!1),[tF,tP]=(0,N.useState)(null),[tH,tM]=(0,N.useState)(!1),[tq,tV]=(0,N.useState)(!1),[tD,tz]=(0,N.useState)(null),[tZ,tB]=(0,N.useState)(null),[tL,tG]=(0,N.useState)(null),[tK,tW]=(0,N.useState)(null),[tU,tR]=(0,N.useState)(!1),[tJ,t$]=(0,N.useState)(!1),[tX,tY]=(0,N.useState)(!1),[tQ,t0]=(0,N.useState)(!1),[t1,t2]=(0,N.useState)(null),[t7,t3]=(0,N.useState)({name:"",image:"",metadata:""}),[t4,t5]=(0,N.useState)({migrating:!1,name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),[t8,t9]=(0,N.useState)({name:"",image:"",metadata:""}),[t6,ne]=(0,N.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),[nt,nn]=(0,N.useState)(!1),[na,nr]=(0,N.useState)(!1),[no,ns]=(0,N.useState)(!1),[nl,ni]=(0,N.useState)(null),[nc,nd]=(0,N.useState)(null),[nu,nm]=(0,N.useState)(null),[nh,ng]=(0,N.useState)(null),[np,nf]=(0,N.useState)(!1),[nx,nw]=(0,N.useState)(!1),[nj,nv]=(0,N.useState)({}),nS=(0,q.cq)(M.q7.vaultHandler[t],M.q7.vaultHandlerAbi,!0),nb=(0,q.cq)(M.q7.vaultHandlerV8[t],M.q7.vaultHandlerV8Abi,!0),ny=(0,q.cq)(M.q7.emblemVault[t],M.q7.emblemAbi,!0);(0,q.cq)(M.q7.coval[t],M.q7.covalAbi,!0);let{isOpen:nk,onOpen:nC,onClose:nT}=(0,r.q)(),{isOpen:nN,onOpen:nA,onClose:nO}=(0,r.q)(),{isOpen:nI,onToggle:nE}=(0,r.q)(),{isOpen:n_,onToggle:nF}=(0,r.q)(),{isOpen:nP,onToggle:nH}=(0,r.q)(),{colorMode:nM}=(0,o.If)(),nq=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new P.CH(t,M.q7.erc1155Abi,n.getSigner(e).connectUnchecked())},nV=(e,n)=>{fetch(M._z+"/liveliness",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:e})}).then(async function(e){let t=await e.json();return tM(t.live),console.log("Liveliness check",t),n(t.live)})},nD=async()=>{let t=await fetch(M._z+"/meta/"+eu+"?experimental=true"+(I?"&_vercel_no_cache=1":""),{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",cc:I?"t":""}}),n=await t.json(),a=await V.SZ.generateMigrateReport(e,!0);(a=Object.keys(a).map(e=>({...a[e],tokenId:e})).find(e=>e.tokenId==eu))&&a.to&&a.to.length>0&&(n.move=a),nv(n),nz(n),n.image_ipfs,n.collectionAddress&&(t0(!0),t2(n.collectionAddress)),n.name?(td(!1),tw(!1)):(e0({loaded:!0}),tw(!0))},nz=e=>{if(ec&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+ec),e.ciphertextV2&&eb(e.ciphertextV2),nw(e.mintLocked&&0==e.mintLockBlock),ef(e.name),eT(e.image),eA(e.ownedImage||null),ek(e.description),eB(e.totalValue||0),e.values&&eI(eO.concat(e.values)),e.attributes&&eP(e.attributes.filter(e=>"key"===e.trait_type)),e.attributes&&eM(e.attributes),eV(e.addresses),ew(e.ipfs||null),ev(e.image_ipfs||null),e.targetAsset&&t3(e.targetAsset),e.targetContract&&t5(e.targetContract),e.move_targetContract&&ne(e.move_targetContract),e.move_targetAsset&&t9(e.move_targetAsset),"Migrated Vault"==e.name||e.targetContract&&e.targetContract[t]&&!e.targetContract.migrating)return location.href=location.origin+"/nft2?id="+eu,!1;tM(!1!=e.live),tz(e.nonce),tG(e.signature),tW(e.to),eW(e.network),eG("mainnet"==e.network?1:"rinkeby"==e.network?4:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),e5(e.status),"claimed"===e4&&te(e.claimedBy),ez(e.addresses.filter(e=>e.address.includes("private:")).length>0),e.sealed?e9(!0):e9(!1),e.move&&e.move.to&&e.move.to.length>0&&D(e.move),e0({loaded:!0})},nZ=async(e,t,n)=>{let a=await fetch(M.N0+"/vault/balance/"+t,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),r=await a.json();return n(r.values.length>0?e.concat(r.values):e)},nB=async(e,t,n)=>{if(eE)return n(!1);e_(!0);let a=await fetch(M.N0+"/vault/balance/"+t+"?live=true&_vercel_no_cache=1",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),r=await a.json();return n(r.values.length>0?e.concat(r.values):e)},nL=async(e,t,n,a)=>{let r=await fetch(M.HP+"/vault/balance/"+t+"/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),o=await r.json();return a((console.log("response",r,o),o.balances.length>0)?e.concat(o.balances):e)},nG=()=>{localStorage.setItem(e+"_"+t+"_"+eu+"_mintPassword",tC)},nK=()=>{let n=localStorage.getItem(e+"_"+t+"_"+eu+"_mintPassword");n&&ty&&en(n)},nW=async(e,n,a)=>{var r=new Headers;r.append("chainid",t.toString()),r.append("Content-Type","application/json");var o=JSON.stringify({signature:e,tokenId:n});let s=await fetch(M.pU+"/sign",{method:"POST",headers:r,body:o,redirect:"follow"});return a(await s.json())};async function nU(e,t,n){let a=new J.ZP({network:"mainnet"}),r=new $.ZP({enableOneKey:!0,network:"mainnet"}),{torusNodeEndpoints:o,torusIndexes:s}=await a.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:e}),{privKey:l}=await r.retrieveShares(o,s,"tor-us-signer-vercel",{verifier_id:e},t);return n({privateKey:l})}let nR=async(e,n,a,r)=>{var o=new Headers;o.append("chainId",t.toString()),o.append("service","evmetadata"),o.append("Content-Type","application/json");var s=JSON.stringify({signature:e,coin:a});let l=await fetch(M.HP+"/address/"+n,{method:"POST",headers:o,body:s,redirect:"follow"});return r(await l.json())},nJ=async(e,n,a)=>{var r=new Headers;r.append("chainId",t.toString()),r.append("service","evmetadata"),r.append("Content-Type","application/json");var o=JSON.stringify({signature:e});let s=await fetch(M.HP+"/embed/"+n,{method:"POST",headers:r,body:o,redirect:"follow"});return a(await s.json())},n$=async()=>{let n;console.log("Contract states");try{t4[t]&&!t4.migrating?(console.log("Checking owner wth targetContract"),ny=nq(t4[t]),n=await ny.getOwnerOfSerial(t4.serialNumber),console.log("--------------------------- owner",n,na,e,M.q7.vaultHandlerV8[t])):n=tH||t4.migrating?await ny.ownerOf(eu):"0x0000000000000000000000000000000000000000",a()}catch(e){n="0x0000000000000000000000000000000000000000",a()}async function a(){let a=await ny.isApprovedForAll(e,M.q7.vaultHandler[t]),r=!!M.q7.vaultHandlerV8[t]&&await ny.isApprovedForAll(e,M.q7.vaultHandlerV8[t]);nr(a),ns(r),tP(n),e2(n===e||tK===e&&"0x0000000000000000000000000000000000000000"===n),nf(tK===e&&"0x0000000000000000000000000000000000000000"===n),nK(),tF&&!1==tH&&!tq&&(tV(!0),nV(eu,()=>{}))}};(0,N.useEffect)(()=>{console.log("mine?",e1),console.log("claiming?",e7),console.log("accepting?",tj),console.log("acceptable",ty),console.log("qualified",F),console.log("owner",tF)}),(0,N.useEffect)(()=>{if(e&&t&&eL&&eo&&tF){let n="DEBUG Report for ".concat(eu,":\n\n");n+="Props:\n   owner: ".concat(tF,"\n   mine: ").concat(e1,"\n   created by: ").concat(tK,"\n   account: ").concat(e,"\n   vaultChainId: ").concat(eL,"\n   chainId: ").concat(t,"\n   sealed: ").concat(e8,"\n   approved: ").concat(na,"\n   live: ").concat(tH,"\n   mineUnMinted: ").concat(np,"\n   status: ").concat(e4,"\n   mintLockedForever: ").concat(nx,"\n")+"Can Unlock Before Mint: ".concat(eL===t&&np&&"claimed"!=e4&&!nx,"\n")+"Can Claim: ".concat("claimed"!==e4&&e&&eL===t&&e1&&!e8&&na&&tH,"\n")+"Can Migrate To: ".concat(JSON.stringify(F),"\n"),es(!1),ei(n)}},[e,t,eL,eo,tF]);let nX=e=>(console.log(e,eq.filter(t=>t.coin==e).length>0),eq.filter(t=>t.coin==e).length>0),nY=async a=>{n.getSigner(e).signMessage("Renew: "+eu).then(e=>{let n=eq.filter(e=>"NMC"==e.coin)[0].address;console.log("signature",e,a),fetch(M.HP+"/nmc/renew/"+n,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:eu,signature:e,name:a})}).then(async function(e){console.log("Requested Renew",await e.json())})})},nQ=async()=>{let a;t4[t]&&(ny=nq(t4[t]),a=await ny.getSerial(t4.tokenId,0)),n.getSigner(e).signMessage("Claim: "+(t4[t]?a:eu)).then(e=>{e0({loaded:!1}),np&&"claimed"!=e4&&!nx&&nw(!0),nW(e,eu,e=>{nU(eu,e.token,async e=>{try{var t=z().AES.decrypt(eS,e.privateKey);let n=JSON.parse(t.toString(z().enc.Utf8));ti(n.values),tn(n.phrase),eq.forEach(async e=>{"STX"==e.coin?e.key=await n0(e,n.phrase):e.key=window.phrasePathToKey(n.phrase,e.path),"BTC"==e.coin&&tr(e.key),"ETH"==e.coin&&ts(e.key)})}catch(e){alert(e),e0({loaded:!0})}e0({loaded:!0}),nA()})})})},n0=async(e,t)=>"contact emblem.team if you see this error",n1=async a=>{n.getSigner(e).signMessage("HideAsset: "+eu).then(e=>{!function(e,n,a,r,o,s){fetch(M.HP+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({coin:n||null,address:a||null,name:r||null,signature:o||null})}).then(async function(t){console.log("-------",await t.json()),nZ([],e,e=>(eI(e),s()))})}(eu,a.coin,a.address,a.name,e,()=>{console.log("Done hiding coin and getting new balances")})})},n2=async t=>{n.getSigner(e).signMessage("Address: "+eu).then(e=>{nR(e,eu,t,e=>{nD()})})},n7=async()=>{n.getSigner(e).signMessage("Embed: "+eu).then(e=>{nJ(e,eu,e=>{eT(e.ownedImage)})})},n3=async()=>{t4[t]?nb.claim(t4[t],t4.tokenId).then(e=>{let{hash:t}=e;e3(!0),setTimeout(()=>{eR(t)},100)}).catch(e=>{alert(e.message),e3(!1)}):nS.claimOnChain(eu).then(e=>{let{hash:t}=e;e3(!0),setTimeout(()=>{eR(t)},100)}).catch(e=>{alert(e.message),e3(!1)})},n4=async()=>{if(!th){tg(!0);var e="abcdefghijklmnopqrstuvwxyz",t="Decrypting",n=t.length,a=0,r=0,o="",s="";!function l(i){setTimeout(function(){--i?l(i):tg(!1),function(l){for(var i=0;i<n-r;i++){var c=Math.floor(e.length*Math.random()),d=e.charAt(c);o+=d}7==a&&r++,8==a&&(s+=t.charAt(r-1),a=0),tm(s+o),o=""}(0),a+=1},5)}(8*n+1)}};function n5(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}return(0,N.useEffect)(()=>{nD()},[]),(0,N.useEffect)(()=>{(e&&t&&eL&&t==eL||k.noLayout&&"true"==k.noLayout||k.slideshowOnly&&"true"==k.slideshowOnly)&&n$()}),t1&&(ny=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new P.CH(a||M.q7.emblemVault[t],M.q7.emblemAbi,n.getSigner(e).connectUnchecked())}(t1||null)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(C(),{children:[(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:site",content:"Emblem.Finance"}),(0,a.jsx)("meta",{name:"twitter:title",content:ep}),(0,a.jsx)("meta",{name:"twitter:description",content:n5(ey)}),(0,a.jsx)("meta",{name:"twitter:image",content:eC}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})]}),(0,a.jsx)(ee,{isOpen:nk,onClose:nT,addrCoin:eJ,addrAddr:eX}),(0,a.jsx)(et,{isOpen:nN,onClose:nO,mnemonic:tt,privKeyBTC:ta,privKeyETH:to,privValues:tl,addresses:eq}),(0,a.jsxs)(E(),{loaded:eQ.loaded,children:[(0,a.jsx)(s.xu,{height:"40px"}),tc?(0,a.jsx)(O.Z,{}):"",!eQ.loaded||tx||eh?eO.length>0&&eh?(0,a.jsx)(i.K,{className:"NFT-content",align:"center",children:eO.length&&eO.filter(e=>"nft"==e.type).length>0?(0,a.jsx)(W.Z,{name:ep,image:eO[0].image,items:eO.filter(e=>e.image!==eO[0].image).map(e=>({image:e.image,description:e.description,name:e.name,type:e.type})),properties:{duration:3e3,canSwipe:!1}}):(0,a.jsx)(K.Z,{className:"d-block w-100 NFT-image",url:eC})}):tx?(0,a.jsxs)(i.K,{align:"center",children:[(0,a.jsx)(b.E,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),(0,a.jsxs)(d.x,{children:["THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",(0,a.jsx)(u.r,{color:"#638cd8",href:"../create",children:"CREATE ONE HERE!"})]})]}):null:(0,a.jsx)(l.k,{width:"full",align:"center",justifyContent:"center",children:el?(0,a.jsx)(s.xu,{as:"pre",style:{color:"white",opacity:1},children:el}):(0,a.jsxs)(s.xu,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:eL!=t?"orange.500":"claimed"==e4?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390,children:[(0,a.jsxs)(s.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500",children:["Vault Network: ",V.zh[eL]]}),eL!=t?(0,a.jsxs)(s.xu,{style:{color:"white",backgroundColor:"red",textAlign:"center",fontWeight:"bold"},children:["NOTE: Please switch to ",V.zh[eL]," to interact"]}):null,(0,a.jsxs)(s.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center",children:[ep,!eD&&eZ>0?": ~$"+eZ.toLocaleString():null]}),(0,a.jsxs)(i.K,{className:"NFT-content",align:"center",children:[eO.length&&eO.filter(e=>"nft"==e.type).length>0?(0,a.jsx)(W.Z,{name:ep,image:eC,items:eO.map(e=>({image:e.image,description:e.description,name:e.name,type:e.type})),properties:{duration:3e3,canSwipe:!1}}):(0,a.jsx)(K.Z,{className:"d-block w-100 NFT-image",url:eC}),e1&&eN?(0,a.jsx)(c.z,{onClick:()=>{n7()},children:"(OWNED) Show Full Embed"}):null]}),(0,a.jsx)(i.K,{align:"center",maxWidth:"400px",children:(0,a.jsx)(s.xu,{mt:"2",ml:"4",lineHeight:"tight",maxWidth:"400px",children:(0,a.jsxs)(i.K,{children:[(0,a.jsx)(d.x,{fontSize:"xs",children:eL==t?(0,a.jsxs)(u.r,{href:"./vaults?address="+tF,children:["Owner: ",tF]}):null}),(0,a.jsx)(d.x,{overflowWrap:"anywhere",mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md",children:(0,a.jsx)(B(),{plugins:[G()],children:n5(ey)})})]})})}),(0,a.jsxs)(s.xu,{p:"6",children:[(0,a.jsxs)(m.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(h.t,{mb:"1em",children:[(0,a.jsx)(g.O,{children:"Balances"}),(0,a.jsx)(g.O,{children:"Attributes"})]}),(0,a.jsxs)(p.n,{children:[(0,a.jsx)(f.x,{children:eD?(0,a.jsxs)(s.xu,{mb:5,children:[(0,a.jsx)(d.x,{pb:2,color:tu?"green.500":null,children:tu||"Contents hidden. Enter password to unlock."}),(0,a.jsx)(x.I,{type:"password",id:"vault-password",onChange:e=>(function(e){tp&&(e=tp),n4(),console.log(eq);let t=eq[0].address.replace("private:","");try{var n,a=z().AES.decrypt(t,e);JSON.parse(a.toString(z().enc.Utf8)),ez(!1),tf(e),eV((n=e,eq.forEach(e=>{if(e.address.includes("private")){let t=e.address.replace("private:","");e.address=JSON.parse(z().AES.decrypt(t,n).toString(z().enc.Utf8))}}),eq));let r=eq.filter(e=>"ETH"===e.coin)[0].address,o=eq.filter(e=>"BTC"===e.coin)[0].address;console.log("SUCCESS",eq),nL([],r,o,e=>{eI(e)})}catch(e){console.log("WTF",e)}})(e.target.value),"aria-describedby":"password-helper-text"})]}):(0,a.jsx)(s.xu,{display:"flex",backgroundColor:"light"==nM?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content",children:(0,a.jsxs)(s.xu,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2",children:[(0,a.jsxs)(d.x,{as:"div",mt:2,fontWeight:"semibold",children:["Current Contents:  ",(0,a.jsx)("button",{onClick:()=>{nB([],eu,e=>{e_(!1),eI(e)})},children:" [Refresh Balances]"})]}),(0,a.jsxs)(d.x,{as:"p",color:"dark"==nM?"lightgreen":"forestgreen",children:["$",Number(eZ.toFixed(4)).toLocaleString()]}),eO.length?eO.map(t=>(0,a.jsx)(i.K,{children:(0,a.jsx)(U.Z,{colorMode:nM,coin:t,mine:"claimed"===e4&&e6===e||e1,onRenew:nY,hideAsset:n1})})):(0,a.jsx)(O.Z,{}),eF.length?eF.map(e=>(0,a.jsxs)(d.x,{children:["Data: ",e.attribute_key]})):eF.length||eO.length?null:(0,a.jsx)(d.x,{children:"Nothing in here! Fill 'er up!"})]})})}),(0,a.jsx)(f.x,{children:(0,a.jsx)(R.Z,{colorMode:nM,attributes:eH})})]})]}),eD?null:(0,a.jsx)(s.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(w.h,{justifyContent:"space-between",spacing:6,children:(0,a.jsxs)(i.K,{children:[(0,a.jsx)(d.x,{children:"Deposit Addresses"}),(0,a.jsx)(l.k,{w:"340px",justify:"center",flexWrap:"wrap",children:eq&&eq.length>0?eq.map(e=>(0,a.jsx)(c.z,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",onClick:()=>{e$(e.coin),eY(e.address),nC()},children:"ETH"==e.coin?e.coin+"/EVM":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":"TAP"==e.coin?"TAPROOT":e.coin},e.address)):null}),(e1||"claimed"===e4)&&eq.length<12?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"nft_button",onClick:()=>{nF()},children:"Manage Addresses"}),(0,a.jsx)(l.k,{w:"340px",justify:"center",flexWrap:"wrap",children:(0,a.jsxs)(y.Z,{isOpen:n_,children:[nX("DOGE")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("DOGE")},children:"Add DOGE"}),nX("DGB")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("DGB")},children:"Add Digibyte"}),nX("NMC")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("NMC")},children:"Add Namecoin"}),nX("LTC")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("LTC")},children:"Add Litecoin"}),nX("MONA")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("MONA")},children:"Add Mona"}),nX("TEZOS")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("TEZOS")},children:"Add Tezos"}),nX("SOLANA")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("SOLANA")},children:"Add Solana"}),nX("STX")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("STX")},children:"Add Stacks"}),nX("TAP")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n2("TAP")},children:"Add Taproot"})]})})]}):null]})})}),(tN||Y)&&ty?(0,a.jsxs)(s.xu,{children:[(0,a.jsx)(u.r,{href:location.protocol+"//"+location.host+"/nft?id="+eu+"&key="+(tC||Y),children:"Copy Gift Link"}),(0,a.jsxs)(d.x,{children:["Password: ",tC||Y]})]}):null,"claimed"!==e4&&e&&eL===t&&e1&&!e8&&na&&tH?(0,a.jsx)(s.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:()=>{n3()},isDisabled:e7,children:e7?"Claiming ...":"Unlock Vault (Get Private Keys)"})}):eL===t&&("claimed"==e4||nx)&&(e6===e||e1)?(0,a.jsx)(s.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:nQ,children:"Get Keys"})}):null,(0,a.jsx)(i.K,{mt:5,children:(0,a.jsxs)(a.Fragment,{children:[e1&&eQ.loaded?(0,a.jsx)(Q,{handler:{address:M.q7.vaultHandler[t],abi:M.q7.vaultHandlerAbi},spending:{address:M.q7.emblemVault[t],abi:M.q7.emblemAbi},amount:0,label:"Claim Step 1: Approve Vault Claiming",watcher:eR}):null,e&&eQ.loaded?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"nft_button",onClick:()=>{nH()},children:"Advanced Operations"}),(0,a.jsx)(l.k,{w:"100%",justify:"center",flexWrap:"wrap",children:(0,a.jsxs)(y.Z,{width:"100%",isOpen:nP,children:[eL===t&&np&&"claimed"!=e4&&!nx?(0,a.jsx)(s.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:nQ,children:"Get Keys (Unlocking will prevent minting)"})}):null,null,e1||e6==e?(0,a.jsx)(X.Z,{data:nj,filename:"EmblemVault-".concat(eu,".json")}):null,tH&&"claimed"!=e4||tK!=e||eL!=t||tJ||!(eO.length<1)?null:(0,a.jsx)(c.z,{width:"100%",mt:5,onClick:()=>{n.getSigner(e).signMessage("Delete: "+eu).then(e=>{console.log("sig",e),fetch(M.HP+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:eu,signature:e,chainId:t.toString()})}).then(async function(){location.href=location.href.split("/")[0]+"/vaults"})})},children:"Delete Vault "})]})})]}):null]})})]}),ex?(0,a.jsxs)(j.U,{align:"center",children:[(0,a.jsx)(u.r,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+ex,isExternal:!0,children:"View Metadata on IPFS "}),ej?(0,a.jsx)(u.r,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+ej,isExternal:!0,children:"View Image on IPFS "}):null]}):null,e8?(0,a.jsx)(s.xu,{display:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(d.x,{children:"*This vault is sealed forever."})}):null,(0,a.jsx)(i.K,{direction:"column",align:"center",children:"claimed"==e4?(0,a.jsx)(d.x,{color:"green.500",children:"CLAIMED"}):null}),eU?(0,a.jsxs)(v.b,{status:"info",children:[(0,a.jsx)(S.z,{}),tj?"Accepting Your Gift Vault":e7?"Claiming your Vault ...":tS?"Handling Approval Flow ...":tE?"Transfering Vault ...":tX?"Minting Vault":"Validating transaction"]}):null]})}),eU?(0,a.jsx)(H.Z,{hash:eU,onComplete:()=>{Z?(L(!1),location.href=location.origin+"/nft2?id="+eu):!e7||tj||tO?tO?(nG(),tA(!0),tI(!1),eR(null)):tj?(tv(!1),nD(),eR(null)):tS?(tb(!1),nD(),eR(null),location.href=location.origin+"/nft?id="+eu):tE?(t_(!1),nD(),eR(null)):tX?nV(eu,()=>{tY(!1),tM(!0),location.href=location.origin+"/nft?id="+eu}):location.href=location.origin+"/nft?id="+eu:(eR(null),e5("claimed"),e3(!1),te(e),location.href=location.origin+"/nft?id="+eu)}}):null,(0,a.jsx)(s.xu,{height:"40px"})]})]})}},8730:function(e,t,n){var a=n(85893),r=n(67294),o=n(38829),s=n(10682),l=n(51343),i=n(57747),c=n(44302);class d extends r.Component{render(){let e=[{image:this.props.image,name:this.props.name,type:"nft"}];return console.log("items",e=(e=e.concat(this.props.items)).filter(e=>""!==e.image&&"nft"==e.type)),(0,a.jsx)(s.Z,{className:"p-3",children:(0,a.jsx)(o.Z,{children:e.map((e,t)=>(0,a.jsx)(o.Z.Item,{children:(0,a.jsxs)(l.K,{children:[(0,a.jsx)(i.xu,{children:(0,a.jsx)(c.Z,{className:"d-block w-100 NFT-image",url:e.image})}),(0,a.jsx)(i.xu,{children:(0,a.jsx)(o.Z.Caption,{children:(0,a.jsx)("h3",{children:e.name})})})]})},t))})})}}t.Z=d},96288:function(e,t,n){var a=n(85893),r=n(67294),o=n(93717),s=n(57747),l=n(71293);class i extends r.Component{render(){this.props.colorMode;let e=this.props.attributes;return(0,a.jsx)(o.k,{w:"100%",flexWrap:"wrap",mt:3,children:e.map((e,t)=>(0,a.jsx)(s.xu,{mt:"2px",p:1,ml:"3px",minWidth:"45%",width:"48%",className:"NFT newest coin-balance-content",children:"string"==typeof e.value?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.x,{ml:2,mr:Number.isInteger(t/2)?0:"4px",fontSize:".9em",textAlign:Number.isInteger(t/2)?"left":"right",fontWeight:"bold",overflow:"hidden",isTruncated:!0,children:e.trait_type}),(0,a.jsx)(l.x,{ml:2,mr:Number.isInteger(t/2)?0:"4px",fontSize:".7em",textAlign:Number.isInteger(t/2)?"left":"right",color:"dark"==this.props.colorMode?"navajowhite":"gray",children:e.value})]}):null},0))})}}t.Z=i},9452:function(e,t,n){n.d(t,{Lj:function(){return r},Nj:function(){return s},ZO:function(){return o},_o:function(){return i},mv:function(){return c},pk:function(){return l}});let a=async()=>"indexedDB"in window?new Promise((e,t)=>{let n=indexedDB.open("MyDatabase",1);n.onerror=e=>{console.error("Database error:",e.target.error),t(e.target.error)},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains("vaults")||t.createObjectStore("vaults",{keyPath:"tokenId"})}}):(console.error("IndexedDB is not supported by this browser."),null),r=async()=>new Promise((e,t)=>{let n=indexedDB.deleteDatabase("MyDatabase");n.onerror=e=>{console.error("Database error:",e.target.error),t(e.target.error)},n.onsuccess=()=>{e(!0)}}),o=async(e,t)=>{console.log("getVaults - start");let n=await a();if(!n)throw console.error("Failed to open database"),Error("Failed to open database");let r=n.transaction(["vaults"],"readonly").objectStore("vaults").getAll();return new Promise((n,a)=>{r.onsuccess=()=>{console.log("All vaults successfully retrieved from store"),n(r.result.filter(t=>{var n,a;return e===(null===(n=t.ownership)||void 0===n?void 0:n.status)||e===(null===(a=t.ownershipInfo)||void 0===a?void 0:a.status)}).filter(n=>{var a,r,o,s,l,i;return"claimed"==e?t===(null===(a=n.ownership)||void 0===a?void 0:a.claimedBy)||t===(null===(r=n.ownershipInfo)||void 0===r?void 0:r.claimedBy):"unminted"==e?(null===(o=n.ownership)||void 0===o?void 0:o.createdBy)===t||t===(null===(s=n.ownershipInfo)||void 0===s?void 0:s.createdBy):t===(null===(l=n.ownership)||void 0===l?void 0:l.owner)||t===(null===(i=n.ownershipInfo)||void 0===i?void 0:i.owner)}))},r.onerror=e=>{console.error("Error retrieving vaults from store:",e.target.error),a(e.target.error)}})},s=async e=>{console.log("getVaults - start");let t=await a();if(!t)throw console.error("Failed to open database"),Error("Failed to open database");let n=t.transaction(["vaults"],"readonly").objectStore("vaults").get(e);return new Promise((e,t)=>{n.onsuccess=()=>{console.log("All vaults successfully retrieved from store"),e(n.result)},n.onerror=e=>{console.error("Error retrieving vaults from store:",e.target.error),t(e.target.error)}})},l=async e=>{console.log("useDB - start");let t=await a();if(!t)throw console.error("Failed to open database"),Error("Failed to open database");let n=t.transaction(["vaults"],"readwrite"),r=n.objectStore("vaults");return new Promise((a,o)=>{e.forEach((e,t)=>{if(console.log("Processing item ".concat(t),e),!e.tokenId){console.error("Item missing tokenId:",e);return}let n=r.get(e.tokenId);n.onsuccess=()=>{console.log("Got vault ".concat(e.tokenId," from store")),n.result||(console.error("Item missing tokenId:",e),a(d(r,e,t,o))),n&&n.result&&!n.result.addresses&&a(d(r,e,t,o))},n.onerror=n=>{console.error("Item missing tokenId:",e),a(d(r,e,t,o))}}),n.oncomplete=()=>{console.log("Transaction complete"),t.close(),a(!0)},n.onerror=e=>{console.error("Transaction error:",e.target.error),t.close(),o(e.target.error)}})},i=async e=>{console.log("useDB - start");let t=await a();if(!t)throw console.error("Failed to open database"),Error("Failed to open database");let n=t.transaction(["vaults"],"readwrite"),r=n.objectStore("vaults");return new Promise((a,o)=>{let s=r.put(e);s.onsuccess=()=>{console.log("Item ".concat(e.tokenId," successfully put into store"))},s.onerror=e=>{console.error("Error putting item ".concat(index," into store:"),e.target.error),o(e.target.error)},n.oncomplete=()=>{console.log("Transaction complete"),t.close(),a(!0)},n.onerror=e=>{console.error("Transaction error:",e.target.error),t.close(),o(e.target.error)}})},c=async e=>{console.log("deleteVaultFromDatabase - start");let t=await a();if(!t)throw console.error("Failed to open database"),Error("Failed to open database");let n=t.transaction(["vaults"],"readwrite"),r=n.objectStore("vaults");return new Promise((a,o)=>{(function(e,t,n,a){let r=e.delete(t);r.onsuccess=()=>{console.log("Item ".concat(n," successfully deleted from store"))},r.onerror=e=>{console.error("Error deleting item ".concat(n," from store:"),e.target.error),a(e.target.error)}})(r,e,e,o),n.oncomplete=()=>{console.log("Transaction complete"),t.close(),a(!0)},n.onerror=e=>{console.error("Transaction error:",e.target.error),t.close(),o(e.target.error)}})};function d(e,t,n,a){let r=e.put(t);return r.onsuccess=()=>{console.log("Item ".concat(n," successfully put into store"))},r.onerror=e=>{console.error("Error putting item ".concat(n," into store:"),e.target.error),a(e.target.error)},r}}}]);