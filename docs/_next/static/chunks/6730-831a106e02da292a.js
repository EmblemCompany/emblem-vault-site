(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6730],{37292:function(t){var e={lowerCased:"abcdefghijklmnopqrstuvwxyz",capitals:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",numbers:"0123456789",special:"~!@#$%^&()_+-={}[];',"};t.exports=function(t,r){t||(t=30),r||(r="aA0");var n="";r.split("").forEach(t=>{isNaN(parseInt(t))?/[a-z]/.test(t)?n+=e.lowerCased:/[A-Z]/.test(t)?n+=e.capitals:n+=e.special:n+=e.numbers});for(var i="",o=0;o<t;o++)i+=n.charAt(Math.floor(Math.random()*n.length));return i}},50504:function(t,e){var r;function n(t,e){navigator.onLine||t("offline"),t("error",e)}function i(t,e,r){navigator.serviceWorker.register(t,r).then(function(t){if(e("registered",t),t.waiting){e("updated",t);return}t.onupdatefound=function(){e("updatefound",t);var r=t.installing;r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?e("updated",t):e("cached",t))}}}).catch(function(t){return n(e,t)})}"undefined"!=typeof window&&("undefined"!=typeof document&&("interactive"===document.readyState||"complete"===document.readyState)?r=Promise.resolve():r="undefined"!=typeof Promise?new Promise(function(t){return window.addEventListener("load",t)}):{then:function(t){return window.addEventListener("load",t)}}),e.register=function(t,e){void 0===e&&(e={});var o=e.registrationOptions;void 0===o&&(o={}),delete e.registrationOptions;var a=function(t){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];e&&e[t]&&e[t].apply(e,r)};"serviceWorker"in navigator&&r.then(function(){"localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)?(function(t,e,r){fetch(t).then(function(n){404===n.status?(e("error",Error("Service worker not found at "+t)),unregister()):-1===n.headers.get("content-type").indexOf("javascript")?(e("error",Error("Expected "+t+" to have javascript content-type, but received "+n.headers.get("content-type"))),unregister()):i(t,e,r)}).catch(function(t){return n(e,t)})}(t,a,o),navigator.serviceWorker.ready.then(function(t){a("ready",t)})):(i(t,a,o),navigator.serviceWorker.ready.then(function(t){a("ready",t)}))})},e.unregister=function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},2450:function(t,e,r){"use strict";var n=r(48764).Buffer,i=new(r(86266)).ec("secp256k1"),o=r.g.crypto||r.g.msCrypto||{},a=o.subtle||o.webkitSubtle,s=r(42474);let u=n.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),c=n.alloc(32,0);function h(t,e){if(!t)throw Error(e||"Assertion failed")}function f(t){return!!n.isBuffer(t)&&32===t.length&&t.compare(c)>0&&0>t.compare(u)}function l(t){var e=new Uint8Array(t);return void 0===o.getRandomValues?n.from(s.randomBytes(t)):(o.getRandomValues(e),n.from(e))}function d(t){return new Promise(function(e){e(new Uint8Array(s.createHash("sha512").update(t).digest()))})}function p(t){return function(e,r,i){return new Promise(function(o){if(a)return a.importKey("raw",r,{name:"AES-CBC"},!1,[t]).then(function(r){return a[t]({name:"AES-CBC",iv:e},r,i)}).then(function(t){o(n.from(new Uint8Array(t)))});if("encrypt"===t){var u=s.createCipheriv("aes-256-cbc",r,e);let t=u.update(i),a=u.final();o(n.concat([t,a]))}else if("decrypt"===t){var c=s.createDecipheriv("aes-256-cbc",r,e);let t=c.update(i),a=c.final();o(n.concat([t,a]))}})}}var m=p("encrypt"),v=p("decrypt");e.generatePrivate=function(){for(var t=l(32);!f(t);)t=l(32);return t};var g=e.getPublic=function(t){return h(32===t.length,"Bad private key"),h(f(t),"Bad private key"),n.from(i.keyFromPrivate(t).getPublic("arr"))};e.getPublicCompressed=function(t){return h(32===t.length,"Bad private key"),h(f(t),"Bad private key"),n.from(i.keyFromPrivate(t).getPublic(!0,"arr"))},e.sign=function(t,e){return new Promise(function(r){h(32===t.length,"Bad private key"),h(f(t),"Bad private key"),h(e.length>0,"Message should not be empty"),h(e.length<=32,"Message is too long"),r(n.from(i.sign(e,t,{canonical:!0}).toDER()))})},e.verify=function(t,e,r){return new Promise(function(n,o){h(65===t.length||33===t.length,"Bad public key"),65===t.length&&h(4===t[0],"Bad public key"),33===t.length&&h(2===t[0]||3===t[0],"Bad public key"),h(e.length>0,"Message should not be empty"),h(e.length<=32,"Message is too long"),i.verify(e,r,t)?n(null):o(Error("Bad signature"))})};var y=e.derive=function(t,e){return new Promise(function(r){h(n.isBuffer(t),"Bad private key"),h(n.isBuffer(e),"Bad public key"),h(32===t.length,"Bad private key"),h(f(t),"Bad private key"),h(65===e.length||33===e.length,"Bad public key"),65===e.length&&h(4===e[0],"Bad public key"),33===e.length&&h(2===e[0]||3===e[0],"Bad public key");var o=i.keyFromPrivate(t),a=i.keyFromPublic(e),s=o.derive(a.getPublic());r(n.from(s.toArray()))})};e.encrypt=function(t,e,r){var i,o,a,u;return r=r||{},new Promise(function(e){for(var n=r.ephemPrivateKey||l(32);!f(n);)n=r.ephemPrivateKey||l(32);o=g(n),e(y(n,t))}).then(function(t){return d(t)}).then(function(t){i=r.iv||l(16);var n=t.slice(0,32);return u=t.slice(32),m(i,n,e)}).then(function(t){a=t;var e,r=n.concat([i,o,a]);return e=u,new Promise(function(t){var i=s.createHmac("sha256",n.from(e));i.update(r),t(i.digest())})}).then(function(t){return{iv:i,ephemPublicKey:o,ciphertext:a,mac:t}})},e.decrypt=function(t,e){var r;return y(t,e.ephemPublicKey).then(function(t){return d(t)}).then(function(t){r=t.slice(0,32);var i,o=t.slice(32),a=n.concat([e.iv,e.ephemPublicKey,e.ciphertext]);return i=e.mac,new Promise(function(t){var e=s.createHmac("sha256",n.from(o));e.update(a),t(function(t,e){if(t.length!==e.length)return!1;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 0===r}(e.digest(),i))})}).then(function(t){return h(t,"Bad MAC"),v(e.iv,r,e.ciphertext)}).then(function(t){return n.from(new Uint8Array(t))})}},49174:function(t,e,r){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,(function(e){return t[e]}).bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=22)}([function(t,e){t.exports=r(38416)},function(t,e){t.exports=r(64687)},function(t,e){t.exports=r(66115)},function(t,e){t.exports=r(17156)},function(t,e){t.exports=r(73808)},function(t,e){t.exports=r(56690)},function(t,e){t.exports=r(89728)},function(t,e){t.exports=r(61655)},function(t,e){t.exports=r(94993)},function(t,e){t.exports=r(9996)},function(t,e){t.exports=r(70215)},function(t,e){t.exports=r(27424)},function(t,e){t.exports=r(71664)},function(t,e){t.exports=r(38326)},function(t,e){t.exports=r(96245)},function(t,e){t.exports=r(18269)},function(t,e){t.exports=r(69222)},function(t,e){t.exports=r(37292)},function(t,e){t.exports=r(2043)},function(t,e,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise(function(r,n){var i;function o(){void 0!==i&&t.removeListener("error",i),r([].slice.call(arguments))}"error"!==e&&(i=function(r){t.removeListener(e,o),n(r)},t.once("error",i)),t.once(e,o)})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!=typeof t)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,r,n){if(c(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),void 0===a)a=o[e]=r,++t._eventsCount;else if("function"==typeof a?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=h(t))>0&&a.length>i&&!a.warned){a.warned=!0;var i,o,a,s=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,console&&console.warn&&console.warn(s)}return t}function l(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function p(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):v(i,i.length)}function m(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(t,e){for(var r=Array(e),n=0;n<e;++n)r[n]=t[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return h(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var a,s=Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else for(var c=u.length,h=v(u,c),r=0;r<c;++r)o(h[r],this,e);return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){return c(e),this.on(t,d(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,d(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,n,i,o,a;if(c(e),void 0===(n=this._events)||void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0==arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return p(this,t,!0)},s.prototype.rawListeners=function(t){return p(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(t,e){t.exports=r(77181)},function(t,e){t.exports=r(50504)},function(t,e,r){"use strict";r.r(e),r.d(e,"createHandler",function(){return tO}),r.d(e,"default",function(){return tU}),r.d(e,"TORUS_NETWORK",function(){return u}),r.d(e,"ETHEREUM_NETWORK",function(){return c}),r.d(e,"LOGIN",function(){return h}),r.d(e,"AGGREGATE_VERIFIER",function(){return f}),r.d(e,"UX_MODE",function(){return l}),r.d(e,"REDIRECT_PARAMS_STORAGE_METHOD",function(){return d}),r.d(e,"TORUS_METHOD",function(){return p}),r.d(e,"CONTRACT_MAP",function(){return m}),r.d(e,"eventToPromise",function(){return W}),r.d(e,"loginToConnectionMap",function(){return H}),r.d(e,"padUrlString",function(){return Y}),r.d(e,"broadcastChannelOptions",function(){return q}),r.d(e,"getVerifierId",function(){return V}),r.d(e,"handleRedirectParameters",function(){return X}),r.d(e,"storageAvailable",function(){return Z}),r.d(e,"storeLoginDetails",function(){return Q}),r.d(e,"retrieveLoginDetails",function(){return tt}),r.d(e,"clearLoginDetailsStorage",function(){return te}),r.d(e,"clearOrphanedLoginDetails",function(){return tr}),r.d(e,"getPopupFeatures",function(){return tn}),r.d(e,"isFirefox",function(){return ti});var n,i,o,a=r(0),s=r.n(a),u={TESTNET:"testnet",MAINNET:"mainnet"},c={ROPSTEN:"ropsten",MAINNET:"mainnet"},h={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",GITHUB:"github",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",LINE:"line",EMAIL_PASSWORD:"email_password",PASSWORDLESS:"passwordless",JWT:"jwt",WEBAUTHN:"webauthn"},f={SINGLE_VERIFIER_ID:"single_id_verifier"},l={POPUP:"popup",REDIRECT:"redirect"},d={LOCAL_STORAGE:"localStorage",SESSION_STORAGE:"sessionStorage"},p={TRIGGER_LOGIN:"triggerLogin",TRIGGER_AGGREGATE_LOGIN:"triggerAggregateLogin",TRIGGER_AGGREGATE_HYBRID_LOGIN:"triggerHybridAggregateLogin"},m=(n={},s()(n,u.MAINNET,"0x638646503746d5456209e33a2ff5e3226d698bea"),s()(n,u.TESTNET,"0x4023d2a0D330bF11426B12C6144Cfb96B7fa6183"),n),v=r(3),g=r.n(v),y=r(5),b=r.n(y),w=r(6),M=r.n(w),_=r(2),x=r.n(_),O=r(7),k=r.n(O),P=r(8),E=r.n(P),S=r(4),L=r.n(S),I=r(1),j=r.n(I),T=r(9),R=r.n(T),A=r(12),N=r(10),C=r.n(N),D=r(17),B=r.n(D),U=r(13),G=r(11),F=r.n(G),K=r(18),J=r.n(K).a.getLogger("torus-direct-web-sdk");function W(t){return new Promise(function(e,r){t.addEventListener("message",function n(i){var o=i.error,a=void 0===o?"":o,s=i.data;return(t.removeEventListener("message",n),a)?r(Error(a)):e(s)})})}var H=(i={},s()(i,h.APPLE,"apple"),s()(i,h.GITHUB,"github"),s()(i,h.LINKEDIN,"linkedin"),s()(i,h.TWITTER,"twitter"),s()(i,h.WEIBO,"weibo"),s()(i,h.LINE,"line"),s()(i,h.EMAIL_PASSWORD,"Username-Password-Authentication"),s()(i,h.PASSWORDLESS,"email"),i),Y=function(t){return t.href.endsWith("/")?t.href:"".concat(t.href,"/")},q={webWorkerSupport:!1};function z(t,e){return e?t:t.toLowerCase()}var V=function(t,e,r){var n=!(arguments.length>3)||void 0===arguments[3]||arguments[3],i=t.name,o=t.sub;if(r)return z(t[r],n);switch(e){case h.PASSWORDLESS:case h.EMAIL_PASSWORD:return z(i,n);case h.WEIBO:case h.GITHUB:case h.TWITTER:case h.APPLE:case h.LINKEDIN:case h.LINE:case h.JWT:return z(o,n);default:throw Error("Invalid login type")}},X=function(t,e){var r=t.split("&").reduce(function(t,e){var r=e.split("="),n=F()(r,2),i=n[0],o=n[1];return t[i]=o,t},{});J.info(r,e);var n={},i="";return Object.keys(r).length>0&&r.state?(n=JSON.parse(atob(decodeURIComponent(decodeURIComponent(r.state))))||{},i=r.error_description||r.error||i):Object.keys(e).length>0&&e.state&&(n=JSON.parse(atob(decodeURIComponent(decodeURIComponent(e.state))))||{},e.error&&(i=e.error)),{error:i,instanceParameters:n,hashParameters:r}};function Z(t){var e;try{e=window[t];var r="__storage_test__";return e.setItem(r,r),e.removeItem(r),!0}catch(t){return t&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length}}var $=(o={},s()(o,d.LOCAL_STORAGE,Z(d.LOCAL_STORAGE)),s()(o,d.SESSION_STORAGE,Z(d.SESSION_STORAGE)),o);function Q(t,e,r){$[e]&&window[e].setItem("torus_login_".concat(r),JSON.stringify(t))}function tt(t,e){if($[t])return JSON.parse(window[t].getItem("torus_login_".concat(e))||"{}");throw Error("Unable to retrieve stored login details")}function te(t,e){$[t]&&window[t].removeItem("torus_login_".concat(e))}function tr(t){$[t]&&Object.keys(window[t]).forEach(function(e){e.startsWith("torus_login_")&&window[t].removeItem(e)})}function tn(){var t=void 0!==window.screenLeft?window.screenLeft:window.screenX,e=void 0!==window.screenTop?window.screenTop:window.screenY,r=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,n=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height;return"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=".concat(700,",width=").concat(1200,",top=").concat(Math.abs((n-700)/2/1+e),",left=").concat(Math.abs((r-1200)/2/1+t))}var ti=function(){var t,e;return(null===(t=window)||void 0===t?void 0:null===(e=t.navigator)||void 0===e?void 0:e.userAgent.toLowerCase().indexOf("firefox"))>-1},to=function(t){k()(n,t);var e,r=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=L()(n);return t=e?Reflect.construct(r,arguments,L()(this).constructor):r.apply(this,arguments),E()(this,t)});function n(t){var e,i=t.url,o=t.target,a=t.features;return b()(this,n),e=r.call(this),s()(x()(e),"url",void 0),s()(x()(e),"target",void 0),s()(x()(e),"features",void 0),s()(x()(e),"window",void 0),s()(x()(e),"windowTimer",void 0),s()(x()(e),"iClosedWindow",void 0),e.url=i,e.target=o||"_blank",e.features=a||tn(),e.window=void 0,e.windowTimer=void 0,e.iClosedWindow=!1,e._setupTimer(),e}return M()(n,[{key:"_setupTimer",value:function(){var t=this;this.windowTimer=Number(setInterval(function(){t.window&&t.window.closed&&(clearInterval(t.windowTimer),t.iClosedWindow||t.emit("close"),t.iClosedWindow=!1,t.window=void 0),void 0===t.window&&clearInterval(t.windowTimer)},500))}},{key:"open",value:function(){var t;return this.window=window.open(this.url.href,this.target,this.features),null!==(t=this.window)&&void 0!==t&&t.focus&&this.window.focus(),Promise.resolve()}},{key:"close",value:function(){this.iClosedWindow=!0,this.window&&this.window.close()}},{key:"redirect",value:function(t){t?window.location.replace(this.url.href):window.location.href=this.url.href}}]),n}(r(19).EventEmitter),ta=["access_token","id_token"];function ts(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function tu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ts(Object(r),!0).forEach(function(e){s()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ts(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var tc=function(){function t(e,r,n,i,o,a,u,c){b()(this,t),this.clientId=e,this.verifier=r,this.redirect_uri=n,this.typeOfLogin=i,this.uxMode=o,this.redirectToOpener=a,this.jwtParams=u,this.customState=c,s()(this,"nonce",B()()),s()(this,"finalURL",void 0)}return M()(t,[{key:"state",get:function(){return encodeURIComponent(window.btoa(JSON.stringify(tu(tu({},this.customState||{}),{},{instanceId:this.nonce,verifier:this.verifier,typeOfLogin:this.typeOfLogin,redirectToOpener:this.redirectToOpener||!1}))))}},{key:"handleLoginWindow",value:function(t){var e=this,r=new to({url:this.finalURL,features:t.popupFeatures});return this.uxMode!==l.REDIRECT?new Promise(function(t,n){var i,o,a,s=(o=g()(j.a.mark(function r(i){var o,s,u,c,h,f,l;return j.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=i.error,u=(s=i.data||{}).instanceParams,h=(c=s.hashParams).access_token,f=c.id_token,l=C()(c,ta),!o){r.next=7;break}return J.error(i),n(Error("Error: ".concat(o,". Info: ").concat(JSON.stringify(i.data||{})))),r.abrupt("return");case 7:if(!(i.data&&u.verifier===e.verifier)){r.next=13;break}if(J.info(i.data),!(!e.redirectToOpener&&a)){r.next=12;break}return r.next=12,a.postMessage({success:!0});case 12:t(tu(tu({accessToken:h,idToken:f||""},l),{},{state:u}));case 13:r.next=19;break;case 15:r.prev=15,r.t0=r.catch(0),J.error(r.t0),n(r.t0);case 19:case"end":return r.stop()}},r,null,[[0,15]])})),function(t){return o.apply(this,arguments)});if(e.redirectToOpener){var u,c=(u=g()(j.a.mark(function t(n){var i;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.data){t.next=2;break}return t.abrupt("return");case 2:if(!((i=n.data).channel!=="redirect_channel_".concat(e.nonce))){t.next=5;break}return t.abrupt("return");case 5:window.removeEventListener("message",c),s(i),r.close();case 8:case"end":return t.stop()}},t)})),function(t){return u.apply(this,arguments)});window.addEventListener("message",c)}else(a=new U.BroadcastChannel("redirect_channel_".concat(e.nonce),q)).addEventListener("message",(i=g()(j.a.mark(function t(e){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(e);case 2:a.close(),r.close();case 4:case"end":return t.stop()}},t)})),function(t){return i.apply(this,arguments)}));r.open(),r.once("close",function(){a&&a.close(),n(Error("user closed popup"))})}):(r.redirect(t.locationReplaceOnRedirect),null)}}]),t}(),th=function(t){k()(i,t);var e,r,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=L()(i);return t=e?Reflect.construct(r,arguments,L()(this).constructor):r.apply(this,arguments),E()(this,t)});function i(t,e,r,o,a,u,c,h){var f;return b()(this,i),(f=n.call(this,t,e,r,o,a,u,c,h)).clientId=t,f.verifier=e,f.redirect_uri=r,f.typeOfLogin=o,f.uxMode=a,f.redirectToOpener=u,f.jwtParams=c,f.customState=h,s()(x()(f),"RESPONSE_TYPE","token"),s()(x()(f),"SCOPE","identify email"),f.setFinalUrl(),f}return M()(i,[{key:"setFinalUrl",value:function(){var t=new URL("https://discordapp.com/api/oauth2/authorize"),e=JSON.parse(JSON.stringify(this.jwtParams||{})),r=R()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE},e);Object.keys(r).forEach(function(e){r[e]&&t.searchParams.append(e,r[e])}),this.finalURL=t}},{key:"getUserInfo",value:(r=g()(j.a.mark(function t(e){var r,n,i,o,a,s,u,c,h,f,l;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.accessToken,t.next=3,Object(A.get)("https://discordapp.com/api/users/@me",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return i=(n=t.sent).id,o=n.avatar,s=void 0===(a=n.email)?"":a,c=void 0===(u=n.username)?"":u,f=void 0===(h=n.discriminator)?"":h,l=null===o?"https://cdn.discordapp.com/embed/avatars/".concat(Number(f)%5,".png"):"https://cdn.discordapp.com/avatars/".concat(i,"/").concat(o,".png?size=2048"),t.abrupt("return",{profileImage:l,name:"".concat(c,"#").concat(f),email:s,verifierId:i,verifier:this.verifier,typeOfLogin:this.typeOfLogin});case 7:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)})}]),i}(tc),tf=function(t){k()(i,t);var e,r,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=L()(i);return t=e?Reflect.construct(r,arguments,L()(this).constructor):r.apply(this,arguments),E()(this,t)});function i(t,e,r,o,a,u,c,h){var f;return b()(this,i),(f=n.call(this,t,e,r,o,a,u,c,h)).clientId=t,f.verifier=e,f.redirect_uri=r,f.typeOfLogin=o,f.uxMode=a,f.redirectToOpener=u,f.jwtParams=c,f.customState=h,s()(x()(f),"RESPONSE_TYPE","token"),s()(x()(f),"SCOPE","public_profile email"),f.setFinalUrl(),f}return M()(i,[{key:"setFinalUrl",value:function(){var t=new URL("https://www.facebook.com/v6.0/dialog/oauth"),e=JSON.parse(JSON.stringify(this.jwtParams||{})),r=R()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE},e);Object.keys(r).forEach(function(e){r[e]&&t.searchParams.append(e,r[e])}),this.finalURL=t}},{key:"getUserInfo",value:(r=g()(j.a.mark(function t(e){var r,n,i,o,a,s,u,c;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.accessToken,t.next=3,Object(A.get)("https://graph.facebook.com/me?fields=name,email,picture.type(large)",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return o=void 0===(i=(n=t.sent).name)?"":i,a=n.id,s=n.picture,c=void 0===(u=n.email)?"":u,t.abrupt("return",{email:c,name:o,profileImage:s.data.url||"",verifier:this.verifier,verifierId:a,typeOfLogin:this.typeOfLogin});case 6:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)})}]),i}(tc),tl=function(t){k()(i,t);var e,r,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=L()(i);return t=e?Reflect.construct(r,arguments,L()(this).constructor):r.apply(this,arguments),E()(this,t)});function i(t,e,r,o,a,u,c,h){var f;return b()(this,i),(f=n.call(this,t,e,r,o,a,u,c,h)).clientId=t,f.verifier=e,f.redirect_uri=r,f.typeOfLogin=o,f.uxMode=a,f.redirectToOpener=u,f.jwtParams=c,f.customState=h,s()(x()(f),"RESPONSE_TYPE","token id_token"),s()(x()(f),"SCOPE","profile email openid"),s()(x()(f),"PROMPT","consent select_account"),f.setFinalUrl(),f}return M()(i,[{key:"setFinalUrl",value:function(){var t=new URL("https://accounts.google.com/o/oauth2/v2/auth"),e=JSON.parse(JSON.stringify(this.jwtParams||{})),r=R()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,prompt:this.PROMPT,redirect_uri:this.redirect_uri,scope:this.SCOPE,nonce:this.nonce},e);Object.keys(r).forEach(function(e){r[e]&&t.searchParams.append(e,r[e])}),this.finalURL=t}},{key:"getUserInfo",value:(r=g()(j.a.mark(function t(e){var r,n,i,o,a,s,u,c;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.accessToken,t.next=3,Object(A.get)("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return o=void 0===(i=(n=t.sent).picture)?"":i,s=void 0===(a=n.email)?"":a,c=void 0===(u=n.name)?"":u,t.abrupt("return",{email:s,name:c,profileImage:o,verifier:this.verifier,verifierId:s.toLowerCase(),typeOfLogin:this.typeOfLogin});case 6:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)})}]),i}(tc),td=r(14),tp=r.n(td),tm=function(t){k()(i,t);var e,r,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=L()(i);return t=e?Reflect.construct(r,arguments,L()(this).constructor):r.apply(this,arguments),E()(this,t)});function i(t,e,r,o,a,u,c,h){var f;return b()(this,i),(f=n.call(this,t,e,r,o,a,u,c,h)).clientId=t,f.verifier=e,f.redirect_uri=r,f.typeOfLogin=o,f.uxMode=a,f.redirectToOpener=u,f.jwtParams=c,f.customState=h,s()(x()(f),"SCOPE","openid profile email"),s()(x()(f),"RESPONSE_TYPE","token id_token"),s()(x()(f),"PROMPT","login"),f.setFinalUrl(),f}return M()(i,[{key:"setFinalUrl",value:function(){var t=new URL(this.jwtParams.domain);t.pathname="/authorize";var e=JSON.parse(JSON.stringify(this.jwtParams));delete e.domain;var r=R()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,prompt:this.PROMPT,redirect_uri:this.redirect_uri,scope:this.SCOPE,connection:H[this.typeOfLogin],nonce:this.nonce},e);Object.keys(r).forEach(function(e){r[e]&&t.searchParams.append(e,r[e])}),this.finalURL=t}},{key:"getUserInfo",value:(r=g()(j.a.mark(function t(e){var r,n,i,o,a,s,u,c,h,f,l,d,p,m,v;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.idToken,n=e.accessToken,o=(i=this.jwtParams).domain,a=i.verifierIdField,s=i.isVerifierIdCaseSensitive,!n){t.next=9;break}return u=new URL(o),t.next=6,Object(A.get)("".concat(Y(u),"userinfo"),{headers:{Authorization:"Bearer ".concat(n)}});case 6:return h=(c=t.sent).picture,f=c.name,l=c.email,t.abrupt("return",{email:l,name:f,profileImage:h,verifierId:V(c,this.typeOfLogin,a,s),verifier:this.verifier,typeOfLogin:this.typeOfLogin});case 9:if(!r){t.next=13;break}return p=(d=tp()(r)).name,m=d.email,v=d.picture,t.abrupt("return",{profileImage:v,name:p,email:m,verifierId:V(d,this.typeOfLogin,a,s),verifier:this.verifier,typeOfLogin:this.typeOfLogin});case 13:throw Error("Access/id token not available");case 14:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)})}]),i}(tc),tv=["access_token","id_token"];function tg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ty(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tg(Object(r),!0).forEach(function(e){s()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tg(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var tb=function(t){k()(i,t);var e,r,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=L()(i);return t=e?Reflect.construct(r,arguments,L()(this).constructor):r.apply(this,arguments),E()(this,t)});function i(t,e,r,o,a,u,c,h){var f;return b()(this,i),(f=n.call(this,t,e,r,o,a,u,c,h)).clientId=t,f.verifier=e,f.redirect_uri=r,f.typeOfLogin=o,f.uxMode=a,f.redirectToOpener=u,f.jwtParams=c,f.customState=h,s()(x()(f),"SCOPE","openid profile email"),s()(x()(f),"RESPONSE_TYPE","token id_token"),s()(x()(f),"PROMPT","login"),f.setFinalUrl(),f}return M()(i,[{key:"setFinalUrl",value:function(){var t=new URL(this.jwtParams.domain);t.pathname="/passwordless/start",this.finalURL=t}},{key:"getUserInfo",value:(r=g()(j.a.mark(function t(e){var r,n,i,o,a,s,u,c,h,f,l,d,p,m,v;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.idToken,n=e.accessToken,o=(i=this.jwtParams).domain,a=i.verifierIdField,s=i.isVerifierIdCaseSensitive,t.prev=2,u=new URL(o),t.next=6,Object(A.get)("".concat(Y(u),"userinfo"),{headers:{Authorization:"Bearer ".concat(n)}});case 6:return h=(c=t.sent).picture,f=c.name,l=c.email,t.abrupt("return",{email:l,name:f,profileImage:h,verifierId:V(c,this.typeOfLogin,a,s),verifier:this.verifier,typeOfLogin:this.typeOfLogin});case 11:return t.prev=11,t.t0=t.catch(2),J.error(t.t0),p=(d=tp()(r)).name,m=d.email,v=d.picture,t.abrupt("return",{profileImage:v,name:p,email:m,verifierId:V(d,this.typeOfLogin,a,s),verifier:this.verifier,typeOfLogin:this.typeOfLogin});case 17:case"end":return t.stop()}},t,this,[[2,11]])})),function(t){return r.apply(this,arguments)})},{key:"handleLoginWindow",value:function(){var t=this;return new Promise(function(e,r){if(t.redirectToOpener){r(Error("Cannot use redirect to opener for passwordless"));return}var n,i=function(n){try{var i=n.error,o=n.data||{},a=o.instanceParams,s=o.hashParams,u=s.access_token,c=s.id_token,h=C()(s,tv);if(i){J.error(n.error),r(Error(i));return}n.data&&a.verifier===t.verifier&&(J.info(n.data),e(ty(ty({accessToken:u,idToken:c||""},h),{},{state:a})))}catch(t){J.error(t),r(t)}},o=new U.BroadcastChannel("redirect_channel_".concat(t.nonce),q);o.addEventListener("message",(n=g()(j.a.mark(function t(e){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i(e),o.close();case 2:case"end":return t.stop()}},t)})),function(t){return n.apply(this,arguments)}));try{var a=t.jwtParams,s=a.connection,u=void 0===s?"email":s,c=a.login_hint,h=R()({client_id:t.clientId,connection:u,email:"email"===u?c:void 0,phone_number:"sms"===u?c:void 0,send:"link",authParams:{scope:t.SCOPE,state:t.state,response_type:t.RESPONSE_TYPE,redirect_uri:t.redirect_uri,nonce:t.nonce,prompt:t.PROMPT}},{authParams:t.jwtParams});Object(A.post)(t.finalURL.href,JSON.parse(JSON.stringify(h))).then(function(t){J.info("posted",t)}).catch(function(t){J.error(t),r(t)})}catch(t){J.error(t),r(t)}})}}]),i}(tc),tw=function(t){k()(i,t);var e,r,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=L()(i);return t=e?Reflect.construct(r,arguments,L()(this).constructor):r.apply(this,arguments),E()(this,t)});function i(t,e,r,o,a,u,c,h){var f;return b()(this,i),(f=n.call(this,t,e,r,o,a,u,c,h)).clientId=t,f.verifier=e,f.redirect_uri=r,f.typeOfLogin=o,f.uxMode=a,f.redirectToOpener=u,f.jwtParams=c,f.customState=h,s()(x()(f),"RESPONSE_TYPE","token"),s()(x()(f),"SCOPE","identity"),f.setFinalUrl(),f}return M()(i,[{key:"setFinalUrl",value:function(){var t=new URL("https://www.reddit.com/api/v1/authorize".concat(window.innerWidth<600?".compact":"")),e=JSON.parse(JSON.stringify(this.jwtParams||{})),r=R()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE},e);Object.keys(r).forEach(function(e){r[e]&&t.searchParams.append(e,r[e])}),this.finalURL=t}},{key:"getUserInfo",value:(r=g()(j.a.mark(function t(e){var r,n,i,o,a,s;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.accessToken,t.next=3,Object(A.get)("https://oauth.reddit.com/api/v1/me",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return o=void 0===(i=(n=t.sent).icon_img)?"":i,s=void 0===(a=n.name)?"":a,t.abrupt("return",{email:"",name:s,profileImage:o.split("?").length>0?o.split("?")[0]:o,verifier:this.verifier,verifierId:s.toLowerCase(),typeOfLogin:this.typeOfLogin});case 6:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)})}]),i}(tc),tM=function(t){k()(i,t);var e,r,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=L()(i);return t=e?Reflect.construct(r,arguments,L()(this).constructor):r.apply(this,arguments),E()(this,t)});function i(t,e,r,o,a,u,c,h){var f;return b()(this,i),(f=n.call(this,t,e,r,o,a,u,c,h)).clientId=t,f.verifier=e,f.redirect_uri=r,f.typeOfLogin=o,f.uxMode=a,f.redirectToOpener=u,f.jwtParams=c,f.customState=h,s()(x()(f),"RESPONSE_TYPE","token"),s()(x()(f),"SCOPE","user:read:email"),f.setFinalUrl(),f}return M()(i,[{key:"setFinalUrl",value:function(){var t=new URL("https://id.twitch.tv/oauth2/authorize"),e=JSON.parse(JSON.stringify(this.jwtParams||{})),r=R()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE,force_verify:!0},e);Object.keys(r).forEach(function(e){r[e]&&t.searchParams.append(e,r[e])}),this.finalURL=t}},{key:"getUserInfo",value:(r=g()(j.a.mark(function t(e){var r,n,i,o,a,s,u,c,h,f;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.accessToken,t.next=3,Object(A.get)("https://api.twitch.tv/helix/users",{headers:{Authorization:"Bearer ".concat(r),"Client-ID":this.clientId}});case 3:return n=t.sent.data||[],a=void 0===(o=(i=F()(n,1)[0]).profile_image_url)?"":o,u=void 0===(s=i.display_name)?"":s,h=void 0===(c=i.email)?"":c,f=i.id,t.abrupt("return",{profileImage:a,name:u,email:h,verifierId:f,verifier:this.verifier,typeOfLogin:this.typeOfLogin});case 6:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)})}]),i}(tc),t_="https://api.webauthn.openlogin.com",tx=function(t){k()(i,t);var e,r,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=L()(i);return t=e?Reflect.construct(r,arguments,L()(this).constructor):r.apply(this,arguments),E()(this,t)});function i(t,e,r,o,a,s,u,c,h){var f;return b()(this,i),(f=n.call(this,t,e,r,o,a,s,u,c)).clientId=t,f.verifier=e,f.redirect_uri=r,f.typeOfLogin=o,f.uxMode=a,f.redirectToOpener=s,f.jwtParams=u,f.customState=c,f.registerOnly=h,f.setFinalUrl(),f}return M()(i,[{key:"setFinalUrl",value:function(){var t=new URL("https://webauthn.openlogin.com"),e=JSON.parse(JSON.stringify(this.jwtParams||{})),r=R()({register_only:!!this.registerOnly,state:this.state,client_id:this.clientId,redirect_uri:this.redirect_uri},e);Object.keys(r).forEach(function(e){r[e]&&t.searchParams.append(e,r[e])}),this.finalURL=t}},{key:"getUserInfo",value:(r=g()(j.a.mark(function t(e){var r,n,i,o,a,s,u,c,h,f,l,d,p,m,v;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.idToken,n=e.ref,i=e.extraParamsPassed,o=e.extraParams,"true"!==i){t.next=31;break}J.debug("extraParamsPassed is true, using extraParams passed through hashParams"),t.prev=3,a=(p=JSON.parse(atob(o))).verifier_id,s=p.signature,u=p.clientDataJSON,c=p.authenticatorData,h=p.publicKey,f=p.challenge,l=p.rpOrigin,d=p.credId,t.next=29;break;case 15:return t.prev=15,t.t0=t.catch(3),J.warn("unable to parse extraParams",t.t0),t.next=20,Object(A.get)("".concat(t_,"/signature/fetch/").concat(r));case 20:a=(m=t.sent).verifier_id,s=m.signature,u=m.clientDataJSON,c=m.authenticatorData,h=m.publicKey,f=m.challenge,l=m.rpOrigin,d=m.credId;case 29:t.next=43;break;case 31:return J.debug("extraParamsPassed is false, using extraParams passed through bridge server"),t.next=34,Object(A.get)("".concat(t_,"/signature/fetch/").concat(r));case 34:a=(v=t.sent).verifier_id,s=v.signature,u=v.clientDataJSON,c=v.authenticatorData,h=v.publicKey,f=v.challenge,l=v.rpOrigin,d=v.credId;case 43:if(!(s!==r)){t.next=45;break}throw Error("idtoken should be equal to signature");case 45:return t.abrupt("return",{email:"",name:"WebAuthn Login",profileImage:"",verifier:this.verifier,verifierId:a,typeOfLogin:this.typeOfLogin,ref:n,registerOnly:this.registerOnly,extraVerifierParams:{signature:s,clientDataJSON:u,authenticatorData:c,publicKey:h,challenge:f,rpOrigin:l,credId:d}});case 46:case"end":return t.stop()}},t,this,[[3,15]])})),function(t){return r.apply(this,arguments)})}]),i}(tc),tO=function(t){var e=t.clientId,r=t.redirect_uri,n=t.typeOfLogin,i=t.verifier,o=t.jwtParams,a=t.redirectToOpener,s=t.uxMode,u=t.customState,c=t.registerOnly;if(!i||!n||!e)throw Error("Invalid params");var f=o||{},l=f.domain,d=f.login_hint;switch(n){case h.GOOGLE:return new tl(e,i,r,n,s,a,o,u);case h.FACEBOOK:return new tf(e,i,r,n,s,a,o,u);case h.TWITCH:return new tM(e,i,r,n,s,a,o,u);case h.REDDIT:return new tw(e,i,r,n,s,a,o,u);case h.DISCORD:return new th(e,i,r,n,s,a,o,u);case h.PASSWORDLESS:if(!l||!d)throw Error("Invalid params");return new tb(e,i,r,n,s,a,o,u);case h.APPLE:case h.GITHUB:case h.LINKEDIN:case h.TWITTER:case h.WEIBO:case h.LINE:case h.EMAIL_PASSWORD:case h.JWT:if(!l)throw Error("Invalid params");return new tm(e,i,r,n,s,a,o,u);case h.WEBAUTHN:return new tx(e,i,r,n,s,a,o,u,c);default:throw Error("Invalid login type")}},tk=r(20),tP=r.n(tk),tE=r(16),tS=r.n(tE),tL=r(15),tI=r(21),tj=function(t){return new Promise(function(e,r){"serviceWorker"in window.navigator?Object(tI.register)("".concat(t,"sw.js"),{ready:function(){J.info("App is being served from cache by a service worker.\n For more details, visit https://goo.gl/AFskqB"),e(void 0)},registered:function(){J.info("Service worker has been registered."),e(void 0)},cached:function(){J.info("Content has been cached for offline use."),e(void 0)},updatefound:function(){J.info("New content is downloading.")},updated:function(){J.info("New content is available; please refresh.")},offline:function(){J.info("No internet connection found. App is running in offline mode."),r(Error("App is offline"))},error:function(t){J.error("Error during service worker registration:",t),r(t)}}):r(Error("Service workers are not supported"))})},tT=["access_token","id_token"],tR=["access_token","id_token"],tA=["access_token","id_token"],tN=["args","method"];function tC(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function tB(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tD(Object(r),!0).forEach(function(e){s()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var tU=function(){var t,e,r,n,i,o,a,v;function y(t){var e=t.baseUrl,r=t.network,n=void 0===r?u.MAINNET:r,i=t.proxyContractAddress,o=t.enableLogging,a=void 0!==o&&o,h=t.redirectToOpener,f=t.redirectPathName,p=void 0===f?"redirect":f,v=t.apiKey,g=t.uxMode,w=void 0===g?l.POPUP:g,M=t.redirectParamsStorageMethod,_=void 0===M?d.SESSION_STORAGE:M,x=t.locationReplaceOnRedirect,O=t.popupFeatures,k=t.skipFetchingNodeDetails;b()(this,y),s()(this,"isInitialized",void 0),s()(this,"config",void 0),s()(this,"torus",void 0),s()(this,"nodeDetailManager",void 0),this.isInitialized=!1;var P=new URL(e);this.config={baseUrl:Y(P),get redirect_uri(){return"".concat(this.baseUrl).concat(p)},redirectToOpener:void 0!==h&&h,uxMode:w,redirectParamsStorageMethod:_,locationReplaceOnRedirect:void 0!==x&&x,popupFeatures:O};var E=new tS.a({enableLogging:a,metadataHost:"https://metadata.tor.us",allowHost:"https://signer.tor.us/api/allow"});tS.a.setAPIKey(void 0===v?"torus-default":v),this.torus=E;var S=n===u.TESTNET?c.ROPSTEN:n;this.nodeDetailManager=new tP.a({network:S,proxyAddress:i||m[n]}),void 0!==k&&k||this.nodeDetailManager.getNodeDetails(),a?J.enableAll():J.disableAll()}return M()(y,[{key:"init",value:(t=g()(j.a.mark(function t(){var e,r,n,i,o,a,s,u=arguments;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=void 0!==(r=(e=u.length>0&&void 0!==u[0]?u[0]:{}).skipSw)&&r,o=void 0!==(i=e.skipInit)&&i,s=void 0!==(a=e.skipPrefetch)&&a,!o){t.next=4;break}return this.isInitialized=!0,t.abrupt("return");case 4:if(n){t.next=22;break}return t.next=7,fetch("".concat(this.config.baseUrl,"sw.js"),{cache:"reload"});case 7:if(!t.sent.ok){t.next=21;break}return t.prev=9,t.next=12,tj(this.config.baseUrl);case 12:return this.isInitialized=!0,t.abrupt("return");case 16:t.prev=16,t.t0=t.catch(9),J.warn(t.t0);case 19:t.next=22;break;case 21:throw Error("Service worker is not being served. Please serve it");case 22:if(s){t.next=29;break}if(!ti()){t.next=26;break}return this.isInitialized=!0,t.abrupt("return");case 26:return t.next=28,this.handlePrefetchRedirectUri();case 28:return t.abrupt("return");case 29:this.isInitialized=!0;case 30:case"end":return t.stop()}},t,this,[[9,16]])})),function(){return t.apply(this,arguments)})},{key:"handlePrefetchRedirectUri",value:(e=g()(j.a.mark(function t(){var e=this;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(document){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:return t.abrupt("return",new Promise(function(t,r){var n=document.createElement("link");n.href=e.config.redirect_uri,window.location.origin!==new URL(e.config.redirect_uri).origin&&(n.crossOrigin="anonymous"),n.type="text/html",n.rel="prefetch";var i=function(){e.isInitialized=!0,t()};try{n.relList&&n.relList.supports&&n.relList.supports("prefetch")?(n.onload=i,n.onerror=function(){r(Error("Please serve redirect.html present in serviceworker folder of this package on ".concat(e.config.redirect_uri)))},document.head.appendChild(n)):i()}catch(t){i()}}));case 3:case"end":return t.stop()}},t)})),function(){return e.apply(this,arguments)})},{key:"triggerLogin",value:(r=g()(j.a.mark(function t(e){var r,n,i,o,a,s,u,c,f,d,m,v,g,y,b,w,M,_,x,O,k,P;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.verifier,n=e.typeOfLogin,i=e.clientId,o=e.jwtParams,a=e.hash,s=e.queryParameters,u=e.customState,c=e.registerOnly,J.info("Verifier: ",r),this.isInitialized){t.next=4;break}throw Error("Not initialized yet");case 4:if(!(c&&n!==h.WEBAUTHN)){t.next=6;break}throw Error("registerOnly flag can only be passed for webauthn");case 6:if(f=tO({typeOfLogin:n,clientId:i,verifier:r,redirect_uri:this.config.redirect_uri,redirectToOpener:this.config.redirectToOpener,jwtParams:o,uxMode:this.config.uxMode,customState:u,registerOnly:c}),!(a&&s)){t.next=15;break}if(v=(m=X(a,s)).error,g=m.hashParameters,y=m.instanceParameters,!v){t.next=11;break}throw Error(v);case 11:d=tB(tB({accessToken:g.access_token,idToken:g.id_token},C()(g,tT)),{},{state:y}),t.next=22;break;case 15:return tr(this.config.redirectParamsStorageMethod),Q({method:p.TRIGGER_LOGIN,args:e},this.config.redirectParamsStorageMethod,f.nonce),t.next=19,f.handleLoginWindow({locationReplaceOnRedirect:this.config.locationReplaceOnRedirect,popupFeatures:this.config.popupFeatures});case 19:if(d=t.sent,this.config.uxMode!==l.REDIRECT){t.next=22;break}return t.abrupt("return",null);case 22:return t.next=24,f.getUserInfo(d);case 24:if(b=t.sent,!c){t.next=39;break}return t.next=28,this.nodeDetailManager.getNodeDetails();case 28:return M=(w=t.sent).torusNodeEndpoints,_=w.torusNodePub,t.next=33,this.torus.getPublicAddress(M,_,{verifier:r,verifierId:b.verifierId},!0);case 33:if(x=t.sent,O={userInfo:tB(tB({},b),d)},"string"!=typeof x){t.next=37;break}throw Error("should have returned extended pub key");case 37:return k={pubKey:{pub_key_X:x.X,pub_key_Y:x.Y},publicAddress:x.address,privateKey:null,metadataNonce:null},t.abrupt("return",tB(tB({},O),k));case 39:return t.next=41,this.getTorusKey(r,b.verifierId,{verifier_id:b.verifierId},d.idToken||d.accessToken,b.extraVerifierParams);case 41:return P=t.sent,t.abrupt("return",tB(tB({},P),{},{userInfo:tB(tB({},b),d)}));case 43:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)})},{key:"triggerAggregateLogin",value:(n=g()(j.a.mark(function t(e){var r,n,i,o,a,s,u,c,h,d,m,v,g,y,b,w,M,_,x,O,k,P,E,S,L,I,T,R,A,N,D,B,U;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.aggregateVerifierType,n=e.verifierIdentifier,i=e.subVerifierDetailsArray,this.isInitialized){t.next=3;break}throw Error("Not initialized yet");case 3:if(!(!r||!n||!Array.isArray(i))){t.next=5;break}throw Error("Invalid params");case 5:if(!(r===f.SINGLE_VERIFIER_ID&&1!==i.length)){t.next=7;break}throw Error("Single id verifier can only have one sub verifier");case 7:o=[],a=[],s=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return tC(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tC(t,void 0)}}(t))){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(i),t.prev=10,s.s();case 12:if((u=s.n()).done){t.next=36;break}if(h=(c=u.value).clientId,d=c.typeOfLogin,m=c.verifier,v=c.jwtParams,g=c.hash,y=c.queryParameters,b=c.customState,w=tO({typeOfLogin:d,clientId:h,verifier:m,redirect_uri:this.config.redirect_uri,redirectToOpener:this.config.redirectToOpener,jwtParams:v,uxMode:this.config.uxMode,customState:b}),M=void 0,!(g&&y)){t.next=25;break}if(x=(_=X(g,y)).error,O=_.hashParameters,k=_.instanceParameters,!x){t.next=21;break}throw Error(x);case 21:M=tB(tB({accessToken:O.access_token,idToken:O.id_token},C()(O,tR)),{},{state:k}),t.next=32;break;case 25:return tr(this.config.redirectParamsStorageMethod),Q({method:p.TRIGGER_AGGREGATE_LOGIN,args:e},this.config.redirectParamsStorageMethod,w.nonce),t.next=29,w.handleLoginWindow({locationReplaceOnRedirect:this.config.locationReplaceOnRedirect,popupFeatures:this.config.popupFeatures});case 29:if(M=t.sent,this.config.uxMode!==l.REDIRECT){t.next=32;break}return t.abrupt("return",null);case 32:o.push(w.getUserInfo(M)),a.push(M);case 34:t.next=12;break;case 36:t.next=41;break;case 38:t.prev=38,t.t0=t.catch(10),s.e(t.t0);case 41:return t.prev=41,s.f(),t.finish(41);case 44:return t.next=46,Promise.all(o);case 46:for(T=0,P=t.sent.map(function(t){return tB(tB({},t),{},{aggregateVerifier:n})}),E={verify_params:[],sub_verifier_ids:[],verifier_id:""},S=[],L="",I={};T<i.length;T+=1)A=(R=a[T]).idToken,N=R.accessToken,D=P[T],E.verify_params.push({verifier_id:D.verifierId,idtoken:A||N}),E.sub_verifier_ids.push(D.verifier),S.push(A||N),L=D.verifierId,I=D.extraVerifierParams;return S.sort(),B=Object(tL.keccak256)(S.join("\x1d")).slice(2),E.verifier_id=L,t.next=58,this.getTorusKey(n,L,E,B,I);case 58:return U=t.sent,t.abrupt("return",tB(tB({},U),{},{userInfo:P.map(function(t,e){return tB(tB({},t),a[e])})}));case 60:case"end":return t.stop()}},t,this,[[10,38,41,44]])})),function(t){return n.apply(this,arguments)})},{key:"triggerHybridAggregateLogin",value:(i=g()(j.a.mark(function t(e){var r,n,i,o,a,s,u,c,h,d,m,v,g,y,b,w,M,_,x,O,k,P,E,S,L,I,T,R,A,N,D,B,U;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.singleLogin,n=e.aggregateLoginParams,this.isInitialized){t.next=3;break}throw Error("Not initialized yet");case 3:if(!(!n.aggregateVerifierType||!n.verifierIdentifier||!Array.isArray(n.subVerifierDetailsArray))){t.next=5;break}throw Error("Invalid params");case 5:if(!(n.aggregateVerifierType===f.SINGLE_VERIFIER_ID&&1!==n.subVerifierDetailsArray.length)){t.next=7;break}throw Error("Single id verifier can only have one sub verifier");case 7:if(i=r.typeOfLogin,o=r.clientId,a=r.verifier,s=r.jwtParams,u=r.hash,c=r.queryParameters,h=r.customState,d=tO({typeOfLogin:i,clientId:o,verifier:a,redirect_uri:this.config.redirect_uri,redirectToOpener:this.config.redirectToOpener,jwtParams:s,uxMode:this.config.uxMode,customState:h}),!(u&&c)){t.next=17;break}if(g=(v=X(u,c)).error,y=v.hashParameters,b=v.instanceParameters,!g){t.next=13;break}throw Error(g);case 13:m=tB(tB({accessToken:y.access_token,idToken:y.id_token},C()(y,tA)),{},{state:b}),t.next=24;break;case 17:return tr(this.config.redirectParamsStorageMethod),Q({method:p.TRIGGER_AGGREGATE_HYBRID_LOGIN,args:e},this.config.redirectParamsStorageMethod,d.nonce),t.next=21,d.handleLoginWindow({locationReplaceOnRedirect:this.config.locationReplaceOnRedirect,popupFeatures:this.config.popupFeatures});case 21:if(m=t.sent,this.config.uxMode!==l.REDIRECT){t.next=24;break}return t.abrupt("return",null);case 24:return t.next=26,d.getUserInfo(m);case 26:for(w=t.sent,M=this.getTorusKey(a,w.verifierId,{verifier_id:w.verifierId},m.idToken||m.accessToken,w.extraVerifierParams),_=n.verifierIdentifier,x=n.subVerifierDetailsArray,O={verify_params:[],sub_verifier_ids:[],verifier_id:""},k=[],P="",E=0;E<x.length;E+=1)S=x[E],I=(L=m).idToken,T=L.accessToken,O.verify_params.push({verifier_id:w.verifierId,idtoken:I||T}),O.sub_verifier_ids.push(S.verifier),k.push(I||T),P=w.verifierId;return k.sort(),R=Object(tL.keccak256)(k.join("\x1d")).slice(2),O.verifier_id=P,A=this.getTorusKey(_,P,O,R,w.extraVerifierParams),t.next=39,Promise.all([M,A]);case 39:return N=t.sent,B=(D=F()(N,2))[0],U=D[1],t.abrupt("return",{singleLogin:tB({userInfo:tB(tB({},w),m)},B),aggregateLogins:[U]});case 44:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"getTorusKey",value:(o=g()(j.a.mark(function t(e,r,n,i,o){var a,s,u,c,h,f;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.nodeDetailManager.getNodeDetails();case 2:return s=(a=t.sent).torusNodeEndpoints,u=a.torusNodePub,c=a.torusIndexes,t.next=8,this.torus.getPublicAddress(s,u,{verifier:e,verifierId:r},!0);case 8:return h=t.sent,J.info("New private key assigned to user at address ",h),t.next=12,this.torus.retrieveShares(s,c,e,n,i,o);case 12:if(f=t.sent,"string"!=typeof h){t.next=15;break}throw Error("must use extended pub key");case 15:if(!(f.ethAddress.toLowerCase()!==h.address.toLowerCase())){t.next=17;break}throw Error("data ethAddress does not match response address");case 17:return t.abrupt("return",{publicAddress:f.ethAddress.toString(),privateKey:f.privKey.toString(),metadataNonce:f.metadataNonce.toString("hex"),pubKey:{pub_key_X:h.X,pub_key_Y:h.Y}});case 18:case"end":return t.stop()}},t,this)})),function(t,e,r,n,i){return o.apply(this,arguments)})},{key:"getAggregateTorusKey",value:(a=g()(j.a.mark(function t(e,r,n){var i,o,a,s,u,c;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(s=0,i={verify_params:[],sub_verifier_ids:[],verifier_id:""},o=[],a={};s<n.length;s+=1)u=n[s],i.verify_params.push({verifier_id:r,idtoken:u.idToken}),i.sub_verifier_ids.push(u.verifier),o.push(u.idToken),a=u.extraVerifierParams;return o.sort(),c=Object(tL.keccak256)(o.join("\x1d")).slice(2),i.verifier_id=r,t.abrupt("return",this.getTorusKey(e,r,i,c,a));case 8:case"end":return t.stop()}},t,this)})),function(t,e,r){return a.apply(this,arguments)})},{key:"getRedirectResult",value:(v=g()(j.a.mark(function t(){var e,r,n,i,o,a,s,u,c,h,f,l,d,m,v,g,y,b,w,M,_,x,O,k=arguments;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=void 0===(r=(e=k.length>0&&void 0!==k[0]?k[0]:{}).replaceUrl)||r,o=void 0===(i=e.clearLoginDetails)||i,t.next=3,this.init({skipInit:!0});case 3:if(s=(a=new URL(window.location.href)).hash.substr(1),u={},a.searchParams.forEach(function(t,e){u[e]=t}),n&&(c=window.location.origin+window.location.pathname,window.history.replaceState(null,"",c)),!(!s&&0===Object.keys(u).length)){t.next=10;break}throw Error("Unable to fetch result from redirect");case 10:if(f=(h=X(s,u)).error,l=h.instanceParameters,d=h.hashParameters,m=l.instanceId,J.info(m,"instanceId"),g=(v=tt(this.config.redirectParamsStorageMethod,m)).args,y=v.method,b=C()(v,tN),J.info(g,y),o&&te(this.config.redirectParamsStorageMethod,m),!f){t.next=19;break}return w="Error: ".concat(f,". Instance params: ").concat(JSON.stringify(l||{}),". Hash params: ").concat(JSON.stringify(d||{})),t.abrupt("return",{error:w,state:l||{},method:y,result:{},hashParameters:d,args:g});case 19:if(t.prev=19,y!==p.TRIGGER_LOGIN){t.next=29;break}return(_=g).hash=s,_.queryParameters=u,t.next=26,this.triggerLogin(_);case 26:case 34:M=t.sent,t.next=44;break;case 29:if(y!==p.TRIGGER_AGGREGATE_LOGIN){t.next=37;break}return(x=g).subVerifierDetailsArray.forEach(function(t){t.hash=s,t.queryParameters=u}),t.next=34,this.triggerAggregateLogin(x);case 37:if(y!==p.TRIGGER_AGGREGATE_HYBRID_LOGIN){t.next=44;break}return(O=g).singleLogin.hash=s,O.singleLogin.queryParameters=u,t.next=43,this.triggerHybridAggregateLogin(O);case 43:M=t.sent;case 44:t.next=50;break;case 46:return t.prev=46,t.t0=t.catch(19),J.error(t.t0),t.abrupt("return",tB({error:"Could not get result from torus nodes ".concat((null===t.t0||void 0===t.t0?void 0:t.t0.message)||""),state:l||{},method:y,result:{},hashParameters:d,args:g},b));case 50:if(M){t.next=52;break}return t.abrupt("return",tB({error:"Unsupported method type",state:l||{},method:y,result:{},hashParameters:d,args:g},b));case 52:return t.abrupt("return",tB({method:y,result:M,state:l||{},hashParameters:d,args:g},b));case 53:case"end":return t.stop()}},t,this,[[19,46]])})),function(){return v.apply(this,arguments)})}]),y}()}])},77181:function(t,e,r){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,(function(e){return t[e]}).bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=7)}([function(t,e){t.exports=r(38416)},function(t,e){t.exports=r(64687)},function(t,e){t.exports=r(31692)},function(t,e){t.exports=r(18269)},function(t,e){t.exports=r(17156)},function(t,e){t.exports=r(56690)},function(t,e){t.exports=r(89728)},function(t,e,r){"use strict";r.r(e),r.d(e,"ETHEREUM_NETWORK",function(){return n}),r.d(e,"abi",function(){return i}),r.d(e,"default",function(){return y});var n={ROPSTEN:"ropsten",MAINNET:"mainnet"},i=[{constant:!0,inputs:[],name:"currentEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"epoch",type:"uint256"}],name:"getEpochInfo",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"n",type:"uint256"},{internalType:"uint256",name:"k",type:"uint256"},{internalType:"uint256",name:"t",type:"uint256"},{internalType:"address[]",name:"nodeList",type:"address[]"},{internalType:"uint256",name:"prevEpoch",type:"uint256"},{internalType:"uint256",name:"nextEpoch",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"nodeAddress",type:"address"}],name:"getNodeDetails",outputs:[{internalType:"string",name:"declaredIp",type:"string"},{internalType:"uint256",name:"position",type:"uint256"},{internalType:"uint256",name:"pubKx",type:"uint256"},{internalType:"uint256",name:"pubKy",type:"uint256"},{internalType:"string",name:"tmP2PListenAddress",type:"string"},{internalType:"string",name:"p2pListenAddress",type:"string"}],payable:!1,stateMutability:"view",type:"function"}],o=r(4),a=r.n(o),s=r(5),u=r.n(s),c=r(6),h=r.n(c),f=r(0),l=r.n(f),d=r(1),p=r.n(d),m=r(2),v=r.n(m),g=r(3),y=function(){var t;function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.network,a=void 0===o?n.MAINNET:o,s=r.proxyAddress,c=void 0===s?"0x638646503746d5456209e33a2ff5e3226d698bea":s;u()(this,e),l()(this,"_currentEpoch","19"),l()(this,"_torusNodeEndpoints",["https://torus-19.torusnode.com/jrpc","https://torus-node.ens.domains/jrpc","https://torus-node.matic.network/jrpc","https://torus.zilliqa.network/jrpc","https://torus-mainnet.cosmos.network/jrpc","https://torus2.etherscan.com/jrpc","https://torus-node-v2.skalelabs.com/jrpc","https://torus-node.binancex.dev/jrpc","https://torusnode.ont.io/jrpc"]),l()(this,"_torusNodePub",[{X:"bbe83c64177c3775550e6ba6ac2bc059f6847d644c9e4894e42c60d7974d8c2b",Y:"82b49a7caf70def38cdad2740af45c1e4f969650105c5019a29bb18b21a9acb5"},{X:"c208cac4ef9a47d386097a9c915b28e9cb89213abee8d26a17198ee261201b0d",Y:"c7db2fe4631109f40833de9dc78d07e35706549ee48fa557b33e4e75e1047873"},{X:"ca1766bb426d4ca5582818a0c5439d560ea64f5baa060793ab29dd3d0ceacfe",Y:"d46c1d08c40e1306e1bca328c2287b8268166b11a1ba4b8442ea2ad0c5e32152"},{X:"c3934dd2f6f4b3d2e1e398cc501e143c1e1a381b52feb6d1525af34d16253768",Y:"71f5141a5035799099f5ea3e241e66946bc55dc857ac3bd7d6fcdb8dcd3eeeef"},{X:"22e66f1929631d00bf026227581597f085fd94fd952fc0dca9f0833398b5c064",Y:"6088b3912e10a1e9d50355a609c10db7d188f16a2e2fd7357e51bf4f6a74f0a1"},{X:"9dc9fa410f3ce9eb70df70cdea00a49f2c4cc7a31c08c0dab5f863ed35ff5139",Y:"627a291cb87a75c61da3f65d6818e1e05e360217179817ed27e8c73bca7ec122"},{X:"118b9fc07e97b096d899b9f6658463ce6a8caa64038e37fc969df4e6023dd8c6",Y:"baf9fa4e51770f4796ea165dd03a769b8606681a38954a0a92c4cbffd6609ce9"},{X:"8a6d8b925da15a273dec3d8f8395ec35cd6878f274b2b180e4e106999db64043",Y:"96f67f870c157743da0b1eb84d89bf30500d74dc84c11f501ee1cb013acc8c46"},{X:"39cecb62e863729f572f7dfc46c24867981bf04bb405fed0df39e33984bfade5",Y:"61c2364434012e68a2be2e9952805037e52629d7762fafc8e10e9fb5bad8f790"}]),l()(this,"_torusIndexes",[1,2,3,4,5,6,7,8,9]),l()(this,"_network",n.MAINNET),l()(this,"nodeListAddress",void 0),l()(this,"updated",void 0),l()(this,"nodeListContract",void 0);try{t=new URL(a).href}catch(e){t="https://".concat(a,".infura.io/v3/").concat("b8cdb0e4cff24599a286bf8e87ff1c96")}v.a.setProvider(t),this.nodeListContract=new v.a(i,c),this.nodeListAddress=c,this.updated=!1,this._network=a}return h()(e,[{key:"_nodeDetails",get:function(){return{currentEpoch:this._currentEpoch,nodeListAddress:this.nodeListAddress,torusNodeEndpoints:this._torusNodeEndpoints,torusNodePub:this._torusNodePub,torusIndexes:this._torusIndexes,updated:this.updated}}},{key:"getCurrentEpoch",value:function(){return this.nodeListContract.methods.currentEpoch().call()}},{key:"getEpochInfo",value:function(t){return this.nodeListContract.methods.getEpochInfo(t).call()}},{key:"getNodeEndpoint",value:function(t){return this.nodeListContract.methods.getNodeDetails(t).call()}},{key:"getNodeDetails",value:(t=a()(p.a.mark(function t(){var e,r,i,o,a,s,u,c,h,f,l,d,m=this,v=arguments;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=v.length>0&&void 0!==v[0]&&v[0],r=v.length>1&&void 0!==v[1]&&v[1],t.prev=2,!e||this._network!==n.MAINNET){t.next=5;break}return t.abrupt("return",this._nodeDetails);case 5:if(!this.updated){t.next=7;break}return t.abrupt("return",this._nodeDetails);case 7:return t.next=9,this.getCurrentEpoch();case 9:if(i=t.sent,!r||this._network!==n.MAINNET||i!==this._currentEpoch){t.next=12;break}return t.abrupt("return",this._nodeDetails);case 12:return this._currentEpoch=i,t.next=15,this.getEpochInfo(i);case 15:return a=(o=t.sent).nodeList.map(function(t,e){return e+1}),this._torusIndexes=a,s=o.nodeList.map(function(t){return m.getNodeEndpoint(t)}),t.next=21,Promise.all(s);case 21:for(u=t.sent,c=[],h=[],f=0;f<u.length;f+=1)l=u[f],d="https://".concat(l.declaredIp.split(":")[0],"/jrpc"),c.push(d),h.push({X:Object(g.toHex)(l.pubKx).replace("0x",""),Y:Object(g.toHex)(l.pubKy).replace("0x","")});return this._torusNodeEndpoints=c,this._torusNodePub=h,this.updated=!0,t.abrupt("return",this._nodeDetails);case 31:return t.prev=31,t.t0=t.catch(2),t.abrupt("return",this._nodeDetails);case 34:case"end":return t.stop()}},t,this,[[2,31]])})),function(){return t.apply(this,arguments)})}]),e}()}]).default},71664:function(t,e,r){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,(function(e){return t[e]}).bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(t,e){t.exports=r(64687)},function(t,e){t.exports=r(9996)},function(t,e){t.exports=r(17156)},function(t,e){t.exports=r(38416)},function(t,e,r){"use strict";r.r(e),r.d(e,"gatewayAuthHeader",function(){return y}),r.d(e,"gatewayEmbedHostHeader",function(){return b}),r.d(e,"setEmbedHost",function(){return w}),r.d(e,"clearEmbedHost",function(){return M}),r.d(e,"getEmbedHost",function(){return _}),r.d(e,"setAPIKey",function(){return x}),r.d(e,"clearAPIKey",function(){return O}),r.d(e,"getAPIKey",function(){return k}),r.d(e,"promiseTimeout",function(){return E}),r.d(e,"get",function(){return S}),r.d(e,"post",function(){return L}),r.d(e,"put",function(){return I}),r.d(e,"patch",function(){return j}),r.d(e,"remove",function(){return T}),r.d(e,"generateJsonRPCObject",function(){return R}),r.d(e,"promiseRace",function(){return A});var n,i,o,a=r(3),s=r.n(a),u=r(2),c=r.n(u),h=r(0),f=r.n(h),l=r(1),d=r.n(l);function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach(function(e){s()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var v="torus-default",g="",y="x-api-key",b="x-embed-host";function w(t){g=t}function M(){g=""}function _(){return g}function x(t){v=t}function O(){v="torus-default"}function k(){return v}function P(){var t={};return v&&(t[y]=v),g&&(t[b]=g),t}var E=function(t,e){return Promise.race([e,new Promise(function(e,r){var n=setTimeout(function(){clearTimeout(n),r(Error("Timed out in ".concat(t,"ms")))},t)})])},S=(n=c()(f.a.mark(function t(e){var r,n,i,o,a,s=arguments;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},n=s.length>2&&void 0!==s[2]?s[2]:{},i={mode:"cors",headers:{}},n.useAPIKey&&(i.headers=m(m({},i.headers),P())),o=d.a.all([i,r,{method:"GET"}]),t.next=7,fetch(e,o);case 7:if(!(a=t.sent).ok){t.next=10;break}return t.abrupt("return",a.json());case 10:throw a;case 11:case"end":return t.stop()}},t)})),function(t){return n.apply(this,arguments)}),L=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=m(m({},i.headers),P()));var o=d.a.all([i,r,{method:"POST"}]);return o.body=n.isUrlEncodedData?e:JSON.stringify(e),void 0===o.headers["Content-Type"]&&delete o.headers["Content-Type"],E(n.timeout||3e4,fetch(t,o).then(function(t){if(t.ok)return t.json();throw t}))},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=m(m({},i.headers),P()));var o=d.a.all([i,r,{method:"PUT"}]);return o.body=n.isUrlEncodedData?e:JSON.stringify(e),void 0===o.headers["Content-Type"]&&delete o.headers["Content-Type"],E(n.timeout||3e4,fetch(t,o).then(function(t){if(t.ok)return t.json();throw t}))},j=(i=c()(f.a.mark(function t(e){var r,n,i,o,a,s,u=arguments;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},n=u.length>2&&void 0!==u[2]?u[2]:{},i=u.length>3&&void 0!==u[3]?u[3]:{},o={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}},i.useAPIKey&&(o.headers=m(m({},o.headers),P())),(a=d.a.all([o,n,{method:"PATCH"}])).body=i.isUrlEncodedData?r:JSON.stringify(r),void 0===a.headers["Content-Type"]&&delete a.headers["Content-Type"],t.next=10,fetch(e,a);case 10:if(!(s=t.sent).ok){t.next=13;break}return t.abrupt("return",s.json());case 13:throw s;case 14:case"end":return t.stop()}},t)})),function(t){return i.apply(this,arguments)}),T=(o=c()(f.a.mark(function t(e){var r,n,i,o,a,s=arguments;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s.length>1&&void 0!==s[1]&&s[1],r=s.length>2&&void 0!==s[2]?s[2]:{},n=s.length>3&&void 0!==s[3]?s[3]:{},i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}},n.useAPIKey&&(i.headers=m(m({},i.headers),P())),o=d.a.all([i,r,{method:"DELETE"}]),t.next=8,fetch(e,o);case 8:if(!(a=t.sent).ok){t.next=11;break}return t.abrupt("return",a.json());case 11:throw a;case 12:case"end":return t.stop()}},t)})),function(t){return o.apply(this,arguments)}),R=function(t,e){return{jsonrpc:"2.0",method:t,id:10,params:e}},A=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;return Promise.race([S(t,e),new Promise(function(t,e){setTimeout(function(){e(Error("timed out"))},r)})])}}])},69222:function(t,e,r){var n=r(48764).Buffer;t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,(function(e){return t[e]}).bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=19)}([function(t,e){t.exports=r(92144)},function(t,e){t.exports=r(64687)},function(t,e){t.exports=r(17156)},function(t,e){t.exports=r(71664)},function(t,e){t.exports=r(18269)},function(t,e){t.exports=r(67266)},function(t,e){t.exports=r(2450)},function(t,e){t.exports=r(38416)},function(t,e){t.exports=r(56690)},function(t,e){t.exports=r(73808)},function(t,e){t.exports=r(861)},function(t,e){t.exports=r(18698)},function(t,e){t.exports=r(89728)},function(t,e){t.exports=r(86266)},function(t,e){t.exports=r(55335)},function(t,e){t.exports=r(2043)},function(t,e){t.exports=r(61655)},function(t,e){t.exports=r(94993)},function(t,e){t.exports=r(33496)},function(t,e,r){"use strict";r.r(e);var i,o,a=r(7),s=r.n(a),u=r(11),c=r.n(u),h=r(2),f=r.n(h),l=r(8),d=r.n(l),p=r(12),m=r.n(p),v=r(1),g=r.n(v),y=r(6),b=r(3),w=r(0),M=r.n(w),_=r(13),x=r(5),O=r.n(x),k=r(14),P=r.n(k),E=r(4),S=r(15),L=r.n(S).a.getLogger("torus.js"),I=r(16),j=r.n(I),T=r(17),R=r.n(T),A=r(9),N=r.n(A),C=r(18),D=function(t){j()(n,t);var e,r=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=N()(n);return t=e?Reflect.construct(r,arguments,N()(this).constructor):r.apply(this,arguments),R()(this,t)});function n(t){var e,i=t.errors,o=t.responses,a=t.predicate;return d()(this,n),(e=r.call(this,"Unable to resolve enough promises.")).errors=i,e.responses=o,e.predicate=a,e}return n}(r.n(C)()(Error)),B=function(t,e){return new Promise(function(r,n){var i,o=0,a={resolved:!1},s=Array(t.length).fill(void 0),u=Array(t.length).fill(void 0);t.forEach(function(c,h){c.then(function(t){u[h]=t}).catch(function(t){s[h]=t}).finally(function(){a.resolved||e(u.slice(0),a).then(function(t){a.resolved=!0,r(t)}).catch(function(t){i=t}).finally(function(e){if((o+=1)===t.length){var r,a=Object.values(u.reduce(function(t,e){var r,n,i=e||{},o=i.id,a=i.error;return(null==a||null===(r=a.data)||void 0===r?void 0:r.length)>0&&(a.data.startsWith("Error occurred while verifying params")?t[o]=(n=a.data).charAt(0).toUpperCase()+n.slice(1):t[o]=a.data),t},{}));a.length>0?n(Error(a.length>1?"\n".concat(a.map(function(t){return" ".concat(t)}).join("\n")):a[0])):n(new D({errors:s,responses:u,predicate:(null===(r=i)||void 0===r?void 0:r.message)||i}))}})})})})},U=r(10),G=r.n(U);function F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function K(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?F(Object(r),!0).forEach(function(e){s()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var J=function t(e,r){var n=e;if("number"==typeof n&&(n=Array.from({length:n},function(t,e){return e})),r>n.length||r<=0)return[];if(r===n.length)return[n];if(1===r)return n.reduce(function(t,e){return[].concat(G()(t),[[e]])},[]);for(var i=[],o=[],a=0;a<=n.length-r+1;a+=1){o=t(n.slice(a+1),r-1);for(var s=0;s<o.length;s+=1)i.push([n[a]].concat(G()(o[s])))}return i},W=function(t,e){for(var r={},n=0;n<t.length;n+=1){var i=O()(t[n]);if(r[i]=r[i]?r[i]+1:1,r[i]===e)return t[n]}},H=(i=f()(g.a.mark(function t(e,r,n){var i;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.map(function(t){return Object(b.post)(t,Object(b.generateJsonRPCObject)("VerifierLookupRequest",{verifier:r,verifier_id:n.toString()})).catch(function(t){return L.error("lookup request failed",t)})}),t.abrupt("return",B(i,function(t){var r=t.filter(function(t){return t}),n=W(r.map(function(t){return t&&t.error}),1+~~(e.length/2)),i=W(r.map(function(t){return t&&t.result}),1+~~(e.length/2));return i||n?Promise.resolve({keyResult:i,errorResult:n}):Promise.reject(Error("invalid results ".concat(JSON.stringify(t))))}));case 2:case"end":return t.stop()}},t)})),function(t,e,r){return i.apply(this,arguments)}),Y=function(t,e,r,n){return new Promise(function(i,o){setTimeout(function(){H(t,e,r).then(i).catch(o)},n)})},q=(o=f()(g.a.mark(function t(e,r,n,i,o,a){var s,u,c,h;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n?u=s=Math.floor(Math.random()*e.length):s=n%e.length,s!==i){t.next=3;break}throw Error("Looped through all");case 3:return void 0!==i&&(u=i),c=Object(b.generateJsonRPCObject)("KeyAssign",{verifier:o,verifier_id:a.toString()}),t.prev=5,t.next=8,Object(b.post)("https://signer.tor.us/api/sign",c,{headers:{pubKeyX:r[s].X,pubKeyY:r[s].Y}},{useAPIKey:!0});case 8:return h=t.sent,t.abrupt("return",Object(b.post)(e[s],K(K({},c),h),{headers:{"Content-Type":"application/json; charset=utf-8"}}));case 12:return t.prev=12,t.t0=t.catch(5),L.error(t.t0),t.abrupt("return",q(e,r,s+1,u,o,a));case 16:case"end":return t.stop()}},t,null,[[5,12]])})),function(t,e,r,n,i,a){return o.apply(this,arguments)});function z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function V(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(Object(r),!0).forEach(function(e){s()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var X=function(){var t,e,r,i,o;function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.enableLogging,r=t.metadataHost,n=t.allowHost,i=t.serverTimeOffset;d()(this,a),this.ec=new _.ec("secp256k1"),this.metadataHost=void 0===r?"https://metadata.tor.us":r,this.allowHost=void 0===n?"https://signer.tor.us/api/allow":n,this.metadataCache=P.a,void 0!==e&&e||L.disableAll(),this.metadataLock={},this.serverTimeOffset=(void 0===i?0:i)||0}return m()(a,[{key:"setCustomKey",value:(o=f()(g.a.mark(function t(e){var r,n,i,o,a,s,u;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.privKeyHex,n=e.metadataNonce,i=e.torusKeyHex,o=e.customKeyHex,a=i?new M.a(i,16):new M.a(r,16).sub(n).umod(this.ec.curve.n),s=new M.a(o,16).sub(a).umod(this.ec.curve.n),u=this.generateMetadataParams(s.toString(16),a.toString(16)),t.next=7,this.setMetadata(u);case 7:case"end":return t.stop()}},t,this)})),function(t){return o.apply(this,arguments)})},{key:"retrieveShares",value:(i=f()(g.a.mark(function t(e,r,i,o,a){var s,u,h,l,d,p,m,v,w,_=this,x=arguments;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=x.length>5&&void 0!==x[5]?x[5]:{},u=[],t.next=4,Object(b.get)(this.allowHost,{headers:{verifier:i,verifier_id:o.verifier_id}},{useAPIKey:!0});case 4:for(h=Object(y.generatePrivate)(),d=(l=Object(y.getPublic)(h).toString("hex")).slice(2,66),p=l.slice(66),m=Object(E.keccak256)(a),v=0;v<e.length;v+=1)w=Object(b.post)(e[v],Object(b.generateJsonRPCObject)("CommitmentRequest",{messageprefix:"mug00",tokencommitment:m.slice(2),temppubx:d,temppuby:p,verifieridentifier:i})).catch(function(t){return L.error("commitment",t)}),u.push(w);return t.abrupt("return",B(u,function(t){return t.filter(function(t){return!(!t||"object"!==c()(t)||t.error)}).length>=3*~~(e.length/4)+1?Promise.resolve(t):Promise.reject(Error("invalid ".concat(JSON.stringify(t))))}).then(function(t){for(var u=[],c=[],l=0;l<t.length;l+=1)t[l]&&c.push(t[l].result);for(var d=0;d<e.length;d+=1){var p=Object(b.post)(e[d],Object(b.generateJsonRPCObject)("ShareRequest",{encrypted:"yes",item:[V(V({},o),{},{idtoken:a,nodesignatures:c,verifieridentifier:i},s)]})).catch(function(t){return L.error("share req",t)});u.push(p)}return B(u,function(){var t=f()(g.a.mark(function t(i,o){var a,s,u,c,f,l,d,p,m,v,b,w,x,O;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=i.filter(function(t){return t}),s=W(i.map(function(t){return t&&t.result&&t.result.keys[0].PublicKey}),1+~~(e.length/2)),!(a.length>=1+~~(e.length/2)&&s)){t.next=32;break}for(u=[],c=[],f=0;f<i.length;f+=1)i[f]&&i[f].result&&i[f].result.keys&&i[f].result.keys.length>0?(i[f].result.keys.sort(function(t,e){return new M.a(t.Index,16).cmp(new M.a(e.Index,16))}),i[f].result.keys[0].Metadata?(l={ephemPublicKey:n.from(i[f].result.keys[0].Metadata.ephemPublicKey,"hex"),iv:n.from(i[f].result.keys[0].Metadata.iv,"hex"),mac:n.from(i[f].result.keys[0].Metadata.mac,"hex"),mode:n.from(i[f].result.keys[0].Metadata.mode,"hex")},u.push(Object(y.decrypt)(h,V(V({},l),{},{ciphertext:n.from(atob(i[f].result.keys[0].Share).padStart(64,"0"),"hex")})).catch(function(t){return L.debug("share decryption",t)}))):u.push(Promise.resolve(n.from(i[f].result.keys[0].Share.padStart(64,"0"),"hex")))):u.push(Promise.resolve(void 0)),c.push(new M.a(r[f],16));return t.next=8,Promise.all(u);case 8:if(d=t.sent,!o.resolved){t.next=11;break}return t.abrupt("return",void 0);case 11:m=J((p=d.reduce(function(t,e,r){return e&&t.push({index:c[r],value:new M.a(e)}),t},[])).length,1+~~(e.length/2)),b=function(t){var e=m[t],r=p.filter(function(t,r){return e.includes(r)}),i=r.map(function(t){return t.value}),o=r.map(function(t){return t.index}),a=_.lagrangeInterpolation(i,o),u=Object(y.getPublic)(n.from(a.toString(16,64),"hex")).toString("hex"),c=u.slice(2,66),h=u.slice(66);if(0===new M.a(c,16).cmp(new M.a(s.X,16))&&0===new M.a(h,16).cmp(new M.a(s.Y,16)))return v=a,"break"},w=0;case 15:if(!(w<m.length)){t.next=22;break}if("break"!==b(w)){t.next=19;break}return t.abrupt("break",22);case 19:w+=1,t.next=15;break;case 22:if(void 0!==v){t.next=24;break}throw Error("could not derive private key");case 24:return t.next=26,_.getMetadata({pub_key_X:s.X,pub_key_Y:s.Y});case 26:if(x=t.sent,!o.resolved){t.next=29;break}return t.abrupt("return",void 0);case 29:return v=v.add(x).umod(_.ec.curve.n),O=_.generateAddressFromPrivKey(v),t.abrupt("return",{ethAddress:O,privKey:v.toString("hex",64),metadataNonce:x});case 32:throw Error("invalid");case 33:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}())}));case 11:case"end":return t.stop()}},t,this)})),function(t,e,r,n,o){return i.apply(this,arguments)})},{key:"getMetadata",value:(r=f()(g.a.mark(function t(e,r){var n,i,o,a,s=this;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=O()(e),null===this.metadataLock[i]){t.next=7;break}return t.next=5,this.metadataLock[i];case 5:t.next=8;break;case 7:this.metadataLock[i]=new Promise(function(t){n=function(){s.metadataLock[i]=null,t()}});case 8:if(null===(o=this.metadataCache.get(i))){t.next=12;break}return n&&n(),t.abrupt("return",o);case 12:return t.next=14,Object(b.post)("".concat(this.metadataHost,"/get"),e,r,{useAPIKey:!0});case 14:if((a=t.sent)&&a.message){t.next=19;break}return this.metadataCache.put(i,new M.a(0),6e4),n&&n(),t.abrupt("return",new M.a(0));case 19:return this.metadataCache.put(i,new M.a(a.message,16),6e4),t.abrupt("return",new M.a(a.message,16));case 23:return t.prev=23,t.t0=t.catch(0),L.error("get metadata error",t.t0),n&&n(),t.abrupt("return",new M.a(0));case 28:case"end":return t.stop()}},t,this,[[0,23]])})),function(t,e){return r.apply(this,arguments)})},{key:"generateMetadataParams",value:function(t,e){var r=this.ec.keyFromPrivate(e.toString("hex",64)),i={data:t,timestamp:new M.a(~~(this.serverTimeOffset+Date.now()/1e3)).toString(16)},o=r.sign(Object(E.keccak256)(O()(i)).slice(2));return{pub_key_X:r.getPublic().getX().toString("hex"),pub_key_Y:r.getPublic().getY().toString("hex"),set_data:i,signature:n.from(o.r.toString(16,64)+o.s.toString(16,64)+new M.a(o.v).toString(16,2),"hex").toString("base64")}}},{key:"setMetadata",value:(e=f()(g.a.mark(function t(e,r){var n;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.metadataCache.del(O()({pub_key_X:e.pub_key_X,pub_key_Y:e.pub_key_Y})),t.next=4,Object(b.post)("".concat(this.metadataHost,"/set"),e,r,{useAPIKey:!0});case 4:return n=t.sent,t.abrupt("return",n.message);case 8:return t.prev=8,t.t0=t.catch(0),L.error("set metadata error",t.t0),t.abrupt("return","");case 12:case"end":return t.stop()}},t,this,[[0,8]])})),function(t,r){return e.apply(this,arguments)})},{key:"lagrangeInterpolation",value:function(t,e){if(t.length!==e.length)return null;for(var r=new M.a(0),n=0;n<t.length;n+=1){for(var i=new M.a(1),o=new M.a(1),a=0;a<t.length;a+=1)if(n!==a){i=(i=i.mul(e[a].neg())).umod(this.ec.curve.n);var s=e[n].sub(e[a]);s=s.umod(this.ec.curve.n),o=o.mul(s).umod(this.ec.curve.n)}var u=i.mul(o.invm(this.ec.curve.n)).umod(this.ec.curve.n);u=u.mul(t[n]).umod(this.ec.curve.n),r=r.add(u)}return r.umod(this.ec.curve.n)}},{key:"generateAddressFromPrivKey",value:function(t){var e=this.ec.keyFromPrivate(t.toString("hex",64),"hex").getPublic().encode("hex").slice(2),r="0x".concat(Object(E.keccak256)(n.from(e,"hex")).slice(26));return Object(E.toChecksumAddress)(r)}},{key:"generateAddressFromPubKey",value:function(t,e){var r=this.ec.keyFromPublic({x:t.toString("hex",64),y:e.toString("hex",64)}).getPublic().encode("hex").slice(2),i="0x".concat(Object(E.keccak256)(n.from(r,"hex")).slice(26));return Object(E.toChecksumAddress)(i)}},{key:"getPublicAddress",value:(t=f()(g.a.mark(function t(e,r,n){var i,o,a,s,u,c,h,f,l,d,p,m,v,y=arguments;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.verifier,o=n.verifierId,a=y.length>3&&void 0!==y[3]&&y[3],t.next=4,H(e,i,o);case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={};case 7:if(c=(u=t.t0).keyResult,!(h=u.errorResult)||!JSON.stringify(h).includes("Verifier + VerifierID has not yet been assigned")){t.next=22;break}return t.next=13,q(e,r,void 0,void 0,i,o);case 13:return t.next=15,Y(e,i,o,1e3);case 15:if(t.t1=t.sent,t.t1){t.next=18;break}t.t1={};case 18:s=t.t1.keyResult,t.next=27;break;case 22:if(!c){t.next=26;break}s=c,t.next=27;break;case 26:throw Error("node results do not match at first lookup ".concat(JSON.stringify(c||{}),", ").concat(JSON.stringify(h||{})));case 27:if(!s){t.next=39;break}return l=(f=s.keys[0]).pub_key_X,d=f.pub_key_Y,t.next=31,this.getMetadata({pub_key_X:l,pub_key_Y:d});case 31:if(p=t.sent,l=(m=this.ec.keyFromPublic({x:l.toString(16),y:d.toString(16)}).getPublic().add(this.ec.keyFromPrivate(p.toString(16)).getPublic())).getX().toString(16),d=m.getY().toString(16),v=this.generateAddressFromPubKey(m.getX(),m.getY()),a){t.next=38;break}return t.abrupt("return",v);case 38:return t.abrupt("return",{address:v,X:l,Y:d,metadataNonce:p});case 39:throw Error("node results do not match at final lookup ".concat(JSON.stringify(c||{}),", ").concat(JSON.stringify(h||{})));case 40:case"end":return t.stop()}},t,this)})),function(e,r,n){return t.apply(this,arguments)})}],[{key:"setAPIKey",value:function(t){Object(b.setAPIKey)(t)}},{key:"setEmbedHost",value:function(t){Object(b.setEmbedHost)(t)}}]),a}();e.default=X}]).default},92144:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(r=e,e=10),this._init(t||0,e||10,r||"be"))}"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{f="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(65540).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function s(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function u(t,e,r,i){for(var o=0,a=0,s=Math.min(t.length,r),u=e;u<s;u++){var c=t.charCodeAt(u)-48;o*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&a<i,"Invalid character"),o+=a}return o}function c(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return 0>t.cmp(e)?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=Array(this.length);for(var i,o,a=0;a<this.length;a++)this.words[a]=0;var s=0;if("be"===r)for(a=t.length-1,i=0;a>=0;a-=3)o=t[a]|t[a-1]<<8|t[a-2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);else if("le"===r)for(a=0,i=0;a<t.length;a+=3)o=t[a]|t[a+1]<<8|t[a+2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=Array(this.length);for(var n,i=0;i<this.length;i++)this.words[i]=0;var o=0,a=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=s(t,e,i)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=s(t,e,i)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,h=r;h<s;h+=n)c=u(t,h,h+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var f=1;for(c=u(t,h,t.length,e),h=0;h<a;h++)f*=e;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(t){t.words=Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){c(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f,l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var h=u>>>26,f=67108863&u,l=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=l;d++){var p=c-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+f)/67108864|0,f=67108863&a}r.words[c]=0|f,u=0|h}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var r,i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=((s<<i|o)&16777215).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?l[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=d[t],h=p[t];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var m=f.modrn(h).toString(t);r=(f=f.idivn(h)).isZero()?m+r:l[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},f&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(f,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=t.allocUnsafe?t.allocUnsafe(o):new t(o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r++]=255&a,r<t.length&&(t[r++]=a>>8&255),r<t.length&&(t[r++]=a>>16&255),6===o?(r<t.length&&(t[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r--]=255&a,r>=0&&(t[r--]=a>>8&255),r>=0&&(t[r--]=a>>16&255),6===o?(r>=0&&(t[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return(8191&e)==0&&(r+=13,e>>>=13),(127&e)==0&&(r+=7,e>>>=7),(15&e)==0&&(r+=4,e>>>=4),(3&e)==0&&(r+=2,e>>>=2),(1&e)==0&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return(this.length-1)*26+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n((this.negative|t.negative)==0),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n((this.negative|t.negative)==0),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){this.length>t.length?(e=this,r=t):(e=t,r=this);for(var e,r,n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n((this.negative|t.negative)==0),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),e?this.words[r]=this.words[r]|1<<i:this.words[r]=this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var e,r,n,i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e,r,n=this.iadd(t);return t.negative=1,n._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(e=this,r=t):(e=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(n=(0|e.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&n;for(;0!==o&&a<e.length;a++)o=(n=(0|e.words[a])+o)>>26,this.words[a]=67108863&n;if(0===o&&a<e.length&&e!==this)for(;a<e.length;a++)this.words[a]=e.words[a];return this.length=Math.max(this.length,a),e!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var v=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,c=0,h=0|a[0],f=8191&h,l=h>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],g=8191&v,y=v>>>13,b=0|a[3],w=8191&b,M=b>>>13,_=0|a[4],x=8191&_,O=_>>>13,k=0|a[5],P=8191&k,E=k>>>13,S=0|a[6],L=8191&S,I=S>>>13,j=0|a[7],T=8191&j,R=j>>>13,A=0|a[8],N=8191&A,C=A>>>13,D=0|a[9],B=8191&D,U=D>>>13,G=0|s[0],F=8191&G,K=G>>>13,J=0|s[1],W=8191&J,H=J>>>13,Y=0|s[2],q=8191&Y,z=Y>>>13,V=0|s[3],X=8191&V,Z=V>>>13,$=0|s[4],Q=8191&$,tt=$>>>13,te=0|s[5],tr=8191&te,tn=te>>>13,ti=0|s[6],to=8191&ti,ta=ti>>>13,ts=0|s[7],tu=8191&ts,tc=ts>>>13,th=0|s[8],tf=8191&th,tl=th>>>13,td=0|s[9],tp=8191&td,tm=td>>>13;r.negative=t.negative^e.negative,r.length=19;var tv=(c+(n=Math.imul(f,F))|0)+((8191&(i=(i=Math.imul(f,K))+Math.imul(l,F)|0))<<13)|0;c=((o=Math.imul(l,K))+(i>>>13)|0)+(tv>>>26)|0,tv&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,K))+Math.imul(m,F)|0,o=Math.imul(m,K);var tg=(c+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,H)|0)+Math.imul(l,W)|0))<<13)|0;c=((o=o+Math.imul(l,H)|0)+(i>>>13)|0)+(tg>>>26)|0,tg&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,K))+Math.imul(y,F)|0,o=Math.imul(y,K),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,H)|0;var ty=(c+(n=n+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,z)|0)+Math.imul(l,q)|0))<<13)|0;c=((o=o+Math.imul(l,z)|0)+(i>>>13)|0)+(ty>>>26)|0,ty&=67108863,n=Math.imul(w,F),i=(i=Math.imul(w,K))+Math.imul(M,F)|0,o=Math.imul(M,K),n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,H)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,H)|0,n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,z)|0;var tb=(c+(n=n+Math.imul(f,X)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(l,X)|0))<<13)|0;c=((o=o+Math.imul(l,Z)|0)+(i>>>13)|0)+(tb>>>26)|0,tb&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,K))+Math.imul(O,F)|0,o=Math.imul(O,K),n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,H)|0,n=n+Math.imul(g,q)|0,i=(i=i+Math.imul(g,z)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,z)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Z)|0;var tw=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(tw>>>26)|0,tw&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,K))+Math.imul(E,F)|0,o=Math.imul(E,K),n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,z)|0)+Math.imul(M,q)|0,o=o+Math.imul(M,z)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var tM=(c+(n=n+Math.imul(f,tr)|0)|0)+((8191&(i=(i=i+Math.imul(f,tn)|0)+Math.imul(l,tr)|0))<<13)|0;c=((o=o+Math.imul(l,tn)|0)+(i>>>13)|0)+(tM>>>26)|0,tM&=67108863,n=Math.imul(L,F),i=(i=Math.imul(L,K))+Math.imul(I,F)|0,o=Math.imul(I,K),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,H)|0,n=n+Math.imul(x,q)|0,i=(i=i+Math.imul(x,z)|0)+Math.imul(O,q)|0,o=o+Math.imul(O,z)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,tr)|0,i=(i=i+Math.imul(p,tn)|0)+Math.imul(m,tr)|0,o=o+Math.imul(m,tn)|0;var t_=(c+(n=n+Math.imul(f,to)|0)|0)+((8191&(i=(i=i+Math.imul(f,ta)|0)+Math.imul(l,to)|0))<<13)|0;c=((o=o+Math.imul(l,ta)|0)+(i>>>13)|0)+(t_>>>26)|0,t_&=67108863,n=Math.imul(T,F),i=(i=Math.imul(T,K))+Math.imul(R,F)|0,o=Math.imul(R,K),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,H)|0,n=n+Math.imul(P,q)|0,i=(i=i+Math.imul(P,z)|0)+Math.imul(E,q)|0,o=o+Math.imul(E,z)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(g,tr)|0,i=(i=i+Math.imul(g,tn)|0)+Math.imul(y,tr)|0,o=o+Math.imul(y,tn)|0,n=n+Math.imul(p,to)|0,i=(i=i+Math.imul(p,ta)|0)+Math.imul(m,to)|0,o=o+Math.imul(m,ta)|0;var tx=(c+(n=n+Math.imul(f,tu)|0)|0)+((8191&(i=(i=i+Math.imul(f,tc)|0)+Math.imul(l,tu)|0))<<13)|0;c=((o=o+Math.imul(l,tc)|0)+(i>>>13)|0)+(tx>>>26)|0,tx&=67108863,n=Math.imul(N,F),i=(i=Math.imul(N,K))+Math.imul(C,F)|0,o=Math.imul(C,K),n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,H)|0)+Math.imul(R,W)|0,o=o+Math.imul(R,H)|0,n=n+Math.imul(L,q)|0,i=(i=i+Math.imul(L,z)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,z)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(w,tr)|0,i=(i=i+Math.imul(w,tn)|0)+Math.imul(M,tr)|0,o=o+Math.imul(M,tn)|0,n=n+Math.imul(g,to)|0,i=(i=i+Math.imul(g,ta)|0)+Math.imul(y,to)|0,o=o+Math.imul(y,ta)|0,n=n+Math.imul(p,tu)|0,i=(i=i+Math.imul(p,tc)|0)+Math.imul(m,tu)|0,o=o+Math.imul(m,tc)|0;var tO=(c+(n=n+Math.imul(f,tf)|0)|0)+((8191&(i=(i=i+Math.imul(f,tl)|0)+Math.imul(l,tf)|0))<<13)|0;c=((o=o+Math.imul(l,tl)|0)+(i>>>13)|0)+(tO>>>26)|0,tO&=67108863,n=Math.imul(B,F),i=(i=Math.imul(B,K))+Math.imul(U,F)|0,o=Math.imul(U,K),n=n+Math.imul(N,W)|0,i=(i=i+Math.imul(N,H)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,H)|0,n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,z)|0)+Math.imul(R,q)|0,o=o+Math.imul(R,z)|0,n=n+Math.imul(L,X)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(x,tr)|0,i=(i=i+Math.imul(x,tn)|0)+Math.imul(O,tr)|0,o=o+Math.imul(O,tn)|0,n=n+Math.imul(w,to)|0,i=(i=i+Math.imul(w,ta)|0)+Math.imul(M,to)|0,o=o+Math.imul(M,ta)|0,n=n+Math.imul(g,tu)|0,i=(i=i+Math.imul(g,tc)|0)+Math.imul(y,tu)|0,o=o+Math.imul(y,tc)|0,n=n+Math.imul(p,tf)|0,i=(i=i+Math.imul(p,tl)|0)+Math.imul(m,tf)|0,o=o+Math.imul(m,tl)|0;var tk=(c+(n=n+Math.imul(f,tp)|0)|0)+((8191&(i=(i=i+Math.imul(f,tm)|0)+Math.imul(l,tp)|0))<<13)|0;c=((o=o+Math.imul(l,tm)|0)+(i>>>13)|0)+(tk>>>26)|0,tk&=67108863,n=Math.imul(B,W),i=(i=Math.imul(B,H))+Math.imul(U,W)|0,o=Math.imul(U,H),n=n+Math.imul(N,q)|0,i=(i=i+Math.imul(N,z)|0)+Math.imul(C,q)|0,o=o+Math.imul(C,z)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(R,X)|0,o=o+Math.imul(R,Z)|0,n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(P,tr)|0,i=(i=i+Math.imul(P,tn)|0)+Math.imul(E,tr)|0,o=o+Math.imul(E,tn)|0,n=n+Math.imul(x,to)|0,i=(i=i+Math.imul(x,ta)|0)+Math.imul(O,to)|0,o=o+Math.imul(O,ta)|0,n=n+Math.imul(w,tu)|0,i=(i=i+Math.imul(w,tc)|0)+Math.imul(M,tu)|0,o=o+Math.imul(M,tc)|0,n=n+Math.imul(g,tf)|0,i=(i=i+Math.imul(g,tl)|0)+Math.imul(y,tf)|0,o=o+Math.imul(y,tl)|0;var tP=(c+(n=n+Math.imul(p,tp)|0)|0)+((8191&(i=(i=i+Math.imul(p,tm)|0)+Math.imul(m,tp)|0))<<13)|0;c=((o=o+Math.imul(m,tm)|0)+(i>>>13)|0)+(tP>>>26)|0,tP&=67108863,n=Math.imul(B,q),i=(i=Math.imul(B,z))+Math.imul(U,q)|0,o=Math.imul(U,z),n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,n=n+Math.imul(L,tr)|0,i=(i=i+Math.imul(L,tn)|0)+Math.imul(I,tr)|0,o=o+Math.imul(I,tn)|0,n=n+Math.imul(P,to)|0,i=(i=i+Math.imul(P,ta)|0)+Math.imul(E,to)|0,o=o+Math.imul(E,ta)|0,n=n+Math.imul(x,tu)|0,i=(i=i+Math.imul(x,tc)|0)+Math.imul(O,tu)|0,o=o+Math.imul(O,tc)|0,n=n+Math.imul(w,tf)|0,i=(i=i+Math.imul(w,tl)|0)+Math.imul(M,tf)|0,o=o+Math.imul(M,tl)|0;var tE=(c+(n=n+Math.imul(g,tp)|0)|0)+((8191&(i=(i=i+Math.imul(g,tm)|0)+Math.imul(y,tp)|0))<<13)|0;c=((o=o+Math.imul(y,tm)|0)+(i>>>13)|0)+(tE>>>26)|0,tE&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Z))+Math.imul(U,X)|0,o=Math.imul(U,Z),n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(T,tr)|0,i=(i=i+Math.imul(T,tn)|0)+Math.imul(R,tr)|0,o=o+Math.imul(R,tn)|0,n=n+Math.imul(L,to)|0,i=(i=i+Math.imul(L,ta)|0)+Math.imul(I,to)|0,o=o+Math.imul(I,ta)|0,n=n+Math.imul(P,tu)|0,i=(i=i+Math.imul(P,tc)|0)+Math.imul(E,tu)|0,o=o+Math.imul(E,tc)|0,n=n+Math.imul(x,tf)|0,i=(i=i+Math.imul(x,tl)|0)+Math.imul(O,tf)|0,o=o+Math.imul(O,tl)|0;var tS=(c+(n=n+Math.imul(w,tp)|0)|0)+((8191&(i=(i=i+Math.imul(w,tm)|0)+Math.imul(M,tp)|0))<<13)|0;c=((o=o+Math.imul(M,tm)|0)+(i>>>13)|0)+(tS>>>26)|0,tS&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(U,Q)|0,o=Math.imul(U,tt),n=n+Math.imul(N,tr)|0,i=(i=i+Math.imul(N,tn)|0)+Math.imul(C,tr)|0,o=o+Math.imul(C,tn)|0,n=n+Math.imul(T,to)|0,i=(i=i+Math.imul(T,ta)|0)+Math.imul(R,to)|0,o=o+Math.imul(R,ta)|0,n=n+Math.imul(L,tu)|0,i=(i=i+Math.imul(L,tc)|0)+Math.imul(I,tu)|0,o=o+Math.imul(I,tc)|0,n=n+Math.imul(P,tf)|0,i=(i=i+Math.imul(P,tl)|0)+Math.imul(E,tf)|0,o=o+Math.imul(E,tl)|0;var tL=(c+(n=n+Math.imul(x,tp)|0)|0)+((8191&(i=(i=i+Math.imul(x,tm)|0)+Math.imul(O,tp)|0))<<13)|0;c=((o=o+Math.imul(O,tm)|0)+(i>>>13)|0)+(tL>>>26)|0,tL&=67108863,n=Math.imul(B,tr),i=(i=Math.imul(B,tn))+Math.imul(U,tr)|0,o=Math.imul(U,tn),n=n+Math.imul(N,to)|0,i=(i=i+Math.imul(N,ta)|0)+Math.imul(C,to)|0,o=o+Math.imul(C,ta)|0,n=n+Math.imul(T,tu)|0,i=(i=i+Math.imul(T,tc)|0)+Math.imul(R,tu)|0,o=o+Math.imul(R,tc)|0,n=n+Math.imul(L,tf)|0,i=(i=i+Math.imul(L,tl)|0)+Math.imul(I,tf)|0,o=o+Math.imul(I,tl)|0;var tI=(c+(n=n+Math.imul(P,tp)|0)|0)+((8191&(i=(i=i+Math.imul(P,tm)|0)+Math.imul(E,tp)|0))<<13)|0;c=((o=o+Math.imul(E,tm)|0)+(i>>>13)|0)+(tI>>>26)|0,tI&=67108863,n=Math.imul(B,to),i=(i=Math.imul(B,ta))+Math.imul(U,to)|0,o=Math.imul(U,ta),n=n+Math.imul(N,tu)|0,i=(i=i+Math.imul(N,tc)|0)+Math.imul(C,tu)|0,o=o+Math.imul(C,tc)|0,n=n+Math.imul(T,tf)|0,i=(i=i+Math.imul(T,tl)|0)+Math.imul(R,tf)|0,o=o+Math.imul(R,tl)|0;var tj=(c+(n=n+Math.imul(L,tp)|0)|0)+((8191&(i=(i=i+Math.imul(L,tm)|0)+Math.imul(I,tp)|0))<<13)|0;c=((o=o+Math.imul(I,tm)|0)+(i>>>13)|0)+(tj>>>26)|0,tj&=67108863,n=Math.imul(B,tu),i=(i=Math.imul(B,tc))+Math.imul(U,tu)|0,o=Math.imul(U,tc),n=n+Math.imul(N,tf)|0,i=(i=i+Math.imul(N,tl)|0)+Math.imul(C,tf)|0,o=o+Math.imul(C,tl)|0;var tT=(c+(n=n+Math.imul(T,tp)|0)|0)+((8191&(i=(i=i+Math.imul(T,tm)|0)+Math.imul(R,tp)|0))<<13)|0;c=((o=o+Math.imul(R,tm)|0)+(i>>>13)|0)+(tT>>>26)|0,tT&=67108863,n=Math.imul(B,tf),i=(i=Math.imul(B,tl))+Math.imul(U,tf)|0,o=Math.imul(U,tl);var tR=(c+(n=n+Math.imul(N,tp)|0)|0)+((8191&(i=(i=i+Math.imul(N,tm)|0)+Math.imul(C,tp)|0))<<13)|0;c=((o=o+Math.imul(C,tm)|0)+(i>>>13)|0)+(tR>>>26)|0,tR&=67108863;var tA=(c+(n=Math.imul(B,tp))|0)+((8191&(i=(i=Math.imul(B,tm))+Math.imul(U,tp)|0))<<13)|0;return c=((o=Math.imul(U,tm))+(i>>>13)|0)+(tA>>>26)|0,tA&=67108863,u[0]=tv,u[1]=tg,u[2]=ty,u[3]=tb,u[4]=tw,u[5]=tM,u[6]=t_,u[7]=tx,u[8]=tO,u[9]=tk,u[10]=tP,u[11]=tE,u[12]=tS,u[13]=tL,u[14]=tI,u[15]=tj,u[16]=tT,u[17]=tR,u[18]=tA,0!==c&&(u[19]=c,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var h=o-c,f=(0|t.words[h])*(0|e.words[c]),l=67108863&f;a=a+(f/67108864|0)|0,s=67108863&(l=l+s|0),i+=(a=a+(l>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e){this.x=t,this.y=e}Math.imul||(v=m),o.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return 10===this.length&&10===t.length?v(this,t,e):n<63?m(this,t,e):g(this,t,e)},y.prototype.makeRBT=function(t){for(var e=Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},y.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var f=u,l=c,d=0;d<a;d++){var p=r[h+d],m=n[h+d],v=r[h+d+a],g=n[h+d+a],y=f*v-l*g;g=f*g+l*v,v=y,r[h+d]=p+v,n[h+d]=m+g,r[h+d+a]=p-v,n[h+d+a]=m-g,d!==s&&(y=u*f-c*l,l=u*l+c*f,f=y)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n((-8192&o)==0)},y.prototype.stub=function(t){for(var e=Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=Array(n),s=Array(n),u=Array(n),c=Array(n),h=Array(n),f=Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,h,f,n,i);for(var d=0;d<n;d++){var p=s[d]*h[d]-u[d]*f[d];u[d]=s[d]*f[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&r);r>>=26,r+=(o/67108864|0)+(a>>>26),this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<r;this.words[e]=u|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var i,o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o;if(i-=a,i=Math.max(0,i),r){for(var u=0;u<a;u++)r.words[u]=this.words[u];r.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var h=0|this.words[u];this.words[u]=c<<26-o|h>>>o,c=h&s}return r&&0!==c&&(r.words[r.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return!(this.length<=r)&&!!(this.words[r]&1<<e)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)?this:(0!==e&&r++,this.length=Math.min(r,this.length),0!==e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this._strip())},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return(n("number"==typeof t),n(t<67108864),t<0)?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;o-=67108863&u,s=(o>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r,n=this.length-t.length,i=this.clone(),a=t,s=0|a.words[a.length-1];0!=(n=26-this._countBits(s))&&(a=a.ushln(n),i.iushln(n),s=0|a.words[a.length-1]);var u=i.length-a.length;if("mod"!==e){(r=new o(null)).length=u+1,r.words=Array(r.length);for(var c=0;c<r.length;c++)r.words[c]=0}var h=i.clone()._ishlnsubmul(a,1,u);0===h.negative&&(i=h,r&&(r.words[u]=1));for(var f=u-1;f>=0;f--){var l=(0|i.words[a.length+f])*67108864+(0|i.words[a.length+f-1]);for(l=Math.min(l/s|0,67108863),i._ishlnsubmul(a,l,f);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(a,1,f),i.isZero()||(i.negative^=1);r&&(r.words[f]=l)}return r&&r._strip(),i._strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:r||null,mod:i}},o.prototype.divmod=function(t,e,r){var i,a,s;return(n(!t.isZero()),this.isZero())?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):(this.negative&t.negative)!=0?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||0>this.cmp(t)?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e)},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=67108864%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var h=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;(e.words[0]&d)==0&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;(r.words[0]&m)==0&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(f)),s.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(u)):(r.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e,r=this,i=t.clone();r=0!==r.negative?r.umod(t):r.clone();for(var a=new o(1),s=new o(0),u=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var c=0,h=1;(r.words[0]&h)==0&&c<26;++c,h<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,l=1;(i.words[0]&l)==0&&f<26;++f,l<<=1);if(f>0)for(i.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);r.cmp(i)>=0?(r.isub(i),a.isub(s)):(i.isub(r),s.isub(a))}return 0>(e=0===r.cmpn(1)?a:s).cmpn(0)&&e.iadd(t),e},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];s+=o,o=s>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return -1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return -1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return -1===this.cmpn(t)},o.prototype.lt=function(t){return -1===this.cmp(t)},o.prototype.lten=function(t){return 0>=this.cmpn(t)},o.prototype.lte=function(t){return 0>=this.cmp(t)},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function O(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function P(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(M,w),M.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9){t.words[0]=0,t.length=1;return}var i=t.words[9];for(n=10,e.words[e.length++]=4194303&i;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,w),i(x,w),i(O,w),O.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=(0|t.words[r])*19+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){var e;if(b[t])return b[t];if("k256"===t)e=new M;else if("p224"===t)e=new _;else if("p192"===t)e=new x;else if("p25519"===t)e=new O;else throw Error("Unknown prime "+t);return b[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n((t.negative|e.negative)==0,"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(c(t,t.umod(this.m)._forceRed(this)),t)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return 0>r.cmpn(0)&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var f=this.pow(h,i),l=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();n(v<p);var g=this.pow(f,new o(1).iushln(p-v-1));l=l.redMul(g),f=g.redSqr(),d=d.redMul(f),p=v}return l},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],h=u-1;h>=0;h--){var f=c>>h&1;if(i!==r[0]&&(i=this.sqr(i)),0===f&&0===a){s=0;continue}a<<=1,a|=f,(4==++s||0===n&&0===h)&&(i=this.mul(i,r[a]),s=0,a=0)}u=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new P(t)},i(P,k),P.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},P.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},P.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):0>i.cmpn(0)&&(o=i.iadd(this.m)),o._forceRed(this)},P.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):0>i.cmpn(0)&&(a=i.iadd(this.m)),a._forceRed(this)},P.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},55335:function(t){"use strict";function e(){var t=Object.create(null),e=0,r=0,n=0,i=!1;function o(e){n--,delete t[e]}this.put=function(e,r,a,s){if(i&&console.log("caching: %s = %j (@%s)",e,r,a),void 0!==a&&("number"!=typeof a||isNaN(a)||a<=0))throw Error("Cache timeout must be a positive number");if(void 0!==s&&"function"!=typeof s)throw Error("Cache timeout callback must be a function");var u=t[e];u?clearTimeout(u.timeout):n++;var c={value:r,expire:a+Date.now()};return isNaN(c.expire)||(c.timeout=setTimeout((function(){o(e),s&&s(e,r)}).bind(this),a)),t[e]=c,r},this.del=function(e){var r=!0,n=t[e];return n?(clearTimeout(n.timeout),!isNaN(n.expire)&&n.expire<Date.now()&&(r=!1)):r=!1,r&&o(e),r},this.clear=function(){for(var o in t)clearTimeout(t[o].timeout);n=0,t=Object.create(null),i&&(e=0,r=0)},this.get=function(o){var a=t[o];if(void 0!==a){if(isNaN(a.expire)||a.expire>=Date.now())return i&&e++,a.value;i&&r++,n--,delete t[o]}else i&&r++;return null},this.size=function(){return n},this.memsize=function(){var e,r=0;for(e in t)r++;return r},this.debug=function(t){i=t},this.hits=function(){return e},this.misses=function(){return r},this.keys=function(){return Object.keys(t)},this.exportJson=function(){var e={};for(var r in t){var n=t[r];e[r]={value:n.value,expire:n.expire||"NaN"}}return JSON.stringify(e)},this.importJson=function(e,r){var n=JSON.parse(e),o=Date.now(),a=r&&r.skipDuplicates;for(var s in n)if(n.hasOwnProperty(s)){if(a&&t[s]){i&&console.log("Skipping duplicate imported key '%s'",s);continue}var u=n[s],c=u.expire-o;if(c<=0){this.del(s);continue}c=c>0?c:void 0,this.put(s,u.value,c)}return this.size()}}t.exports=new e,t.exports.Cache=e},38326:function(t,e,r){"use strict";r.r(e),r.d(e,{BroadcastChannel:function(){return k},beLeader:function(){return W},clearNodeFolder:function(){return P},createLeaderElection:function(){return H},enforceOptions:function(){return E}});var n,i=r(34155);function o(t){return t||(t=0),new Promise(function(e){return setTimeout(e,t)})}function a(){return Math.random().toString(36).substring(2)}var s=0,u=0;function c(){var t=new Date().getTime();return t===s?1e3*t+ ++u:(s=t,u=0,1e3*t)}var h="[object process]"===Object.prototype.toString.call(void 0!==i?i:0),f=function(){function t(t){this.ttl=t,this.set=new Set,this.timeMap=new Map}return t.prototype.has=function(t){return this.set.has(t)},t.prototype.add=function(t){var e=this;this.timeMap.set(t,l()),this.set.add(t),setTimeout(function(){(function(t){for(var e=l()-t.ttl,r=t.set[Symbol.iterator]();;){var n=r.next().value;if(!n||!(t.timeMap.get(n)<e))return;t.timeMap.delete(n),t.set.delete(n)}})(e)},0)},t.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},t}();function l(){return new Date().getTime()}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=JSON.parse(JSON.stringify(t));return void 0===e.webWorkerSupport&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=45e3),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),t.idb&&"function"==typeof t.idb.onclose&&(e.idb.onclose=t.idb.onclose),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=6e4),t.methods&&(e.methods=t.methods),e.node||(e.node={}),e.node.ttl||(e.node.ttl=12e4),void 0===e.node.useFastPath&&(e.node.useFastPath=!0),e}var p="messages";function m(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function v(t){var e,r,n,i;return t.closed||!t.messagesCallback?Promise.resolve():(e=t.db,r=t.lastCursorId,n=e.transaction(p).objectStore(p),i=[],new Promise(function(t){(function(){try{var t=IDBKeyRange.bound(r+1,1/0);return n.openCursor(t)}catch(t){return n.openCursor()}})().onsuccess=function(e){var n=e.target.result;n?n.value.id<r+1?n.continue(r+1):(i.push(n.value),n.continue()):t(i)}})).then(function(e){return e.filter(function(t){return!!t}).map(function(e){return e.id>t.lastCursorId&&(t.lastCursorId=e.id),e}).filter(function(e){return!(e.uuid===t.uuid||t.eMIs.has(e.id))&&!(e.data.time<t.messagesCallbackTime)}).sort(function(t,e){return t.time-e.time}).forEach(function(e){t.messagesCallback&&(t.eMIs.add(e.id),t.messagesCallback(e.data))}),Promise.resolve()})}function g(){var t;if("undefined"==typeof window)return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch(t){}return t}function y(t){return"pubkey.broadcastChannel-"+t}function b(){if(h)return!1;var t=g();if(!t)return!1;try{var e="__broadcastchannel_check";t.setItem(e,"works"),t.removeItem(e)}catch(t){return!1}return!0}var w=new Set,M={create:function(t){var e={name:t,messagesCallback:null};return w.add(e),e},close:function(t){w.delete(t)},onMessage:function(t,e){t.messagesCallback=e},postMessage:function(t,e){return new Promise(function(r){return setTimeout(function(){Array.from(w).filter(function(e){return e.name===t.name}).filter(function(e){return e!==t}).filter(function(t){return!!t.messagesCallback}).forEach(function(t){return t.messagesCallback(e)}),r()},5)})},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:c},_=[{create:function(t){var e={messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=function(t){e.messagesCallback&&e.messagesCallback(t.data)},e},close:function(t){t.bc.close(),t.subFns=[]},onMessage:function(t,e){t.messagesCallback=e},postMessage:function(t,e){try{return t.bc.postMessage(e,!1),Promise.resolve()}catch(t){return Promise.reject(t)}},canBeUsed:function(){if(h&&"undefined"==typeof window||"function"!=typeof BroadcastChannel)return!1;if(BroadcastChannel._pubkey)throw Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0},type:"native",averageResponseTime:function(){return 150},microSeconds:c},{create:function(t,e){var r;return e=d(e),((r=m().open("pubkey.broadcast-channel-0-"+t,1)).onupgradeneeded=function(t){t.target.result.createObjectStore(p,{keyPath:"id",autoIncrement:!0})},new Promise(function(t,e){r.onerror=function(t){return e(t)},r.onsuccess=function(){t(r.result)}})).then(function(r){var n={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:a(),eMIs:new f(2*e.idb.ttl),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:r};return r.onclose=function(){n.closed=!0,e.idb.onclose&&e.idb.onclose()},function t(e){e.closed||v(e).then(function(){return o(e.options.idb.fallbackInterval)}).then(function(){return t(e)})}(n),n})},close:function(t){t.closed=!0,t.db.close()},onMessage:function(t,e,r){t.messagesCallbackTime=r,t.messagesCallback=e,v(t)},postMessage:function(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(function(){var r,n,i;return r=t.db,n={uuid:t.uuid,time:new Date().getTime(),data:e},i=r.transaction([p],"readwrite"),new Promise(function(t,e){i.oncomplete=function(){return t()},i.onerror=function(t){return e(t)},i.objectStore(p).add(n)})}).then(function(){var e,r,n,i,o;0===Math.floor(11*Math.random()+0)&&(e=t.db,r=t.options.idb.ttl,(n=new Date().getTime()-r,i=e.transaction(p).objectStore(p),o=[],new Promise(function(t){i.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var i=r.value;if(i.time<n)o.push(i),r.continue();else{t(o);return}}else t(o)}})).then(function(t){return Promise.all(t.map(function(t){var r,n;return r=t.id,n=e.transaction([p],"readwrite").objectStore(p).delete(r),new Promise(function(t){n.onsuccess=function(){return t()}})}))}))}),t.writeBlockPromise},canBeUsed:function(){return!h&&!!m()},type:"idb",averageResponseTime:function(t){return 2*t.idb.fallbackInterval},microSeconds:c},{create:function(t,e){if(e=d(e),!b())throw Error("BroadcastChannel: localstorage cannot be used");var r,n,i,o=a(),s=new f(e.localstorage.removeTimeout),u={channelName:t,uuid:o,eMIs:s};return u.listener=(r=function(t){!(!u.messagesCallback||t.uuid===o||!t.token||s.has(t.token))&&(t.data.time&&t.data.time<u.messagesCallbackTime||(s.add(t.token),u.messagesCallback(t.data)))},n=y(t),i=function(t){t.key===n&&r(JSON.parse(t.newValue))},window.addEventListener("storage",i),i),u},close:function(t){var e;e=t.listener,window.removeEventListener("storage",e)},onMessage:function(t,e,r){t.messagesCallbackTime=r,t.messagesCallback=e},postMessage:function(t,e){return new Promise(function(r){o().then(function(){var n=y(t.channelName),i=JSON.stringify({token:a(),time:new Date().getTime(),data:e,uuid:t.uuid});g().setItem(n,i);var o=document.createEvent("Event");o.initEvent("storage",!0,!0),o.key=n,o.newValue=i,window.dispatchEvent(o),r()})})},canBeUsed:b,type:"localstorage",averageResponseTime:function(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:c}];if(h){var x=r(68211);"function"==typeof x.canBeUsed&&_.push(x)}function O(t){var e=[].concat(t.methods,_).filter(Boolean);if(t.type){if("simulate"===t.type)return M;var r=e.find(function(e){return e.type===t.type});if(r)return r;throw Error("method-type "+t.type+" not found")}t.webWorkerSupport||h||(e=e.filter(function(t){return"idb"!==t.type}));var n=e.find(function(t){return t.canBeUsed()});if(n)return n;throw Error("No useable methode found:"+JSON.stringify(_.map(function(t){return t.type})))}var k=function(t,e){var r,i;this.name=t,n&&(e=n),this.options=d(e),this.method=O(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,r=this,((i=r.method.create(r.name,r.options))&&"function"==typeof i.then?0:1)?r._state=i:(r._prepP=i,i.then(function(t){r._state=t}))};function P(t){var e=O(t=d(t));return"node"===e.type?e.clearNodeFolder().then(function(){return!0}):Promise.resolve(!1)}function E(t){n=t}function S(t,e,r){var n={time:t.method.microSeconds(),type:e,data:r};return(t._prepP?t._prepP:Promise.resolve()).then(function(){var e=t.method.postMessage(t._state,n);return t._uMP.add(e),e.catch().then(function(){return t._uMP.delete(e)}),e})}function L(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function I(t,e,r){t._addEL[e].push(r),function(t){if(!t._iL&&L(t)){var e=function(e){t._addEL[e.type].forEach(function(t){e.time>=t.time&&t.fn(e.data)})},r=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,e,r)}):(t._iL=!0,t.method.onMessage(t._state,e,r))}}(t)}function j(t,e,r){t._addEL[e]=t._addEL[e].filter(function(t){return t!==r}),function(t){if(t._iL&&!L(t)){t._iL=!1;var e=t.method.microSeconds();t.method.onMessage(t._state,null,e)}}(t)}k._pubkey=!0,k.prototype={postMessage:function(t){if(this.closed)throw Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return S(this,"message",t)},postInternal:function(t){return S(this,"internal",t)},set onmessage(fn){var T={time:this.method.microSeconds(),fn:fn};j(this,"message",this._onML),fn&&"function"==typeof fn?(this._onML=T,I(this,"message",T)):this._onML=null},addEventListener:function(t,e){I(this,t,{time:this.method.microSeconds(),fn:e})},removeEventListener:function(t,e){var r=this._addEL[t].find(function(t){return t.fn===e});j(this,t,r)},close:function(){var t=this;if(!this.closed){this.closed=!0;var e=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(t){return t()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var R=r(9300),A=r.n(R),N=r(199),C=r.n(N),D=A()?C():{add:function(t){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",function(){t()},!0),window.addEventListener("unload",function(){t()},!0)}}},B=new Set,U=!1;function G(){var t=[];return B.forEach(function(e){t.push(e()),B.delete(e)}),Promise.all(t)}var F=function(t){if(U||(U=!0,D.add(G)),"function"!=typeof t)throw Error("Listener is no function");return B.add(t),{remove:function(){return B.delete(t)},run:function(){return B.delete(t),t()}}},K=function(t,e){this._channel=t,this._options=e,this.isLeader=!1,this.isDead=!1,this.token=a(),this._isApl=!1,this._reApply=!1,this._unl=[],this._lstns=[],this._invs=[],this._dpL=function(){},this._dpLC=!1};function J(t,e){var r={context:"leader",action:e,token:t.token};return t._channel.postInternal(r)}function W(t){t.isLeader=!0;var e=F(function(){return t.die()});t._unl.push(e);var r=function(e){"leader"===e.context&&"apply"===e.action&&J(t,"tell"),"leader"!==e.context||"tell"!==e.action||t._dpLC||(t._dpLC=!0,t._dpL(),J(t,"tell"))};return t._channel.addEventListener("internal",r),t._lstns.push(r),J(t,"tell")}function H(t,e){if(t._leaderElector)throw Error("BroadcastChannel already has a leader-elector");(r=e)||(r={}),(r=JSON.parse(JSON.stringify(r))).fallbackInterval||(r.fallbackInterval=3e3),r.responseTime||(r.responseTime=t.method.averageResponseTime(t.options));var r,n=new K(t,e=r);return t._befC.push(function(){return n.die()}),t._leaderElector=n,n}K.prototype={applyOnce:function(){var t=this;if(this.isLeader||this.isDead)return Promise.resolve(!1);if(this._isApl)return this._reApply=!0,Promise.resolve(!1);this._isApl=!0;var e=!1,r=[],n=function(n){"leader"===n.context&&n.token!=t.token&&(r.push(n),"apply"===n.action&&n.token>t.token&&(e=!0),"tell"===n.action&&(e=!0))};return this._channel.addEventListener("internal",n),J(this,"apply").then(function(){return o(t._options.responseTime)}).then(function(){return e?Promise.reject(Error()):J(t,"apply")}).then(function(){return o(t._options.responseTime)}).then(function(){return e?Promise.reject(Error()):J(t)}).then(function(){return W(t)}).then(function(){return!0}).catch(function(){return!1}).then(function(e){return(t._channel.removeEventListener("internal",n),t._isApl=!1,!e&&t._reApply)?(t._reApply=!1,t.applyOnce()):e})},awaitLeadership:function(){var t;return this._aLP||(this._aLP=(t=this,t.isLeader?Promise.resolve():new Promise(function(e){var r=!1;function n(){r||(r=!0,clearInterval(i),t._channel.removeEventListener("internal",o),e(!0))}t.applyOnce().then(function(){t.isLeader&&n()});var i=setInterval(function(){t.applyOnce().then(function(){t.isLeader&&n()})},t._options.fallbackInterval);t._invs.push(i);var o=function(e){"leader"===e.context&&"death"===e.action&&t.applyOnce().then(function(){t.isLeader&&n()})};t._channel.addEventListener("internal",o),t._lstns.push(o)}))),this._aLP},set onduplicate(fn){this._dpL=fn},die:function(){var t=this;if(!this.isDead)return this.isDead=!0,this._lstns.forEach(function(e){return t._channel.removeEventListener("internal",e)}),this._invs.forEach(function(t){return clearInterval(t)}),this._unl.forEach(function(t){t.remove()}),J(this,"death")}}},9996:function(t){"use strict";var e=function(t){var e;return!!t&&"object"==typeof t&&"[object RegExp]"!==(e=Object.prototype.toString.call(t))&&"[object Date]"!==e&&t.$$typeof!==r},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(t,e){return!1!==e.clone&&e.isMergeableObject(t)?s(Array.isArray(t)?[]:{},t,e):t}function i(t,e,r){return t.concat(e).map(function(t){return n(t,r)})}function o(t){return Object.keys(t).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[])}function a(t,e){try{return e in t}catch(t){return!1}}function s(t,r,u){(u=u||{}).arrayMerge=u.arrayMerge||i,u.isMergeableObject=u.isMergeableObject||e,u.cloneUnlessOtherwiseSpecified=n;var c,h,f=Array.isArray(r);return f!==Array.isArray(t)?n(r,u):f?u.arrayMerge(t,r,u):(h={},(c=u).isMergeableObject(t)&&o(t).forEach(function(e){h[e]=n(t[e],c)}),o(r).forEach(function(e){(!a(t,e)||Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))&&(a(t,e)&&c.isMergeableObject(r[e])?h[e]=(function(t,e){if(!e.customMerge)return s;var r=e.customMerge(t);return"function"==typeof r?r:s})(e,c)(t[e],r[e],c):h[e]=n(r[e],c))}),h)}s.all=function(t,e){if(!Array.isArray(t))throw Error("first argument should be an array");return t.reduce(function(t,r){return s(t,r,e)},{})},t.exports=s},96245:function(t,e,r){"use strict";function n(t){this.message=t}r.r(e),r.d(e,{InvalidTokenError:function(){return o}}),n.prototype=Error(),n.prototype.name="InvalidCharacterError";var i="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,o=0,a=0,s="";i=e.charAt(a++);~i&&(r=o%4?64*r+i:i,o++%4)&&(s+=String.fromCharCode(255&r>>(-2*o&6))))i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return s};function o(t){this.message=t}o.prototype=Error(),o.prototype.name="InvalidTokenError",e.default=function(t,e){if("string"!=typeof t)throw new o("Invalid token specified");var r=!0===(e=e||{}).header?0:1;try{return JSON.parse(function(t){var e,r=t.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw"Illegal base64url string!"}try{return e=r,decodeURIComponent(i(e).replace(/(.)/g,function(t,e){var r=e.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(t){return i(r)}}(t.split(".")[r]))}catch(t){throw new o("Invalid token specified: "+t.message)}}},9300:function(t){t.exports=!1},73897:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports},85372:function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},63405:function(t,e,r){var n=r(73897);t.exports=function(t){if(Array.isArray(t))return n(t)},t.exports.__esModule=!0,t.exports.default=t.exports},66115:function(t){t.exports=function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},17156:function(t){function e(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise(function(i,o){var a=t.apply(r,n);function s(t){e(a,i,o,s,u,"next",t)}function u(t){e(a,i,o,s,u,"throw",t)}s(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},56690:function(t){t.exports=function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},3515:function(t,e,r){var n=r(69617),i=r(6015);t.exports=function(t,e,r){if(n())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var a=new(t.bind.apply(t,o));return r&&i(a,r.prototype),a},t.exports.__esModule=!0,t.exports.default=t.exports},89728:function(t,e,r){var n=r(64062);function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,n(i.key),i)}}t.exports=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},38416:function(t,e,r){var n=r(64062);t.exports=function(t,e,r){return(e=n(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports},73808:function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},61655:function(t,e,r){var n=r(6015);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},46035:function(t){t.exports=function(t){try{return -1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}},t.exports.__esModule=!0,t.exports.default=t.exports},69617:function(t){function e(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(t.exports=e=function(){return!!r},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},79498:function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},68872:function(t){t.exports=function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},12218:function(t){t.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},42281:function(t){t.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},70215:function(t,e,r){var n=r(7071);t.exports=function(t,e){if(null==t)return{};var r,i,o=n(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],e.includes(r)||({}).propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o},t.exports.__esModule=!0,t.exports.default=t.exports},7071:function(t){t.exports=function(t,e){if(null==t)return{};var r={};for(var n in t)if(({}).hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r},t.exports.__esModule=!0,t.exports.default=t.exports},94993:function(t,e,r){var n=r(18698).default,i=r(66115);t.exports=function(t,e){if(e&&("object"==n(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},92274:function(t,e,r){var n=r(18698).default;function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=i=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var e,r={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(t,e,r){t[e]=r.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function d(t,r,n,i){var o,a,u=Object.create((r&&r.prototype instanceof b?r:b).prototype);return s(u,"_invoke",{value:(o=new I(i||[]),a=m,function(r,i){if(a===v)throw Error("Generator is already running");if(a===g){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var s=o.delegate;if(s){var u=function t(r,n){var i=n.method,o=r.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&r.iterator.return&&(n.method="return",n.arg=e,t(r,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+i+"' method")),y;var a=p(o,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var s=a.arg;return s?s.done?(n[r.resultName]=s.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):s:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,y)}(s,o);if(u){if(u===y)continue;return u}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===m)throw a=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=v;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?g:"suspendedYield",c.arg===y)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=g,o.method="throw",o.arg=c.arg)}})}),u}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}r.wrap=d;var m="suspendedStart",v="executing",g="completed",y={};function b(){}function w(){}function M(){}var _={};l(_,c,function(){return this});var x=Object.getPrototypeOf,O=x&&x(x(j([])));O&&O!==o&&a.call(O,c)&&(_=O);var k=M.prototype=b.prototype=Object.create(_);function P(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var r;s(this,"_invoke",{value:function(i,o){function s(){return new e(function(r,s){!function r(i,o,s,u){var c=p(t[i],t,o);if("throw"!==c.type){var h=c.arg,f=h.value;return f&&"object"==n(f)&&a.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,s,u)},function(t){r("throw",t,s,u)}):e.resolve(f).then(function(t){h.value=t,s(h)},function(t){return r("throw",t,s,u)})}u(c.arg)}(i,o,r,s)})}return r=r?r.then(s,s):s()}})}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(a.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw TypeError(n(t)+" is not iterable")}return w.prototype=M,s(k,"constructor",{value:M,configurable:!0}),s(M,"constructor",{value:w,configurable:!0}),w.displayName=l(M,f,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,M):(t.__proto__=M,l(t,f,"GeneratorFunction")),t.prototype=Object.create(k),t},r.awrap=function(t){return{__await:t}},P(E.prototype),l(E.prototype,h,function(){return this}),r.AsyncIterator=E,r.async=function(t,e,n,i,o){void 0===o&&(o=Promise);var a=new E(d(t,e,n,i),o);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},P(k),l(k,f,"Generator"),l(k,c,function(){return this}),l(k,"toString",function(){return"[object Generator]"}),r.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=j,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:j(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},r}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},6015:function(t){function e(r,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},27424:function(t,e,r){var n=r(85372),i=r(68872),o=r(86116),a=r(12218);t.exports=function(t,e){return n(t)||i(t,e)||o(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},861:function(t,e,r){var n=r(63405),i=r(79498),o=r(86116),a=r(42281);t.exports=function(t){return n(t)||i(t)||o(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},95036:function(t,e,r){var n=r(18698).default;t.exports=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},64062:function(t,e,r){var n=r(18698).default,i=r(95036);t.exports=function(t){var e=i(t,"string");return"symbol"==n(e)?e:e+""},t.exports.__esModule=!0,t.exports.default=t.exports},18698:function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},86116:function(t,e,r){var n=r(73897);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=({}).toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},33496:function(t,e,r){var n=r(73808),i=r(6015),o=r(46035),a=r(3515);function s(e){var r="function"==typeof Map?new Map:void 0;return t.exports=s=function(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return a(t,arguments,n(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports,s(e)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},64687:function(t,e,r){var n=r(92274)();t.exports=n;try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},5418:function(t,e,r){"use strict";r.d(e,{l:function(){return h}});var n=r(85970),i=r(16554),o=r(77030),a=r(33179),s=r(65548),u=r(25432),c=r(85893),h=(0,i.G)(function(t,e){var r;let i=(0,o.mq)("FormLabel",t),h=(0,a.Lr)(t),{className:l,children:d,requiredIndicator:p=(0,c.jsx)(f,{}),optionalIndicator:m=null,...v}=h,g=(0,n.NJ)(),y=null!=(r=null==g?void 0:g.getLabelProps(v,e))?r:{ref:e,...v};return(0,c.jsxs)(s.m.label,{...y,className:(0,u.cx)("chakra-form__label",h.className),__css:{display:"block",textAlign:"start",...i},children:[d,(null==g?void 0:g.isRequired)?p:m]})});h.displayName="FormLabel";var f=(0,i.G)(function(t,e){let r=(0,n.NJ)(),i=(0,n.e)();if(!(null==r?void 0:r.isRequired))return null;let o=(0,u.cx)("chakra-form__required-indicator",t.className);return(0,c.jsx)(s.m.span,{...null==r?void 0:r.getRequiredIndicatorProps(t,e),__css:i.requiredIndicator,className:o})});f.displayName="RequiredIndicator"}}]);