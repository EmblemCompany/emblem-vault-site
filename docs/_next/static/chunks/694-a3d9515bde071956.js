(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[694],{37292:function(e){var t={lowerCased:"abcdefghijklmnopqrstuvwxyz",capitals:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",numbers:"0123456789",special:"~!@#$%^&()_+-={}[];',"};e.exports=function(e,r){e||(e=30),r||(r="aA0");var n="";r.split("").forEach(e=>{isNaN(parseInt(e))?/[a-z]/.test(e)?n+=t.lowerCased:/[A-Z]/.test(e)?n+=t.capitals:n+=t.special:n+=t.numbers});for(var i="",o=0;o<e;o++)i+=n.charAt(Math.floor(Math.random()*n.length));return i}},50504:function(e,t){var r;function n(e,t){navigator.onLine||e("offline"),e("error",t)}function i(e,t,r){navigator.serviceWorker.register(e,r).then(function(e){if(t("registered",e),e.waiting){t("updated",e);return}e.onupdatefound=function(){t("updatefound",e);var r=e.installing;r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?t("updated",e):t("cached",e))}}}).catch(function(e){return n(t,e)})}"undefined"!=typeof window&&(r="undefined"!=typeof document&&("interactive"===document.readyState||"complete"===document.readyState)?Promise.resolve():"undefined"!=typeof Promise?new Promise(function(e){return window.addEventListener("load",e)}):{then:function(e){return window.addEventListener("load",e)}}),t.register=function(e,t){void 0===t&&(t={});var o=t.registrationOptions;void 0===o&&(o={}),delete t.registrationOptions;var s=function(e){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];t&&t[e]&&t[e].apply(t,r)};"serviceWorker"in navigator&&r.then(function(){"localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)?(function(e,t,r){fetch(e).then(function(n){404===n.status?(t("error",Error("Service worker not found at "+e)),unregister()):-1===n.headers.get("content-type").indexOf("javascript")?(t("error",Error("Expected "+e+" to have javascript content-type, but received "+n.headers.get("content-type"))),unregister()):i(e,t,r)}).catch(function(e){return n(t,e)})}(e,s,o),navigator.serviceWorker.ready.then(function(e){s("ready",e)})):(i(e,s,o),navigator.serviceWorker.ready.then(function(e){s("ready",e)}))})},t.unregister=function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},80875:function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t){e.exports=r(64687)},function(e,t){e.exports=r(9996)},function(e,t){e.exports=r(17156)},function(e,t){e.exports=r(38416)},function(e,t,r){"use strict";r.r(t),r.d(t,"gatewayAuthHeader",function(){return y}),r.d(t,"gatewayEmbedHostHeader",function(){return b}),r.d(t,"setEmbedHost",function(){return w}),r.d(t,"clearEmbedHost",function(){return M}),r.d(t,"getEmbedHost",function(){return _}),r.d(t,"setAPIKey",function(){return x}),r.d(t,"clearAPIKey",function(){return O}),r.d(t,"getAPIKey",function(){return k}),r.d(t,"promiseTimeout",function(){return E}),r.d(t,"get",function(){return S}),r.d(t,"post",function(){return I}),r.d(t,"put",function(){return L}),r.d(t,"patch",function(){return j}),r.d(t,"remove",function(){return T}),r.d(t,"generateJsonRPCObject",function(){return R}),r.d(t,"promiseRace",function(){return A});var n,i,o,s=r(3),a=r.n(s),u=r(2),c=r.n(u),h=r(0),l=r.n(h),f=r(1),d=r.n(f);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){a()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var v="torus-default",g="",y="x-api-key",b="x-embed-host";function w(e){g=e}function M(){g=""}function _(){return g}function x(e){v=e}function O(){v="torus-default"}function k(){return v}function P(){var e={};return v&&(e[y]=v),g&&(e[b]=g),e}var E=function(e,t){return Promise.race([t,new Promise(function(t,r){var n=setTimeout(function(){clearTimeout(n),r(Error("Timed out in ".concat(e,"ms")))},e)})])},S=(n=c()(l.a.mark(function e(t){var r,n,i,o,s,a=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2&&void 0!==a[2]?a[2]:{},i={mode:"cors",headers:{}},n.useAPIKey&&(i.headers=m(m({},i.headers),P())),o=d.a.all([i,r,{method:"GET"}]),e.next=7,fetch(t,o);case 7:if(!(s=e.sent).ok){e.next=10;break}return e.abrupt("return",s.json());case 10:throw s;case 11:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=m(m({},i.headers),P()));var o=d.a.all([i,r,{method:"POST"}]);return o.body=n.isUrlEncodedData?t:JSON.stringify(t),void 0===o.headers["Content-Type"]&&delete o.headers["Content-Type"],E(n.timeout||3e4,fetch(e,o).then(function(e){if(e.ok)return e.json();throw e}))},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=m(m({},i.headers),P()));var o=d.a.all([i,r,{method:"PUT"}]);return o.body=n.isUrlEncodedData?t:JSON.stringify(t),void 0===o.headers["Content-Type"]&&delete o.headers["Content-Type"],E(n.timeout||3e4,fetch(e,o).then(function(e){if(e.ok)return e.json();throw e}))},j=(i=c()(l.a.mark(function e(t){var r,n,i,o,s,a,u=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},n=u.length>2&&void 0!==u[2]?u[2]:{},i=u.length>3&&void 0!==u[3]?u[3]:{},o={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}},i.useAPIKey&&(o.headers=m(m({},o.headers),P())),(s=d.a.all([o,n,{method:"PATCH"}])).body=i.isUrlEncodedData?r:JSON.stringify(r),void 0===s.headers["Content-Type"]&&delete s.headers["Content-Type"],e.next=10,fetch(t,s);case 10:if(!(a=e.sent).ok){e.next=13;break}return e.abrupt("return",a.json());case 13:throw a;case 14:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),T=(o=c()(l.a.mark(function e(t){var r,n,i,o,s,a=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]&&a[1],r=a.length>2&&void 0!==a[2]?a[2]:{},n=a.length>3&&void 0!==a[3]?a[3]:{},i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}},n.useAPIKey&&(i.headers=m(m({},i.headers),P())),o=d.a.all([i,r,{method:"DELETE"}]),e.next=8,fetch(t,o);case 8:if(!(s=e.sent).ok){e.next=11;break}return e.abrupt("return",s.json());case 11:throw s;case 12:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),R=function(e,t){return{jsonrpc:"2.0",method:e,id:10,params:t}},A=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;return Promise.race([S(e,t),new Promise(function(e,t){setTimeout(function(){t(Error("timed out"))},r)})])}}])},49174:function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=22)}([function(e,t){e.exports=r(38416)},function(e,t){e.exports=r(64687)},function(e,t){e.exports=r(66115)},function(e,t){e.exports=r(17156)},function(e,t){e.exports=r(73808)},function(e,t){e.exports=r(56690)},function(e,t){e.exports=r(89728)},function(e,t){e.exports=r(61655)},function(e,t){e.exports=r(94993)},function(e,t){e.exports=r(9996)},function(e,t){e.exports=r(70215)},function(e,t){e.exports=r(27424)},function(e,t){e.exports=r(80875)},function(e,t){e.exports=r(38326)},function(e,t){e.exports=r(96245)},function(e,t){e.exports=r(18269)},function(e,t){e.exports=r(69222)},function(e,t){e.exports=r(37292)},function(e,t){e.exports=r(2043)},function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise(function(r,n){var i;function o(){void 0!==i&&e.removeListener("error",i),r([].slice.call(arguments))}"error"!==t&&(i=function(r){e.removeListener(t,o),n(r)},e.once("error",i)),e.once(t,o)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function h(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){if(c(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=h(e))>0&&s.length>i&&!s.warned){s.warned=!0;var i,o,s,a=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,console&&console.warn&&console.warn(a)}return e}function f(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):v(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return h(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var s,a=Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else for(var c=u.length,h=v(u,c),r=0;r<c;++r)o(h[r],this,t);return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,o,s;if(c(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t){e.exports=r(77181)},function(e,t){e.exports=r(50504)},function(e,t,r){"use strict";r.r(t),r.d(t,"createHandler",function(){return eO}),r.d(t,"default",function(){return eU}),r.d(t,"TORUS_NETWORK",function(){return u}),r.d(t,"ETHEREUM_NETWORK",function(){return c}),r.d(t,"LOGIN",function(){return h}),r.d(t,"AGGREGATE_VERIFIER",function(){return l}),r.d(t,"UX_MODE",function(){return f}),r.d(t,"REDIRECT_PARAMS_STORAGE_METHOD",function(){return d}),r.d(t,"TORUS_METHOD",function(){return p}),r.d(t,"CONTRACT_MAP",function(){return m}),r.d(t,"eventToPromise",function(){return W}),r.d(t,"loginToConnectionMap",function(){return H}),r.d(t,"padUrlString",function(){return Y}),r.d(t,"broadcastChannelOptions",function(){return q}),r.d(t,"getVerifierId",function(){return X}),r.d(t,"handleRedirectParameters",function(){return V}),r.d(t,"storageAvailable",function(){return Z}),r.d(t,"storeLoginDetails",function(){return Q}),r.d(t,"retrieveLoginDetails",function(){return ee}),r.d(t,"clearLoginDetailsStorage",function(){return et}),r.d(t,"clearOrphanedLoginDetails",function(){return er}),r.d(t,"getPopupFeatures",function(){return en}),r.d(t,"isFirefox",function(){return ei});var n,i,o,s=r(0),a=r.n(s),u={TESTNET:"testnet",MAINNET:"mainnet"},c={ROPSTEN:"ropsten",MAINNET:"mainnet"},h={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",GITHUB:"github",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",LINE:"line",EMAIL_PASSWORD:"email_password",PASSWORDLESS:"passwordless",JWT:"jwt",WEBAUTHN:"webauthn"},l={SINGLE_VERIFIER_ID:"single_id_verifier"},f={POPUP:"popup",REDIRECT:"redirect"},d={LOCAL_STORAGE:"localStorage",SESSION_STORAGE:"sessionStorage"},p={TRIGGER_LOGIN:"triggerLogin",TRIGGER_AGGREGATE_LOGIN:"triggerAggregateLogin",TRIGGER_AGGREGATE_HYBRID_LOGIN:"triggerHybridAggregateLogin"},m=(n={},a()(n,u.MAINNET,"0x638646503746d5456209e33a2ff5e3226d698bea"),a()(n,u.TESTNET,"0x4023d2a0D330bF11426B12C6144Cfb96B7fa6183"),n),v=r(3),g=r.n(v),y=r(5),b=r.n(y),w=r(6),M=r.n(w),_=r(2),x=r.n(_),O=r(7),k=r.n(O),P=r(8),E=r.n(P),S=r(4),I=r.n(S),L=r(1),j=r.n(L),T=r(9),R=r.n(T),A=r(12),N=r(10),C=r.n(N),D=r(17),B=r.n(D),U=r(13),G=r(11),K=r.n(G),F=r(18),J=r.n(F).a.getLogger("torus-direct-web-sdk");function W(e){return new Promise(function(t,r){e.addEventListener("message",function n(i){var o=i.error,s=void 0===o?"":o,a=i.data;return(e.removeEventListener("message",n),s)?r(Error(s)):t(a)})})}var H=(i={},a()(i,h.APPLE,"apple"),a()(i,h.GITHUB,"github"),a()(i,h.LINKEDIN,"linkedin"),a()(i,h.TWITTER,"twitter"),a()(i,h.WEIBO,"weibo"),a()(i,h.LINE,"line"),a()(i,h.EMAIL_PASSWORD,"Username-Password-Authentication"),a()(i,h.PASSWORDLESS,"email"),i),Y=function(e){return e.href.endsWith("/")?e.href:"".concat(e.href,"/")},q={webWorkerSupport:!1};function z(e,t){return t?e:e.toLowerCase()}var X=function(e,t,r){var n=!(arguments.length>3)||void 0===arguments[3]||arguments[3],i=e.name,o=e.sub;if(r)return z(e[r],n);switch(t){case h.PASSWORDLESS:case h.EMAIL_PASSWORD:return z(i,n);case h.WEIBO:case h.GITHUB:case h.TWITTER:case h.APPLE:case h.LINKEDIN:case h.LINE:case h.JWT:return z(o,n);default:throw Error("Invalid login type")}},V=function(e,t){var r=e.split("&").reduce(function(e,t){var r=t.split("="),n=K()(r,2),i=n[0],o=n[1];return e[i]=o,e},{});J.info(r,t);var n={},i="";return Object.keys(r).length>0&&r.state?(n=JSON.parse(atob(decodeURIComponent(decodeURIComponent(r.state))))||{},i=r.error_description||r.error||i):Object.keys(t).length>0&&t.state&&(n=JSON.parse(atob(decodeURIComponent(decodeURIComponent(t.state))))||{},t.error&&(i=t.error)),{error:i,instanceParameters:n,hashParameters:r}};function Z(e){var t;try{t=window[e];var r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return e&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}var $=(o={},a()(o,d.LOCAL_STORAGE,Z(d.LOCAL_STORAGE)),a()(o,d.SESSION_STORAGE,Z(d.SESSION_STORAGE)),o);function Q(e,t,r){$[t]&&window[t].setItem("torus_login_".concat(r),JSON.stringify(e))}function ee(e,t){if($[e])return JSON.parse(window[e].getItem("torus_login_".concat(t))||"{}");throw Error("Unable to retrieve stored login details")}function et(e,t){$[e]&&window[e].removeItem("torus_login_".concat(t))}function er(e){$[e]&&Object.keys(window[e]).forEach(function(t){t.startsWith("torus_login_")&&window[e].removeItem(t)})}function en(){var e=void 0!==window.screenLeft?window.screenLeft:window.screenX,t=void 0!==window.screenTop?window.screenTop:window.screenY,r=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,n=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height;return"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=".concat(700,",width=").concat(1200,",top=").concat(Math.abs((n-700)/2/1+t),",left=").concat(Math.abs((r-1200)/2/1+e))}var ei=function(){var e,t;return(null===(e=window)||void 0===e?void 0:null===(t=e.navigator)||void 0===t?void 0:t.userAgent.toLowerCase().indexOf("firefox"))>-1},eo=function(e){k()(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=I()(n);if(t){var i=I()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return E()(this,e)});function n(e){var t,i=e.url,o=e.target,s=e.features;return b()(this,n),t=r.call(this),a()(x()(t),"url",void 0),a()(x()(t),"target",void 0),a()(x()(t),"features",void 0),a()(x()(t),"window",void 0),a()(x()(t),"windowTimer",void 0),a()(x()(t),"iClosedWindow",void 0),t.url=i,t.target=o||"_blank",t.features=s||en(),t.window=void 0,t.windowTimer=void 0,t.iClosedWindow=!1,t._setupTimer(),t}return M()(n,[{key:"_setupTimer",value:function(){var e=this;this.windowTimer=Number(setInterval(function(){e.window&&e.window.closed&&(clearInterval(e.windowTimer),e.iClosedWindow||e.emit("close"),e.iClosedWindow=!1,e.window=void 0),void 0===e.window&&clearInterval(e.windowTimer)},500))}},{key:"open",value:function(){var e;return this.window=window.open(this.url.href,this.target,this.features),null!==(e=this.window)&&void 0!==e&&e.focus&&this.window.focus(),Promise.resolve()}},{key:"close",value:function(){this.iClosedWindow=!0,this.window&&this.window.close()}},{key:"redirect",value:function(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}]),n}(r(19).EventEmitter),es=["access_token","id_token"];function ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(r),!0).forEach(function(t){a()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ea(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ec=function(){function e(t,r,n,i,o,s,u,c){b()(this,e),this.clientId=t,this.verifier=r,this.redirect_uri=n,this.typeOfLogin=i,this.uxMode=o,this.redirectToOpener=s,this.jwtParams=u,this.customState=c,a()(this,"nonce",B()()),a()(this,"finalURL",void 0)}return M()(e,[{key:"state",get:function(){return encodeURIComponent(window.btoa(JSON.stringify(eu(eu({},this.customState||{}),{},{instanceId:this.nonce,verifier:this.verifier,typeOfLogin:this.typeOfLogin,redirectToOpener:this.redirectToOpener||!1}))))}},{key:"handleLoginWindow",value:function(e){var t=this,r=new eo({url:this.finalURL,features:e.popupFeatures});return this.uxMode!==f.REDIRECT?new Promise(function(e,n){var i,o,s,a=(o=g()(j.a.mark(function r(i){var o,a,u,c,h,l,f;return j.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=i.error,u=(a=i.data||{}).instanceParams,h=(c=a.hashParams).access_token,l=c.id_token,f=C()(c,es),!o){r.next=7;break}return J.error(i),n(Error("Error: ".concat(o,". Info: ").concat(JSON.stringify(i.data||{})))),r.abrupt("return");case 7:if(!(i.data&&u.verifier===t.verifier)){r.next=13;break}if(J.info(i.data),!(!t.redirectToOpener&&s)){r.next=12;break}return r.next=12,s.postMessage({success:!0});case 12:e(eu(eu({accessToken:h,idToken:l||""},f),{},{state:u}));case 13:r.next=19;break;case 15:r.prev=15,r.t0=r.catch(0),J.error(r.t0),n(r.t0);case 19:case"end":return r.stop()}},r,null,[[0,15]])})),function(e){return o.apply(this,arguments)});if(t.redirectToOpener){var u,c=(u=g()(j.a.mark(function e(n){var i;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.data){e.next=2;break}return e.abrupt("return");case 2:if(!((i=n.data).channel!=="redirect_channel_".concat(t.nonce))){e.next=5;break}return e.abrupt("return");case 5:window.removeEventListener("message",c),a(i),r.close();case 8:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)});window.addEventListener("message",c)}else(s=new U.BroadcastChannel("redirect_channel_".concat(t.nonce),q)).addEventListener("message",(i=g()(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:s.close(),r.close();case 4:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}));r.open(),r.once("close",function(){s&&s.close(),n(Error("user closed popup"))})}):(r.redirect(e.locationReplaceOnRedirect),null)}}]),e}(),eh=function(e){k()(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=I()(i);if(t){var n=I()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return E()(this,e)});function i(e,t,r,o,s,u,c,h){var l;return b()(this,i),(l=n.call(this,e,t,r,o,s,u,c,h)).clientId=e,l.verifier=t,l.redirect_uri=r,l.typeOfLogin=o,l.uxMode=s,l.redirectToOpener=u,l.jwtParams=c,l.customState=h,a()(x()(l),"RESPONSE_TYPE","token"),a()(x()(l),"SCOPE","identify email"),l.setFinalUrl(),l}return M()(i,[{key:"setFinalUrl",value:function(){var e=new URL("https://discordapp.com/api/oauth2/authorize"),t=JSON.parse(JSON.stringify(this.jwtParams||{})),r=R()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE},t);Object.keys(r).forEach(function(t){r[t]&&e.searchParams.append(t,r[t])}),this.finalURL=e}},{key:"getUserInfo",value:(r=g()(j.a.mark(function e(t){var r,n,i,o,s,a,u,c,h,l,f;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.accessToken,e.next=3,Object(A.get)("https://discordapp.com/api/users/@me",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return i=(n=e.sent).id,o=n.avatar,a=void 0===(s=n.email)?"":s,c=void 0===(u=n.username)?"":u,l=void 0===(h=n.discriminator)?"":h,f=null===o?"https://cdn.discordapp.com/embed/avatars/".concat(Number(l)%5,".png"):"https://cdn.discordapp.com/avatars/".concat(i,"/").concat(o,".png?size=2048"),e.abrupt("return",{profileImage:f,name:"".concat(c,"#").concat(l),email:a,verifierId:i,verifier:this.verifier,typeOfLogin:this.typeOfLogin});case 7:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})}]),i}(ec),el=function(e){k()(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=I()(i);if(t){var n=I()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return E()(this,e)});function i(e,t,r,o,s,u,c,h){var l;return b()(this,i),(l=n.call(this,e,t,r,o,s,u,c,h)).clientId=e,l.verifier=t,l.redirect_uri=r,l.typeOfLogin=o,l.uxMode=s,l.redirectToOpener=u,l.jwtParams=c,l.customState=h,a()(x()(l),"RESPONSE_TYPE","token"),a()(x()(l),"SCOPE","public_profile email"),l.setFinalUrl(),l}return M()(i,[{key:"setFinalUrl",value:function(){var e=new URL("https://www.facebook.com/v6.0/dialog/oauth"),t=JSON.parse(JSON.stringify(this.jwtParams||{})),r=R()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE},t);Object.keys(r).forEach(function(t){r[t]&&e.searchParams.append(t,r[t])}),this.finalURL=e}},{key:"getUserInfo",value:(r=g()(j.a.mark(function e(t){var r,n,i,o,s,a,u,c;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.accessToken,e.next=3,Object(A.get)("https://graph.facebook.com/me?fields=name,email,picture.type(large)",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return o=void 0===(i=(n=e.sent).name)?"":i,s=n.id,a=n.picture,c=void 0===(u=n.email)?"":u,e.abrupt("return",{email:c,name:o,profileImage:a.data.url||"",verifier:this.verifier,verifierId:s,typeOfLogin:this.typeOfLogin});case 6:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})}]),i}(ec),ef=function(e){k()(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=I()(i);if(t){var n=I()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return E()(this,e)});function i(e,t,r,o,s,u,c,h){var l;return b()(this,i),(l=n.call(this,e,t,r,o,s,u,c,h)).clientId=e,l.verifier=t,l.redirect_uri=r,l.typeOfLogin=o,l.uxMode=s,l.redirectToOpener=u,l.jwtParams=c,l.customState=h,a()(x()(l),"RESPONSE_TYPE","token id_token"),a()(x()(l),"SCOPE","profile email openid"),a()(x()(l),"PROMPT","consent select_account"),l.setFinalUrl(),l}return M()(i,[{key:"setFinalUrl",value:function(){var e=new URL("https://accounts.google.com/o/oauth2/v2/auth"),t=JSON.parse(JSON.stringify(this.jwtParams||{})),r=R()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,prompt:this.PROMPT,redirect_uri:this.redirect_uri,scope:this.SCOPE,nonce:this.nonce},t);Object.keys(r).forEach(function(t){r[t]&&e.searchParams.append(t,r[t])}),this.finalURL=e}},{key:"getUserInfo",value:(r=g()(j.a.mark(function e(t){var r,n,i,o,s,a,u,c;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.accessToken,e.next=3,Object(A.get)("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return o=void 0===(i=(n=e.sent).picture)?"":i,a=void 0===(s=n.email)?"":s,c=void 0===(u=n.name)?"":u,e.abrupt("return",{email:a,name:c,profileImage:o,verifier:this.verifier,verifierId:a.toLowerCase(),typeOfLogin:this.typeOfLogin});case 6:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})}]),i}(ec),ed=r(14),ep=r.n(ed),em=function(e){k()(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=I()(i);if(t){var n=I()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return E()(this,e)});function i(e,t,r,o,s,u,c,h){var l;return b()(this,i),(l=n.call(this,e,t,r,o,s,u,c,h)).clientId=e,l.verifier=t,l.redirect_uri=r,l.typeOfLogin=o,l.uxMode=s,l.redirectToOpener=u,l.jwtParams=c,l.customState=h,a()(x()(l),"SCOPE","openid profile email"),a()(x()(l),"RESPONSE_TYPE","token id_token"),a()(x()(l),"PROMPT","login"),l.setFinalUrl(),l}return M()(i,[{key:"setFinalUrl",value:function(){var e=this.jwtParams.domain,t=new URL(e);t.pathname="/authorize";var r=JSON.parse(JSON.stringify(this.jwtParams));delete r.domain;var n=R()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,prompt:this.PROMPT,redirect_uri:this.redirect_uri,scope:this.SCOPE,connection:H[this.typeOfLogin],nonce:this.nonce},r);Object.keys(n).forEach(function(e){n[e]&&t.searchParams.append(e,n[e])}),this.finalURL=t}},{key:"getUserInfo",value:(r=g()(j.a.mark(function e(t){var r,n,i,o,s,a,u,c,h,l,f,d,p,m,v;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.idToken,n=t.accessToken,o=(i=this.jwtParams).domain,s=i.verifierIdField,a=i.isVerifierIdCaseSensitive,!n){e.next=9;break}return u=new URL(o),e.next=6,Object(A.get)("".concat(Y(u),"userinfo"),{headers:{Authorization:"Bearer ".concat(n)}});case 6:return h=(c=e.sent).picture,l=c.name,f=c.email,e.abrupt("return",{email:f,name:l,profileImage:h,verifierId:X(c,this.typeOfLogin,s,a),verifier:this.verifier,typeOfLogin:this.typeOfLogin});case 9:if(!r){e.next=13;break}return p=(d=ep()(r)).name,m=d.email,v=d.picture,e.abrupt("return",{profileImage:v,name:p,email:m,verifierId:X(d,this.typeOfLogin,s,a),verifier:this.verifier,typeOfLogin:this.typeOfLogin});case 13:throw Error("Access/id token not available");case 14:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})}]),i}(ec),ev=["access_token","id_token"];function eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(r),!0).forEach(function(t){a()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eg(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eb=function(e){k()(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=I()(i);if(t){var n=I()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return E()(this,e)});function i(e,t,r,o,s,u,c,h){var l;return b()(this,i),(l=n.call(this,e,t,r,o,s,u,c,h)).clientId=e,l.verifier=t,l.redirect_uri=r,l.typeOfLogin=o,l.uxMode=s,l.redirectToOpener=u,l.jwtParams=c,l.customState=h,a()(x()(l),"SCOPE","openid profile email"),a()(x()(l),"RESPONSE_TYPE","token id_token"),a()(x()(l),"PROMPT","login"),l.setFinalUrl(),l}return M()(i,[{key:"setFinalUrl",value:function(){var e=this.jwtParams.domain,t=new URL(e);t.pathname="/passwordless/start",this.finalURL=t}},{key:"getUserInfo",value:(r=g()(j.a.mark(function e(t){var r,n,i,o,s,a,u,c,h,l,f,d,p,m,v;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.idToken,n=t.accessToken,o=(i=this.jwtParams).domain,s=i.verifierIdField,a=i.isVerifierIdCaseSensitive,e.prev=2,u=new URL(o),e.next=6,Object(A.get)("".concat(Y(u),"userinfo"),{headers:{Authorization:"Bearer ".concat(n)}});case 6:return h=(c=e.sent).picture,l=c.name,f=c.email,e.abrupt("return",{email:f,name:l,profileImage:h,verifierId:X(c,this.typeOfLogin,s,a),verifier:this.verifier,typeOfLogin:this.typeOfLogin});case 11:return e.prev=11,e.t0=e.catch(2),J.error(e.t0),p=(d=ep()(r)).name,m=d.email,v=d.picture,e.abrupt("return",{profileImage:v,name:p,email:m,verifierId:X(d,this.typeOfLogin,s,a),verifier:this.verifier,typeOfLogin:this.typeOfLogin});case 17:case"end":return e.stop()}},e,this,[[2,11]])})),function(e){return r.apply(this,arguments)})},{key:"handleLoginWindow",value:function(){var e=this;return new Promise(function(t,r){if(e.redirectToOpener){r(Error("Cannot use redirect to opener for passwordless"));return}var n,i=function(n){try{var i=n.error,o=n.data||{},s=o.instanceParams,a=o.hashParams,u=a.access_token,c=a.id_token,h=C()(a,ev);if(i){J.error(n.error),r(Error(i));return}n.data&&s.verifier===e.verifier&&(J.info(n.data),t(ey(ey({accessToken:u,idToken:c||""},h),{},{state:s})))}catch(e){J.error(e),r(e)}},o=new U.BroadcastChannel("redirect_channel_".concat(e.nonce),q);o.addEventListener("message",(n=g()(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i(t),o.close();case 2:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}));try{var s=e.jwtParams,a=s.connection,u=void 0===a?"email":a,c=s.login_hint,h=R()({client_id:e.clientId,connection:u,email:"email"===u?c:void 0,phone_number:"sms"===u?c:void 0,send:"link",authParams:{scope:e.SCOPE,state:e.state,response_type:e.RESPONSE_TYPE,redirect_uri:e.redirect_uri,nonce:e.nonce,prompt:e.PROMPT}},{authParams:e.jwtParams});Object(A.post)(e.finalURL.href,JSON.parse(JSON.stringify(h))).then(function(e){J.info("posted",e)}).catch(function(e){J.error(e),r(e)})}catch(e){J.error(e),r(e)}})}}]),i}(ec),ew=function(e){k()(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=I()(i);if(t){var n=I()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return E()(this,e)});function i(e,t,r,o,s,u,c,h){var l;return b()(this,i),(l=n.call(this,e,t,r,o,s,u,c,h)).clientId=e,l.verifier=t,l.redirect_uri=r,l.typeOfLogin=o,l.uxMode=s,l.redirectToOpener=u,l.jwtParams=c,l.customState=h,a()(x()(l),"RESPONSE_TYPE","token"),a()(x()(l),"SCOPE","identity"),l.setFinalUrl(),l}return M()(i,[{key:"setFinalUrl",value:function(){var e=new URL("https://www.reddit.com/api/v1/authorize".concat(window.innerWidth<600?".compact":"")),t=JSON.parse(JSON.stringify(this.jwtParams||{})),r=R()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE},t);Object.keys(r).forEach(function(t){r[t]&&e.searchParams.append(t,r[t])}),this.finalURL=e}},{key:"getUserInfo",value:(r=g()(j.a.mark(function e(t){var r,n,i,o,s,a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.accessToken,e.next=3,Object(A.get)("https://oauth.reddit.com/api/v1/me",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return o=void 0===(i=(n=e.sent).icon_img)?"":i,a=void 0===(s=n.name)?"":s,e.abrupt("return",{email:"",name:a,profileImage:o.split("?").length>0?o.split("?")[0]:o,verifier:this.verifier,verifierId:a.toLowerCase(),typeOfLogin:this.typeOfLogin});case 6:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})}]),i}(ec),eM=function(e){k()(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=I()(i);if(t){var n=I()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return E()(this,e)});function i(e,t,r,o,s,u,c,h){var l;return b()(this,i),(l=n.call(this,e,t,r,o,s,u,c,h)).clientId=e,l.verifier=t,l.redirect_uri=r,l.typeOfLogin=o,l.uxMode=s,l.redirectToOpener=u,l.jwtParams=c,l.customState=h,a()(x()(l),"RESPONSE_TYPE","token"),a()(x()(l),"SCOPE","user:read:email"),l.setFinalUrl(),l}return M()(i,[{key:"setFinalUrl",value:function(){var e=new URL("https://id.twitch.tv/oauth2/authorize"),t=JSON.parse(JSON.stringify(this.jwtParams||{})),r=R()({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE,force_verify:!0},t);Object.keys(r).forEach(function(t){r[t]&&e.searchParams.append(t,r[t])}),this.finalURL=e}},{key:"getUserInfo",value:(r=g()(j.a.mark(function e(t){var r,n,i,o,s,a,u,c,h,l;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.accessToken,e.next=3,Object(A.get)("https://api.twitch.tv/helix/users",{headers:{Authorization:"Bearer ".concat(r),"Client-ID":this.clientId}});case 3:return n=e.sent.data||[],s=void 0===(o=(i=K()(n,1)[0]).profile_image_url)?"":o,u=void 0===(a=i.display_name)?"":a,h=void 0===(c=i.email)?"":c,l=i.id,e.abrupt("return",{profileImage:s,name:u,email:h,verifierId:l,verifier:this.verifier,typeOfLogin:this.typeOfLogin});case 6:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})}]),i}(ec),e_="https://api.webauthn.openlogin.com",ex=function(e){k()(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=I()(i);if(t){var n=I()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return E()(this,e)});function i(e,t,r,o,s,a,u,c,h){var l;return b()(this,i),(l=n.call(this,e,t,r,o,s,a,u,c)).clientId=e,l.verifier=t,l.redirect_uri=r,l.typeOfLogin=o,l.uxMode=s,l.redirectToOpener=a,l.jwtParams=u,l.customState=c,l.registerOnly=h,l.setFinalUrl(),l}return M()(i,[{key:"setFinalUrl",value:function(){var e=new URL("https://webauthn.openlogin.com"),t=JSON.parse(JSON.stringify(this.jwtParams||{})),r=R()({register_only:!!this.registerOnly,state:this.state,client_id:this.clientId,redirect_uri:this.redirect_uri},t);Object.keys(r).forEach(function(t){r[t]&&e.searchParams.append(t,r[t])}),this.finalURL=e}},{key:"getUserInfo",value:(r=g()(j.a.mark(function e(t){var r,n,i,o,s,a,u,c,h,l,f,d,p,m,v;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.idToken,n=t.ref,i=t.extraParamsPassed,o=t.extraParams,"true"!==i){e.next=31;break}J.debug("extraParamsPassed is true, using extraParams passed through hashParams"),e.prev=3,s=(p=JSON.parse(atob(o))).verifier_id,a=p.signature,u=p.clientDataJSON,c=p.authenticatorData,h=p.publicKey,l=p.challenge,f=p.rpOrigin,d=p.credId,e.next=29;break;case 15:return e.prev=15,e.t0=e.catch(3),J.warn("unable to parse extraParams",e.t0),e.next=20,Object(A.get)("".concat(e_,"/signature/fetch/").concat(r));case 20:s=(m=e.sent).verifier_id,a=m.signature,u=m.clientDataJSON,c=m.authenticatorData,h=m.publicKey,l=m.challenge,f=m.rpOrigin,d=m.credId;case 29:e.next=43;break;case 31:return J.debug("extraParamsPassed is false, using extraParams passed through bridge server"),e.next=34,Object(A.get)("".concat(e_,"/signature/fetch/").concat(r));case 34:s=(v=e.sent).verifier_id,a=v.signature,u=v.clientDataJSON,c=v.authenticatorData,h=v.publicKey,l=v.challenge,f=v.rpOrigin,d=v.credId;case 43:if(!(a!==r)){e.next=45;break}throw Error("idtoken should be equal to signature");case 45:return e.abrupt("return",{email:"",name:"WebAuthn Login",profileImage:"",verifier:this.verifier,verifierId:s,typeOfLogin:this.typeOfLogin,ref:n,registerOnly:this.registerOnly,extraVerifierParams:{signature:a,clientDataJSON:u,authenticatorData:c,publicKey:h,challenge:l,rpOrigin:f,credId:d}});case 46:case"end":return e.stop()}},e,this,[[3,15]])})),function(e){return r.apply(this,arguments)})}]),i}(ec),eO=function(e){var t=e.clientId,r=e.redirect_uri,n=e.typeOfLogin,i=e.verifier,o=e.jwtParams,s=e.redirectToOpener,a=e.uxMode,u=e.customState,c=e.registerOnly;if(!i||!n||!t)throw Error("Invalid params");var l=o||{},f=l.domain,d=l.login_hint;switch(n){case h.GOOGLE:return new ef(t,i,r,n,a,s,o,u);case h.FACEBOOK:return new el(t,i,r,n,a,s,o,u);case h.TWITCH:return new eM(t,i,r,n,a,s,o,u);case h.REDDIT:return new ew(t,i,r,n,a,s,o,u);case h.DISCORD:return new eh(t,i,r,n,a,s,o,u);case h.PASSWORDLESS:if(!f||!d)throw Error("Invalid params");return new eb(t,i,r,n,a,s,o,u);case h.APPLE:case h.GITHUB:case h.LINKEDIN:case h.TWITTER:case h.WEIBO:case h.LINE:case h.EMAIL_PASSWORD:case h.JWT:if(!f)throw Error("Invalid params");return new em(t,i,r,n,a,s,o,u);case h.WEBAUTHN:return new ex(t,i,r,n,a,s,o,u,c);default:throw Error("Invalid login type")}},ek=r(20),eP=r.n(ek),eE=r(16),eS=r.n(eE),eI=r(15),eL=r(21),ej=function(e){return new Promise(function(t,r){"serviceWorker"in window.navigator?Object(eL.register)("".concat(e,"sw.js"),{ready:function(){J.info("App is being served from cache by a service worker.\n For more details, visit https://goo.gl/AFskqB"),t(void 0)},registered:function(){J.info("Service worker has been registered."),t(void 0)},cached:function(){J.info("Content has been cached for offline use."),t(void 0)},updatefound:function(){J.info("New content is downloading.")},updated:function(){J.info("New content is available; please refresh.")},offline:function(){J.info("No internet connection found. App is running in offline mode."),r(Error("App is offline"))},error:function(e){J.error("Error during service worker registration:",e),r(e)}}):r(Error("Service workers are not supported"))})},eT=["access_token","id_token"],eR=["access_token","id_token"],eA=["access_token","id_token"],eN=["args","method"];function eC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(t){a()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eU=function(){var e,t,r,n,i,o,s,v;function y(e){var t=e.baseUrl,r=e.network,n=void 0===r?u.MAINNET:r,i=e.proxyContractAddress,o=e.enableLogging,s=void 0!==o&&o,h=e.redirectToOpener,l=e.redirectPathName,p=void 0===l?"redirect":l,v=e.apiKey,g=e.uxMode,w=void 0===g?f.POPUP:g,M=e.redirectParamsStorageMethod,_=void 0===M?d.SESSION_STORAGE:M,x=e.locationReplaceOnRedirect,O=e.popupFeatures,k=e.skipFetchingNodeDetails;b()(this,y),a()(this,"isInitialized",void 0),a()(this,"config",void 0),a()(this,"torus",void 0),a()(this,"nodeDetailManager",void 0),this.isInitialized=!1;var P=new URL(t);this.config={baseUrl:Y(P),get redirect_uri(){return"".concat(this.baseUrl).concat(p)},redirectToOpener:void 0!==h&&h,uxMode:w,redirectParamsStorageMethod:_,locationReplaceOnRedirect:void 0!==x&&x,popupFeatures:O};var E=new eS.a({enableLogging:s,metadataHost:"https://metadata.tor.us",allowHost:"https://signer.tor.us/api/allow"});eS.a.setAPIKey(void 0===v?"torus-default":v),this.torus=E;var S=n===u.TESTNET?c.ROPSTEN:n;this.nodeDetailManager=new eP.a({network:S,proxyAddress:i||m[n]}),void 0!==k&&k||this.nodeDetailManager.getNodeDetails(),s?J.enableAll():J.disableAll()}return M()(y,[{key:"init",value:(e=g()(j.a.mark(function e(){var t,r,n,i,o,s,a,u=arguments;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0!==(r=(t=u.length>0&&void 0!==u[0]?u[0]:{}).skipSw)&&r,o=void 0!==(i=t.skipInit)&&i,a=void 0!==(s=t.skipPrefetch)&&s,!o){e.next=4;break}return this.isInitialized=!0,e.abrupt("return");case 4:if(n){e.next=22;break}return e.next=7,fetch("".concat(this.config.baseUrl,"sw.js"),{cache:"reload"});case 7:if(!e.sent.ok){e.next=21;break}return e.prev=9,e.next=12,ej(this.config.baseUrl);case 12:return this.isInitialized=!0,e.abrupt("return");case 16:e.prev=16,e.t0=e.catch(9),J.warn(e.t0);case 19:e.next=22;break;case 21:throw Error("Service worker is not being served. Please serve it");case 22:if(a){e.next=29;break}if(!ei()){e.next=26;break}return this.isInitialized=!0,e.abrupt("return");case 26:return e.next=28,this.handlePrefetchRedirectUri();case 28:return e.abrupt("return");case 29:this.isInitialized=!0;case 30:case"end":return e.stop()}},e,this,[[9,16]])})),function(){return e.apply(this,arguments)})},{key:"handlePrefetchRedirectUri",value:(t=g()(j.a.mark(function e(){var t=this;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(document){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return e.abrupt("return",new Promise(function(e,r){var n=document.createElement("link");n.href=t.config.redirect_uri,window.location.origin!==new URL(t.config.redirect_uri).origin&&(n.crossOrigin="anonymous"),n.type="text/html",n.rel="prefetch";var i=function(){t.isInitialized=!0,e()};try{n.relList&&n.relList.supports&&n.relList.supports("prefetch")?(n.onload=i,n.onerror=function(){r(Error("Please serve redirect.html present in serviceworker folder of this package on ".concat(t.config.redirect_uri)))},document.head.appendChild(n)):i()}catch(e){i()}}));case 3:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})},{key:"triggerLogin",value:(r=g()(j.a.mark(function e(t){var r,n,i,o,s,a,u,c,l,d,m,v,g,y,b,w,M,_,x,O,k,P;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.verifier,n=t.typeOfLogin,i=t.clientId,o=t.jwtParams,s=t.hash,a=t.queryParameters,u=t.customState,c=t.registerOnly,J.info("Verifier: ",r),this.isInitialized){e.next=4;break}throw Error("Not initialized yet");case 4:if(!(c&&n!==h.WEBAUTHN)){e.next=6;break}throw Error("registerOnly flag can only be passed for webauthn");case 6:if(l=eO({typeOfLogin:n,clientId:i,verifier:r,redirect_uri:this.config.redirect_uri,redirectToOpener:this.config.redirectToOpener,jwtParams:o,uxMode:this.config.uxMode,customState:u,registerOnly:c}),!(s&&a)){e.next=15;break}if(v=(m=V(s,a)).error,g=m.hashParameters,y=m.instanceParameters,!v){e.next=11;break}throw Error(v);case 11:d=eB(eB({accessToken:g.access_token,idToken:g.id_token},C()(g,eT)),{},{state:y}),e.next=22;break;case 15:return er(this.config.redirectParamsStorageMethod),Q({method:p.TRIGGER_LOGIN,args:t},this.config.redirectParamsStorageMethod,l.nonce),e.next=19,l.handleLoginWindow({locationReplaceOnRedirect:this.config.locationReplaceOnRedirect,popupFeatures:this.config.popupFeatures});case 19:if(d=e.sent,this.config.uxMode!==f.REDIRECT){e.next=22;break}return e.abrupt("return",null);case 22:return e.next=24,l.getUserInfo(d);case 24:if(b=e.sent,!c){e.next=39;break}return e.next=28,this.nodeDetailManager.getNodeDetails();case 28:return M=(w=e.sent).torusNodeEndpoints,_=w.torusNodePub,e.next=33,this.torus.getPublicAddress(M,_,{verifier:r,verifierId:b.verifierId},!0);case 33:if(x=e.sent,O={userInfo:eB(eB({},b),d)},"string"!=typeof x){e.next=37;break}throw Error("should have returned extended pub key");case 37:return k={pubKey:{pub_key_X:x.X,pub_key_Y:x.Y},publicAddress:x.address,privateKey:null,metadataNonce:null},e.abrupt("return",eB(eB({},O),k));case 39:return e.next=41,this.getTorusKey(r,b.verifierId,{verifier_id:b.verifierId},d.idToken||d.accessToken,b.extraVerifierParams);case 41:return P=e.sent,e.abrupt("return",eB(eB({},P),{},{userInfo:eB(eB({},b),d)}));case 43:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"triggerAggregateLogin",value:(n=g()(j.a.mark(function e(t){var r,n,i,o,s,a,u,c,h,d,m,v,g,y,b,w,M,_,x,O,k,P,E,S,I,L,T,R,A,N,D,B,U;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.aggregateVerifierType,n=t.verifierIdentifier,i=t.subVerifierDetailsArray,this.isInitialized){e.next=3;break}throw Error("Not initialized yet");case 3:if(!(!r||!n||!Array.isArray(i))){e.next=5;break}throw Error("Invalid params");case 5:if(!(r===l.SINGLE_VERIFIER_ID&&1!==i.length)){e.next=7;break}throw Error("Single id verifier can only have one sub verifier");case 7:o=[],s=[],a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return eC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eC(e,t)}}(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}(i),e.prev=10,a.s();case 12:if((u=a.n()).done){e.next=36;break}if(h=(c=u.value).clientId,d=c.typeOfLogin,m=c.verifier,v=c.jwtParams,g=c.hash,y=c.queryParameters,b=c.customState,w=eO({typeOfLogin:d,clientId:h,verifier:m,redirect_uri:this.config.redirect_uri,redirectToOpener:this.config.redirectToOpener,jwtParams:v,uxMode:this.config.uxMode,customState:b}),M=void 0,!(g&&y)){e.next=25;break}if(x=(_=V(g,y)).error,O=_.hashParameters,k=_.instanceParameters,!x){e.next=21;break}throw Error(x);case 21:M=eB(eB({accessToken:O.access_token,idToken:O.id_token},C()(O,eR)),{},{state:k}),e.next=32;break;case 25:return er(this.config.redirectParamsStorageMethod),Q({method:p.TRIGGER_AGGREGATE_LOGIN,args:t},this.config.redirectParamsStorageMethod,w.nonce),e.next=29,w.handleLoginWindow({locationReplaceOnRedirect:this.config.locationReplaceOnRedirect,popupFeatures:this.config.popupFeatures});case 29:if(M=e.sent,this.config.uxMode!==f.REDIRECT){e.next=32;break}return e.abrupt("return",null);case 32:o.push(w.getUserInfo(M)),s.push(M);case 34:e.next=12;break;case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(10),a.e(e.t0);case 41:return e.prev=41,a.f(),e.finish(41);case 44:return e.next=46,Promise.all(o);case 46:for(T=0,P=e.sent.map(function(e){return eB(eB({},e),{},{aggregateVerifier:n})}),E={verify_params:[],sub_verifier_ids:[],verifier_id:""},S=[],I="",L={};T<i.length;T+=1)A=(R=s[T]).idToken,N=R.accessToken,D=P[T],E.verify_params.push({verifier_id:D.verifierId,idtoken:A||N}),E.sub_verifier_ids.push(D.verifier),S.push(A||N),I=D.verifierId,L=D.extraVerifierParams;return S.sort(),B=Object(eI.keccak256)(S.join("\x1d")).slice(2),E.verifier_id=I,e.next=58,this.getTorusKey(n,I,E,B,L);case 58:return U=e.sent,e.abrupt("return",eB(eB({},U),{},{userInfo:P.map(function(e,t){return eB(eB({},e),s[t])})}));case 60:case"end":return e.stop()}},e,this,[[10,38,41,44]])})),function(e){return n.apply(this,arguments)})},{key:"triggerHybridAggregateLogin",value:(i=g()(j.a.mark(function e(t){var r,n,i,o,s,a,u,c,h,d,m,v,g,y,b,w,M,_,x,O,k,P,E,S,I,L,T,R,A,N,D,B,U;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.singleLogin,n=t.aggregateLoginParams,this.isInitialized){e.next=3;break}throw Error("Not initialized yet");case 3:if(!(!n.aggregateVerifierType||!n.verifierIdentifier||!Array.isArray(n.subVerifierDetailsArray))){e.next=5;break}throw Error("Invalid params");case 5:if(!(n.aggregateVerifierType===l.SINGLE_VERIFIER_ID&&1!==n.subVerifierDetailsArray.length)){e.next=7;break}throw Error("Single id verifier can only have one sub verifier");case 7:if(i=r.typeOfLogin,o=r.clientId,s=r.verifier,a=r.jwtParams,u=r.hash,c=r.queryParameters,h=r.customState,d=eO({typeOfLogin:i,clientId:o,verifier:s,redirect_uri:this.config.redirect_uri,redirectToOpener:this.config.redirectToOpener,jwtParams:a,uxMode:this.config.uxMode,customState:h}),!(u&&c)){e.next=17;break}if(g=(v=V(u,c)).error,y=v.hashParameters,b=v.instanceParameters,!g){e.next=13;break}throw Error(g);case 13:m=eB(eB({accessToken:y.access_token,idToken:y.id_token},C()(y,eA)),{},{state:b}),e.next=24;break;case 17:return er(this.config.redirectParamsStorageMethod),Q({method:p.TRIGGER_AGGREGATE_HYBRID_LOGIN,args:t},this.config.redirectParamsStorageMethod,d.nonce),e.next=21,d.handleLoginWindow({locationReplaceOnRedirect:this.config.locationReplaceOnRedirect,popupFeatures:this.config.popupFeatures});case 21:if(m=e.sent,this.config.uxMode!==f.REDIRECT){e.next=24;break}return e.abrupt("return",null);case 24:return e.next=26,d.getUserInfo(m);case 26:for(w=e.sent,M=this.getTorusKey(s,w.verifierId,{verifier_id:w.verifierId},m.idToken||m.accessToken,w.extraVerifierParams),_=n.verifierIdentifier,x=n.subVerifierDetailsArray,O={verify_params:[],sub_verifier_ids:[],verifier_id:""},k=[],P="",E=0;E<x.length;E+=1)S=x[E],L=(I=m).idToken,T=I.accessToken,O.verify_params.push({verifier_id:w.verifierId,idtoken:L||T}),O.sub_verifier_ids.push(S.verifier),k.push(L||T),P=w.verifierId;return k.sort(),R=Object(eI.keccak256)(k.join("\x1d")).slice(2),O.verifier_id=P,A=this.getTorusKey(_,P,O,R,w.extraVerifierParams),e.next=39,Promise.all([M,A]);case 39:return N=e.sent,B=(D=K()(N,2))[0],U=D[1],e.abrupt("return",{singleLogin:eB({userInfo:eB(eB({},w),m)},B),aggregateLogins:[U]});case 44:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"getTorusKey",value:(o=g()(j.a.mark(function e(t,r,n,i,o){var s,a,u,c,h,l;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.nodeDetailManager.getNodeDetails();case 2:return a=(s=e.sent).torusNodeEndpoints,u=s.torusNodePub,c=s.torusIndexes,e.next=8,this.torus.getPublicAddress(a,u,{verifier:t,verifierId:r},!0);case 8:return h=e.sent,J.info("New private key assigned to user at address ",h),e.next=12,this.torus.retrieveShares(a,c,t,n,i,o);case 12:if(l=e.sent,"string"!=typeof h){e.next=15;break}throw Error("must use extended pub key");case 15:if(!(l.ethAddress.toLowerCase()!==h.address.toLowerCase())){e.next=17;break}throw Error("data ethAddress does not match response address");case 17:return e.abrupt("return",{publicAddress:l.ethAddress.toString(),privateKey:l.privKey.toString(),metadataNonce:l.metadataNonce.toString("hex"),pubKey:{pub_key_X:h.X,pub_key_Y:h.Y}});case 18:case"end":return e.stop()}},e,this)})),function(e,t,r,n,i){return o.apply(this,arguments)})},{key:"getAggregateTorusKey",value:(s=g()(j.a.mark(function e(t,r,n){var i,o,s,a,u,c;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=0,i={verify_params:[],sub_verifier_ids:[],verifier_id:""},o=[],s={};a<n.length;a+=1)u=n[a],i.verify_params.push({verifier_id:r,idtoken:u.idToken}),i.sub_verifier_ids.push(u.verifier),o.push(u.idToken),s=u.extraVerifierParams;return o.sort(),c=Object(eI.keccak256)(o.join("\x1d")).slice(2),i.verifier_id=r,e.abrupt("return",this.getTorusKey(t,r,i,c,s));case 8:case"end":return e.stop()}},e,this)})),function(e,t,r){return s.apply(this,arguments)})},{key:"getRedirectResult",value:(v=g()(j.a.mark(function e(){var t,r,n,i,o,s,a,u,c,h,l,f,d,m,v,g,y,b,w,M,_,x,O,k=arguments;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=(t=k.length>0&&void 0!==k[0]?k[0]:{}).replaceUrl)||r,o=void 0===(i=t.clearLoginDetails)||i,e.next=3,this.init({skipInit:!0});case 3:if(a=(s=new URL(window.location.href)).hash.substr(1),u={},s.searchParams.forEach(function(e,t){u[t]=e}),n&&(c=window.location.origin+window.location.pathname,window.history.replaceState(null,"",c)),!(!a&&0===Object.keys(u).length)){e.next=10;break}throw Error("Unable to fetch result from redirect");case 10:if(l=(h=V(a,u)).error,f=h.instanceParameters,d=h.hashParameters,m=f.instanceId,J.info(m,"instanceId"),g=(v=ee(this.config.redirectParamsStorageMethod,m)).args,y=v.method,b=C()(v,eN),J.info(g,y),o&&et(this.config.redirectParamsStorageMethod,m),!l){e.next=19;break}return w="Error: ".concat(l,". Instance params: ").concat(JSON.stringify(f||{}),". Hash params: ").concat(JSON.stringify(d||{})),e.abrupt("return",{error:w,state:f||{},method:y,result:{},hashParameters:d,args:g});case 19:if(e.prev=19,y!==p.TRIGGER_LOGIN){e.next=29;break}return(_=g).hash=a,_.queryParameters=u,e.next=26,this.triggerLogin(_);case 26:case 34:M=e.sent,e.next=44;break;case 29:if(y!==p.TRIGGER_AGGREGATE_LOGIN){e.next=37;break}return(x=g).subVerifierDetailsArray.forEach(function(e){e.hash=a,e.queryParameters=u}),e.next=34,this.triggerAggregateLogin(x);case 37:if(y!==p.TRIGGER_AGGREGATE_HYBRID_LOGIN){e.next=44;break}return(O=g).singleLogin.hash=a,O.singleLogin.queryParameters=u,e.next=43,this.triggerHybridAggregateLogin(O);case 43:M=e.sent;case 44:e.next=50;break;case 46:return e.prev=46,e.t0=e.catch(19),J.error(e.t0),e.abrupt("return",eB({error:"Could not get result from torus nodes ".concat((null===e.t0||void 0===e.t0?void 0:e.t0.message)||""),state:f||{},method:y,result:{},hashParameters:d,args:g},b));case 50:if(M){e.next=52;break}return e.abrupt("return",eB({error:"Unsupported method type",state:f||{},method:y,result:{},hashParameters:d,args:g},b));case 52:return e.abrupt("return",eB({method:y,result:M,state:f||{},hashParameters:d,args:g},b));case 53:case"end":return e.stop()}},e,this,[[19,46]])})),function(){return v.apply(this,arguments)})}]),y}()}])},77181:function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t){e.exports=r(38416)},function(e,t){e.exports=r(64687)},function(e,t){e.exports=r(31692)},function(e,t){e.exports=r(18269)},function(e,t){e.exports=r(17156)},function(e,t){e.exports=r(56690)},function(e,t){e.exports=r(89728)},function(e,t,r){"use strict";r.r(t),r.d(t,"ETHEREUM_NETWORK",function(){return n}),r.d(t,"abi",function(){return i}),r.d(t,"default",function(){return y});var n={ROPSTEN:"ropsten",MAINNET:"mainnet"},i=[{constant:!0,inputs:[],name:"currentEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"epoch",type:"uint256"}],name:"getEpochInfo",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"n",type:"uint256"},{internalType:"uint256",name:"k",type:"uint256"},{internalType:"uint256",name:"t",type:"uint256"},{internalType:"address[]",name:"nodeList",type:"address[]"},{internalType:"uint256",name:"prevEpoch",type:"uint256"},{internalType:"uint256",name:"nextEpoch",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"nodeAddress",type:"address"}],name:"getNodeDetails",outputs:[{internalType:"string",name:"declaredIp",type:"string"},{internalType:"uint256",name:"position",type:"uint256"},{internalType:"uint256",name:"pubKx",type:"uint256"},{internalType:"uint256",name:"pubKy",type:"uint256"},{internalType:"string",name:"tmP2PListenAddress",type:"string"},{internalType:"string",name:"p2pListenAddress",type:"string"}],payable:!1,stateMutability:"view",type:"function"}],o=r(4),s=r.n(o),a=r(5),u=r.n(a),c=r(6),h=r.n(c),l=r(0),f=r.n(l),d=r(1),p=r.n(d),m=r(2),v=r.n(m),g=r(3),y=function(){var e;function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.network,s=void 0===o?n.MAINNET:o,a=r.proxyAddress,c=void 0===a?"0x638646503746d5456209e33a2ff5e3226d698bea":a;u()(this,t),f()(this,"_currentEpoch","19"),f()(this,"_torusNodeEndpoints",["https://torus-19.torusnode.com/jrpc","https://torus-node.ens.domains/jrpc","https://torus-node.matic.network/jrpc","https://torus.zilliqa.network/jrpc","https://torus-mainnet.cosmos.network/jrpc","https://torus2.etherscan.com/jrpc","https://torus-node-v2.skalelabs.com/jrpc","https://torus-node.binancex.dev/jrpc","https://torusnode.ont.io/jrpc"]),f()(this,"_torusNodePub",[{X:"bbe83c64177c3775550e6ba6ac2bc059f6847d644c9e4894e42c60d7974d8c2b",Y:"82b49a7caf70def38cdad2740af45c1e4f969650105c5019a29bb18b21a9acb5"},{X:"c208cac4ef9a47d386097a9c915b28e9cb89213abee8d26a17198ee261201b0d",Y:"c7db2fe4631109f40833de9dc78d07e35706549ee48fa557b33e4e75e1047873"},{X:"ca1766bb426d4ca5582818a0c5439d560ea64f5baa060793ab29dd3d0ceacfe",Y:"d46c1d08c40e1306e1bca328c2287b8268166b11a1ba4b8442ea2ad0c5e32152"},{X:"c3934dd2f6f4b3d2e1e398cc501e143c1e1a381b52feb6d1525af34d16253768",Y:"71f5141a5035799099f5ea3e241e66946bc55dc857ac3bd7d6fcdb8dcd3eeeef"},{X:"22e66f1929631d00bf026227581597f085fd94fd952fc0dca9f0833398b5c064",Y:"6088b3912e10a1e9d50355a609c10db7d188f16a2e2fd7357e51bf4f6a74f0a1"},{X:"9dc9fa410f3ce9eb70df70cdea00a49f2c4cc7a31c08c0dab5f863ed35ff5139",Y:"627a291cb87a75c61da3f65d6818e1e05e360217179817ed27e8c73bca7ec122"},{X:"118b9fc07e97b096d899b9f6658463ce6a8caa64038e37fc969df4e6023dd8c6",Y:"baf9fa4e51770f4796ea165dd03a769b8606681a38954a0a92c4cbffd6609ce9"},{X:"8a6d8b925da15a273dec3d8f8395ec35cd6878f274b2b180e4e106999db64043",Y:"96f67f870c157743da0b1eb84d89bf30500d74dc84c11f501ee1cb013acc8c46"},{X:"39cecb62e863729f572f7dfc46c24867981bf04bb405fed0df39e33984bfade5",Y:"61c2364434012e68a2be2e9952805037e52629d7762fafc8e10e9fb5bad8f790"}]),f()(this,"_torusIndexes",[1,2,3,4,5,6,7,8,9]),f()(this,"_network",n.MAINNET),f()(this,"nodeListAddress",void 0),f()(this,"updated",void 0),f()(this,"nodeListContract",void 0);try{e=new URL(s).href}catch(t){e="https://".concat(s,".infura.io/v3/").concat("b8cdb0e4cff24599a286bf8e87ff1c96")}v.a.setProvider(e),this.nodeListContract=new v.a(i,c),this.nodeListAddress=c,this.updated=!1,this._network=s}return h()(t,[{key:"_nodeDetails",get:function(){return{currentEpoch:this._currentEpoch,nodeListAddress:this.nodeListAddress,torusNodeEndpoints:this._torusNodeEndpoints,torusNodePub:this._torusNodePub,torusIndexes:this._torusIndexes,updated:this.updated}}},{key:"getCurrentEpoch",value:function(){return this.nodeListContract.methods.currentEpoch().call()}},{key:"getEpochInfo",value:function(e){return this.nodeListContract.methods.getEpochInfo(e).call()}},{key:"getNodeEndpoint",value:function(e){return this.nodeListContract.methods.getNodeDetails(e).call()}},{key:"getNodeDetails",value:(e=s()(p.a.mark(function e(){var t,r,i,o,s,a,u,c,h,l,f,d,m=this,v=arguments;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v.length>0&&void 0!==v[0]&&v[0],r=v.length>1&&void 0!==v[1]&&v[1],e.prev=2,!t||this._network!==n.MAINNET){e.next=5;break}return e.abrupt("return",this._nodeDetails);case 5:if(!this.updated){e.next=7;break}return e.abrupt("return",this._nodeDetails);case 7:return e.next=9,this.getCurrentEpoch();case 9:if(i=e.sent,!r||this._network!==n.MAINNET||i!==this._currentEpoch){e.next=12;break}return e.abrupt("return",this._nodeDetails);case 12:return this._currentEpoch=i,e.next=15,this.getEpochInfo(i);case 15:return s=(o=e.sent).nodeList.map(function(e,t){return t+1}),this._torusIndexes=s,a=o.nodeList.map(function(e){return m.getNodeEndpoint(e)}),e.next=21,Promise.all(a);case 21:for(u=e.sent,c=[],h=[],l=0;l<u.length;l+=1)f=u[l],d="https://".concat(f.declaredIp.split(":")[0],"/jrpc"),c.push(d),h.push({X:Object(g.toHex)(f.pubKx).replace("0x",""),Y:Object(g.toHex)(f.pubKy).replace("0x","")});return this._torusNodeEndpoints=c,this._torusNodePub=h,this.updated=!0,e.abrupt("return",this._nodeDetails);case 31:return e.prev=31,e.t0=e.catch(2),e.abrupt("return",this._nodeDetails);case 34:case"end":return e.stop()}},e,this,[[2,31]])})),function(){return e.apply(this,arguments)})}]),t}()}]).default},69222:function(e,t,r){var n=r(48764).Buffer;e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=19)}([function(e,t){e.exports=r(46207)},function(e,t){e.exports=r(64687)},function(e,t){e.exports=r(17156)},function(e,t){e.exports=r(80875)},function(e,t){e.exports=r(18269)},function(e,t){e.exports=r(67266)},function(e,t){e.exports=r(2450)},function(e,t){e.exports=r(38416)},function(e,t){e.exports=r(56690)},function(e,t){e.exports=r(73808)},function(e,t){e.exports=r(861)},function(e,t){e.exports=r(18698)},function(e,t){e.exports=r(89728)},function(e,t){e.exports=r(86266)},function(e,t){e.exports=r(7113)},function(e,t){e.exports=r(2043)},function(e,t){e.exports=r(61655)},function(e,t){e.exports=r(94993)},function(e,t){e.exports=r(33496)},function(e,t,r){"use strict";r.r(t);var i,o,s=r(7),a=r.n(s),u=r(11),c=r.n(u),h=r(2),l=r.n(h),f=r(8),d=r.n(f),p=r(12),m=r.n(p),v=r(1),g=r.n(v),y=r(6),b=r(3),w=r(0),M=r.n(w),_=r(13),x=r(5),O=r.n(x),k=r(14),P=r.n(k),E=r(4),S=r(15),I=r.n(S).a.getLogger("torus.js"),L=r(16),j=r.n(L),T=r(17),R=r.n(T),A=r(9),N=r.n(A),C=r(18),D=function(e){j()(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=N()(n);if(t){var i=N()(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return R()(this,e)});function n(e){var t,i=e.errors,o=e.responses,s=e.predicate;return d()(this,n),(t=r.call(this,"Unable to resolve enough promises.")).errors=i,t.responses=o,t.predicate=s,t}return n}(r.n(C)()(Error)),B=function(e,t){return new Promise(function(r,n){var i,o=0,s={resolved:!1},a=Array(e.length).fill(void 0),u=Array(e.length).fill(void 0);e.forEach(function(c,h){c.then(function(e){u[h]=e}).catch(function(e){a[h]=e}).finally(function(){s.resolved||t(u.slice(0),s).then(function(e){s.resolved=!0,r(e)}).catch(function(e){i=e}).finally(function(t){if((o+=1)===e.length){var r,s=Object.values(u.reduce(function(e,t){var r,n,i=t||{},o=i.id,s=i.error;return(null==s||null===(r=s.data)||void 0===r?void 0:r.length)>0&&(s.data.startsWith("Error occurred while verifying params")?e[o]=(n=s.data).charAt(0).toUpperCase()+n.slice(1):e[o]=s.data),e},{}));s.length>0?n(Error(s.length>1?"\n".concat(s.map(function(e){return" ".concat(e)}).join("\n")):s[0])):n(new D({errors:a,responses:u,predicate:(null===(r=i)||void 0===r?void 0:r.message)||i}))}})})})})},U=r(10),G=r.n(U);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(t){a()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var J=function e(t,r){var n=t;if("number"==typeof n&&(n=Array.from({length:n},function(e,t){return t})),r>n.length||r<=0)return[];if(r===n.length)return[n];if(1===r)return n.reduce(function(e,t){return[].concat(G()(e),[[t]])},[]);for(var i=[],o=[],s=0;s<=n.length-r+1;s+=1){o=e(n.slice(s+1),r-1);for(var a=0;a<o.length;a+=1)i.push([n[s]].concat(G()(o[a])))}return i},W=function(e,t){for(var r={},n=0;n<e.length;n+=1){var i=O()(e[n]);if(r[i]=r[i]?r[i]+1:1,r[i]===t)return e[n]}},H=(i=l()(g.a.mark(function e(t,r,n){var i;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.map(function(e){return Object(b.post)(e,Object(b.generateJsonRPCObject)("VerifierLookupRequest",{verifier:r,verifier_id:n.toString()})).catch(function(e){return I.error("lookup request failed",e)})}),e.abrupt("return",B(i,function(e){var r=e.filter(function(e){return e}),n=W(r.map(function(e){return e&&e.error}),1+~~(t.length/2)),i=W(r.map(function(e){return e&&e.result}),1+~~(t.length/2));return i||n?Promise.resolve({keyResult:i,errorResult:n}):Promise.reject(Error("invalid results ".concat(JSON.stringify(e))))}));case 2:case"end":return e.stop()}},e)})),function(e,t,r){return i.apply(this,arguments)}),Y=function(e,t,r,n){return new Promise(function(i,o){setTimeout(function(){H(e,t,r).then(i).catch(o)},n)})},q=(o=l()(g.a.mark(function e(t,r,n,i,o,s){var a,u,c,h;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n?u=a=Math.floor(Math.random()*t.length):a=n%t.length,a!==i){e.next=3;break}throw Error("Looped through all");case 3:return void 0!==i&&(u=i),c=Object(b.generateJsonRPCObject)("KeyAssign",{verifier:o,verifier_id:s.toString()}),e.prev=5,e.next=8,Object(b.post)("https://signer.tor.us/api/sign",c,{headers:{pubKeyX:r[a].X,pubKeyY:r[a].Y}},{useAPIKey:!0});case 8:return h=e.sent,e.abrupt("return",Object(b.post)(t[a],F(F({},c),h),{headers:{"Content-Type":"application/json; charset=utf-8"}}));case 12:return e.prev=12,e.t0=e.catch(5),I.error(e.t0),e.abrupt("return",q(t,r,a+1,u,o,s));case 16:case"end":return e.stop()}},e,null,[[5,12]])})),function(e,t,r,n,i,s){return o.apply(this,arguments)});function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){a()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var V=function(){var e,t,r,i,o;function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enableLogging,r=e.metadataHost,n=e.allowHost,i=e.serverTimeOffset;d()(this,s),this.ec=new _.ec("secp256k1"),this.metadataHost=void 0===r?"https://metadata.tor.us":r,this.allowHost=void 0===n?"https://signer.tor.us/api/allow":n,this.metadataCache=P.a,void 0!==t&&t||I.disableAll(),this.metadataLock={},this.serverTimeOffset=(void 0===i?0:i)||0}return m()(s,[{key:"setCustomKey",value:(o=l()(g.a.mark(function e(t){var r,n,i,o,s,a,u;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.privKeyHex,n=t.metadataNonce,i=t.torusKeyHex,o=t.customKeyHex,s=i?new M.a(i,16):new M.a(r,16).sub(n).umod(this.ec.curve.n),a=new M.a(o,16).sub(s).umod(this.ec.curve.n),u=this.generateMetadataParams(a.toString(16),s.toString(16)),e.next=7,this.setMetadata(u);case 7:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"retrieveShares",value:(i=l()(g.a.mark(function e(t,r,i,o,s){var a,u,h,f,d,p,m,v,w,_=this,x=arguments;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.length>5&&void 0!==x[5]?x[5]:{},u=[],e.next=4,Object(b.get)(this.allowHost,{headers:{verifier:i,verifier_id:o.verifier_id}},{useAPIKey:!0});case 4:for(h=Object(y.generatePrivate)(),d=(f=Object(y.getPublic)(h).toString("hex")).slice(2,66),p=f.slice(66),m=Object(E.keccak256)(s),v=0;v<t.length;v+=1)w=Object(b.post)(t[v],Object(b.generateJsonRPCObject)("CommitmentRequest",{messageprefix:"mug00",tokencommitment:m.slice(2),temppubx:d,temppuby:p,verifieridentifier:i})).catch(function(e){return I.error("commitment",e)}),u.push(w);return e.abrupt("return",B(u,function(e){return e.filter(function(e){return!(!e||"object"!==c()(e)||e.error)}).length>=3*~~(t.length/4)+1?Promise.resolve(e):Promise.reject(Error("invalid ".concat(JSON.stringify(e))))}).then(function(e){for(var u=[],c=[],f=0;f<e.length;f+=1)e[f]&&c.push(e[f].result);for(var d=0;d<t.length;d+=1){var p=Object(b.post)(t[d],Object(b.generateJsonRPCObject)("ShareRequest",{encrypted:"yes",item:[X(X({},o),{},{idtoken:s,nodesignatures:c,verifieridentifier:i},a)]})).catch(function(e){return I.error("share req",e)});u.push(p)}return B(u,function(){var e=l()(g.a.mark(function e(i,o){var s,a,u,c,l,f,d,p,m,v,b,w,x,O;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i.filter(function(e){return e}),a=W(i.map(function(e){return e&&e.result&&e.result.keys[0].PublicKey}),1+~~(t.length/2)),!(s.length>=1+~~(t.length/2)&&a)){e.next=32;break}for(u=[],c=[],l=0;l<i.length;l+=1)i[l]&&i[l].result&&i[l].result.keys&&i[l].result.keys.length>0?(i[l].result.keys.sort(function(e,t){return new M.a(e.Index,16).cmp(new M.a(t.Index,16))}),i[l].result.keys[0].Metadata?(f={ephemPublicKey:n.from(i[l].result.keys[0].Metadata.ephemPublicKey,"hex"),iv:n.from(i[l].result.keys[0].Metadata.iv,"hex"),mac:n.from(i[l].result.keys[0].Metadata.mac,"hex"),mode:n.from(i[l].result.keys[0].Metadata.mode,"hex")},u.push(Object(y.decrypt)(h,X(X({},f),{},{ciphertext:n.from(atob(i[l].result.keys[0].Share).padStart(64,"0"),"hex")})).catch(function(e){return I.debug("share decryption",e)}))):u.push(Promise.resolve(n.from(i[l].result.keys[0].Share.padStart(64,"0"),"hex")))):u.push(Promise.resolve(void 0)),c.push(new M.a(r[l],16));return e.next=8,Promise.all(u);case 8:if(d=e.sent,!o.resolved){e.next=11;break}return e.abrupt("return",void 0);case 11:m=J((p=d.reduce(function(e,t,r){return t&&e.push({index:c[r],value:new M.a(t)}),e},[])).length,1+~~(t.length/2)),b=function(e){var t=m[e],r=p.filter(function(e,r){return t.includes(r)}),i=r.map(function(e){return e.value}),o=r.map(function(e){return e.index}),s=_.lagrangeInterpolation(i,o),u=Object(y.getPublic)(n.from(s.toString(16,64),"hex")).toString("hex"),c=u.slice(2,66),h=u.slice(66);if(0===new M.a(c,16).cmp(new M.a(a.X,16))&&0===new M.a(h,16).cmp(new M.a(a.Y,16)))return v=s,"break"},w=0;case 15:if(!(w<m.length)){e.next=22;break}if("break"!==b(w)){e.next=19;break}return e.abrupt("break",22);case 19:w+=1,e.next=15;break;case 22:if(void 0!==v){e.next=24;break}throw Error("could not derive private key");case 24:return e.next=26,_.getMetadata({pub_key_X:a.X,pub_key_Y:a.Y});case 26:if(x=e.sent,!o.resolved){e.next=29;break}return e.abrupt("return",void 0);case 29:return v=v.add(x).umod(_.ec.curve.n),O=_.generateAddressFromPrivKey(v),e.abrupt("return",{ethAddress:O,privKey:v.toString("hex",64),metadataNonce:x});case 32:throw Error("invalid");case 33:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}())}));case 11:case"end":return e.stop()}},e,this)})),function(e,t,r,n,o){return i.apply(this,arguments)})},{key:"getMetadata",value:(r=l()(g.a.mark(function e(t,r){var n,i,o,s,a=this;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=O()(t),null===this.metadataLock[i]){e.next=7;break}return e.next=5,this.metadataLock[i];case 5:e.next=8;break;case 7:this.metadataLock[i]=new Promise(function(e){n=function(){a.metadataLock[i]=null,e()}});case 8:if(null===(o=this.metadataCache.get(i))){e.next=12;break}return n&&n(),e.abrupt("return",o);case 12:return e.next=14,Object(b.post)("".concat(this.metadataHost,"/get"),t,r,{useAPIKey:!0});case 14:if((s=e.sent)&&s.message){e.next=19;break}return this.metadataCache.put(i,new M.a(0),6e4),n&&n(),e.abrupt("return",new M.a(0));case 19:return this.metadataCache.put(i,new M.a(s.message,16),6e4),e.abrupt("return",new M.a(s.message,16));case 23:return e.prev=23,e.t0=e.catch(0),I.error("get metadata error",e.t0),n&&n(),e.abrupt("return",new M.a(0));case 28:case"end":return e.stop()}},e,this,[[0,23]])})),function(e,t){return r.apply(this,arguments)})},{key:"generateMetadataParams",value:function(e,t){var r=this.ec.keyFromPrivate(t.toString("hex",64)),i={data:e,timestamp:new M.a(~~(this.serverTimeOffset+Date.now()/1e3)).toString(16)},o=r.sign(Object(E.keccak256)(O()(i)).slice(2));return{pub_key_X:r.getPublic().getX().toString("hex"),pub_key_Y:r.getPublic().getY().toString("hex"),set_data:i,signature:n.from(o.r.toString(16,64)+o.s.toString(16,64)+new M.a(o.v).toString(16,2),"hex").toString("base64")}}},{key:"setMetadata",value:(t=l()(g.a.mark(function e(t,r){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.metadataCache.del(O()({pub_key_X:t.pub_key_X,pub_key_Y:t.pub_key_Y})),e.next=4,Object(b.post)("".concat(this.metadataHost,"/set"),t,r,{useAPIKey:!0});case 4:return n=e.sent,e.abrupt("return",n.message);case 8:return e.prev=8,e.t0=e.catch(0),I.error("set metadata error",e.t0),e.abrupt("return","");case 12:case"end":return e.stop()}},e,this,[[0,8]])})),function(e,r){return t.apply(this,arguments)})},{key:"lagrangeInterpolation",value:function(e,t){if(e.length!==t.length)return null;for(var r=new M.a(0),n=0;n<e.length;n+=1){for(var i=new M.a(1),o=new M.a(1),s=0;s<e.length;s+=1)if(n!==s){i=(i=i.mul(t[s].neg())).umod(this.ec.curve.n);var a=t[n].sub(t[s]);a=a.umod(this.ec.curve.n),o=o.mul(a).umod(this.ec.curve.n)}var u=i.mul(o.invm(this.ec.curve.n)).umod(this.ec.curve.n);u=u.mul(e[n]).umod(this.ec.curve.n),r=r.add(u)}return r.umod(this.ec.curve.n)}},{key:"generateAddressFromPrivKey",value:function(e){var t=this.ec.keyFromPrivate(e.toString("hex",64),"hex").getPublic().encode("hex").slice(2),r="0x".concat(Object(E.keccak256)(n.from(t,"hex")).slice(26));return Object(E.toChecksumAddress)(r)}},{key:"generateAddressFromPubKey",value:function(e,t){var r=this.ec.keyFromPublic({x:e.toString("hex",64),y:t.toString("hex",64)}).getPublic().encode("hex").slice(2),i="0x".concat(Object(E.keccak256)(n.from(r,"hex")).slice(26));return Object(E.toChecksumAddress)(i)}},{key:"getPublicAddress",value:(e=l()(g.a.mark(function e(t,r,n){var i,o,s,a,u,c,h,l,f,d,p,m,v,y=arguments;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.verifier,o=n.verifierId,s=y.length>3&&void 0!==y[3]&&y[3],e.next=4,H(t,i,o);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:if(c=(u=e.t0).keyResult,!(h=u.errorResult)||!JSON.stringify(h).includes("Verifier + VerifierID has not yet been assigned")){e.next=22;break}return e.next=13,q(t,r,void 0,void 0,i,o);case 13:return e.next=15,Y(t,i,o,1e3);case 15:if(e.t1=e.sent,e.t1){e.next=18;break}e.t1={};case 18:a=e.t1.keyResult,e.next=27;break;case 22:if(!c){e.next=26;break}a=c,e.next=27;break;case 26:throw Error("node results do not match at first lookup ".concat(JSON.stringify(c||{}),", ").concat(JSON.stringify(h||{})));case 27:if(!a){e.next=39;break}return f=(l=a.keys[0]).pub_key_X,d=l.pub_key_Y,e.next=31,this.getMetadata({pub_key_X:f,pub_key_Y:d});case 31:if(p=e.sent,f=(m=this.ec.keyFromPublic({x:f.toString(16),y:d.toString(16)}).getPublic().add(this.ec.keyFromPrivate(p.toString(16)).getPublic())).getX().toString(16),d=m.getY().toString(16),v=this.generateAddressFromPubKey(m.getX(),m.getY()),s){e.next=38;break}return e.abrupt("return",v);case 38:return e.abrupt("return",{address:v,X:f,Y:d,metadataNonce:p});case 39:throw Error("node results do not match at final lookup ".concat(JSON.stringify(c||{}),", ").concat(JSON.stringify(h||{})));case 40:case"end":return e.stop()}},e,this)})),function(t,r,n){return e.apply(this,arguments)})}],[{key:"setAPIKey",value:function(e){Object(b.setAPIKey)(e)}},{key:"setEmbedHost",value:function(e){Object(b.setEmbedHost)(e)}}]),s}();t.default=V}]).default},46207:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{l="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(37180).Buffer}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function a(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function u(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),u=t;u<a;u++){var c=e.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<i,"Invalid character"),o+=s}return o}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return 0>e.cmp(t)?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i,o,s=0;s<this.length;s++)this.words[s]=0;var a=0;if("be"===r)for(s=e.length-1,i=0;s>=0;s-=3)o=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[i]|=o<<a&67108863,this.words[i+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);else if("le"===r)for(s=0,i=0;s<e.length;s+=3)o=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[i]|=o<<a&67108863,this.words[i+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var n,i=0;i<this.length;i++)this.words[i]=0;var o=0,s=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=a(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=a(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,h=r;h<a;h+=n)c=u(e,h,h+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var l=1;for(c=u(e,h,e.length,t),h=0;h<s;h++)l*=t;this.imuln(l),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){c(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(e){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l,f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var h=u>>>26,l=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;h+=(s=(i=0|e.words[p])*(o=0|t.words[d])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|h}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var r,i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=((a<<i|o)&16777215).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=d[e],h=p[e];r="";var l=this.clone();for(l.negative=0;!l.isZero();){var m=l.modrn(h).toString(e);r=(l=l.idivn(h)).isZero()?m+r:f[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},l&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(l,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=e.allocUnsafe?e.allocUnsafe(o):new e(o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n((this.negative|e.negative)==0),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n((this.negative|e.negative)==0),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n((this.negative|e.negative)==0),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),t?this.words[r]=this.words[r]|1<<i:this.words[r]=this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var t,r,n,i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,n=this.iadd(e);return e.negative=1,n._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(t=this,r=e):(t=e,r=this);for(var o=0,s=0;s<r.length;s++)o=(n=(0|t.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&n;for(;0!==o&&s<t.length;s++)o=(n=(0|t.words[s])+o)>>26,this.words[s]=67108863&n;if(0===o&&s<t.length&&t!==this)for(;s<t.length;s++)this.words[s]=t.words[s];return this.length=Math.max(this.length,s),t!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var v=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,c=0,h=0|s[0],l=8191&h,f=h>>>13,d=0|s[1],p=8191&d,m=d>>>13,v=0|s[2],g=8191&v,y=v>>>13,b=0|s[3],w=8191&b,M=b>>>13,_=0|s[4],x=8191&_,O=_>>>13,k=0|s[5],P=8191&k,E=k>>>13,S=0|s[6],I=8191&S,L=S>>>13,j=0|s[7],T=8191&j,R=j>>>13,A=0|s[8],N=8191&A,C=A>>>13,D=0|s[9],B=8191&D,U=D>>>13,G=0|a[0],K=8191&G,F=G>>>13,J=0|a[1],W=8191&J,H=J>>>13,Y=0|a[2],q=8191&Y,z=Y>>>13,X=0|a[3],V=8191&X,Z=X>>>13,$=0|a[4],Q=8191&$,ee=$>>>13,et=0|a[5],er=8191&et,en=et>>>13,ei=0|a[6],eo=8191&ei,es=ei>>>13,ea=0|a[7],eu=8191&ea,ec=ea>>>13,eh=0|a[8],el=8191&eh,ef=eh>>>13,ed=0|a[9],ep=8191&ed,em=ed>>>13;r.negative=e.negative^t.negative,r.length=19;var ev=(c+(n=Math.imul(l,K))|0)+((8191&(i=(i=Math.imul(l,F))+Math.imul(f,K)|0))<<13)|0;c=((o=Math.imul(f,F))+(i>>>13)|0)+(ev>>>26)|0,ev&=67108863,n=Math.imul(p,K),i=(i=Math.imul(p,F))+Math.imul(m,K)|0,o=Math.imul(m,F);var eg=(c+(n=n+Math.imul(l,W)|0)|0)+((8191&(i=(i=i+Math.imul(l,H)|0)+Math.imul(f,W)|0))<<13)|0;c=((o=o+Math.imul(f,H)|0)+(i>>>13)|0)+(eg>>>26)|0,eg&=67108863,n=Math.imul(g,K),i=(i=Math.imul(g,F))+Math.imul(y,K)|0,o=Math.imul(y,F),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,H)|0;var ey=(c+(n=n+Math.imul(l,q)|0)|0)+((8191&(i=(i=i+Math.imul(l,z)|0)+Math.imul(f,q)|0))<<13)|0;c=((o=o+Math.imul(f,z)|0)+(i>>>13)|0)+(ey>>>26)|0,ey&=67108863,n=Math.imul(w,K),i=(i=Math.imul(w,F))+Math.imul(M,K)|0,o=Math.imul(M,F),n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,H)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,H)|0,n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,z)|0;var eb=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,Z)|0)+Math.imul(f,V)|0))<<13)|0;c=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(eb>>>26)|0,eb&=67108863,n=Math.imul(x,K),i=(i=Math.imul(x,F))+Math.imul(O,K)|0,o=Math.imul(O,F),n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,H)|0,n=n+Math.imul(g,q)|0,i=(i=i+Math.imul(g,z)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,z)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,Z)|0;var ew=(c+(n=n+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(ew>>>26)|0,ew&=67108863,n=Math.imul(P,K),i=(i=Math.imul(P,F))+Math.imul(E,K)|0,o=Math.imul(E,F),n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,z)|0)+Math.imul(M,q)|0,o=o+Math.imul(M,z)|0,n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var eM=(c+(n=n+Math.imul(l,er)|0)|0)+((8191&(i=(i=i+Math.imul(l,en)|0)+Math.imul(f,er)|0))<<13)|0;c=((o=o+Math.imul(f,en)|0)+(i>>>13)|0)+(eM>>>26)|0,eM&=67108863,n=Math.imul(I,K),i=(i=Math.imul(I,F))+Math.imul(L,K)|0,o=Math.imul(L,F),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,H)|0,n=n+Math.imul(x,q)|0,i=(i=i+Math.imul(x,z)|0)+Math.imul(O,q)|0,o=o+Math.imul(O,z)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,n=n+Math.imul(p,er)|0,i=(i=i+Math.imul(p,en)|0)+Math.imul(m,er)|0,o=o+Math.imul(m,en)|0;var e_=(c+(n=n+Math.imul(l,eo)|0)|0)+((8191&(i=(i=i+Math.imul(l,es)|0)+Math.imul(f,eo)|0))<<13)|0;c=((o=o+Math.imul(f,es)|0)+(i>>>13)|0)+(e_>>>26)|0,e_&=67108863,n=Math.imul(T,K),i=(i=Math.imul(T,F))+Math.imul(R,K)|0,o=Math.imul(R,F),n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,H)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,H)|0,n=n+Math.imul(P,q)|0,i=(i=i+Math.imul(P,z)|0)+Math.imul(E,q)|0,o=o+Math.imul(E,z)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(g,er)|0,i=(i=i+Math.imul(g,en)|0)+Math.imul(y,er)|0,o=o+Math.imul(y,en)|0,n=n+Math.imul(p,eo)|0,i=(i=i+Math.imul(p,es)|0)+Math.imul(m,eo)|0,o=o+Math.imul(m,es)|0;var ex=(c+(n=n+Math.imul(l,eu)|0)|0)+((8191&(i=(i=i+Math.imul(l,ec)|0)+Math.imul(f,eu)|0))<<13)|0;c=((o=o+Math.imul(f,ec)|0)+(i>>>13)|0)+(ex>>>26)|0,ex&=67108863,n=Math.imul(N,K),i=(i=Math.imul(N,F))+Math.imul(C,K)|0,o=Math.imul(C,F),n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,H)|0)+Math.imul(R,W)|0,o=o+Math.imul(R,H)|0,n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,z)|0)+Math.imul(L,q)|0,o=o+Math.imul(L,z)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(w,er)|0,i=(i=i+Math.imul(w,en)|0)+Math.imul(M,er)|0,o=o+Math.imul(M,en)|0,n=n+Math.imul(g,eo)|0,i=(i=i+Math.imul(g,es)|0)+Math.imul(y,eo)|0,o=o+Math.imul(y,es)|0,n=n+Math.imul(p,eu)|0,i=(i=i+Math.imul(p,ec)|0)+Math.imul(m,eu)|0,o=o+Math.imul(m,ec)|0;var eO=(c+(n=n+Math.imul(l,el)|0)|0)+((8191&(i=(i=i+Math.imul(l,ef)|0)+Math.imul(f,el)|0))<<13)|0;c=((o=o+Math.imul(f,ef)|0)+(i>>>13)|0)+(eO>>>26)|0,eO&=67108863,n=Math.imul(B,K),i=(i=Math.imul(B,F))+Math.imul(U,K)|0,o=Math.imul(U,F),n=n+Math.imul(N,W)|0,i=(i=i+Math.imul(N,H)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,H)|0,n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,z)|0)+Math.imul(R,q)|0,o=o+Math.imul(R,z)|0,n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(x,er)|0,i=(i=i+Math.imul(x,en)|0)+Math.imul(O,er)|0,o=o+Math.imul(O,en)|0,n=n+Math.imul(w,eo)|0,i=(i=i+Math.imul(w,es)|0)+Math.imul(M,eo)|0,o=o+Math.imul(M,es)|0,n=n+Math.imul(g,eu)|0,i=(i=i+Math.imul(g,ec)|0)+Math.imul(y,eu)|0,o=o+Math.imul(y,ec)|0,n=n+Math.imul(p,el)|0,i=(i=i+Math.imul(p,ef)|0)+Math.imul(m,el)|0,o=o+Math.imul(m,ef)|0;var ek=(c+(n=n+Math.imul(l,ep)|0)|0)+((8191&(i=(i=i+Math.imul(l,em)|0)+Math.imul(f,ep)|0))<<13)|0;c=((o=o+Math.imul(f,em)|0)+(i>>>13)|0)+(ek>>>26)|0,ek&=67108863,n=Math.imul(B,W),i=(i=Math.imul(B,H))+Math.imul(U,W)|0,o=Math.imul(U,H),n=n+Math.imul(N,q)|0,i=(i=i+Math.imul(N,z)|0)+Math.imul(C,q)|0,o=o+Math.imul(C,z)|0,n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(P,er)|0,i=(i=i+Math.imul(P,en)|0)+Math.imul(E,er)|0,o=o+Math.imul(E,en)|0,n=n+Math.imul(x,eo)|0,i=(i=i+Math.imul(x,es)|0)+Math.imul(O,eo)|0,o=o+Math.imul(O,es)|0,n=n+Math.imul(w,eu)|0,i=(i=i+Math.imul(w,ec)|0)+Math.imul(M,eu)|0,o=o+Math.imul(M,ec)|0,n=n+Math.imul(g,el)|0,i=(i=i+Math.imul(g,ef)|0)+Math.imul(y,el)|0,o=o+Math.imul(y,ef)|0;var eP=(c+(n=n+Math.imul(p,ep)|0)|0)+((8191&(i=(i=i+Math.imul(p,em)|0)+Math.imul(m,ep)|0))<<13)|0;c=((o=o+Math.imul(m,em)|0)+(i>>>13)|0)+(eP>>>26)|0,eP&=67108863,n=Math.imul(B,q),i=(i=Math.imul(B,z))+Math.imul(U,q)|0,o=Math.imul(U,z),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,n=n+Math.imul(I,er)|0,i=(i=i+Math.imul(I,en)|0)+Math.imul(L,er)|0,o=o+Math.imul(L,en)|0,n=n+Math.imul(P,eo)|0,i=(i=i+Math.imul(P,es)|0)+Math.imul(E,eo)|0,o=o+Math.imul(E,es)|0,n=n+Math.imul(x,eu)|0,i=(i=i+Math.imul(x,ec)|0)+Math.imul(O,eu)|0,o=o+Math.imul(O,ec)|0,n=n+Math.imul(w,el)|0,i=(i=i+Math.imul(w,ef)|0)+Math.imul(M,el)|0,o=o+Math.imul(M,ef)|0;var eE=(c+(n=n+Math.imul(g,ep)|0)|0)+((8191&(i=(i=i+Math.imul(g,em)|0)+Math.imul(y,ep)|0))<<13)|0;c=((o=o+Math.imul(y,em)|0)+(i>>>13)|0)+(eE>>>26)|0,eE&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,Z))+Math.imul(U,V)|0,o=Math.imul(U,Z),n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(T,er)|0,i=(i=i+Math.imul(T,en)|0)+Math.imul(R,er)|0,o=o+Math.imul(R,en)|0,n=n+Math.imul(I,eo)|0,i=(i=i+Math.imul(I,es)|0)+Math.imul(L,eo)|0,o=o+Math.imul(L,es)|0,n=n+Math.imul(P,eu)|0,i=(i=i+Math.imul(P,ec)|0)+Math.imul(E,eu)|0,o=o+Math.imul(E,ec)|0,n=n+Math.imul(x,el)|0,i=(i=i+Math.imul(x,ef)|0)+Math.imul(O,el)|0,o=o+Math.imul(O,ef)|0;var eS=(c+(n=n+Math.imul(w,ep)|0)|0)+((8191&(i=(i=i+Math.imul(w,em)|0)+Math.imul(M,ep)|0))<<13)|0;c=((o=o+Math.imul(M,em)|0)+(i>>>13)|0)+(eS>>>26)|0,eS&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),n=n+Math.imul(N,er)|0,i=(i=i+Math.imul(N,en)|0)+Math.imul(C,er)|0,o=o+Math.imul(C,en)|0,n=n+Math.imul(T,eo)|0,i=(i=i+Math.imul(T,es)|0)+Math.imul(R,eo)|0,o=o+Math.imul(R,es)|0,n=n+Math.imul(I,eu)|0,i=(i=i+Math.imul(I,ec)|0)+Math.imul(L,eu)|0,o=o+Math.imul(L,ec)|0,n=n+Math.imul(P,el)|0,i=(i=i+Math.imul(P,ef)|0)+Math.imul(E,el)|0,o=o+Math.imul(E,ef)|0;var eI=(c+(n=n+Math.imul(x,ep)|0)|0)+((8191&(i=(i=i+Math.imul(x,em)|0)+Math.imul(O,ep)|0))<<13)|0;c=((o=o+Math.imul(O,em)|0)+(i>>>13)|0)+(eI>>>26)|0,eI&=67108863,n=Math.imul(B,er),i=(i=Math.imul(B,en))+Math.imul(U,er)|0,o=Math.imul(U,en),n=n+Math.imul(N,eo)|0,i=(i=i+Math.imul(N,es)|0)+Math.imul(C,eo)|0,o=o+Math.imul(C,es)|0,n=n+Math.imul(T,eu)|0,i=(i=i+Math.imul(T,ec)|0)+Math.imul(R,eu)|0,o=o+Math.imul(R,ec)|0,n=n+Math.imul(I,el)|0,i=(i=i+Math.imul(I,ef)|0)+Math.imul(L,el)|0,o=o+Math.imul(L,ef)|0;var eL=(c+(n=n+Math.imul(P,ep)|0)|0)+((8191&(i=(i=i+Math.imul(P,em)|0)+Math.imul(E,ep)|0))<<13)|0;c=((o=o+Math.imul(E,em)|0)+(i>>>13)|0)+(eL>>>26)|0,eL&=67108863,n=Math.imul(B,eo),i=(i=Math.imul(B,es))+Math.imul(U,eo)|0,o=Math.imul(U,es),n=n+Math.imul(N,eu)|0,i=(i=i+Math.imul(N,ec)|0)+Math.imul(C,eu)|0,o=o+Math.imul(C,ec)|0,n=n+Math.imul(T,el)|0,i=(i=i+Math.imul(T,ef)|0)+Math.imul(R,el)|0,o=o+Math.imul(R,ef)|0;var ej=(c+(n=n+Math.imul(I,ep)|0)|0)+((8191&(i=(i=i+Math.imul(I,em)|0)+Math.imul(L,ep)|0))<<13)|0;c=((o=o+Math.imul(L,em)|0)+(i>>>13)|0)+(ej>>>26)|0,ej&=67108863,n=Math.imul(B,eu),i=(i=Math.imul(B,ec))+Math.imul(U,eu)|0,o=Math.imul(U,ec),n=n+Math.imul(N,el)|0,i=(i=i+Math.imul(N,ef)|0)+Math.imul(C,el)|0,o=o+Math.imul(C,ef)|0;var eT=(c+(n=n+Math.imul(T,ep)|0)|0)+((8191&(i=(i=i+Math.imul(T,em)|0)+Math.imul(R,ep)|0))<<13)|0;c=((o=o+Math.imul(R,em)|0)+(i>>>13)|0)+(eT>>>26)|0,eT&=67108863,n=Math.imul(B,el),i=(i=Math.imul(B,ef))+Math.imul(U,el)|0,o=Math.imul(U,ef);var eR=(c+(n=n+Math.imul(N,ep)|0)|0)+((8191&(i=(i=i+Math.imul(N,em)|0)+Math.imul(C,ep)|0))<<13)|0;c=((o=o+Math.imul(C,em)|0)+(i>>>13)|0)+(eR>>>26)|0,eR&=67108863;var eA=(c+(n=Math.imul(B,ep))|0)+((8191&(i=(i=Math.imul(B,em))+Math.imul(U,ep)|0))<<13)|0;return c=((o=Math.imul(U,em))+(i>>>13)|0)+(eA>>>26)|0,eA&=67108863,u[0]=ev,u[1]=eg,u[2]=ey,u[3]=eb,u[4]=ew,u[5]=eM,u[6]=e_,u[7]=ex,u[8]=eO,u[9]=ek,u[10]=eP,u[11]=eE,u[12]=eS,u[13]=eI,u[14]=eL,u[15]=ej,u[16]=eT,u[17]=eR,u[18]=eA,0!==c&&(u[19]=c,r.length++),r};function g(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var h=o-c,l=(0|e.words[h])*(0|t.words[c]),f=67108863&l;s=s+(l/67108864|0)|0,a=67108863&(f=f+a|0),i+=(s=s+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(e,t){this.x=e,this.y=t}Math.imul||(v=m),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return 10===this.length&&10===e.length?v(this,e,t):n<63?m(this,e,t):g(this,e,t)},y.prototype.makeRBT=function(e){for(var t=Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var l=u,f=c,d=0;d<s;d++){var p=r[h+d],m=n[h+d],v=r[h+d+s],g=n[h+d+s],y=l*v-f*g;g=l*g+f*v,v=y,r[h+d]=p+v,n[h+d]=m+g,r[h+d+s]=p-v,n[h+d+s]=m-g,d!==a&&(y=u*l-c*f,f=u*f+c*l,l=y)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n((-8192&o)==0)},y.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=Array(n),a=Array(n),u=Array(n),c=Array(n),h=Array(n),l=Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,h,l,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-u[d]*l[d];u[d]=a[d]*l[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=Array(this.length+e.length),g(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=(o/67108864|0)+(s>>>26),this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var i,o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o;if(i-=s,i=Math.max(0,i),r){for(var u=0;u<s;u++)r.words[u]=this.words[u];r.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var h=0|this.words[u];this.words[u]=c<<26-o|h>>>o,c=h&a}return r&&0!==c&&(r.words[r.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return!(this.length<=r)&&!!(this.words[r]&1<<t)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)?this:(0!==t&&r++,this.length=Math.min(r,this.length),0!==t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this._strip())},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return(n("number"==typeof e),n(e<67108864),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;o-=67108863&u,a=(o>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r,n=this.length-e.length,i=this.clone(),s=e,a=0|s.words[s.length-1];0!=(n=26-this._countBits(a))&&(s=s.ushln(n),i.iushln(n),a=0|s.words[s.length-1]);var u=i.length-s.length;if("mod"!==t){(r=new o(null)).length=u+1,r.words=Array(r.length);for(var c=0;c<r.length;c++)r.words[c]=0}var h=i.clone()._ishlnsubmul(s,1,u);0===h.negative&&(i=h,r&&(r.words[u]=1));for(var l=u-1;l>=0;l--){var f=(0|i.words[s.length+l])*67108864+(0|i.words[s.length+l-1]);for(f=Math.min(f/a|0,67108863),i._ishlnsubmul(s,f,l);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(s,1,l),i.isZero()||(i.negative^=1);r&&(r.words[l]=f)}return r&&r._strip(),i._strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:r||null,mod:i}},o.prototype.divmod=function(e,t,r){var i,s,a;return(n(!e.isZero()),this.isZero())?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):(this.negative&e.negative)!=0?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||0>this.cmp(e)?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t)},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=67108864%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var h=r.clone(),l=t.clone();!t.isZero();){for(var f=0,d=1;(t.words[0]&d)==0&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;(r.words[0]&m)==0&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t,r=this,i=e.clone();r=0!==r.negative?r.umod(e):r.clone();for(var s=new o(1),a=new o(0),u=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var c=0,h=1;(r.words[0]&h)==0&&c<26;++c,h<<=1);if(c>0)for(r.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,f=1;(i.words[0]&f)==0&&l<26;++l,f<<=1);if(l>0)for(i.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);r.cmp(i)>=0?(r.isub(i),s.isub(a)):(i.isub(r),a.isub(s))}return 0>(t=0===r.cmpn(1)?s:a).cmpn(0)&&t.iadd(e),t},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];a+=o,o=a>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return -1===this.cmpn(e)},o.prototype.lt=function(e){return -1===this.cmp(e)},o.prototype.lten=function(e){return 0>=this.cmpn(e)},o.prototype.lte=function(e){return 0>=this.cmp(e)},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function O(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function P(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new o(null);return e.words=Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},i(M,w),M.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9){e.words[0]=0,e.length=1;return}var i=e.words[9];for(n=10,t.words[t.length++]=4194303&i;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},M.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,w),i(x,w),i(O,w),O.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=(0|e.words[r])*19+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){var t;if(b[e])return b[e];if("k256"===e)t=new M;else if("p224"===e)t=new _;else if("p192"===e)t=new x;else if("p25519"===e)t=new O;else throw Error("Unknown prime "+e);return b[e]=t,t},k.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){n((e.negative|t.negative)==0,"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var m=d,v=0;0!==m.cmp(a);v++)m=m.redSqr();n(v<p);var g=this.pow(l,new o(1).iushln(p-v-1));f=f.redMul(g),l=g.redSqr(),d=d.redMul(l),p=v}return f},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],h=u-1;h>=0;h--){var l=c>>h&1;if(i!==r[0]&&(i=this.sqr(i)),0===l&&0===s){a=0;continue}s<<=1,s|=l,(4==++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)}u=26}return i},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new P(e)},i(P,k),P.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},P.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},P.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):0>i.cmpn(0)&&(o=i.iadd(this.m)),o._forceRed(this)},P.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):0>i.cmpn(0)&&(s=i.iadd(this.m)),s._forceRed(this)},P.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},38326:function(e,t,r){"use strict";r.r(t),r.d(t,{BroadcastChannel:function(){return k},beLeader:function(){return W},clearNodeFolder:function(){return P},createLeaderElection:function(){return H},enforceOptions:function(){return E}});var n,i=r(34155);function o(e){return e||(e=0),new Promise(function(t){return setTimeout(t,e)})}function s(){return Math.random().toString(36).substring(2)}var a=0,u=0;function c(){var e=new Date().getTime();return e===a?1e3*e+ ++u:(a=e,u=0,1e3*e)}var h="[object process]"===Object.prototype.toString.call(void 0!==i?i:0),l=function(){function e(e){this.ttl=e,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(e){return this.set.has(e)},e.prototype.add=function(e){var t=this;this.timeMap.set(e,f()),this.set.add(e),setTimeout(function(){(function(e){for(var t=f()-e.ttl,r=e.set[Symbol.iterator]();;){var n=r.next().value;if(!n||!(e.timeMap.get(n)<t))return;e.timeMap.delete(n),e.set.delete(n)}})(t)},0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function f(){return new Date().getTime()}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var p="messages";function m(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function v(e){var t,r,n,i;return e.closed||!e.messagesCallback?Promise.resolve():(t=e.db,r=e.lastCursorId,n=t.transaction(p).objectStore(p),i=[],new Promise(function(e){(function(){try{var e=IDBKeyRange.bound(r+1,1/0);return n.openCursor(e)}catch(e){return n.openCursor()}})().onsuccess=function(t){var n=t.target.result;n?n.value.id<r+1?n.continue(r+1):(i.push(n.value),n.continue()):e(i)}})).then(function(t){return t.filter(function(e){return!!e}).map(function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t}).filter(function(t){return!(t.uuid===e.uuid||e.eMIs.has(t.id))&&!(t.data.time<e.messagesCallbackTime)}).sort(function(e,t){return e.time-t.time}).forEach(function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))}),Promise.resolve()})}function g(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function y(e){return"pubkey.broadcastChannel-"+e}function b(){if(h)return!1;var e=g();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}var w=new Set,M={create:function(e){var t={name:e,messagesCallback:null};return w.add(t),t},close:function(e){w.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(r){return setTimeout(function(){Array.from(w).filter(function(t){return t.name===e.name}).filter(function(t){return t!==e}).filter(function(e){return!!e.messagesCallback}).forEach(function(e){return e.messagesCallback(t)}),r()},5)})},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:c},_=[{create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),Promise.resolve()}catch(e){return Promise.reject(e)}},canBeUsed:function(){if(h&&"undefined"==typeof window||"function"!=typeof BroadcastChannel)return!1;if(BroadcastChannel._pubkey)throw Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0},type:"native",averageResponseTime:function(){return 150},microSeconds:c},{create:function(e,t){var r;return t=d(t),((r=m().open("pubkey.broadcast-channel-0-"+e,1)).onupgradeneeded=function(e){e.target.result.createObjectStore(p,{keyPath:"id",autoIncrement:!0})},new Promise(function(e,t){r.onerror=function(e){return t(e)},r.onsuccess=function(){e(r.result)}})).then(function(r){var n={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:s(),eMIs:new l(2*t.idb.ttl),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:r};return r.onclose=function(){n.closed=!0,t.idb.onclose&&t.idb.onclose()},function e(t){t.closed||v(t).then(function(){return o(t.options.idb.fallbackInterval)}).then(function(){return e(t)})}(n),n})},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t,v(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){var r,n,i;return r=e.db,n={uuid:e.uuid,time:new Date().getTime(),data:t},i=r.transaction([p],"readwrite"),new Promise(function(e,t){i.oncomplete=function(){return e()},i.onerror=function(e){return t(e)},i.objectStore(p).add(n)})}).then(function(){var t,r,n,i,o;0===Math.floor(11*Math.random()+0)&&(t=e.db,r=e.options.idb.ttl,(n=new Date().getTime()-r,i=t.transaction(p).objectStore(p),o=[],new Promise(function(e){i.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var i=r.value;if(i.time<n)o.push(i),r.continue();else{e(o);return}}else e(o)}})).then(function(e){return Promise.all(e.map(function(e){var r,n;return r=e.id,n=t.transaction([p],"readwrite").objectStore(p).delete(r),new Promise(function(e){n.onsuccess=function(){return e()}})}))}))}),e.writeBlockPromise},canBeUsed:function(){return!h&&!!m()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:c},{create:function(e,t){if(t=d(t),!b())throw Error("BroadcastChannel: localstorage cannot be used");var r,n,i,o=s(),a=new l(t.localstorage.removeTimeout),u={channelName:e,uuid:o,eMIs:a};return u.listener=(r=function(e){!(!u.messagesCallback||e.uuid===o||!e.token||a.has(e.token))&&(e.data.time&&e.data.time<u.messagesCallbackTime||(a.add(e.token),u.messagesCallback(e.data)))},n=y(e),i=function(e){e.key===n&&r(JSON.parse(e.newValue))},window.addEventListener("storage",i),i),u},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(r){o().then(function(){var n=y(e.channelName),i=JSON.stringify({token:s(),time:new Date().getTime(),data:t,uuid:e.uuid});g().setItem(n,i);var o=document.createEvent("Event");o.initEvent("storage",!0,!0),o.key=n,o.newValue=i,window.dispatchEvent(o),r()})})},canBeUsed:b,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:c}];if(h){var x=r(68211);"function"==typeof x.canBeUsed&&_.push(x)}function O(e){var t=[].concat(e.methods,_).filter(Boolean);if(e.type){if("simulate"===e.type)return M;var r=t.find(function(t){return t.type===e.type});if(r)return r;throw Error("method-type "+e.type+" not found")}e.webWorkerSupport||h||(t=t.filter(function(e){return"idb"!==e.type}));var n=t.find(function(e){return e.canBeUsed()});if(n)return n;throw Error("No useable methode found:"+JSON.stringify(_.map(function(e){return e.type})))}var k=function(e,t){var r,i;this.name=e,n&&(t=n),this.options=d(t),this.method=O(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,r=this,((i=r.method.create(r.name,r.options))&&"function"==typeof i.then?0:1)?r._state=i:(r._prepP=i,i.then(function(e){r._state=e}))};function P(e){var t=O(e=d(e));return"node"===t.type?t.clearNodeFolder().then(function(){return!0}):Promise.resolve(!1)}function E(e){n=e}function S(e,t,r){var n={time:e.method.microSeconds(),type:t,data:r};return(e._prepP?e._prepP:Promise.resolve()).then(function(){var t=e.method.postMessage(e._state,n);return e._uMP.add(t),t.catch().then(function(){return e._uMP.delete(t)}),t})}function I(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function L(e,t,r){e._addEL[t].push(r),function(e){if(!e._iL&&I(e)){var t=function(t){e._addEL[t.type].forEach(function(e){t.time>=e.time&&e.fn(t.data)})},r=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,r)}):(e._iL=!0,e.method.onMessage(e._state,t,r))}}(e)}function j(e,t,r){e._addEL[t]=e._addEL[t].filter(function(e){return e!==r}),function(e){if(e._iL&&!I(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}k._pubkey=!0,k.prototype={postMessage:function(e){if(this.closed)throw Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return S(this,"message",e)},postInternal:function(e){return S(this,"internal",e)},set onmessage(fn){var T={time:this.method.microSeconds(),fn:fn};j(this,"message",this._onML),fn&&"function"==typeof fn?(this._onML=T,L(this,"message",T)):this._onML=null},addEventListener:function(e,t){L(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){var r=this._addEL[e].find(function(e){return e.fn===t});j(this,e,r)},close:function(){var e=this;if(!this.closed){this.closed=!0;var t=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],t.then(function(){return Promise.all(Array.from(e._uMP))}).then(function(){return Promise.all(e._befC.map(function(e){return e()}))}).then(function(){return e.method.close(e._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var R=r(9300),A=r.n(R),N=r(199),C=r.n(N),D=A()?C():{add:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0)}}},B=new Set,U=!1;function G(){var e=[];return B.forEach(function(t){e.push(t()),B.delete(t)}),Promise.all(e)}var K={add:function(e){if(U||(U=!0,D.add(G)),"function"!=typeof e)throw Error("Listener is no function");return B.add(e),{remove:function(){return B.delete(e)},run:function(){return B.delete(e),e()}}},runAll:G,removeAll:function(){B.clear()},getSize:function(){return B.size}},F=function(e,t){this._channel=e,this._options=t,this.isLeader=!1,this.isDead=!1,this.token=s(),this._isApl=!1,this._reApply=!1,this._unl=[],this._lstns=[],this._invs=[],this._dpL=function(){},this._dpLC=!1};function J(e,t){var r={context:"leader",action:t,token:e.token};return e._channel.postInternal(r)}function W(e){e.isLeader=!0;var t=K.add(function(){return e.die()});e._unl.push(t);var r=function(t){"leader"===t.context&&"apply"===t.action&&J(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),J(e,"tell"))};return e._channel.addEventListener("internal",r),e._lstns.push(r),J(e,"tell")}function H(e,t){if(e._leaderElector)throw Error("BroadcastChannel already has a leader-elector");(r=t)||(r={}),(r=JSON.parse(JSON.stringify(r))).fallbackInterval||(r.fallbackInterval=3e3),r.responseTime||(r.responseTime=e.method.averageResponseTime(e.options));var r,n=new F(e,t=r);return e._befC.push(function(){return n.die()}),e._leaderElector=n,n}F.prototype={applyOnce:function(){var e=this;if(this.isLeader||this.isDead)return Promise.resolve(!1);if(this._isApl)return this._reApply=!0,Promise.resolve(!1);this._isApl=!0;var t=!1,r=[],n=function(n){"leader"===n.context&&n.token!=e.token&&(r.push(n),"apply"===n.action&&n.token>e.token&&(t=!0),"tell"===n.action&&(t=!0))};return this._channel.addEventListener("internal",n),J(this,"apply").then(function(){return o(e._options.responseTime)}).then(function(){return t?Promise.reject(Error()):J(e,"apply")}).then(function(){return o(e._options.responseTime)}).then(function(){return t?Promise.reject(Error()):J(e)}).then(function(){return W(e)}).then(function(){return!0}).catch(function(){return!1}).then(function(t){return(e._channel.removeEventListener("internal",n),e._isApl=!1,!t&&e._reApply)?(e._reApply=!1,e.applyOnce()):t})},awaitLeadership:function(){var e;return this._aLP||(this._aLP=(e=this,e.isLeader?Promise.resolve():new Promise(function(t){var r=!1;function n(){r||(r=!0,clearInterval(i),e._channel.removeEventListener("internal",o),t(!0))}e.applyOnce().then(function(){e.isLeader&&n()});var i=setInterval(function(){e.applyOnce().then(function(){e.isLeader&&n()})},e._options.fallbackInterval);e._invs.push(i);var o=function(t){"leader"===t.context&&"death"===t.action&&e.applyOnce().then(function(){e.isLeader&&n()})};e._channel.addEventListener("internal",o),e._lstns.push(o)}))),this._aLP},set onduplicate(fn){this._dpL=fn},die:function(){var e=this;if(!this.isDead)return this.isDead=!0,this._lstns.forEach(function(t){return e._channel.removeEventListener("internal",t)}),this._invs.forEach(function(e){return clearInterval(e)}),this._unl.forEach(function(e){e.remove()}),J(this,"death")}}},9996:function(e){"use strict";var t=function(e){var t;return!!e&&"object"==typeof e&&"[object RegExp]"!==(t=Object.prototype.toString.call(e))&&"[object Date]"!==t&&e.$$typeof!==r},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a(Array.isArray(e)?[]:{},e,t):e}function i(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function o(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[])}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,r,u){(u=u||{}).arrayMerge=u.arrayMerge||i,u.isMergeableObject=u.isMergeableObject||t,u.cloneUnlessOtherwiseSpecified=n;var c,h,l=Array.isArray(r);return l!==Array.isArray(e)?n(r,u):l?u.arrayMerge(e,r,u):(h={},(c=u).isMergeableObject(e)&&o(e).forEach(function(t){h[t]=n(e[t],c)}),o(r).forEach(function(t){(!s(e,t)||Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))&&(s(e,t)&&c.isMergeableObject(r[t])?h[t]=(function(e,t){if(!t.customMerge)return a;var r=t.customMerge(e);return"function"==typeof r?r:a})(t,c)(e[t],r[t],c):h[t]=n(r[t],c))}),h)}a.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,r){return a(e,r,t)},{})},e.exports=a},96245:function(e,t,r){"use strict";function n(e){this.message=e}r.r(t),r.d(t,{InvalidTokenError:function(){return o}}),n.prototype=Error(),n.prototype.name="InvalidCharacterError";var i="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,o=0,s=0,a="";i=t.charAt(s++);~i&&(r=o%4?64*r+i:i,o++%4)&&(a+=String.fromCharCode(255&r>>(-2*o&6))))i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return a};function o(e){this.message=e}o.prototype=Error(),o.prototype.name="InvalidTokenError",t.default=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(function(e){var t,r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw"Illegal base64url string!"}try{return t=r,decodeURIComponent(i(t).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return i(r)}}(e.split(".")[r]))}catch(e){throw new o("Invalid token specified: "+e.message)}}},7113:function(e){"use strict";function t(){var e=Object.create(null),t=0,r=0,n=0,i=!1;function o(t){n--,delete e[t]}this.put=function(t,r,s,a){if(i&&console.log("caching: %s = %j (@%s)",t,r,s),void 0!==s&&("number"!=typeof s||isNaN(s)||s<=0))throw Error("Cache timeout must be a positive number");if(void 0!==a&&"function"!=typeof a)throw Error("Cache timeout callback must be a function");var u=e[t];u?clearTimeout(u.timeout):n++;var c={value:r,expire:s+Date.now()};return isNaN(c.expire)||(c.timeout=setTimeout((function(){o(t),a&&a(t,r)}).bind(this),s)),e[t]=c,r},this.del=function(t){var r=!0,n=e[t];return n?(clearTimeout(n.timeout),!isNaN(n.expire)&&n.expire<Date.now()&&(r=!1)):r=!1,r&&o(t),r},this.clear=function(){for(var o in e)clearTimeout(e[o].timeout);n=0,e=Object.create(null),i&&(t=0,r=0)},this.get=function(o){var s=e[o];if(void 0!==s){if(isNaN(s.expire)||s.expire>=Date.now())return i&&t++,s.value;i&&r++,n--,delete e[o]}else i&&r++;return null},this.size=function(){return n},this.memsize=function(){var t,r=0;for(t in e)r++;return r},this.debug=function(e){i=e},this.hits=function(){return t},this.misses=function(){return r},this.keys=function(){return Object.keys(e)},this.exportJson=function(){var t={};for(var r in e){var n=e[r];t[r]={value:n.value,expire:n.expire||"NaN"}}return JSON.stringify(t)},this.importJson=function(t,r){var n=JSON.parse(t),o=Date.now(),s=r&&r.skipDuplicates;for(var a in n)if(n.hasOwnProperty(a)){if(s&&e[a]){i&&console.log("Skipping duplicate imported key '%s'",a);continue}var u=n[a],c=u.expire-o;if(c<=0){this.del(a);continue}c=c>0?c:void 0,this.put(a,u.value,c)}return this.size()}}e.exports=new t,e.exports.Cache=t},9300:function(e){e.exports=!1},73897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},85372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},63405:function(e,t,r){var n=r(73897);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},66115:function(e){e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},17156:function(e){function t(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(e){r(e);return}a.done?t(u):Promise.resolve(u).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise(function(i,o){var s=e.apply(r,n);function a(e){t(s,i,o,a,u,"next",e)}function u(e){t(s,i,o,a,u,"throw",e)}a(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},56690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,r){var n=r(6015),i=r(69617);function o(t,r,s){return i()?e.exports=o=Reflect.construct.bind():e.exports=o=function(e,t,r){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return r&&n(o,r.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports,o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},89728:function(e,t,r){var n=r(64062);function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}e.exports=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},38416:function(e,t,r){var n=r(64062);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},73808:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},61655:function(e,t,r){var n=r(6015);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},91086:function(e){e.exports=function(e){return -1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},69617:function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},79498:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},68872:function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,s,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},12218:function(e){e.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},42281:function(e){e.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},70215:function(e,t,r){var n=r(7071);e.exports=function(e,t){if(null==e)return{};var r,i,o=n(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},94993:function(e,t,r){var n=r(18698).default,i=r(66115);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},27424:function(e,t,r){var n=r(85372),i=r(68872),o=r(86116),s=r(12218);e.exports=function(e,t){return n(e)||i(e,t)||o(e,t)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,r){var n=r(63405),i=r(79498),o=r(86116),s=r(42281);e.exports=function(e){return n(e)||i(e)||o(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},95036:function(e,t,r){var n=r(18698).default;e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},64062:function(e,t,r){var n=r(18698).default,i=r(95036);e.exports=function(e){var t=i(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},86116:function(e,t,r){var n=r(73897);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}},e.exports.__esModule=!0,e.exports.default=e.exports},33496:function(e,t,r){var n=r(73808),i=r(6015),o=r(91086),s=r(3515);function a(t){var r="function"==typeof Map?new Map:void 0;return e.exports=a=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return s(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,a(t)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},66529:function(e,t,r){"use strict";r.d(t,{l:function(){return h}});var n=r(18020),i=r(16554),o=r(27440),s=r(33179),a=r(65548),u=r(25432),c=r(85893),h=(0,i.G)(function(e,t){var r;let i=(0,o.mq)("FormLabel",e),h=(0,s.Lr)(e),{className:f,children:d,requiredIndicator:p=(0,c.jsx)(l,{}),optionalIndicator:m=null,...v}=h,g=(0,n.NJ)(),y=null!=(r=null==g?void 0:g.getLabelProps(v,t))?r:{ref:t,...v};return(0,c.jsxs)(a.m.label,{...y,className:(0,u.cx)("chakra-form__label",h.className),__css:{display:"block",textAlign:"start",...i},children:[d,(null==g?void 0:g.isRequired)?p:m]})});h.displayName="FormLabel";var l=(0,i.G)(function(e,t){let r=(0,n.NJ)(),i=(0,n.e)();if(!(null==r?void 0:r.isRequired))return null;let o=(0,u.cx)("chakra-form__required-indicator",e.className);return(0,c.jsx)(a.m.span,{...null==r?void 0:r.getRequiredIndicatorProps(e,t),__css:i.requiredIndicator,className:o})});l.displayName="RequiredIndicator"}}]);