(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{ePsk:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z}));var a=n("o0o1"),r=n.n(a),o=n("HaE+"),i=n("q1tI"),c=n.n(i),s=n("XZ7F"),u=n("mf32"),l=n("BMxC"),f=n("Weur"),p=n("Yn+B"),d=n("eJLp"),m=n("sK1y"),g=n("pboS"),h=n("FpzS"),b=n("IP4Q"),w=n("MKZ1"),v=n("jgTY"),O=n("LqLE"),S=n("bQFp"),j=n("wZsY"),y=n("S5RI"),x=n.n(y),k=n("8Kt/"),C=n.n(k),T=n("Z6YE"),N=n("nOHt"),E=n("Ute3"),I=n("Y1ui"),A=n.n(I),_=n("a6RD"),F=n.n(_),L=n("iBPG"),M=n("zIq6"),H=n("N39q"),P=n("21eR"),V=n("NFKh"),G=n.n(V),R=n("IujW"),D=n.n(R),K=n("wH4i"),U=n.n(K),W=n("PLxQ"),B=n("zNBI"),J=n("fksj"),q=n("Q/0U"),z=n.n(q),Y=c.a.createElement,$=F()((function(){return Promise.all([n.e(14),n.e(15),n.e(26)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),Q=F()((function(){return Promise.all([n.e(14),n.e(15),n.e(28)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}}),X=F()((function(){return Promise.all([n.e(14),n.e(15),n.e(27)]).then(n.bind(null,"D3uo"))}),{loadableGenerated:{webpack:function(){return["D3uo"]},modules:["./OfferModal"]}});function Z(){var e,t,n=Object(T.b)(),a=n.account,y=n.chainId,k=n.library,I=Object(N.useRouter)().query,_=Object(i.useState)(!1),F=_[0],V=_[1],R=Object(i.useState)(I.key),K=R[0],q=R[1],Z=Object(i.useState)(I.offer||!1),ee=Z[0],te=(Z[1],Object(i.useState)(I.framed||!0)),ne=te[0],ae=(te[1],Object(i.useState)(I.id)),re=ae[0],oe=(ae[1],Object(i.useState)(I.experimental)),ie=(oe[0],oe[1],Object(i.useState)("")),ce=ie[0],se=ie[1],ue=Object(i.useState)(""),le=ue[0],fe=ue[1],pe=Object(i.useState)(""),de=pe[0],me=pe[1],ge=Object(i.useState)(""),he=ge[0],be=ge[1],we=Object(i.useState)(""),ve=we[0],Oe=we[1],Se=Object(i.useState)(""),je=Se[0],ye=Se[1],xe=Object(i.useState)(""),ke=xe[0],Ce=xe[1],Te=Object(i.useState)([]),Ne=Te[0],Ee=Te[1],Ie=Object(i.useState)(!1),Ae=Ie[0],_e=Ie[1],Fe=Object(i.useState)([]),Le=Fe[0],Me=Fe[1],He=Object(i.useState)([]),Pe=He[0],Ve=He[1],Ge=Object(i.useState)(!1),Re=Ge[0],De=Ge[1],Ke=Object(i.useState)(0),Ue=Ke[0],We=Ke[1],Be=Object(i.useState)(null),Je=Be[0],qe=Be[1],ze=Object(i.useState)(null),Ye=(ze[0],ze[1]),$e=Object(i.useState)(null),Qe=$e[0],Xe=$e[1],Ze=Object(i.useState)(""),et=Ze[0],tt=Ze[1],nt=Object(i.useState)(""),at=nt[0],rt=nt[1],ot=Object(i.useState)({loaded:!1}),it=ot[0],ct=ot[1],st=Object(i.useState)(!1),ut=st[0],lt=st[1],ft=Object(i.useState)(!1),pt=ft[0],dt=ft[1],mt=Object(i.useState)("claimed"),gt=mt[0],ht=mt[1],bt=Object(i.useState)(null),wt=bt[0],vt=bt[1],Ot=Object(i.useState)(""),St=Ot[0],jt=Ot[1],yt=Object(i.useState)(""),xt=yt[0],kt=yt[1],Ct=Object(i.useState)(""),Tt=Ct[0],Nt=Ct[1],Et=Object(i.useState)([]),It=Et[0],At=Et[1],_t=Object(i.useState)(!1),Ft=_t[0],Lt=_t[1],Mt=Object(i.useState)(""),Ht=Mt[0],Pt=Mt[1],Vt=Object(i.useState)(!1),Gt=Vt[0],Rt=Vt[1],Dt=Object(i.useState)(""),Kt=Dt[0],Ut=Dt[1],Wt=Object(i.useState)(!1),Bt=Wt[0],Jt=Wt[1],qt=Object(i.useState)(!1),zt=(qt[0],qt[1],Object(i.useState)(!1)),Yt=zt[0],$t=zt[1],Qt=Object(i.useState)(!1),Xt=Qt[0],Zt=Qt[1],en=Object(i.useState)(!1),tn=en[0],nn=en[1],an=Object(i.useState)(""),rn=an[0],on=an[1],cn=Object(i.useState)(!1),sn=cn[0],un=cn[1],ln=Object(i.useState)(!1),fn=ln[0],pn=ln[1],dn=Object(i.useState)(null),mn=dn[0],gn=dn[1],hn=Object(i.useState)(!1),bn=hn[0],wn=hn[1],vn=Object(i.useState)(null),On=vn[0],Sn=vn[1],jn=Object(i.useState)(function(){return sa.apply(this,arguments)}()),yn=jn[0],xn=(jn[1],Object(i.useState)(!1)),kn=xn[0],Cn=xn[1],Tn=Object(i.useState)(null),Nn=Tn[0],En=Tn[1],In=Object(i.useState)(null),An=In[0],_n=In[1],Fn=Object(i.useState)(null),Ln=Fn[0],Mn=Fn[1],Hn=Object(i.useState)(!1),Pn=Hn[0],Vn=(Hn[1],Object(i.useState)(!1)),Gn=Vn[0],Rn=Vn[1],Dn=Object(P.b)(H.o.vaultHandler[y],H.o.vaultHandlerAbi,!0),Kn=Object(P.b)(H.o.emblemVault[y],H.o.emblemAbi,!0),Un=Object(s.a)(),Wn=Un.isOpen,Bn=Un.onOpen,Jn=Un.onClose,qn=Object(s.a)(),zn=qn.isOpen,Yn=qn.onOpen,$n=qn.onClose,Qn=Object(s.a)(),Xn=Qn.isOpen,Zn=Qn.onOpen,ea=Qn.onClose,ta=Object(s.a)(),na=ta.isOpen,aa=ta.onToggle,ra=Object(s.a)(),oa=ra.isOpen,ia=ra.onToggle,ca=Object(u.c)().colorMode;function sa(){return(sa=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new x.a({baseUrl:"".concat(window.location.origin,"/serviceworker"),enableLogging:!0,network:"testnet"}),e.next=3,t.init({skipSw:!0,skipInit:!0,skipPrefetch:!0});case 3:return console.log("Initialized Torus"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ua=function(e,t){return fetch(H.g+"/liveliness",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:y.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,Cn(n.live),console.log("Liveliness check",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t()},la=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ba(),e.next=3,fetch(H.g+"/meta/"+re+"?experimental=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).image_ipfs&&fa(n.image_ipfs),n.name?(da(n),ha(n),Lt(!1),Jt(!1)):(ct({loaded:!0}),Jt(!0)),!Re&&!Ae&&ma([],re,(function(e){e&&Ee(e)}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fa=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gateway.ipfs.io/ipfs/"+t,{method:"GET",headers:{}});case 2:return n=e.sent,e.next=5,n.text();case 5:a=e.sent,document.querySelector("img.d-block").src=a,console.log(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pa=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H.g+"/witness/"+re,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:y.toString()}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(a=e.sent).signature){e.next=11;break}return console.log("witness",a),e.abrupt("return",t(a));case 11:return e.abrupt("return",t(!1));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),da=function(e){ne&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+ne),e.ciphertextV2&&(be(e.ciphertextV2),console.log("ciphertextV2",e.ciphertextV2)),se(e.name),ye(e.image),Ce(e.ownedImage||null),Oe(e.description),We(e.totalValue||0),Ee(Ne.concat(e.values)),Me(e.attributes.filter((function(e){return"key"===e.trait_type}))),Ve(e.addresses),fe(e.ipfs||null),me(e.image_ipfs||null),0==e.live&&ua(e.tokenId,(function(){})),Cn(0!=e.live),En(e.nonce),_n(e.signature),Mn(e.to),Ye(e.network),qe("mainnet"==e.network?1:"rinkeby"==e.network?4:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:97),ht(e.status),"claimed"===gt&&vt(e.claimedBy),ct({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;De(t)},ma=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ae){e.next=2;break}return e.abrupt("return",a(!1));case 2:return _e(!0),e.next=5,fetch(H.g+"/vault/balance/"+n+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 5:return o=e.sent,e.next=8,o.json();case 8:if(i=e.sent,console.log("responce",o,i),!(i.balances.length>0)){e.next=14;break}return e.abrupt("return",a(t.concat(i.balances)));case 14:return e.abrupt("return",a(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ga=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){var i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H.g+"/vault/balance/"+n+"/"+a,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return i=e.sent,e.next=5,i.json();case 5:if(c=e.sent,console.log("responce",i,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt("return",o(t.concat(c.balances)));case 11:return e.abrupt("return",o(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ha=function(e){localStorage.setItem(a+"_"+y+"_"+re+"_vault",JSON.stringify(e))},ba=function(){var e=JSON.parse(localStorage.getItem(a+"_"+y+"_"+re+"_vault"));e&&(ct({loaded:!0}),da(e),Lt(!0))},wa=function(){var e=localStorage.getItem(a+"_"+y+"_"+re+"_mintPassword");e&&tn&&q(e)},va=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainid",y.toString()),o.append("Content-Type","application/json"),i=JSON.stringify({signature:t,tokenId:n}),e.next=6,fetch("https://tor-us-signer.vercel.app/sign",{method:"POST",headers:o,body:i,redirect:"follow"});case 6:return c=e.sent,e.next=9,c.json();case 9:return s=e.sent,e.abrupt("return",a(s));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Oa=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!1,e.next=3,yn;case 3:return e.next=5,e.sent.getTorusKey("tor-us-signer-vercel",t,{verifier_id:t},n).catch((function(e){o=e.message}));case 5:if(i=e.sent,!o){e.next=11;break}return console.log("error",o),e.abrupt("return",a(!1));case 11:return e.abrupt("return",a(i));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Sa=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){var i,c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append("chainId",y.toString()),i.append("service","evmetadata"),i.append("Content-Type","application/json"),c=JSON.stringify({signature:t,coin:a}),e.next=7,fetch(H.g+"/address/"+n,{method:"POST",headers:i,body:c,redirect:"follow"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt("return",o(u));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ja=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainId",y.toString()),o.append("service","evmetadata"),o.append("Content-Type","application/json"),i=JSON.stringify({signature:t}),e.next=7,fetch(H.g+"/embed/"+n,{method:"POST",headers:o,body:i,redirect:"follow"});case 7:return c=e.sent,e.next=10,c.json();case 10:return s=e.sent,e.abrupt("return",a(s));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ya=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){return(i=Object(o.a)(r.a.mark((function e(){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn.getPreTransfer(re);case 2:return n=e.sent,e.next=5,Kn.isApprovedForAll(a,H.o.vaultHandler[y]);case 5:o=e.sent,V(o),nn("0x0000000000000000000000000000000000000000"!==n._from),Sn(t),lt(t===a),wa();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)},n=function(){return i.apply(this,arguments)},!1,e.prev=3,e.next=6,Kn.ownerOf(re);case 6:t=e.sent,n(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),t="0x0000000000000000000000000000000000000000",n();case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){}));var xa=function(e){return console.log(e,Pe.filter((function(t){return t.coin==e})).length>0),Pe.filter((function(t){return t.coin==e})).length>0},ka=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(a).signMessage("Renew: "+re).then((function(e){var n=Pe.filter((function(e){return"NMC"==e.coin}))[0].address;console.log("signature",e,t),fetch(H.g+"/nmc/renew/"+n,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:y.toString()},body:JSON.stringify({tokenId:re,signature:e,name:t})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("Requested Renew",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ca=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(a).signMessage("Claim: "+re).then((function(e){va(e,re,(function(e){Oa(re,e.token,(function(e){var t=G.a.AES.decrypt(he,e.privateKey),n=JSON.parse(t.toString(G.a.enc.Utf8));At(n.values),jt(n.phrase);var a=window.phrasePathToKey(n.phrase,Pe.filter((function(e){return"BTC"==e.coin}))[0].path);kt(a);var r=window.phrasePathToKey(n.phrase,Pe.filter((function(e){return"ETH"==e.coin}))[0].path);Nt(r),Pe.forEach((function(e){e.key=window.phrasePathToKey(n.phrase,e.path)})),Yn()}))}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ta=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(a).signMessage("Address: "+re).then((function(e){Sa(e,re,t,(function(e){la()}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Na=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(a).signMessage("Embed: "+re).then((function(e){ja(e,re,(function(e){ye(e.ownedImage)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ea=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kn.burn(re).then((function(e){var t=e.hash;dt(!0),setTimeout((function(){Xe(t)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ia=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a,o,i,c,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var r=0;r<o-c;r++){var l=Math.floor(t.length*Math.random()),f=t.charAt(l);s+=f}i==a-1&&c++,i==a&&(u+=n.charAt(c-1),i=0),Pt(u+s),s=""},!Gt){e.next=3;break}return e.abrupt("return");case 3:Rt(!0),t="abcdefghijklmnopqrstuvwxyz",5,o=(n="Decrypting").length,i=0,c=0,s="",u="",function e(t){setTimeout((function(){--t?e(t):Rt(!1),l(t),i+=1}),5)}(o*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Aa(e){return e.split("\n\n\n\n")[0].trim()}function _a(e){Kt&&(e=Kt),Ia(),console.log(Pe);var t=Pe[0].address.replace("private:","");try{var n=G.a.AES.decrypt(t,e);JSON.parse(n.toString(G.a.enc.Utf8)),De(!1),Ut(e),Ve(function(e){return Pe.forEach((function(t){if(t.address.includes("private")){var n=t.address.replace("private:","");t.address=function(e,t){var n=G.a.AES.decrypt(e,t);return JSON.parse(n.toString(G.a.enc.Utf8))}(n,e)}})),Pe}(e));var a=Pe.filter((function(e){return"ETH"===e.coin}))[0].address,r=Pe.filter((function(e){return"BTC"===e.coin}))[0].address;console.log("SUCCESS",Pe),ga([],a,r,(function(e){Ee(e)}))}catch(o){console.log("WTF",o)}}return Object(i.useEffect)((function(){la()}),[]),Object(i.useEffect)((function(){a&&y&&Je&&y==Je&&ya()})),Y(c.a.Fragment,null,Y(C.a,null,Y("meta",{name:"twitter:card",content:"summary_large_image"}),Y("meta",{name:"twitter:site",content:"Emblem.Finance"}),Y("meta",{name:"twitter:title",content:ce}),Y("meta",{name:"twitter:description",content:Aa(ve)}),Y("meta",{name:"twitter:image",content:je}),Y("script",{dangerouslySetInnerHTML:{__html:"\n              // $(\".NFT\").tilt({    \n              //     maxTilt: 3\n              // });\n              $(\".NFT\").trigger('mouseenter');\n              $(\".NFT\").trigger('mouseclick'), '.NFT';\n              "}})),Y($,{isOpen:Wn,onClose:Jn,addrCoin:et,addrAddr:at}),Y(Q,{isOpen:zn,onClose:$n,mnemonic:St,privKeyBTC:xt,privKeyETH:Tt,privValues:It,addresses:Pe}),ee?Y(X,{isOpen:Xn,onClose:ea,tokenId:re,mine:ut}):null,Y(A.a,{loaded:it.loaded},Y(l.a,{height:"40px"}),Ft?Y(E.a,null):"",Bt?Y(p.a,{align:"center"},Y(S.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),Y(m.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",Y(g.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):Y(f.a,{width:"full",align:"center",justifyContent:"center"},Y(l.a,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:Je!=y?"orange.500":"claimed"==gt?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},Y(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500"},"Vault Network: ",L.a[Je]),Y(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center"},ce,!Re&&Ue>0?": ~$"+Ue.toLocaleString():null),Y(p.a,{className:"NFT-content",align:"center"},Ne.length&&Ne.filter((function(e){return"nft"==e.type})).length>0?Y(B.a,{name:ce,image:je,items:Ne.map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):Y(W.b,{className:"d-block w-100 NFT-image",url:je}),ut&&ke?Y(d.a,{onClick:function(){Na()}},"(OWNED) Show Full Embed"):null),Y(p.a,{align:"center"},Y(l.a,{mt:"2",ml:"4",lineHeight:"tight"},Y(p.a,null,Y(m.a,{fontSize:"xs"},Je==y?Y(g.a,{href:"./vaultlist?address="+On},"Owner: ",On):null),Y(m.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md"},Y(D.a,{plugins:[U.a],children:Aa(ve)}))))),Y(l.a,{p:"6"},Re?Y(l.a,{mb:5},Y(m.a,{pb:2,color:Ht?"green.500":null},Ht||"Contents hidden. Enter password to unlock."),Y(h.a,{type:"password",id:"vault-password",onChange:function(e){return _a(e.target.value)},"aria-describedby":"password-helper-text"})):Y(l.a,{d:"flex",backgroundColor:"light"==ca?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content"},Y(l.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},Y(m.a,{as:"h4",mt:2,fontWeight:"semibold"},"Current Contents:  ",Y("button",{onClick:function(){ma([],re,(function(e){_e(!1),Ee(e)}))}}," [Refresh Balances]")),Y(m.a,{as:"p",color:"dark"==ca?"lightgreen":"forestgreen"},"$",Number(Ue.toFixed(4)).toLocaleString()),Ne.length?Ne.map((function(e){return Y(p.a,null,Y(J.a,{colorMode:ca,coin:e,mine:"claimed"===gt&&wt===a||ut,onRenew:ka}))})):Y(E.a,null),Le.length?Le.map((function(e){return Y(m.a,null,"Data: ",e.attribute_key)})):Le.length||Ne.length?null:Y(m.a,null,"Nothing in here! Fill 'er up!"))),Re?null:Y(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(b.a,{justifyContent:"space-between",spacing:6},Y(p.a,null,Y(m.a,null,"Deposit Addresses"),Y(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},Pe.map((function(e){return Y(d.a,{className:"nft_button",ml:2,mt:2,"font-weight":"100 !important",key:e.address,onClick:function(){tt(e.coin),rt(e.address),Bn()}},"ETH"==e.coin?e.coin+"":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin)}))),(ut||"claimed"===gt)&&Pe.length<9?Y(c.a.Fragment,null,Y("button",{className:"nft_button",onClick:function(){ia()}},"Manage Addresses"),Y(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},Y(w.a,{isOpen:oa},xa("DOGE")?null:Y(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Ta("DOGE")}},"Add DOGE"),xa("DGB")?null:Y(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Ta("DGB")}},"Add Digibyte"),xa("NMC")?null:Y(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Ta("NMC")}},"Add Namecoin"),xa("LTC")?null:Y(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Ta("LTC")}},"Add Litecoin"),xa("MONA")?null:Y(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Ta("MONA")}},"Add Mona")))):null,Y(m.a,null,"Load Vault with Credit Card"),Y(j.a,null,Pe.map((function(t){if("ETH"==t.coin||"BTC"==t.coin)return Y(d.a,{className:"nft_button",width:"165px",key:t.address,onClick:function(){var n,a;n=t.address,a=t.coin,(e=new z.a({apiKey:"e8bed1bd-6844-4eb1-973a-7a11a48fafab",environment:"PRODUCTION",defaultCryptoCurrency:a||"ETH",walletAddress:n||"",themeColor:"000000",fiatCurrency:"USD",email:"",redirectURL:"",hostURL:window.location.origin,widgetHeight:"550px",widgetWidth:"450px"})).on(e.ALL_EVENTS,(function(e){console.log(e)})),e.on(e.EVENTS.TRANSAK_ORDER_SUCCESSFUL,(function(t){console.log(t),e.close()})),e.init()}},"Buy ","ETH"==t.coin?t.coin+"/ERC20":t.coin)})))))),"claimed"===gt||1!==Je&&4!==Je&&137!==Je?null:Y(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(p.a,{d:"flex",width:"100%"},Y(d.a,{className:"nft_button",width:"100%",onClick:function(){location.href="https://"+(4==Je?"rinkeby.":"")+"opensea.io/assets/"+(137==Je?"matic/":"")+H.o.emblemVault[Je]+"/"+re}},"View Vault on Opensea"),ee?Y(d.a,{className:"",onClick:function(){Zn()}},ut?"My Offers":"Make an Offer"," (NFT\xb2NFT)"):null)),"claimed"!==gt&&ut&&!tn?Y(c.a.Fragment,null,Y(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",width:"100%"},Y(p.a,{direction:"column",align:"center",width:"100%"},Y(d.a,{className:"nft_button",width:"100%",onClick:aa},"Transfer Vault"),Y(w.a,{isOpen:na},Y(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},Y(v.a,{htmlFor:"owner-address"},"Address"),Y(h.a,{mt:1,type:"text",id:"transferAddress",value:mn||"",onChange:function(e){console.log("Transfer to",e.target.value),gn(e.target.value)},autoComplete:"off"})),Y(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},Y(d.a,{isDisabled:!Object(L.j)(mn),onClick:function(){aa(),wn(!0),Kn.transferFrom(a,mn,re).then((function(e){var t=e.hash;Xe(t)})).catch((function(e){}))}},"Transfer Now")))))):null,ut&&!tn?Y(c.a.Fragment,null,Y(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(d.a,{className:"nft_button",width:"100%",onClick:function(){if(!F)return Zt(!0),void Kn.setApprovalForAll(H.o.vaultHandler[y],!0).then((function(e){var t=e.hash;setTimeout((function(){Xe(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):Zt(!1)}));var e=G.a.lib.WordArray.random(16).toString(),n=G.a.SHA256(e).toString();console.log("plain",e),console.log("sha",n),on(e),t=n,setTimeout((function(){console.log("transferImage","0x"+t),pn(!0),Dn.addPreTransfer(re,"0x"+t).then((function(e){var t=e.hash;Xe(t),console.log("Set Pre Transfering True",fn)})).catch((function(e){(null===e||void 0===e?void 0:e.code)&&(console.log("Error?"),pn(!1),un(!1),on(""))}))}),500)}}," ",F?"Get Link (Send Vault Via Link)":"Approve Gifting"," "))):null,(sn||K)&&tn?Y(l.a,null,Y(g.a,{href:location.protocol+"//"+location.host+"/nft?id="+re+"&key="+(rn||K)},"Copy Gift Link"),Y(m.a,null,"Password: ",rn||K)):null,tn&&wt!==a?Y(c.a.Fragment,null,Y(d.a,{mt:2,width:"100%",onClick:function(){console.log(K),$t(!0),pa((function(e){Dn.transferWithCode(re,K,a,e.nonce,e.signature).then((function(e){var t=e.hash;setTimeout((function(){Xe(t)}),100)})).catch((function(e){$t(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.log("tx failed.",e)}))}))}},"Accept"),Y(h.a,{mt:2,type:"password",id:"mintPassword",minLength:3,maxLength:200,value:K||"",onChange:function(e){console.log("grrr",e.target.value,K),q(e.target.value)},autoComplete:"off"})):null,"claimed"!==gt&&a&&Je===y&&ut?Y(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(d.a,{width:"100%",onClick:function(){Ea()},isDisabled:pt},pt?"Claiming ...":"Claim (Crack Open Vault)")):"claimed"===gt&&wt===a&&Je===y?Y(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(d.a,{width:"100%",onClick:Ca},"Get Keys")):null,!kn&&Nn&&An&&he&&Ln==a&&Je==y&&"claimed"!==gt?Y(d.a,{width:"100%",mt:5,onClick:function(){Rn(!0);var e=Pe.filter((function(e){return"ETH"==e.coin}))[0].address;Dn.buyWithSignature(a,re,e,Nn,An).then((function(e){var t=e.hash;setTimeout((function(){Xe(t)}),100)})).catch((function(e){}))}},"Mint Me "):null,Pn?Y(d.a,{isDisabled:!0,type:"submit"},"Making Vault ..."):null),le?Y(p.a,null,Y(j.a,{align:"center"},Y(g.a,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+le,isExternal:!0},"View Metadata on IPFS "),de?Y(g.a,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+de,isExternal:!0},"View Image on IPFS "):null)):null,Y(p.a,{direction:"column",align:"center"},"claimed"==gt?Y(m.a,{color:"green.500"},"CLAIMED"):null),Qe?Y(O.a,{status:"info"},Y(O.b,null),Yt?"Accepting Your Gift Vault":pt?"Claiming your Vault ...":Xt?"Handling Approval Flow ...":bn?"Transfering Vault ...":Gn?"Minting Vault":"Generating Gift Link ..."):null)),Qe?Y(M.a,{hash:Qe,onComplete:function(){var e;!pt||Yt||fn?fn?(localStorage.setItem(a+"_"+y+"_"+re+"_mintPassword",rn),un(!0),pn(!1),Xe(null)):Yt?($t(!1),la(),Xe(null)):Xt?(Zt(!1),la(),Xe(null)):bn?(wn(!1),la(),Xe(null)):Gn?ua(re,(function(){Rn(!1),Cn(!0)})):(console.log("minting",Gn),console.log("claiming",pt),console.log("accepting",Yt),console.log("preTransfering",fn),console.log("approving",Xt),console.log("Unknown state")):(Xe(null),ht("claimed"),dt(!1),vt(a),e=function(){location.href=location.origin+"/nft?id="+re},fetch(H.g+"/web3/selfClaimLogs?chainId="+y.toString(),{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log("Log check",a),t.abrupt("return",e());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,Y(l.a,{height:"40px"})))}}}]);