(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{ePsk:function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));var a=n("o0o1"),r=n.n(a),o=n("HaE+"),c=n("q1tI"),i=n.n(c),s=n("XZ7F"),u=n("mf32"),l=n("BMxC"),f=n("Weur"),d=n("Yn+B"),p=n("eJLp"),m=n("sK1y"),g=n("pboS"),h=n("wCB1"),b=n("FpzS"),v=n("IP4Q"),w=n("MKZ1"),O=n("jgTY"),j=n("LqLE"),S=n("bQFp"),y=n("wZsY"),k=n("8Kt/"),x=n.n(k),C=n("Z6YE"),T=n("nOHt"),N=n("Ute3"),A=n("a6RD"),I=n.n(A),E=n("iBPG"),M=n("8XlW"),_=n("zIq6"),F=n("N39q"),H=n("21eR"),V=n("NFKh"),L=n.n(V),P=n("IujW"),D=n.n(P),G=n("wH4i"),J=n.n(G),W=n("PLxQ"),K=n("zNBI"),B=n("fksj"),R=(n("Q/0U"),n("r9y0")),q=n("diTF"),U=n("PSLY"),z=n("FGWJ"),X=i.a.createElement,Y=I()((function(){return Promise.all([n.e(14),n.e(16),n.e(28)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),Z=I()((function(){return Promise.all([n.e(14),n.e(16),n.e(29)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}}),$=I()((function(){return Promise.all([n.e(14),n.e(16),n.e(30)]).then(n.bind(null,"D3uo"))}),{loadableGenerated:{webpack:function(){return["D3uo"]},modules:["./OfferModal"]}});function Q(){var e,t=Object(C.b)(),n=t.account,a=t.chainId,k=t.library,A=Object(T.useRouter)(),I=A.query,V=Object(c.useState)("t"==I.cc),P=V[0],G=(V[1],Object(c.useState)("t"==I.curated)),Q=G[0],ee=(G[1],Object(c.useState)({name:"",chain:""})),te=ee[0],ne=ee[1],ae=Object(c.useState)(!1),re=ae[0],oe=ae[1],ce=Object(c.useState)(!1),ie=ce[0],se=ce[1],ue=Object(c.useState)(I.useOldMint),le=ue[0],fe=(ue[1],Object(c.useState)(I.key)),de=fe[0],pe=fe[1],me=Object(c.useState)(I.offer||!1),ge=me[0],he=(me[1],Object(c.useState)(I.framed||!0)),be=he[0],ve=(he[1],Object(c.useState)(I.id)),we=ve[0],Oe=(ve[1],Object(c.useState)(I.experimental)),je=(Oe[0],Oe[1],Object(c.useState)(I.noLayout)),Se=(je[0],je[1],Object(c.useState)(I.slideshowOnly||!1)),ye=Se[0],ke=(Se[1],Object(c.useState)("")),xe=ke[0],Ce=ke[1],Te=Object(c.useState)(""),Ne=Te[0],Ae=Te[1],Ie=Object(c.useState)(""),Ee=Ie[0],Me=Ie[1],_e=Object(c.useState)(""),Fe=_e[0],He=_e[1],Ve=Object(c.useState)(""),Le=Ve[0],Pe=Ve[1],De=Object(c.useState)(""),Ge=De[0],Je=De[1],We=Object(c.useState)(""),Ke=We[0],Be=We[1],Re=Object(c.useState)([]),qe=Re[0],Ue=Re[1],ze=Object(c.useState)(!1),Xe=ze[0],Ye=ze[1],Ze=Object(c.useState)([]),$e=Ze[0],Qe=Ze[1],et=Object(c.useState)([]),tt=et[0],nt=et[1],at=Object(c.useState)([]),rt=at[0],ot=at[1],ct=Object(c.useState)(!1),it=ct[0],st=ct[1],ut=Object(c.useState)(0),lt=ut[0],ft=ut[1],dt=Object(c.useState)(null),pt=dt[0],mt=dt[1],gt=Object(c.useState)(null),ht=(gt[0],gt[1]),bt=Object(c.useState)(null),vt=bt[0],wt=bt[1],Ot=Object(c.useState)(""),jt=Ot[0],St=Ot[1],yt=Object(c.useState)(""),kt=yt[0],xt=yt[1],Ct=Object(c.useState)({loaded:!1}),Tt=(Ct[0],Ct[1]),Nt=Object(c.useState)(!1),At=Nt[0],It=Nt[1],Et=Object(c.useState)(!1),Mt=Et[0],_t=Et[1],Ft=Object(c.useState)("claimed"),Ht=Ft[0],Vt=Ft[1],Lt=Object(c.useState)(!1),Pt=Lt[0],Dt=Lt[1],Gt=Object(c.useState)(null),Jt=Gt[0],Wt=Gt[1],Kt=Object(c.useState)(""),Bt=Kt[0],Rt=Kt[1],qt=Object(c.useState)(""),Ut=qt[0],zt=qt[1],Xt=Object(c.useState)(""),Yt=Xt[0],Zt=Xt[1],$t=Object(c.useState)([]),Qt=$t[0],en=$t[1],tn=Object(c.useState)(!1),nn=tn[0],an=tn[1],rn=Object(c.useState)(""),on=rn[0],cn=rn[1],sn=Object(c.useState)(!1),un=sn[0],ln=sn[1],fn=Object(c.useState)(""),dn=fn[0],pn=fn[1],mn=Object(c.useState)(!1),gn=mn[0],hn=mn[1],bn=Object(c.useState)(!1),vn=(bn[0],bn[1],Object(c.useState)(!1)),wn=vn[0],On=vn[1],jn=Object(c.useState)(!1),Sn=jn[0],yn=jn[1],kn=Object(c.useState)(!1),xn=kn[0],Cn=kn[1],Tn=Object(c.useState)(""),Nn=Tn[0],An=Tn[1],In=Object(c.useState)(!1),En=In[0],Mn=In[1],_n=Object(c.useState)(!1),Fn=_n[0],Hn=_n[1],Vn=Object(c.useState)(null),Ln=Vn[0],Pn=Vn[1],Dn=Object(c.useState)(!1),Gn=Dn[0],Jn=Dn[1],Wn=Object(c.useState)(null),Kn=Wn[0],Bn=Wn[1],Rn=Object(c.useState)(!1),qn=Rn[0],Un=Rn[1],zn=Object(c.useState)(null),Xn=zn[0],Yn=zn[1],Zn=Object(c.useState)(null),$n=Zn[0],Qn=Zn[1],ea=Object(c.useState)(null),ta=ea[0],na=ea[1],aa=Object(c.useState)(!1),ra=aa[0],oa=aa[1],ca=Object(c.useState)(!1),ia=ca[0],sa=ca[1],ua=Object(c.useState)(!1),la=ua[0],fa=ua[1],da=Object(c.useState)(!1),pa=(da[0],da[1]),ma=Object(c.useState)(null),ga=ma[0],ha=ma[1],ba=Object(c.useState)({name:"",image:"",metadata:""}),va=(ba[0],ba[1]),wa=Object(c.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),Oa=wa[0],ja=wa[1],Sa=Object(H.b)(F.o.vaultHandler[a],F.o.vaultHandlerAbi,!0),ya=Object(H.b)(F.o.vaultHandlerV8[a],F.o.vaultHandlerV8Abi,!0),ka=Object(H.b)(F.o.emblemVault[a],F.o.emblemAbi,!0),xa=Object(s.a)(),Ca=xa.isOpen,Ta=xa.onOpen,Na=xa.onClose,Aa=Object(s.a)(),Ia=Aa.isOpen,Ea=Aa.onOpen,Ma=Aa.onClose,_a=Object(s.a)(),Fa=_a.isOpen,Ha=_a.onOpen,Va=_a.onClose,La=Object(s.a)(),Pa=La.isOpen,Da=La.onToggle,Ga=Object(s.a)(),Ja=Ga.isOpen,Wa=Ga.onToggle,Ka=Object(u.c)().colorMode,Ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new M.a(e,F.o.erc1155Abi,k.getSigner(n).connectUnchecked())},Ra=function(e,t){return fetch(F.g+"/liveliness",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:a.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,Un(n.live),console.log("Liveliness check",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t()},qa=function(){console.log("Delayed Minting"),oa(!1),sa(!0),fa(!0);var e=rt.filter((function(e){return"ETH"==e.coin}))[0].address;console.log("--------------------------------------------------------Delayed Minting",n,we,e,Xn,$n),Sa.buyWithSignature(n,we,e,Xn,$n).then((function(e){var t=e.hash;setTimeout((function(){wt(t),sa(!1)}),100)})).catch((function(e){console.log("AAAAAHHHHHH",e.code),sa(!1)}))},Ua=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getvault"),e.next=3,fetch(F.g+"/meta/"+we+"?experimental=true"+(P?"&_vercel_no_cache=1":""),{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",cc:P?"t":""}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,Ya(n),n.image_ipfs,n.collectionAddress&&(pa(!0),ha(n.collectionAddress)),n.name?(an(!1),hn(!1)):(Tt({loaded:!0}),hn(!0)),!it&&!Xe&&$a([],we,(function(e){e&&Ue(e)})),n.targetContract&&setTimeout((function(){location.href=location.origin+"/nft2?id="+n.targetContract.tokenId}),500);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),za=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/witness/"+we,{method:"GET",headers:{"Content-Type":"application/json",cc:"t",service:"evmetadata",chainid:a.toString()}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(o=e.sent).signature){e.next=11;break}return console.log("witness",o),e.abrupt("return",t(o));case 11:return e.abrupt("return",t(!1));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xa=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("-----------------------------------",qe.length,tt.length),1==qe.length&&tt.length>0&&(t=tt.filter((function(e){return e.value==qe[0].name}))).length>0&&(n=t[0].trait_type,(a=F.q.filter((function(e){return e.name==n}))).length>0&&ne(a[0]));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ya=function(e){be&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+be),e.ciphertextV2&&(He(e.ciphertextV2),console.log("ciphertextV2",e.ciphertextV2)),Ce(e.name),Je(e.image),Be(e.ownedImage||null),Pe(e.description),ft(e.totalValue||0),e.values&&Ue(qe.concat(e.values)),e.attributes&&Qe(e.attributes.filter((function(e){return"key"===e.trait_type}))),e.attributes&&nt(e.attributes),ot(e.addresses),Ae(e.ipfs||null),Me(e.image_ipfs||null),e.targetAsset&&va(e.targetAsset),e.targetContract&&ja(e.targetContract),e.targetContract&&setTimeout((function(){location.href=location.origin+"/nft2?id="+e.targetContract.tokenId}),500),0==e.live&&Ra(e.tokenId,(function(){})),Un(0!=e.live),Yn(e.nonce),Qn(e.signature),na(e.to),ht(e.network),mt("mainnet"==e.network?1:"rinkeby"==e.network?4:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),Vt(e.status),"claimed"===Ht&&Wt(e.claimedBy),Tt({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;st(t),e.sealed?Dt(!0):Dt(!1),Xa()},Za=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/vault/balance/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(c=e.sent,console.log("responce",o,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt("return",a(t.concat(c.balances)));case 11:return e.abrupt("return",a(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),$a=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xe){e.next=2;break}return e.abrupt("return",a(!1));case 2:return Ye(!0),e.next=5,fetch(F.g+"/vault/balance/"+n+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 5:return o=e.sent,e.next=8,o.json();case 8:if(c=e.sent,console.log("responce",o,c),!(c.balances.length>0)){e.next=14;break}return e.abrupt("return",a(t.concat(c.balances)));case 14:return e.abrupt("return",a(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Qa=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){var c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/vault/balance/"+n+"/"+a,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return c=e.sent,e.next=5,c.json();case 5:if(i=e.sent,console.log("responce",c,i),!(i.balances.length>0)){e.next=11;break}return e.abrupt("return",o(t.concat(i.balances)));case 11:return e.abrupt("return",o(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),er=function(){var e=localStorage.getItem(n+"_"+a+"_"+we+"_mintPassword");e&&xn&&pe(e)},tr=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o){var c,i,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append("chainid",a.toString()),c.append("Content-Type","application/json"),i=JSON.stringify({signature:t,tokenId:n}),e.next=6,fetch("https://tor-us-signer-coval.vercel.app/sign",{method:"POST",headers:c,body:i,redirect:"follow"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt("return",o(u));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function nr(e,t,n){return ar.apply(this,arguments)}function ar(){return(ar=Object(o.a)(r.a.mark((function e(t,n,a){var o,c,i,s,u,l,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new U.a({network:"https://solemn-restless-diagram.ropsten.discover.quiknode.pro/37fca8f14d3a42d9ec00f50a3f6adc404d5e2a04/",proxyAddress:"0x6258c9d6c12ed3edda59a1a6527e469517744aa7"}),c=new z.a({enableOneKey:!0,network:"testnet"}),e.next=4,o.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:t});case 4:return i=e.sent,s=i.torusNodeEndpoints,u=i.torusIndexes,e.next=9,c.retrieveShares(s,u,"tor-us-signer-vercel",{verifier_id:t},n);case 9:return l=e.sent,f=l.privKey,e.abrupt("return",a({privateKey:f}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rr=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o,c){var i,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append("chainId",a.toString()),i.append("service","evmetadata"),i.append("Content-Type","application/json"),s=JSON.stringify({signature:t,coin:o}),e.next=7,fetch(F.g+"/address/"+n,{method:"POST",headers:i,body:s,redirect:"follow"});case 7:return u=e.sent,e.next=10,u.json();case 10:return l=e.sent,e.abrupt("return",c(l));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),or=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o){var c,i,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append("chainId",a.toString()),c.append("service","evmetadata"),c.append("Content-Type","application/json"),i=JSON.stringify({signature:t}),e.next=7,fetch(F.g+"/embed/"+n,{method:"POST",headers:c,body:i,redirect:"follow"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt("return",o(u));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),cr=function(){var e=Object(o.a)(r.a.mark((function e(){var t,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(){return(i=Object(o.a)(r.a.mark((function e(){var o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sa.getPreTransfer(we);case 2:if(o=e.sent,!Oa[a]){e.next=9;break}return e.next=6,ka.isApprovedForAll(n,F.o.vaultHandlerV8[a]);case 6:c=e.sent,e.next=12;break;case 9:return e.next=11,ka.isApprovedForAll(n,F.o.vaultHandler[a]);case 11:c=e.sent;case 12:se(c),Cn("0x0000000000000000000000000000000000000000"!==o._from),Bn(t),It(t===n),er();case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(){return i.apply(this,arguments)},console.log("Contract states"),!1,e.prev=4,!Oa[a]){e.next=14;break}return console.log("Checking owner wth targetContract"),ka=Ba(Oa[a]),e.next=10,ka.getOwnerOfSerial(Oa.serialNumber);case 10:t=e.sent,console.log("--------------------------- owner",t,ie,n,F.o.vaultHandlerV8[a]),e.next=17;break;case 14:return e.next=16,ka.ownerOf(we);case 16:t=e.sent;case 17:c(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(4),t="0x0000000000000000000000000000000000000000",c();case 24:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){console.log("mine?",At),console.log("claiming?",Mt),console.log("accepting?",wn),console.log("acceptable",xn),console.log("qualified",te)}));var ir=function(e){return console.log(e,rt.filter((function(t){return t.coin==e})).length>0),rt.filter((function(t){return t.coin==e})).length>0},sr=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage("Renew: "+we).then((function(e){var n=rt.filter((function(e){return"NMC"==e.coin}))[0].address;console.log("signature",e,t),fetch(F.g+"/nmc/renew/"+n,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:a.toString()},body:JSON.stringify({tokenId:we,signature:e,name:t})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("Requested Renew",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ur=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Oa[a]){e.next=5;break}return ka=Ba(Oa[a]),e.next=4,ka.getSerial(Oa.tokenId,0);case 4:t=e.sent;case 5:k.getSigner(n).signMessage("Claim: "+(Oa[a]?t:we)).then((function(e){tr(e,we,(function(e){nr(we,e.token,(function(e){var t=L.a.AES.decrypt(Fe,e.privateKey),n=JSON.parse(t.toString(L.a.enc.Utf8));en(n.values),Rt(n.phrase),rt.forEach(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("STX"!=t.coin){e.next=6;break}return e.next=3,lr(t,n.phrase);case 3:t.key=e.sent,e.next=7;break;case 6:t.key=window.phrasePathToKey(n.phrase,t.path);case 7:"BTC"==t.coin&&zt(t.key),"ETH"==t.coin&&Zt(t.key);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ea()}))}))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lr=function(){var e=Object(o.a)(r.a.mark((function e(t,n){var a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.a)({secretKey:n,password:""});case 2:return a=e.sent,console.log("------ stacks account -",a.accounts[0]),o=a.accounts[0],t.key=o.stxPrivateKey,e.abrupt("return",t.key);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fr=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage("HideAsset: "+we).then((function(e){console.log("----------------------------------------------------------------",e),console.log(t.name,t.coin,t.address),dr(we,t.coin,t.address,t.name,e,(function(){console.log("Done hiding coin and getting new balances")}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function dr(e,t,n,c,i,s){fetch(F.g+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:a.toString()},body:JSON.stringify({coin:t||null,address:n||null,name:c||null,signature:i||null})}).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log("-------",a),Za([],e,(function(e){return Ue(e),s()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var pr=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage("Address: "+we).then((function(e){rr(e,we,t,(function(e){Ua()}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mr=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage("Embed: "+we).then((function(e){or(e,we,(function(e){Je(e.ownedImage)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gr=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xa(),console.log("---------- qualified move",te),fetch(F.g+"/v2/move-vault/",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:a.toString()},body:JSON.stringify({chainId:1,from:n,sourceContract:{1:"0x82c7a8f707110f5fbb16184a5933e9f78a34c6ab"},targetContract:{1:te[a],name:te.name,chain:te.chain},targetAsset:{name:qe[0].name},amount:1,tokenId:we})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:(n=e.sent).sig&&ya.moveVault("0x82c7a8f707110f5fbb16184a5933e9f78a34c6ab",te[a],we,n.tokenId,n.nonce,n.sig,"0x0000000000000000000000000000000000000000000000000000000000000000").then((function(e){wt(e),oe(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),hr=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Oa[a]?ya.claim(Oa[a],Oa.tokenId).then((function(e){var t=e.hash;_t(!0),setTimeout((function(){wt(t)}),100)})):ka.burn(we).then((function(e){var t=e.hash;_t(!0),setTimeout((function(){wt(t)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),br=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a,o,c,i,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var r=0;r<o-i;r++){var l=Math.floor(t.length*Math.random()),f=t.charAt(l);s+=f}c==a-1&&i++,c==a&&(u+=n.charAt(i-1),c=0),cn(u+s),s=""},!un){e.next=3;break}return e.abrupt("return");case 3:ln(!0),t="abcdefghijklmnopqrstuvwxyz",5,o=(n="Decrypting").length,c=0,i=0,s="",u="",function e(t){setTimeout((function(){--t?e(t):ln(!1),l(t),c+=1}),5)}(o*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function vr(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}function wr(e){dn&&(e=dn),br(),console.log(rt);var t=rt[0].address.replace("private:","");try{var n=L.a.AES.decrypt(t,e);JSON.parse(n.toString(L.a.enc.Utf8)),st(!1),pn(e),ot(function(e){return rt.forEach((function(t){if(t.address.includes("private")){var n=t.address.replace("private:","");t.address=function(e,t){var n=L.a.AES.decrypt(e,t);return JSON.parse(n.toString(L.a.enc.Utf8))}(n,e)}})),rt}(e));var a=rt.filter((function(e){return"ETH"===e.coin}))[0].address,r=rt.filter((function(e){return"BTC"===e.coin}))[0].address;console.log("SUCCESS",rt),Qa([],a,r,(function(e){Ue(e)}))}catch(o){console.log("WTF",o)}}return Object(c.useEffect)((function(){console.log("----"),Ua()}),[]),Object(c.useEffect)((function(){(n&&a&&pt&&a==pt||I.noLayout&&"true"==I.noLayout||I.slideshowOnly&&"true"==I.slideshowOnly)&&cr()})),ga&&(ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new M.a(e||F.o.emblemVault[a],F.o.emblemAbi,k.getSigner(n).connectUnchecked())}(ga||null)),X(i.a.Fragment,null,X(x.a,null,X("meta",{name:"twitter:card",content:"summary_large_image"}),X("meta",{name:"twitter:site",content:"Emblem.Finance"}),X("meta",{name:"twitter:title",content:xe}),X("meta",{name:"twitter:description",content:vr(Le)}),X("meta",{name:"twitter:image",content:Ge}),X("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})),X(Y,{isOpen:Ca,onClose:Na,addrCoin:jt,addrAddr:kt}),X(Z,{isOpen:Ia,onClose:Ma,mnemonic:Bt,privKeyBTC:Ut,privKeyETH:Yt,privValues:Qt,addresses:rt}),ge?X($,{isOpen:Fa,onClose:Va,tokenId:we,mine:At}):null,X(l.a,{height:"40px"}),nn?X(N.a,null):"",gn||ye?qe.length>0&&ye?X(d.a,{className:"NFT-content",align:"center"},qe.length&&qe.filter((function(e){return"nft"==e.type})).length>0?X(K.a,{name:xe,image:qe[0].image,items:qe.filter((function(e){return e.image!==qe[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):X(W.b,{className:"d-block w-100 NFT-image",url:Ge})):gn?X(d.a,{align:"center"},X(S.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),X(m.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",X(g.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):null:X(f.a,{width:"full",align:"center",justifyContent:"center"},X(l.a,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:pt!=a?"orange.500":"claimed"==Ht?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},X(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500"},"Vault Network: ",E.a[pt]),X(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center"},xe,!it&&lt>0?": ~$"+lt.toLocaleString():null),X(d.a,{className:"NFT-content",align:"center"},qe.length&&qe.filter((function(e){return"nft"==e.type})).length>0?X(K.a,{name:xe,image:Ge,items:qe.map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):X(W.b,{className:"d-block w-100 NFT-image",url:Ge}),At&&Ke?X(p.a,{onClick:function(){mr()}},"(OWNED) Show Full Embed"):null),X(d.a,{align:"center"},X(l.a,{mt:"2",ml:"4",lineHeight:"tight"},X(d.a,null,X(m.a,{fontSize:"xs"},pt==a?X(g.a,{href:"./vaults?address="+Kn},"Owner: ",Kn):null),X(m.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md"},X(D.a,{plugins:[J.a],children:vr(Le)}))))),X(l.a,{p:"6"},X(h.f,{isFitted:!0,variant:"enclosed"},X(h.c,{mb:"1em"},X(h.a,null,"Balances"),X(h.a,null,"Attributes")),X(h.e,null,X(h.d,null,it?X(l.a,{mb:5},X(m.a,{pb:2,color:on?"green.500":null},on||"Contents hidden. Enter password to unlock."),X(b.a,{type:"password",id:"vault-password",onChange:function(e){return wr(e.target.value)},"aria-describedby":"password-helper-text"})):X(l.a,{d:"flex",backgroundColor:"light"==Ka?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content"},X(l.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},X(m.a,{as:"h4",mt:2,fontWeight:"semibold"},"Current Contents:  ",X("button",{onClick:function(){$a([],we,(function(e){Ye(!1),Ue(e)}))}}," [Refresh Balances]")),X(m.a,{as:"p",color:"dark"==Ka?"lightgreen":"forestgreen"},"$",Number(lt.toFixed(4)).toLocaleString()),qe.length?qe.map((function(e){return X(d.a,null,X(B.a,{colorMode:Ka,coin:e,mine:"claimed"===Ht&&Jt===n||At,onRenew:sr,hideAsset:fr}))})):X(N.a,null),$e.length?$e.map((function(e){return X(m.a,null,"Data: ",e.attribute_key)})):$e.length||qe.length?null:X(m.a,null,"Nothing in here! Fill 'er up!")))),X(h.d,null,X(R.a,{colorMode:Ka,attributes:tt})))),it?null:X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(v.a,{justifyContent:"space-between",spacing:6},X(d.a,null,X(m.a,null,"Deposit Addresses"),X(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},rt.map((function(e){return X(p.a,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",key:e.address,onClick:function(){St(e.coin),xt(e.address),Ta()}},"ETH"==e.coin?e.coin+"/EVM":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin)}))),(At||"claimed"===Ht)&&rt.length<11?X(i.a.Fragment,null,X("button",{className:"nft_button",onClick:function(){Wa()}},"Manage Addresses"),X(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},X(w.a,{isOpen:Ja},ir("DOGE")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){pr("DOGE")}},"Add DOGE"),ir("DGB")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){pr("DGB")}},"Add Digibyte"),ir("NMC")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){pr("NMC")}},"Add Namecoin"),ir("LTC")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){pr("LTC")}},"Add Litecoin"),ir("MONA")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){pr("MONA")}},"Add Mona"),ir("TEZOS")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){pr("TEZOS")}},"Add Tezos"),ir("SOLANA")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){pr("SOLANA")}},"Add Solana"),ir("STX")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){pr("STX")}},"Add Stacks")))):null))),"claimed"===Ht||!qn||1!==pt&&4!==pt&&137!==pt?null:X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(p.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==pt?"rinkeby.":"")+"opensea.io/assets/"+(137==pt?"matic/":"")+(ga||F.o.emblemVault[pt])+"/"+we,"_blank")}},"Opensea"),X(p.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==pt?"rinkeby.":"")+"looksrare.org/collections/"+(137==pt?"matic/":"")+(ga||F.o.emblemVault[pt])+"/"+we,"_blank")}},"LooksRare"),ge?X(p.a,{className:"",onClick:function(){Ha()}},At?"My Offers":"Make an Offer"," (NFT\xb2NFT)"):null),"claimed"!==Ht&&At&&!xn?X(i.a.Fragment,null,X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",width:"100%"},X(d.a,{direction:"column",align:"center",width:"100%"},X(p.a,{className:"nft_button",width:"100%",onClick:Da},"Transfer Vault"),X(w.a,{isOpen:Pa},X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},X(O.a,{htmlFor:"owner-address"},"Address"),X(b.a,{mt:1,type:"text",id:"transferAddress",value:Ln||"",onChange:function(e){console.log("Transfer to",e.target.value),Pn(e.target.value)},autoComplete:"off"})),X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},X(p.a,{isDisabled:!Object(E.k)(Ln),onClick:function(){Da(),Jn(!0),ka.transferFrom(n,Ln,we).then((function(e){var t=e.hash;wt(t)})).catch((function(e){}))}},"Transfer Now")))))):null,At&&!xn?X(i.a.Fragment,null,X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(p.a,{className:"nft_button",width:"100%",onClick:function(){if(!ie)return yn(!0),void ka.setApprovalForAll(F.o.vaultHandler[a],!0).then((function(e){var t=e.hash;setTimeout((function(){wt(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):yn(!1)}));var t=L.a.lib.WordArray.random(16).toString(),n=L.a.SHA256(t).toString();console.log("plain",t),console.log("sha",n),An(t),e=n,setTimeout((function(){console.log("transferImage","0x"+e),Hn(!0),Sa.addPreTransfer(we,"0x"+e).then((function(e){var t=e.hash;wt(t),console.log("Set Pre Transfering True",Fn)})).catch((function(e){null!==e&&void 0!==e&&e.code&&(console.log("Error?"),Hn(!1),Mn(!1),An(""))}))}),500)}}," ",ie?"Get Link (Send Vault Via Link)":"Approve Gifting"," "))):null,(En||de)&&xn?X(l.a,null,X(g.a,{href:location.protocol+"//"+location.host+"/nft?id="+we+"&key="+(Nn||de)},"Copy Gift Link"),X(m.a,null,"Password: ",Nn||de)):null,xn&&Jt!==n?X(i.a.Fragment,null,X(p.a,{mt:2,width:"100%",onClick:function(){console.log(de),On(!0),za((function(e){Sa.transferWithCode(we,de,n,e.nonce,e.signature).then((function(e){var t=e.hash;setTimeout((function(){wt(t)}),100)})).catch((function(e){On(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.log("tx failed.",e)}))}))}},"Accept"),X(b.a,{mt:2,type:"password",id:"mintPassword",minLength:3,maxLength:200,value:de||"",onChange:function(e){console.log("grrr",e.target.value,de),pe(e.target.value)},autoComplete:"off"})):null,At&&Q&&te?X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(p.a,{width:"100%",onClick:function(){gr()},isDisabled:re},re?"Moving ...":"Move Vault")):null,"claimed"!==Ht&&n&&pt===a&&At&&!Pt?X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(p.a,{width:"100%",onClick:function(){hr()},isDisabled:Mt},Mt?"Claiming ...":"Claim (Crack Open Vault)")):"claimed"===Ht&&Jt===n&&pt===a?X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(p.a,{width:"100%",onClick:ur},"Get Keys")):null,qn||ta!=n||pt!=a||"claimed"===Ht||ia?null:X(i.a.Fragment,null,"true"==le?X(p.a,{width:"100%",mt:5,onClick:qa},"Mint Me v1"):X(p.a,{width:"100%",mt:5,onClick:function(){k.getSigner(n).signMessage("Delayed Minting: "+we).then((function(e){console.log("sig",e),fetch(F.g+"/lazyMin_t",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:a.toString()},body:JSON.stringify({tokenId:we,signature:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("data",n.data),Qn(n.data.signature),Yn(n.data.nonce),oa(!0),setTimeout((function(){qa()}),500);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Mint Vault ")),qn&&"claimed"!=Ht||ta!=n||pt!=a||ia||!(qe.length<1)?null:X(p.a,{width:"100%",mt:5,onClick:function(){k.getSigner(n).signMessage("Delete: "+we).then((function(e){console.log("sig",e),fetch(F.g+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:we,signature:e,chainId:a.toString()})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:e.sent,location.href=location.href.split("/")[0]+"/vaults";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Delete Vault "),ra?X(p.a,{isDisabled:!0,type:"submit"},"Verifying Signature ..."):null,ia?X(p.a,{isDisabled:!0,type:"submit"},"Minting Vault ..."):null),Ne?X(d.a,null,X(y.a,{align:"center"},X(g.a,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+Ne,isExternal:!0},"View Metadata on IPFS "),Ee?X(g.a,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+Ee,isExternal:!0},"View Image on IPFS "):null)):null,Pt?X(l.a,{d:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(m.a,null,"*This vault is sealed forever.")):null,X(d.a,{direction:"column",align:"center"},"claimed"==Ht?X(m.a,{color:"green.500"},"CLAIMED"):null),vt?X(j.a,{status:"info"},X(j.b,null),wn?"Accepting Your Gift Vault":Mt?"Claiming your Vault ...":Sn?"Handling Approval Flow ...":Gn?"Transfering Vault ...":la?"Minting Vault":"Generating Gift Link ..."):null)),vt?X(_.a,{hash:vt,onComplete:function(){var e;!Mt||wn||Fn?Fn?(localStorage.setItem(n+"_"+a+"_"+we+"_mintPassword",Nn),Mn(!0),Hn(!1),wt(null)):wn?(On(!1),Ua(),wt(null)):Sn?(yn(!1),Ua(),wt(null)):Gn?(Jn(!1),Ua(),wt(null)):la?Ra(we,(function(){fa(!1),Un(!0)})):(console.log("minting",la),console.log("claiming",Mt),console.log("accepting",wn),console.log("preTransfering",Fn),console.log("approving",Sn),console.log("Unknown state")):(wt(null),Vt("claimed"),_t(!1),Wt(n),e=function(){location.href=location.origin+"/nft?id="+we+"&cc=t"},fetch(F.g+"/web3/selfClaimLogs?chainId="+a.toString()+"_vercel_no_cache=1",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",cc:"t"}}).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log("Log check",a),t.abrupt("return",e());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,X(l.a,{height:"40px"}))}}}]);