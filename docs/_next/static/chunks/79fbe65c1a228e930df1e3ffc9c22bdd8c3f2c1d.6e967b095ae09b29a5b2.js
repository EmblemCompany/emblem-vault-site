(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{ePsk:function(e,t,n){"use strict";n.d(t,"a",(function(){return Y}));var a=n("o0o1"),r=n.n(a),o=n("HaE+"),i=n("q1tI"),c=n.n(i),s=n("XZ7F"),u=n("mf32"),l=n("BMxC"),f=n("Weur"),p=n("Yn+B"),d=n("eJLp"),m=n("sK1y"),g=n("pboS"),h=n("FpzS"),b=n("IP4Q"),w=n("MKZ1"),v=n("jgTY"),O=n("LqLE"),j=n("bQFp"),S=n("wZsY"),y=n("S5RI"),x=n.n(y),k=n("8Kt/"),C=n.n(k),T=n("Z6YE"),N=n("nOHt"),E=n("Ute3"),I=n("a6RD"),A=n.n(I),_=n("iBPG"),F=n("zIq6"),M=n("N39q"),P=n("21eR"),L=n("NFKh"),H=n.n(L),G=n("IujW"),V=n.n(G),D=n("wH4i"),W=n.n(D),J=n("PLxQ"),K=n("zNBI"),R=n("fksj"),B=(n("Q/0U"),c.a.createElement),U=A()((function(){return Promise.all([n.e(9),n.e(14),n.e(22)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),q=A()((function(){return Promise.all([n.e(9),n.e(14),n.e(24)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}}),z=A()((function(){return Promise.all([n.e(9),n.e(14),n.e(23)]).then(n.bind(null,"D3uo"))}),{loadableGenerated:{webpack:function(){return["D3uo"]},modules:["./OfferModal"]}});function Y(){var e,t=Object(T.b)(),n=t.account,a=t.chainId,y=t.library,k=Object(N.useRouter)(),I=k.query,A=Object(i.useState)(!1),L=A[0],G=A[1],D=Object(i.useState)(I.key),Y=D[0],Z=D[1],$=Object(i.useState)(I.offer||!1),Q=$[0],X=($[1],Object(i.useState)(I.framed||!0)),ee=X[0],te=(X[1],Object(i.useState)(I.id)),ne=te[0],ae=(te[1],Object(i.useState)(I.experimental)),re=(ae[0],ae[1],Object(i.useState)(I.noLayout)),oe=(re[0],re[1],Object(i.useState)("")),ie=oe[0],ce=oe[1],se=Object(i.useState)(""),ue=se[0],le=se[1],fe=Object(i.useState)(""),pe=fe[0],de=fe[1],me=Object(i.useState)(""),ge=me[0],he=me[1],be=Object(i.useState)(""),we=be[0],ve=be[1],Oe=Object(i.useState)(""),je=Oe[0],Se=Oe[1],ye=Object(i.useState)(""),xe=ye[0],ke=ye[1],Ce=Object(i.useState)([]),Te=Ce[0],Ne=Ce[1],Ee=Object(i.useState)(!1),Ie=Ee[0],Ae=Ee[1],_e=Object(i.useState)([]),Fe=_e[0],Me=_e[1],Pe=Object(i.useState)([]),Le=Pe[0],He=Pe[1],Ge=Object(i.useState)(!1),Ve=Ge[0],De=Ge[1],We=Object(i.useState)(0),Je=We[0],Ke=We[1],Re=Object(i.useState)(null),Be=Re[0],Ue=Re[1],qe=Object(i.useState)(null),ze=(qe[0],qe[1]),Ye=Object(i.useState)(null),Ze=Ye[0],$e=Ye[1],Qe=Object(i.useState)(""),Xe=Qe[0],et=Qe[1],tt=Object(i.useState)(""),nt=tt[0],at=tt[1],rt=Object(i.useState)({loaded:!1}),ot=(rt[0],rt[1]),it=Object(i.useState)(!1),ct=it[0],st=it[1],ut=Object(i.useState)(!1),lt=ut[0],ft=ut[1],pt=Object(i.useState)("claimed"),dt=pt[0],mt=pt[1],gt=Object(i.useState)(!1),ht=gt[0],bt=gt[1],wt=Object(i.useState)(null),vt=wt[0],Ot=wt[1],jt=Object(i.useState)(""),St=jt[0],yt=jt[1],xt=Object(i.useState)(""),kt=xt[0],Ct=xt[1],Tt=Object(i.useState)(""),Nt=Tt[0],Et=Tt[1],It=Object(i.useState)([]),At=It[0],_t=It[1],Ft=Object(i.useState)(!1),Mt=Ft[0],Pt=Ft[1],Lt=Object(i.useState)(""),Ht=Lt[0],Gt=Lt[1],Vt=Object(i.useState)(!1),Dt=Vt[0],Wt=Vt[1],Jt=Object(i.useState)(""),Kt=Jt[0],Rt=Jt[1],Bt=Object(i.useState)(!1),Ut=Bt[0],qt=Bt[1],zt=Object(i.useState)(!1),Yt=(zt[0],zt[1],Object(i.useState)(!1)),Zt=Yt[0],$t=Yt[1],Qt=Object(i.useState)(!1),Xt=Qt[0],en=Qt[1],tn=Object(i.useState)(!1),nn=tn[0],an=tn[1],rn=Object(i.useState)(""),on=rn[0],cn=rn[1],sn=Object(i.useState)(!1),un=sn[0],ln=sn[1],fn=Object(i.useState)(!1),pn=fn[0],dn=fn[1],mn=Object(i.useState)(null),gn=mn[0],hn=mn[1],bn=Object(i.useState)(!1),wn=bn[0],vn=bn[1],On=Object(i.useState)(null),jn=On[0],Sn=On[1],yn=Object(i.useState)(function(){return ga.apply(this,arguments)}()),xn=yn[0],kn=(yn[1],Object(i.useState)(!1)),Cn=kn[0],Tn=kn[1],Nn=Object(i.useState)(null),En=Nn[0],In=Nn[1],An=Object(i.useState)(null),_n=An[0],Fn=An[1],Mn=Object(i.useState)(null),Pn=Mn[0],Ln=Mn[1],Hn=Object(i.useState)(!1),Gn=Hn[0],Vn=(Hn[1],Object(i.useState)(!1)),Dn=Vn[0],Wn=Vn[1],Jn=Object(i.useState)(!1),Kn=Jn[0],Rn=Jn[1],Bn=Object(i.useState)(null),Un=Bn[0],qn=Bn[1],zn=Object(P.b)(M.o.vaultHandler[a],M.o.vaultHandlerAbi,!0),Yn=Object(P.b)(M.o.emblemVault[a],M.o.emblemAbi,!0),Zn=Object(s.a)(),$n=Zn.isOpen,Qn=Zn.onOpen,Xn=Zn.onClose,ea=Object(s.a)(),ta=ea.isOpen,na=ea.onOpen,aa=ea.onClose,ra=Object(s.a)(),oa=ra.isOpen,ia=ra.onOpen,ca=ra.onClose,sa=Object(s.a)(),ua=sa.isOpen,la=sa.onToggle,fa=Object(s.a)(),pa=fa.isOpen,da=fa.onToggle,ma=Object(u.c)().colorMode;function ga(){return(ga=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new x.a({baseUrl:"".concat(window.location.origin,"/serviceworker"),enableLogging:!0,network:"testnet"}),e.next=3,t.init({skipSw:!0,skipInit:!0,skipPrefetch:!0});case 3:return console.log("Initialized Torus"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ha=function(e,t){return fetch(M.g+"/liveliness",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:a.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,Tn(n.live),console.log("Liveliness check",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t()},ba=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getvault"),xa(),e.next=4,fetch(M.g+"/meta/"+ne+"?experimental=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 4:return t=e.sent,e.next=7,t.json();case 7:(n=e.sent).image_ipfs&&wa(n.image_ipfs),n.collectionAddress&&(Rn(!0),qn(n.collectionAddress)),n.name?(Oa(n),ya(n),Pt(!1),qt(!1)):(ot({loaded:!0}),qt(!0)),!Ve&&!Ie&&ja([],ne,(function(e){e&&Ne(e)}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),wa=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gateway.ipfs.io/ipfs/"+t,{method:"GET",headers:{}});case 2:return n=e.sent,e.next=5,n.text();case 5:a=e.sent,document.querySelector("img.d-block").src=a,console.log(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),va=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(M.g+"/witness/"+ne,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:a.toString()}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(o=e.sent).signature){e.next=11;break}return console.log("witness",o),e.abrupt("return",t(o));case 11:return e.abrupt("return",t(!1));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oa=function(e){ee&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+ee),e.ciphertextV2&&(he(e.ciphertextV2),console.log("ciphertextV2",e.ciphertextV2)),ce(e.name),Se(e.image),ke(e.ownedImage||null),ve(e.description),Ke(e.totalValue||0),Ne(Te.concat(e.values)),Me(e.attributes.filter((function(e){return"key"===e.trait_type}))),He(e.addresses),le(e.ipfs||null),de(e.image_ipfs||null),0==e.live&&ha(e.tokenId,(function(){})),Tn(0!=e.live),In(e.nonce),Fn(e.signature),Ln(e.to),ze(e.network),Ue("mainnet"==e.network?1:"rinkeby"==e.network?4:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:97),mt(e.status),"claimed"===dt&&Ot(e.claimedBy),ot({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;De(t),e.sealed?bt(!0):bt(!1)},ja=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ie){e.next=2;break}return e.abrupt("return",a(!1));case 2:return Ae(!0),e.next=5,fetch(M.g+"/vault/balance/"+n+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 5:return o=e.sent,e.next=8,o.json();case 8:if(i=e.sent,console.log("responce",o,i),!(i.balances.length>0)){e.next=14;break}return e.abrupt("return",a(t.concat(i.balances)));case 14:return e.abrupt("return",a(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Sa=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){var i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(M.g+"/vault/balance/"+n+"/"+a,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return i=e.sent,e.next=5,i.json();case 5:if(c=e.sent,console.log("responce",i,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt("return",o(t.concat(c.balances)));case 11:return e.abrupt("return",o(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ya=function(e){localStorage.setItem(n+"_"+a+"_"+ne+"_vault",JSON.stringify(e))},xa=function(){console.log("cache");var e=JSON.parse(localStorage.getItem(n+"_"+a+"_"+ne+"_vault"));e&&(ot({loaded:!0}),Oa(e),Pt(!0))},ka=function(){var e=localStorage.getItem(n+"_"+a+"_"+ne+"_mintPassword");e&&nn&&Z(e)},Ca=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o){var i,c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append("chainid",a.toString()),i.append("Content-Type","application/json"),c=JSON.stringify({signature:t,tokenId:n}),e.next=6,fetch("https://tor-us-signer.vercel.app/sign",{method:"POST",headers:i,body:c,redirect:"follow"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt("return",o(u));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ta=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!1,e.next=3,xn;case 3:return e.next=5,e.sent.getTorusKey("tor-us-signer-vercel",t,{verifier_id:t},n).catch((function(e){o=e.message}));case 5:if(i=e.sent,!o){e.next=11;break}return console.log("error",o),e.abrupt("return",a(!1));case 11:return e.abrupt("return",a(i));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Na=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o,i){var c,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append("chainId",a.toString()),c.append("service","evmetadata"),c.append("Content-Type","application/json"),s=JSON.stringify({signature:t,coin:o}),e.next=7,fetch(M.g+"/address/"+n,{method:"POST",headers:c,body:s,redirect:"follow"});case 7:return u=e.sent,e.next=10,u.json();case 10:return l=e.sent,e.abrupt("return",i(l));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ea=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o){var i,c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append("chainId",a.toString()),i.append("service","evmetadata"),i.append("Content-Type","application/json"),c=JSON.stringify({signature:t}),e.next=7,fetch(M.g+"/embed/"+n,{method:"POST",headers:i,body:c,redirect:"follow"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt("return",o(u));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ia=function(){var e=Object(o.a)(r.a.mark((function e(){var t,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(){return(c=Object(o.a)(r.a.mark((function e(){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zn.getPreTransfer(ne);case 2:return o=e.sent,e.next=5,Yn.isApprovedForAll(n,M.o.vaultHandler[a]);case 5:i=e.sent,G(i),an("0x0000000000000000000000000000000000000000"!==o._from),Sn(t),st(t===n),ka();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(){return c.apply(this,arguments)},console.log("Contract states"),!1,e.prev=4,e.next=7,Yn.ownerOf(ne);case 7:t=e.sent,i(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),t="0x0000000000000000000000000000000000000000",i();case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){console.log("mine?",ct),console.log("claiming?",lt),console.log("accepting?",Zt),console.log("acceptable",nn)}));var Aa=function(e){return console.log(e,Le.filter((function(t){return t.coin==e})).length>0),Le.filter((function(t){return t.coin==e})).length>0},_a=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.getSigner(n).signMessage("Renew: "+ne).then((function(e){var n=Le.filter((function(e){return"NMC"==e.coin}))[0].address;console.log("signature",e,t),fetch(M.g+"/nmc/renew/"+n,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:a.toString()},body:JSON.stringify({tokenId:ne,signature:e,name:t})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("Requested Renew",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fa=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.getSigner(n).signMessage("Claim: "+ne).then((function(e){Ca(e,ne,(function(e){Ta(ne,e.token,(function(e){var t=H.a.AES.decrypt(ge,e.privateKey),n=JSON.parse(t.toString(H.a.enc.Utf8));_t(n.values),yt(n.phrase);var a=window.phrasePathToKey(n.phrase,Le.filter((function(e){return"BTC"==e.coin}))[0].path);Ct(a);var r=window.phrasePathToKey(n.phrase,Le.filter((function(e){return"ETH"==e.coin}))[0].path);Et(r),Le.forEach((function(e){e.key=window.phrasePathToKey(n.phrase,e.path)})),na()}))}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ma=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.getSigner(n).signMessage("Address: "+ne).then((function(e){Na(e,ne,t,(function(e){ba()}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pa=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.getSigner(n).signMessage("Embed: "+ne).then((function(e){Ea(e,ne,(function(e){Se(e.ownedImage)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),La=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yn.burn(ne).then((function(e){var t=e.hash;ft(!0),setTimeout((function(){$e(t)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ha=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a,o,i,c,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var r=0;r<o-c;r++){var l=Math.floor(t.length*Math.random()),f=t.charAt(l);s+=f}i==a-1&&c++,i==a&&(u+=n.charAt(c-1),i=0),Gt(u+s),s=""},!Dt){e.next=3;break}return e.abrupt("return");case 3:Wt(!0),t="abcdefghijklmnopqrstuvwxyz",5,o=(n="Decrypting").length,i=0,c=0,s="",u="",function e(t){setTimeout((function(){--t?e(t):Wt(!1),l(t),i+=1}),5)}(o*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ga(e){return e.split("\n\n\n\n")[0].trim()}function Va(e){Kt&&(e=Kt),Ha(),console.log(Le);var t=Le[0].address.replace("private:","");try{var n=H.a.AES.decrypt(t,e);JSON.parse(n.toString(H.a.enc.Utf8)),De(!1),Rt(e),He(function(e){return Le.forEach((function(t){if(t.address.includes("private")){var n=t.address.replace("private:","");t.address=function(e,t){var n=H.a.AES.decrypt(e,t);return JSON.parse(n.toString(H.a.enc.Utf8))}(n,e)}})),Le}(e));var a=Le.filter((function(e){return"ETH"===e.coin}))[0].address,r=Le.filter((function(e){return"BTC"===e.coin}))[0].address;console.log("SUCCESS",Le),Sa([],a,r,(function(e){Ne(e)}))}catch(o){console.log("WTF",o)}}return Object(i.useEffect)((function(){console.log("----"),ba()}),[]),Object(i.useEffect)((function(){(n&&a&&Be&&a==Be||I.noLayout&&"true"==I.noLayout)&&Ia()})),B(c.a.Fragment,null,B(C.a,null,B("meta",{name:"twitter:card",content:"summary_large_image"}),B("meta",{name:"twitter:site",content:"Emblem.Finance"}),B("meta",{name:"twitter:title",content:ie}),B("meta",{name:"twitter:description",content:Ga(we)}),B("meta",{name:"twitter:image",content:je}),B("script",{dangerouslySetInnerHTML:{__html:"\n              // $(\".NFT\").tilt({    \n              //     maxTilt: 3\n              // });\n              $(\".NFT\").trigger('mouseenter');\n              $(\".NFT\").trigger('mouseclick'), '.NFT';\n              "}})),B(U,{isOpen:$n,onClose:Xn,addrCoin:Xe,addrAddr:nt}),B(q,{isOpen:ta,onClose:aa,mnemonic:St,privKeyBTC:kt,privKeyETH:Nt,privValues:At,addresses:Le}),Q?B(z,{isOpen:oa,onClose:ca,tokenId:ne,mine:ct}):null,B(l.a,{height:"40px"}),Mt?B(E.a,null):"",Ut?B(p.a,{align:"center"},B(j.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),B(m.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",B(g.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):B(f.a,{width:"full",align:"center",justifyContent:"center"},B(l.a,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:Be!=a?"orange.500":"claimed"==dt?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},B(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500"},"Vault Network: ",_.a[Be]),Kn?B(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"red.500"},"Part of a crowdsale, sealed for 1 week."):null,B(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center"},ie,!Ve&&Je>0?": ~$"+Je.toLocaleString():null),B(p.a,{className:"NFT-content",align:"center"},Te.length&&Te.filter((function(e){return"nft"==e.type})).length>0?B(K.a,{name:ie,image:je,items:Te.map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):B(J.b,{className:"d-block w-100 NFT-image",url:je}),ct&&xe?B(d.a,{onClick:function(){Pa()}},"(OWNED) Show Full Embed"):null),B(p.a,{align:"center"},B(l.a,{mt:"2",ml:"4",lineHeight:"tight"},B(p.a,null,B(m.a,{fontSize:"xs"},Be==a?B(g.a,{href:"./vaults?address="+jn},"Owner: ",jn):null),B(m.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md"},B(V.a,{plugins:[W.a],children:Ga(we)}))))),B(l.a,{p:"6"},Ve?B(l.a,{mb:5},B(m.a,{pb:2,color:Ht?"green.500":null},Ht||"Contents hidden. Enter password to unlock."),B(h.a,{type:"password",id:"vault-password",onChange:function(e){return Va(e.target.value)},"aria-describedby":"password-helper-text"})):B(l.a,{d:"flex",backgroundColor:"light"==ma?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content"},B(l.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},B(m.a,{as:"h4",mt:2,fontWeight:"semibold"},"Current Contents:  ",B("button",{onClick:function(){ja([],ne,(function(e){Ae(!1),Ne(e)}))}}," [Refresh Balances]")),B(m.a,{as:"p",color:"dark"==ma?"lightgreen":"forestgreen"},"$",Number(Je.toFixed(4)).toLocaleString()),Te.length?Te.map((function(e){return B(p.a,null,B(R.a,{colorMode:ma,coin:e,mine:"claimed"===dt&&vt===n||ct,onRenew:_a}))})):B(E.a,null),Fe.length?Fe.map((function(e){return B(m.a,null,"Data: ",e.attribute_key)})):Fe.length||Te.length?null:B(m.a,null,"Nothing in here! Fill 'er up!"))),Ve?null:B(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},B(b.a,{justifyContent:"space-between",spacing:6},B(p.a,null,B(m.a,null,"Deposit Addresses"),B(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},Le.map((function(e){return B(d.a,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",key:e.address,onClick:function(){et(e.coin),at(e.address),Qn()}},"ETH"==e.coin?e.coin+"":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin)}))),(ct||"claimed"===dt)&&Le.length<9?B(c.a.Fragment,null,B("button",{className:"nft_button",onClick:function(){da()}},"Manage Addresses"),B(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},B(w.a,{isOpen:pa},Aa("DOGE")?null:B(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Ma("DOGE")}},"Add DOGE"),Aa("DGB")?null:B(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Ma("DGB")}},"Add Digibyte"),Aa("NMC")?null:B(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Ma("NMC")}},"Add Namecoin"),Aa("LTC")?null:B(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Ma("LTC")}},"Add Litecoin"),Aa("MONA")?null:B(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Ma("MONA")}},"Add Mona"),Aa("TEZOS")?null:B(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Ma("TEZOS")}},"Add Tezos")))):null))),"claimed"===dt||1!==Be&&4!==Be&&137!==Be?null:B(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},B(p.a,{d:"flex",width:"100%"},B(d.a,{className:"nft_button",width:"100%",onClick:function(){location.href="https://"+(4==Be?"rinkeby.":"")+"opensea.io/assets/"+(137==Be?"matic/":"")+(Un||M.o.emblemVault[Be])+"/"+ne}},"View Vault on Opensea"),Q?B(d.a,{className:"",onClick:function(){ia()}},ct?"My Offers":"Make an Offer"," (NFT\xb2NFT)"):null)),"claimed"!==dt&&ct&&!nn?B(c.a.Fragment,null,B(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",width:"100%"},B(p.a,{direction:"column",align:"center",width:"100%"},B(d.a,{className:"nft_button",width:"100%",onClick:la},"Transfer Vault"),B(w.a,{isOpen:ua},B(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},B(v.a,{htmlFor:"owner-address"},"Address"),B(h.a,{mt:1,type:"text",id:"transferAddress",value:gn||"",onChange:function(e){console.log("Transfer to",e.target.value),hn(e.target.value)},autoComplete:"off"})),B(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},B(d.a,{isDisabled:!Object(_.j)(gn),onClick:function(){la(),vn(!0),Yn.transferFrom(n,gn,ne).then((function(e){var t=e.hash;$e(t)})).catch((function(e){}))}},"Transfer Now")))))):null,ct&&!nn?B(c.a.Fragment,null,B(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},B(d.a,{className:"nft_button",width:"100%",onClick:function(){if(!L)return en(!0),void Yn.setApprovalForAll(M.o.vaultHandler[a],!0).then((function(e){var t=e.hash;setTimeout((function(){$e(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):en(!1)}));var t=H.a.lib.WordArray.random(16).toString(),n=H.a.SHA256(t).toString();console.log("plain",t),console.log("sha",n),cn(t),e=n,setTimeout((function(){console.log("transferImage","0x"+e),dn(!0),zn.addPreTransfer(ne,"0x"+e).then((function(e){var t=e.hash;$e(t),console.log("Set Pre Transfering True",pn)})).catch((function(e){null!==e&&void 0!==e&&e.code&&(console.log("Error?"),dn(!1),ln(!1),cn(""))}))}),500)}}," ",L?"Get Link (Send Vault Via Link)":"Approve Gifting"," "))):null,(un||Y)&&nn?B(l.a,null,B(g.a,{href:location.protocol+"//"+location.host+"/nft?id="+ne+"&key="+(on||Y)},"Copy Gift Link"),B(m.a,null,"Password: ",on||Y)):null,nn&&vt!==n?B(c.a.Fragment,null,B(d.a,{mt:2,width:"100%",onClick:function(){console.log(Y),$t(!0),va((function(e){zn.transferWithCode(ne,Y,n,e.nonce,e.signature).then((function(e){var t=e.hash;setTimeout((function(){$e(t)}),100)})).catch((function(e){$t(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.log("tx failed.",e)}))}))}},"Accept"),B(h.a,{mt:2,type:"password",id:"mintPassword",minLength:3,maxLength:200,value:Y||"",onChange:function(e){console.log("grrr",e.target.value,Y),Z(e.target.value)},autoComplete:"off"})):null,"claimed"!==dt&&n&&Be===a&&ct&&!ht?B(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},B(d.a,{width:"100%",onClick:function(){La()},isDisabled:lt},lt?"Claiming ...":"Claim (Crack Open Vault)")):"claimed"===dt&&vt===n&&Be===a?B(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},B(d.a,{width:"100%",onClick:Fa},"Get Keys")):null,!Cn&&En&&_n&&Pn==n&&Be==a&&"claimed"!==dt?B(d.a,{width:"100%",mt:5,onClick:function(){Wn(!0);var e=Le.filter((function(e){return"ETH"==e.coin}))[0].address;zn.buyWithSignature(n,ne,e,En,_n).then((function(e){var t=e.hash;setTimeout((function(){$e(t)}),100)})).catch((function(e){}))}},"Mint Me "):null,Gn?B(d.a,{isDisabled:!0,type:"submit"},"Making Vault ..."):null),ue?B(p.a,null,B(S.a,{align:"center"},B(g.a,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+ue,isExternal:!0},"View Metadata on IPFS "),pe?B(g.a,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+pe,isExternal:!0},"View Image on IPFS "):null)):null,ht?B(l.a,{d:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4"},B(m.a,null,"*This vault is sealed forever.")):null,B(p.a,{direction:"column",align:"center"},"claimed"==dt?B(m.a,{color:"green.500"},"CLAIMED"):null),Ze?B(O.a,{status:"info"},B(O.b,null),Zt?"Accepting Your Gift Vault":lt?"Claiming your Vault ...":Xt?"Handling Approval Flow ...":wn?"Transfering Vault ...":Dn?"Minting Vault":"Generating Gift Link ..."):null)),Ze?B(F.a,{hash:Ze,onComplete:function(){var e;!lt||Zt||pn?pn?(localStorage.setItem(n+"_"+a+"_"+ne+"_mintPassword",on),ln(!0),dn(!1),$e(null)):Zt?($t(!1),ba(),$e(null)):Xt?(en(!1),ba(),$e(null)):wn?(vn(!1),ba(),$e(null)):Dn?ha(ne,(function(){Wn(!1),Tn(!0)})):(console.log("minting",Dn),console.log("claiming",lt),console.log("accepting",Zt),console.log("preTransfering",pn),console.log("approving",Xt),console.log("Unknown state")):($e(null),mt("claimed"),ft(!1),Ot(n),e=function(){location.href=location.origin+"/nft?id="+ne},fetch(M.g+"/web3/selfClaimLogs?chainId="+a.toString(),{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log("Log check",a),t.abrupt("return",e());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,B(l.a,{height:"40px"}))}}}]);