(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{ePsk:function(e,t,n){"use strict";n.d(t,"a",(function(){return $}));var a=n("o0o1"),r=n.n(a),o=n("HaE+"),i=n("q1tI"),c=n.n(i),s=n("XZ7F"),u=n("mf32"),l=n("BMxC"),f=n("Weur"),d=n("Yn+B"),p=n("eJLp"),g=n("sK1y"),m=n("pboS"),b=n("wCB1"),h=n("FpzS"),v=n("IP4Q"),w=n("MKZ1"),O=n("jgTY"),S=n("LqLE"),j=n("bQFp"),y=n("wZsY"),k=n("S5RI"),x=n.n(k),C=n("8Kt/"),T=n.n(C),N=n("Z6YE"),A=n("nOHt"),E=n("Ute3"),I=n("a6RD"),M=n.n(I),F=n("iBPG"),H=n("8XlW"),_=n("zIq6"),L=n("N39q"),V=n("21eR"),P=n("NFKh"),D=n.n(P),G=n("IujW"),J=n.n(G),W=n("wH4i"),B=n.n(W),R=n("PLxQ"),K=n("zNBI"),U=n("fksj"),z=(n("Q/0U"),n("r9y0")),q=c.a.createElement,Y=M()((function(){return Promise.all([n.e(16),n.e(18)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),Z=M()((function(){return Promise.all([n.e(16),n.e(18)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}}),X=M()((function(){return Promise.all([n.e(16),n.e(18)]).then(n.bind(null,"D3uo"))}),{loadableGenerated:{webpack:function(){return["D3uo"]},modules:["./OfferModal"]}});function $(){var e,t=Object(N.b)(),n=t.account,a=t.chainId,k=t.library,C=Object(A.useRouter)(),I=C.query,M=Object(i.useState)(!1),P=M[0],G=M[1],W=Object(i.useState)(I.useOldMint),$=W[0],Q=(W[1],Object(i.useState)(I.key)),ee=Q[0],te=Q[1],ne=Object(i.useState)(I.offer||!1),ae=ne[0],re=(ne[1],Object(i.useState)(I.framed||!0)),oe=re[0],ie=(re[1],Object(i.useState)(I.id)),ce=ie[0],se=(ie[1],Object(i.useState)(I.experimental)),ue=(se[0],se[1],Object(i.useState)(I.noLayout)),le=(ue[0],ue[1],Object(i.useState)(I.slideshowOnly||!1)),fe=le[0],de=(le[1],Object(i.useState)("")),pe=de[0],ge=de[1],me=Object(i.useState)(""),be=me[0],he=me[1],ve=Object(i.useState)(""),we=ve[0],Oe=ve[1],Se=Object(i.useState)(""),je=Se[0],ye=Se[1],ke=Object(i.useState)(""),xe=ke[0],Ce=ke[1],Te=Object(i.useState)(""),Ne=Te[0],Ae=Te[1],Ee=Object(i.useState)(""),Ie=Ee[0],Me=Ee[1],Fe=Object(i.useState)([]),He=Fe[0],_e=Fe[1],Le=Object(i.useState)(!1),Ve=Le[0],Pe=Le[1],De=Object(i.useState)([]),Ge=De[0],Je=De[1],We=Object(i.useState)([]),Be=We[0],Re=We[1],Ke=Object(i.useState)([]),Ue=Ke[0],ze=Ke[1],qe=Object(i.useState)(!1),Ye=qe[0],Ze=qe[1],Xe=Object(i.useState)(0),$e=Xe[0],Qe=Xe[1],et=Object(i.useState)(null),tt=et[0],nt=et[1],at=Object(i.useState)(null),rt=(at[0],at[1]),ot=Object(i.useState)(null),it=ot[0],ct=ot[1],st=Object(i.useState)(""),ut=st[0],lt=st[1],ft=Object(i.useState)(""),dt=ft[0],pt=ft[1],gt=Object(i.useState)({loaded:!1}),mt=(gt[0],gt[1]),bt=Object(i.useState)(!1),ht=bt[0],vt=bt[1],wt=Object(i.useState)(!1),Ot=wt[0],St=wt[1],jt=Object(i.useState)("claimed"),yt=jt[0],kt=jt[1],xt=Object(i.useState)(!1),Ct=xt[0],Tt=xt[1],Nt=Object(i.useState)(null),At=Nt[0],Et=Nt[1],It=Object(i.useState)(""),Mt=It[0],Ft=It[1],Ht=Object(i.useState)(""),_t=Ht[0],Lt=Ht[1],Vt=Object(i.useState)(""),Pt=Vt[0],Dt=Vt[1],Gt=Object(i.useState)([]),Jt=Gt[0],Wt=Gt[1],Bt=Object(i.useState)(!1),Rt=Bt[0],Kt=Bt[1],Ut=Object(i.useState)(""),zt=Ut[0],qt=Ut[1],Yt=Object(i.useState)(!1),Zt=Yt[0],Xt=Yt[1],$t=Object(i.useState)(""),Qt=$t[0],en=$t[1],tn=Object(i.useState)(!1),nn=tn[0],an=tn[1],rn=Object(i.useState)(!1),on=(rn[0],rn[1],Object(i.useState)(!1)),cn=on[0],sn=on[1],un=Object(i.useState)(!1),ln=un[0],fn=un[1],dn=Object(i.useState)(!1),pn=dn[0],gn=dn[1],mn=Object(i.useState)(""),bn=mn[0],hn=mn[1],vn=Object(i.useState)(!1),wn=vn[0],On=vn[1],Sn=Object(i.useState)(!1),jn=Sn[0],yn=Sn[1],kn=Object(i.useState)(null),xn=kn[0],Cn=kn[1],Tn=Object(i.useState)(!1),Nn=Tn[0],An=Tn[1],En=Object(i.useState)(null),In=En[0],Mn=En[1],Fn=Object(i.useState)(function(){return Ha.apply(this,arguments)}()),Hn=Fn[0],_n=(Fn[1],Object(i.useState)(!1)),Ln=_n[0],Vn=_n[1],Pn=Object(i.useState)(null),Dn=Pn[0],Gn=Pn[1],Jn=Object(i.useState)(null),Wn=Jn[0],Bn=Jn[1],Rn=Object(i.useState)(null),Kn=Rn[0],Un=Rn[1],zn=Object(i.useState)(!1),qn=zn[0],Yn=zn[1],Zn=Object(i.useState)(!1),Xn=Zn[0],$n=Zn[1],Qn=Object(i.useState)(!1),ea=Qn[0],ta=Qn[1],na=Object(i.useState)(!1),aa=(na[0],na[1]),ra=Object(i.useState)(null),oa=ra[0],ia=ra[1],ca=Object(i.useState)({name:"",image:"",metadata:""}),sa=(ca[0],ca[1]),ua=Object(i.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),la=ua[0],fa=ua[1],da=Object(V.b)(L.o.vaultHandler[a],L.o.vaultHandlerAbi,!0),pa=Object(V.b)(L.o.vaultHandlerV8[a],L.o.vaultHandlerV8Abi,!0),ga=Object(V.b)(L.o.emblemVault[a],L.o.emblemAbi,!0),ma=Object(s.a)(),ba=ma.isOpen,ha=ma.onOpen,va=ma.onClose,wa=Object(s.a)(),Oa=wa.isOpen,Sa=wa.onOpen,ja=wa.onClose,ya=Object(s.a)(),ka=ya.isOpen,xa=ya.onOpen,Ca=ya.onClose,Ta=Object(s.a)(),Na=Ta.isOpen,Aa=Ta.onToggle,Ea=Object(s.a)(),Ia=Ea.isOpen,Ma=Ea.onToggle,Fa=Object(u.c)().colorMode;function Ha(){return(Ha=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new x.a({baseUrl:"".concat(window.location.origin,"/serviceworker"),enableLogging:!0,network:"testnet"}),e.next=3,t.init({skipSw:!0,skipInit:!0,skipPrefetch:!0});case 3:return console.log("Initialized Torus"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new H.a(e,L.o.erc1155Abi,k.getSigner(n).connectUnchecked())},La=function(e,t){return fetch(L.g+"/liveliness",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:a.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,Vn(n.live),console.log("Liveliness check",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t()},Va=function(){console.log("Delayed Minting"),Yn(!1),$n(!0),ta(!0);var e=Ue.filter((function(e){return"ETH"==e.coin}))[0].address;console.log("--------------------------------------------------------Delayed Minting",n,ce,e,Dn,Wn),da.buyWithSignature(n,ce,e,Dn,Wn).then((function(e){var t=e.hash;setTimeout((function(){ct(t),$n(!1)}),100)})).catch((function(e){console.log("AAAAAHHHHHH",e.code),$n(!1)}))},Pa=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getvault"),e.next=3,fetch(L.g+"/meta/"+ce+"?experimental=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).image_ipfs,n.collectionAddress&&(aa(!0),ia(n.collectionAddress)),n.name?(Ga(n),Kt(!1),an(!1)):(mt({loaded:!0}),an(!0)),!Ye&&!Ve&&Wa([],ce,(function(e){e&&_e(e)}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Da=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(L.g+"/witness/"+ce,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:a.toString()}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(o=e.sent).signature){e.next=11;break}return console.log("witness",o),e.abrupt("return",t(o));case 11:return e.abrupt("return",t(!1));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ga=function(e){oe&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+oe),e.ciphertextV2&&(ye(e.ciphertextV2),console.log("ciphertextV2",e.ciphertextV2)),ge(e.name),Ae(e.image),Me(e.ownedImage||null),Ce(e.description),Qe(e.totalValue||0),e.values&&_e(He.concat(e.values)),e.attributes&&Je(e.attributes.filter((function(e){return"key"===e.trait_type}))),e.attributes&&Re(e.attributes),ze(e.addresses),he(e.ipfs||null),Oe(e.image_ipfs||null),e.targetAsset&&sa(e.targetAsset),e.targetContract&&fa(e.targetContract),0==e.live&&La(e.tokenId,(function(){})),Vn(0!=e.live),Gn(e.nonce),Bn(e.signature),Un(e.to),rt(e.network),nt("mainnet"==e.network?1:"rinkeby"==e.network?4:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),kt(e.status),"claimed"===yt&&Et(e.claimedBy),mt({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;Ze(t),e.sealed?Tt(!0):Tt(!1)},Ja=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(L.g+"/vault/balance/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(i=e.sent,console.log("responce",o,i),!(i.balances.length>0)){e.next=11;break}return e.abrupt("return",a(t.concat(i.balances)));case 11:return e.abrupt("return",a(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Wa=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ve){e.next=2;break}return e.abrupt("return",a(!1));case 2:return Pe(!0),e.next=5,fetch(L.g+"/vault/balance/"+n+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 5:return o=e.sent,e.next=8,o.json();case 8:if(i=e.sent,console.log("responce",o,i),!(i.balances.length>0)){e.next=14;break}return e.abrupt("return",a(t.concat(i.balances)));case 14:return e.abrupt("return",a(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ba=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){var i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(L.g+"/vault/balance/"+n+"/"+a,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return i=e.sent,e.next=5,i.json();case 5:if(c=e.sent,console.log("responce",i,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt("return",o(t.concat(c.balances)));case 11:return e.abrupt("return",o(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ra=function(){var e=localStorage.getItem(n+"_"+a+"_"+ce+"_mintPassword");e&&pn&&te(e)},Ka=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o){var i,c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append("chainid",a.toString()),i.append("Content-Type","application/json"),c=JSON.stringify({signature:t,tokenId:n}),e.next=6,fetch("https://tor-us-signer.vercel.app/sign",{method:"POST",headers:i,body:c,redirect:"follow"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt("return",o(u));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ua=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!1,e.next=3,Hn;case 3:return e.next=5,e.sent.getTorusKey("tor-us-signer-vercel",t,{verifier_id:t},n).catch((function(e){o=e.message}));case 5:if(i=e.sent,!o){e.next=11;break}return console.log("error",o),e.abrupt("return",a(!1));case 11:return e.abrupt("return",a(i));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),za=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o,i){var c,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append("chainId",a.toString()),c.append("service","evmetadata"),c.append("Content-Type","application/json"),s=JSON.stringify({signature:t,coin:o}),e.next=7,fetch(L.g+"/address/"+n,{method:"POST",headers:c,body:s,redirect:"follow"});case 7:return u=e.sent,e.next=10,u.json();case 10:return l=e.sent,e.abrupt("return",i(l));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),qa=function(){var e=Object(o.a)(r.a.mark((function e(t,n,o){var i,c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append("chainId",a.toString()),i.append("service","evmetadata"),i.append("Content-Type","application/json"),c=JSON.stringify({signature:t}),e.next=7,fetch(L.g+"/embed/"+n,{method:"POST",headers:i,body:c,redirect:"follow"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt("return",o(u));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ya=function(){var e=Object(o.a)(r.a.mark((function e(){var t,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(){return(c=Object(o.a)(r.a.mark((function e(){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da.getPreTransfer(ce);case 2:if(o=e.sent,!la[a]){e.next=9;break}return e.next=6,ga.isApprovedForAll(n,L.o.vaultHandlerV8[a]);case 6:i=e.sent,e.next=12;break;case 9:return e.next=11,ga.isApprovedForAll(n,L.o.vaultHandler[a]);case 11:i=e.sent;case 12:G(i),gn("0x0000000000000000000000000000000000000000"!==o._from),Mn(t),vt(t===n),Ra();case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(){return c.apply(this,arguments)},console.log("Contract states"),!1,e.prev=4,!la[a]){e.next=14;break}return console.log("Checking owner wth targetContract"),ga=_a(la[a]),e.next=10,ga.getOwnerOfSerial(la.serialNumber);case 10:t=e.sent,console.log("--------------------------- owner",t,P,n,L.o.vaultHandlerV8[a]),e.next=17;break;case 14:return e.next=16,ga.ownerOf(ce);case 16:t=e.sent;case 17:i(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(4),t="0x0000000000000000000000000000000000000000",i();case 24:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){console.log("mine?",ht),console.log("claiming?",Ot),console.log("accepting?",cn),console.log("acceptable",pn)}));var Za=function(e){return console.log(e,Ue.filter((function(t){return t.coin==e})).length>0),Ue.filter((function(t){return t.coin==e})).length>0},Xa=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage("Renew: "+ce).then((function(e){var n=Ue.filter((function(e){return"NMC"==e.coin}))[0].address;console.log("signature",e,t),fetch(L.g+"/nmc/renew/"+n,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:a.toString()},body:JSON.stringify({tokenId:ce,signature:e,name:t})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("Requested Renew",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$a=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!la[a]){e.next=5;break}return ga=_a(la[a]),e.next=4,ga.getSerial(la.tokenId,0);case 4:t=e.sent;case 5:k.getSigner(n).signMessage("Claim: "+(la[a]?t:ce)).then((function(e){Ka(e,ce,(function(e){Ua(ce,e.token,(function(e){var t=D.a.AES.decrypt(je,e.privateKey),n=JSON.parse(t.toString(D.a.enc.Utf8));Wt(n.values),Ft(n.phrase),Ue.forEach((function(e){e.key=window.phrasePathToKey(n.phrase,e.path),"BTC"==e.coin&&Lt(e.key),"ETH"==e.coin&&Dt(e.key)})),Sa()}))}))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qa=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage("HideAsset: "+ce).then((function(e){console.log("----------------------------------------------------------------",e),console.log(t.name,t.coin,t.address),er(ce,t.coin,t.address,t.name,e,(function(){console.log("Done hiding coin and getting new balances")}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function er(e,t,n,i,c,s){fetch(L.g+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:a.toString()},body:JSON.stringify({coin:t||null,address:n||null,name:i||null,signature:c||null})}).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log("-------",a),Ja([],e,(function(e){return _e(e),s()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var tr=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage("Address: "+ce).then((function(e){za(e,ce,t,(function(e){Pa()}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nr=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage("Embed: "+ce).then((function(e){qa(e,ce,(function(e){Ae(e.ownedImage)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ar=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:la[a]?pa.claim(la[a],la.tokenId).then((function(e){var t=e.hash;St(!0),setTimeout((function(){ct(t)}),100)})):ga.burn(ce).then((function(e){var t=e.hash;St(!0),setTimeout((function(){ct(t)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rr=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a,o,i,c,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var r=0;r<o-c;r++){var l=Math.floor(t.length*Math.random()),f=t.charAt(l);s+=f}i==a-1&&c++,i==a&&(u+=n.charAt(c-1),i=0),qt(u+s),s=""},!Zt){e.next=3;break}return e.abrupt("return");case 3:Xt(!0),t="abcdefghijklmnopqrstuvwxyz",5,o=(n="Decrypting").length,i=0,c=0,s="",u="",function e(t){setTimeout((function(){--t?e(t):Xt(!1),l(t),i+=1}),5)}(o*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function or(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}function ir(e){Qt&&(e=Qt),rr(),console.log(Ue);var t=Ue[0].address.replace("private:","");try{var n=D.a.AES.decrypt(t,e);JSON.parse(n.toString(D.a.enc.Utf8)),Ze(!1),en(e),ze(function(e){return Ue.forEach((function(t){if(t.address.includes("private")){var n=t.address.replace("private:","");t.address=function(e,t){var n=D.a.AES.decrypt(e,t);return JSON.parse(n.toString(D.a.enc.Utf8))}(n,e)}})),Ue}(e));var a=Ue.filter((function(e){return"ETH"===e.coin}))[0].address,r=Ue.filter((function(e){return"BTC"===e.coin}))[0].address;console.log("SUCCESS",Ue),Ba([],a,r,(function(e){_e(e)}))}catch(o){console.log("WTF",o)}}return Object(i.useEffect)((function(){console.log("----"),Pa()}),[]),Object(i.useEffect)((function(){(n&&a&&tt&&a==tt||I.noLayout&&"true"==I.noLayout||I.slideshowOnly&&"true"==I.slideshowOnly)&&Ya()})),oa&&(ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new H.a(e||L.o.emblemVault[a],L.o.emblemAbi,k.getSigner(n).connectUnchecked())}(oa||null)),q(c.a.Fragment,null,q(T.a,null,q("meta",{name:"twitter:card",content:"summary_large_image"}),q("meta",{name:"twitter:site",content:"Emblem.Finance"}),q("meta",{name:"twitter:title",content:pe}),q("meta",{name:"twitter:description",content:or(xe)}),q("meta",{name:"twitter:image",content:Ne}),q("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})),q(Y,{isOpen:ba,onClose:va,addrCoin:ut,addrAddr:dt}),q(Z,{isOpen:Oa,onClose:ja,mnemonic:Mt,privKeyBTC:_t,privKeyETH:Pt,privValues:Jt,addresses:Ue}),ae?q(X,{isOpen:ka,onClose:Ca,tokenId:ce,mine:ht}):null,q(l.a,{height:"40px"}),Rt?q(E.a,null):"",nn||fe?He.length>0&&fe?q(d.a,{className:"NFT-content",align:"center"},He.length&&He.filter((function(e){return"nft"==e.type})).length>0?q(K.a,{name:pe,image:He[0].image,items:He.filter((function(e){return e.image!==He[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):q(R.b,{className:"d-block w-100 NFT-image",url:Ne})):nn?q(d.a,{align:"center"},q(j.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),q(g.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",q(m.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):null:q(f.a,{width:"full",align:"center",justifyContent:"center"},q(l.a,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:tt!=a?"orange.500":"claimed"==yt?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},q(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500"},"Vault Network: ",F.a[tt]),q(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center"},pe,!Ye&&$e>0?": ~$"+$e.toLocaleString():null),q(d.a,{className:"NFT-content",align:"center"},He.length&&He.filter((function(e){return"nft"==e.type})).length>0?q(K.a,{name:pe,image:Ne,items:He.map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):q(R.b,{className:"d-block w-100 NFT-image",url:Ne}),ht&&Ie?q(p.a,{onClick:function(){nr()}},"(OWNED) Show Full Embed"):null),q(d.a,{align:"center"},q(l.a,{mt:"2",ml:"4",lineHeight:"tight"},q(d.a,null,q(g.a,{fontSize:"xs"},tt==a?q(m.a,{href:"./vaults?address="+In},"Owner: ",In):null),q(g.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md"},q(J.a,{plugins:[B.a],children:or(xe)}))))),q(l.a,{p:"6"},q(b.f,{isFitted:!0,variant:"enclosed"},q(b.c,{mb:"1em"},q(b.a,null,"Balances"),q(b.a,null,"Attributes")),q(b.e,null,q(b.d,null,Ye?q(l.a,{mb:5},q(g.a,{pb:2,color:zt?"green.500":null},zt||"Contents hidden. Enter password to unlock."),q(h.a,{type:"password",id:"vault-password",onChange:function(e){return ir(e.target.value)},"aria-describedby":"password-helper-text"})):q(l.a,{d:"flex",backgroundColor:"light"==Fa?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content"},q(l.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},q(g.a,{as:"h4",mt:2,fontWeight:"semibold"},"Current Contents:  ",q("button",{onClick:function(){Wa([],ce,(function(e){Pe(!1),_e(e)}))}}," [Refresh Balances]")),q(g.a,{as:"p",color:"dark"==Fa?"lightgreen":"forestgreen"},"$",Number($e.toFixed(4)).toLocaleString()),He.length?He.map((function(e){return q(d.a,null,q(U.a,{colorMode:Fa,coin:e,mine:"claimed"===yt&&At===n||ht,onRenew:Xa,hideAsset:Qa}))})):q(E.a,null),Ge.length?Ge.map((function(e){return q(g.a,null,"Data: ",e.attribute_key)})):Ge.length||He.length?null:q(g.a,null,"Nothing in here! Fill 'er up!")))),q(b.d,null,q(z.a,{colorMode:Fa,attributes:Be})))),Ye?null:q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(v.a,{justifyContent:"space-between",spacing:6},q(d.a,null,q(g.a,null,"Deposit Addresses"),q(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},Ue.map((function(e){return q(p.a,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",key:e.address,onClick:function(){lt(e.coin),pt(e.address),ha()}},"ETH"==e.coin?e.coin+"":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin)}))),(ht||"claimed"===yt)&&Ue.length<10?q(c.a.Fragment,null,q("button",{className:"nft_button",onClick:function(){Ma()}},"Manage Addresses"),q(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},q(w.a,{isOpen:Ia},Za("DOGE")?null:q(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){tr("DOGE")}},"Add DOGE"),Za("DGB")?null:q(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){tr("DGB")}},"Add Digibyte"),Za("NMC")?null:q(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){tr("NMC")}},"Add Namecoin"),Za("LTC")?null:q(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){tr("LTC")}},"Add Litecoin"),Za("MONA")?null:q(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){tr("MONA")}},"Add Mona"),Za("TEZOS")?null:q(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){tr("TEZOS")}},"Add Tezos"),Za("SOLANA")?null:q(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){tr("SOLANA")}},"Add Solana")))):null))),"claimed"===yt||!Ln||1!==tt&&4!==tt&&137!==tt?null:q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(p.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==tt?"rinkeby.":"")+"opensea.io/assets/"+(137==tt?"matic/":"")+(oa||L.o.emblemVault[tt])+"/"+ce,"_blank")}},"Opensea"),q(p.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==tt?"rinkeby.":"")+"looksrare.org/collections/"+(137==tt?"matic/":"")+(oa||L.o.emblemVault[tt])+"/"+ce,"_blank")}},"LooksRare"),ae?q(p.a,{className:"",onClick:function(){xa()}},ht?"My Offers":"Make an Offer"," (NFT\xb2NFT)"):null),"claimed"!==yt&&ht&&!pn?q(c.a.Fragment,null,q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",width:"100%"},q(d.a,{direction:"column",align:"center",width:"100%"},q(p.a,{className:"nft_button",width:"100%",onClick:Aa},"Transfer Vault"),q(w.a,{isOpen:Na},q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},q(O.a,{htmlFor:"owner-address"},"Address"),q(h.a,{mt:1,type:"text",id:"transferAddress",value:xn||"",onChange:function(e){console.log("Transfer to",e.target.value),Cn(e.target.value)},autoComplete:"off"})),q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},q(p.a,{isDisabled:!Object(F.k)(xn),onClick:function(){Aa(),An(!0),ga.transferFrom(n,xn,ce).then((function(e){var t=e.hash;ct(t)})).catch((function(e){}))}},"Transfer Now")))))):null,ht&&!pn?q(c.a.Fragment,null,q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(p.a,{className:"nft_button",width:"100%",onClick:function(){if(!P)return fn(!0),void ga.setApprovalForAll(L.o.vaultHandler[a],!0).then((function(e){var t=e.hash;setTimeout((function(){ct(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):fn(!1)}));var t=D.a.lib.WordArray.random(16).toString(),n=D.a.SHA256(t).toString();console.log("plain",t),console.log("sha",n),hn(t),e=n,setTimeout((function(){console.log("transferImage","0x"+e),yn(!0),da.addPreTransfer(ce,"0x"+e).then((function(e){var t=e.hash;ct(t),console.log("Set Pre Transfering True",jn)})).catch((function(e){null!==e&&void 0!==e&&e.code&&(console.log("Error?"),yn(!1),On(!1),hn(""))}))}),500)}}," ",P?"Get Link (Send Vault Via Link)":"Approve Gifting"," "))):null,(wn||ee)&&pn?q(l.a,null,q(m.a,{href:location.protocol+"//"+location.host+"/nft?id="+ce+"&key="+(bn||ee)},"Copy Gift Link"),q(g.a,null,"Password: ",bn||ee)):null,pn&&At!==n?q(c.a.Fragment,null,q(p.a,{mt:2,width:"100%",onClick:function(){console.log(ee),sn(!0),Da((function(e){da.transferWithCode(ce,ee,n,e.nonce,e.signature).then((function(e){var t=e.hash;setTimeout((function(){ct(t)}),100)})).catch((function(e){sn(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.log("tx failed.",e)}))}))}},"Accept"),q(h.a,{mt:2,type:"password",id:"mintPassword",minLength:3,maxLength:200,value:ee||"",onChange:function(e){console.log("grrr",e.target.value,ee),te(e.target.value)},autoComplete:"off"})):null,"claimed"!==yt&&n&&tt===a&&ht&&!Ct?q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(p.a,{width:"100%",onClick:function(){ar()},isDisabled:Ot},Ot?"Claiming ...":"Claim (Crack Open Vault)")):"claimed"===yt&&At===n&&tt===a?q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(p.a,{width:"100%",onClick:$a},"Get Keys")):null,Ln||Kn!=n||tt!=a||"claimed"===yt||Xn?null:q(c.a.Fragment,null,"true"==$?q(p.a,{width:"100%",mt:5,onClick:Va},"Mint Me v1"):q(p.a,{width:"100%",mt:5,onClick:function(){k.getSigner(n).signMessage("Delayed Minting: "+ce).then((function(e){console.log("sig",e),fetch(L.g+"/lazyMint",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:a.toString()},body:JSON.stringify({tokenId:ce,signature:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("data",n.data),Bn(n.data.signature),Gn(n.data.nonce),Yn(!0),setTimeout((function(){Va()}),500);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Mint Vault ")),Ln&&"claimed"!=yt||Kn!=n||tt!=a||Xn||!(He.length<1)?null:q(p.a,{width:"100%",mt:5,onClick:function(){k.getSigner(n).signMessage("Delete: "+ce).then((function(e){console.log("sig",e),fetch(L.g+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:ce,signature:e,chainId:a.toString()})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:e.sent,location.href=location.href.split("/")[0]+"/vaults";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Delete Vault "),qn?q(p.a,{isDisabled:!0,type:"submit"},"Verifying Signature ..."):null,Xn?q(p.a,{isDisabled:!0,type:"submit"},"Minting Vault ..."):null),be?q(d.a,null,q(y.a,{align:"center"},q(m.a,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+be,isExternal:!0},"View Metadata on IPFS "),we?q(m.a,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+we,isExternal:!0},"View Image on IPFS "):null)):null,Ct?q(l.a,{d:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(g.a,null,"*This vault is sealed forever.")):null,q(d.a,{direction:"column",align:"center"},"claimed"==yt?q(g.a,{color:"green.500"},"CLAIMED"):null),it?q(S.a,{status:"info"},q(S.b,null),cn?"Accepting Your Gift Vault":Ot?"Claiming your Vault ...":ln?"Handling Approval Flow ...":Nn?"Transfering Vault ...":ea?"Minting Vault":"Generating Gift Link ..."):null)),it?q(_.a,{hash:it,onComplete:function(){var e;!Ot||cn||jn?jn?(localStorage.setItem(n+"_"+a+"_"+ce+"_mintPassword",bn),On(!0),yn(!1),ct(null)):cn?(sn(!1),Pa(),ct(null)):ln?(fn(!1),Pa(),ct(null)):Nn?(An(!1),Pa(),ct(null)):ea?La(ce,(function(){ta(!1),Vn(!0)})):(console.log("minting",ea),console.log("claiming",Ot),console.log("accepting",cn),console.log("preTransfering",jn),console.log("approving",ln),console.log("Unknown state")):(ct(null),kt("claimed"),St(!1),Et(n),e=function(){location.href=location.origin+"/nft?id="+ce},fetch(L.g+"/web3/selfClaimLogs?chainId="+a.toString(),{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log("Log check",a),t.abrupt("return",e());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,q(l.a,{height:"40px"}))}}}]);