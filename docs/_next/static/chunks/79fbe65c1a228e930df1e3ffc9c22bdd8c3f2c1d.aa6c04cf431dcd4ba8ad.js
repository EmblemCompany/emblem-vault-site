(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{XXjs:function(e,t,n){"use strict";var a=n("BMxC"),r=n("eJLp"),o=n("q1tI"),i=n.n(o),c=i.a.createElement;t.a=function(e){var t=e.data,n=e.filename;return c(i.a.Fragment,null,c(a.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},c(r.a,{id:"downloadLink",width:"100%",onClick:function(e){e.preventDefault();var a=JSON.stringify(t,null,2),r=new Blob([a],{type:"application/json"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i)}},"Backup Vault")))}},ePsk:function(e,t,n){"use strict";n.d(t,"a",(function(){return te}));var a=n("o0o1"),r=n.n(a),o=n("HaE+"),i=n("q1tI"),c=n.n(i),s=n("XZ7F"),u=n("mf32"),l=n("BMxC"),d=n("Weur"),f=n("Yn+B"),p=n("eJLp"),m=n("sK1y"),g=n("pboS"),b=n("wCB1"),h=n("FpzS"),v=n("IP4Q"),w=n("MKZ1"),O=n("LqLE"),j=n("bQFp"),S=n("wZsY"),k=n("8Kt/"),y=n.n(k),x=n("Z6YE"),C=n("nOHt"),T=n("Ute3"),N=n("Y1ui"),A=n.n(N),E=n("a6RD"),I=n.n(E),_=n("8XlW"),M=n("zIq6"),F=n("N39q"),H=n("21eR"),P=n("iBPG"),V=n("NFKh"),L=n.n(V),W=n("IujW"),D=n.n(W),G=n("wH4i"),J=n.n(G),B=n("PLxQ"),K=n("zNBI"),R=n("fksj"),U=n("r9y0"),q=n("diTF"),X=n("PSLY"),z=n("FGWJ"),Y=n("XXjs"),Z=c.a.createElement,$=I()((function(){return Promise.all([n.e(13),n.e(16),n.e(29)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),Q=I()((function(){return Promise.all([n.e(13),n.e(16),n.e(30)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}}),ee=I()((function(){return Promise.all([n.e(13),n.e(16),n.e(31)]).then(n.bind(null,"D3uo"))}),{loadableGenerated:{webpack:function(){return["D3uo"]},modules:["./OfferModal"]}});function te(){var e=Object(x.b)(),t=e.account,n=e.chainId,a=e.library,k=Object(C.useRouter)(),N=k.query,E=Object(i.useState)("t"==N.cc),I=E[0],V=(E[1],Object(i.useState)("t"==N.curated)),W=V[0],G=(V[1],Object(i.useState)({1:"",name:"",chain:""})),te=G[0],ne=G[1],ae=Object(i.useState)(!1),re=ae[0],oe=ae[1],ie=Object(i.useState)(!1),ce=ie[0],se=ie[1],ue=Object(i.useState)(N.key),le=ue[0],de=ue[1],fe=Object(i.useState)(N.offer||!1),pe=fe[0],me=(fe[1],Object(i.useState)(N.framed||!0)),ge=me[0],be=(me[1],Object(i.useState)(N.id)),he=be[0],ve=(be[1],Object(i.useState)(N.slideshowOnly||!1)),we=ve[0],Oe=(ve[1],Object(i.useState)("")),je=Oe[0],Se=Oe[1],ke=Object(i.useState)(""),ye=ke[0],xe=ke[1],Ce=Object(i.useState)(""),Te=Ce[0],Ne=Ce[1],Ae=Object(i.useState)(""),Ee=Ae[0],Ie=Ae[1],_e=Object(i.useState)(""),Me=_e[0],Fe=_e[1],He=Object(i.useState)(""),Pe=He[0],Ve=He[1],Le=Object(i.useState)(""),We=Le[0],De=Le[1],Ge=Object(i.useState)([]),Je=Ge[0],Be=Ge[1],Ke=Object(i.useState)(!1),Re=Ke[0],Ue=Ke[1],qe=Object(i.useState)([]),Xe=qe[0],ze=qe[1],Ye=Object(i.useState)([]),Ze=Ye[0],$e=Ye[1],Qe=Object(i.useState)([]),et=Qe[0],tt=Qe[1],nt=Object(i.useState)(!1),at=nt[0],rt=nt[1],ot=Object(i.useState)(0),it=ot[0],ct=ot[1],st=Object(i.useState)(null),ut=st[0],lt=st[1],dt=Object(i.useState)(null),ft=(dt[0],dt[1]),pt=Object(i.useState)(null),mt=pt[0],gt=pt[1],bt=Object(i.useState)(""),ht=bt[0],vt=bt[1],wt=Object(i.useState)(""),Ot=wt[0],jt=wt[1],St=Object(i.useState)({loaded:!1}),kt=St[0],yt=St[1],xt=Object(i.useState)(!1),Ct=xt[0],Tt=xt[1],Nt=Object(i.useState)(!1),At=Nt[0],Et=Nt[1],It=Object(i.useState)("claimed"),_t=It[0],Mt=It[1],Ft=Object(i.useState)(!1),Ht=Ft[0],Pt=Ft[1],Vt=Object(i.useState)(null),Lt=Vt[0],Wt=Vt[1],Dt=Object(i.useState)(""),Gt=Dt[0],Jt=Dt[1],Bt=Object(i.useState)(""),Kt=Bt[0],Rt=Bt[1],Ut=Object(i.useState)(""),qt=Ut[0],Xt=Ut[1],zt=Object(i.useState)([]),Yt=zt[0],Zt=zt[1],$t=Object(i.useState)(!1),Qt=$t[0],en=$t[1],tn=Object(i.useState)(""),nn=tn[0],an=tn[1],rn=Object(i.useState)(!1),on=rn[0],cn=rn[1],sn=Object(i.useState)(""),un=sn[0],ln=sn[1],dn=Object(i.useState)(!1),fn=dn[0],pn=dn[1],mn=Object(i.useState)(!1),gn=mn[0],bn=mn[1],hn=Object(i.useState)(!1),vn=hn[0],wn=hn[1],On=Object(i.useState)(!1),jn=On[0],Sn=On[1],kn=Object(i.useState)(""),yn=kn[0],xn=(kn[1],Object(i.useState)(!1)),Cn=xn[0],Tn=xn[1],Nn=Object(i.useState)(!1),An=Nn[0],En=Nn[1],In=Object(i.useState)(!1),_n=In[0],Mn=In[1],Fn=Object(i.useState)(null),Hn=Fn[0],Pn=Fn[1],Vn=Object(i.useState)(!1),Ln=Vn[0],Wn=Vn[1],Dn=Object(i.useState)(!1),Gn=Dn[0],Jn=Dn[1],Bn=Object(i.useState)(null),Kn=(Bn[0],Bn[1]),Rn=Object(i.useState)(null),Un=(Rn[0],Rn[1]),qn=Object(i.useState)(null),Xn=(qn[0],qn[1]),zn=Object(i.useState)(null),Yn=zn[0],Zn=zn[1],$n=Object(i.useState)(!1),Qn=($n[0],$n[1]),ea=Object(i.useState)(!1),ta=ea[0],na=ea[1],aa=Object(i.useState)(!1),ra=aa[0],oa=aa[1],ia=Object(i.useState)(!1),ca=(ia[0],ia[1]),sa=Object(i.useState)(null),ua=sa[0],la=sa[1],da=Object(i.useState)({name:"",image:"",metadata:""}),fa=(da[0],da[1]),pa=Object(i.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),ma=pa[0],ga=pa[1],ba=Object(i.useState)({name:"",image:"",metadata:""}),ha=(ba[0],ba[1]),va=Object(i.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),wa=va[0],Oa=va[1],ja=Object(i.useState)(!1),Sa=ja[0],ka=ja[1],ya=Object(i.useState)(null),xa=ya[0],Ca=ya[1],Ta=Object(i.useState)(null),Na=Ta[0],Aa=Ta[1],Ea=Object(i.useState)(null),Ia=(Ea[0],Ea[1]),_a=Object(i.useState)(null),Ma=_a[0],Fa=_a[1],Ha=Object(i.useState)(!1),Pa=Ha[0],Va=Ha[1],La=Object(i.useState)(!1),Wa=La[0],Da=La[1],Ga=Object(i.useState)({}),Ja=Ga[0],Ba=Ga[1],Ka=Object(H.b)(F.r.vaultHandler[n],F.r.vaultHandlerAbi,!0),Ra=Object(H.b)(F.r.vaultHandlerV8[n],F.r.vaultHandlerV8Abi,!0),Ua=Object(H.b)(F.r.emblemVault[n],F.r.emblemAbi,!0),qa=Object(H.b)(F.r.coval[n],F.r.covalAbi,!0),Xa=Object(s.a)(),za=Xa.isOpen,Ya=Xa.onOpen,Za=Xa.onClose,$a=Object(s.a)(),Qa=$a.isOpen,er=$a.onOpen,tr=$a.onClose,nr=Object(s.a)(),ar=nr.isOpen,rr=nr.onOpen,or=nr.onClose,ir=Object(s.a)(),cr=(ir.isOpen,ir.onToggle,Object(s.a)()),sr=cr.isOpen,ur=cr.onToggle,lr=Object(s.a)(),dr=lr.isOpen,fr=lr.onToggle,pr=Object(u.c)().colorMode,mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new _.a(e,F.r.erc1155Abi,a.getSigner(t).connectUnchecked())},gr=function(e,t){return fetch(F.g+"/liveliness",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,Wn(n.live),console.log("Liveliness check",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t()},br=function(e,n,a){console.log("Delayed Minting"),Qn(!1),na(!0),oa(!0);var r=et.filter((function(e){return"ETH"==e.coin}))[0].address;console.log("--------------------------------------------------------Delayed Minting",t,he,r,e,n,a),Ka.buyWithSignature2(t,he,r,e,n,a).then((function(e){var t=e.hash;setTimeout((function(){gt(t),na(!1)}),100)})).catch((function(e){console.log("AAAAAHHHHHH",e),na(!1)}))},hr=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/meta/"+he+"?experimental=true"+(I?"&_vercel_no_cache=1":""),{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",cc:I?"t":""}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,Ba(n),wr(n),n.image_ipfs,n.collectionAddress&&(ca(!0),la(n.collectionAddress)),n.name?(en(!1),pn(!1)):(yt({loaded:!0}),pn(!0)),!at&&!Re&&jr([],he,(function(e){e&&Be(e)}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vr=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/witness/"+he,{method:"GET",headers:{"Content-Type":"application/json",cc:"t",service:"evmetadata",chainid:n.toString()}});case 2:return a=e.sent,e.next=5,a.json();case 5:if(!(o=e.sent).signature){e.next=11;break}return console.log("witness",o),e.abrupt("return",t(o));case 11:return e.abrupt("return",t(!1));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wr=function(e){ge&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+ge),e.ciphertextV2&&Ie(e.ciphertextV2),Da(e.mintLocked&&0==e.mintLockBlock),Se(e.name),Ve(e.image),De(e.ownedImage||null),Fe(e.description),ct(e.totalValue||0),e.values&&Be(Je.concat(e.values)),e.attributes&&ze(e.attributes.filter((function(e){return"key"===e.trait_type}))),e.attributes&&$e(e.attributes),tt(e.addresses),xe(e.ipfs||null),Ne(e.image_ipfs||null),e.targetAsset&&fa(e.targetAsset),e.targetContract&&ga(e.targetContract),e.move_targetContract&&Oa(e.move_targetContract),e.move_targetAsset&&ha(e.move_targetAsset),e.targetContract&&setTimeout((function(){location.href=location.origin+"/nft2?id="+e.targetContract.tokenId}),500),Wn(0!=e.live),Kn(e.nonce),Xn(e.signature),Zn(e.to),ft(e.network),lt("mainnet"==e.network?1:"rinkeby"==e.network?4:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),Mt(e.status),"claimed"===_t&&Wt(e.claimedBy),yt({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;if(rt(t),e.sealed?Pt(!0):Pt(!1),1==e.values.length&&e.attributes.length>0){var n=e.attributes.filter((function(t){return t.value==e.values[0].name}));if(n.length>0){var a=n[0].trait_type,r=F.t.filter((function(e){return e.name==a}));r.length>0&&ne(r[0])}}},Or=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/vault/balance/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(i=e.sent,console.log("response",o,i),!(i.balances.length>0)){e.next=11;break}return e.abrupt("return",a(t.concat(i.balances)));case 11:return e.abrupt("return",a(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),jr=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Re){e.next=2;break}return e.abrupt("return",a(!1));case 2:return Ue(!0),e.next=5,fetch(F.g+"/vault/balance/"+n+"?live=true&_vercel_no_cache=1",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 5:return o=e.sent,e.next=8,o.json();case 8:if(i=e.sent,console.log("response",o,i),!(i.balances.length>0)){e.next=14;break}return e.abrupt("return",a(t.concat(i.balances)));case 14:return e.abrupt("return",a(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Sr=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){var i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/vault/balance/"+n+"/"+a,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return i=e.sent,e.next=5,i.json();case 5:if(c=e.sent,console.log("response",i,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt("return",o(t.concat(c.balances)));case 11:return e.abrupt("return",o(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),kr=function(){var e=localStorage.getItem(t+"_"+n+"_"+he+"_mintPassword");e&&jn&&de(e)},yr=function(){var e=Object(o.a)(r.a.mark((function e(t,a,o){var i,c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append("chainid",n.toString()),i.append("Content-Type","application/json"),c=JSON.stringify({signature:t,tokenId:a}),e.next=6,fetch(F.o+"/sign",{method:"POST",headers:i,body:c,redirect:"follow"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt("return",o(u));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function xr(e,t,n){return Cr.apply(this,arguments)}function Cr(){return(Cr=Object(o.a)(r.a.mark((function e(t,n,a){var o,i,c,s,u,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new X.a({network:"mainnet"}),i=new z.a({enableOneKey:!0,network:"mainnet"}),e.next=4,o.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:t});case 4:return c=e.sent,s=c.torusNodeEndpoints,u=c.torusIndexes,e.next=9,i.retrieveShares(s,u,"tor-us-signer-vercel",{verifier_id:t},n);case 9:return l=e.sent,d=l.privKey,e.abrupt("return",a({privateKey:d}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tr=function(){var e=Object(o.a)(r.a.mark((function e(t,a,o,i){var c,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append("chainId",n.toString()),c.append("service","evmetadata"),c.append("Content-Type","application/json"),s=JSON.stringify({signature:t,coin:o}),e.next=7,fetch(F.g+"/address/"+a,{method:"POST",headers:c,body:s,redirect:"follow"});case 7:return u=e.sent,e.next=10,u.json();case 10:return l=e.sent,e.abrupt("return",i(l));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Nr=function(){var e=Object(o.a)(r.a.mark((function e(t,a,o){var i,c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append("chainId",n.toString()),i.append("service","evmetadata"),i.append("Content-Type","application/json"),c=JSON.stringify({signature:t}),e.next=7,fetch(F.g+"/embed/"+a,{method:"POST",headers:i,body:c,redirect:"follow"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt("return",o(u));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ar=function(){var e=Object(o.a)(r.a.mark((function e(){var a,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(){return(c=Object(o.a)(r.a.mark((function e(){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ka.getPreTransfer(he);case 2:if(o=e.sent,!ma[n]){e.next=9;break}return e.next=6,Ua.isApprovedForAll(t,F.r.vaultHandlerV8[n]);case 6:i=e.sent,e.next=12;break;case 9:return e.next=11,Ua.isApprovedForAll(t,F.r.vaultHandler[n]);case 11:i=e.sent;case 12:se(i),Sn("0x0000000000000000000000000000000000000000"!==o._from),Pn(a),Tt(a===t||Yn===t&&"0x0000000000000000000000000000000000000000"===a),Va(Yn===t&&"0x0000000000000000000000000000000000000000"===a),kr(),Hn&&0==Ln&&!Gn&&(Hn===F.q&&wa&&wa.serialNumber?setTimeout((function(){location.href=location.origin+"/nft2?id="+he}),500):(Jn(!0),gr(he,(function(){}))));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(){return c.apply(this,arguments)},console.log("Contract states"),!1,e.prev=4,!ma[n]){e.next=14;break}return console.log("Checking owner wth targetContract"),Ua=mr(ma[n]),e.next=10,Ua.getOwnerOfSerial(ma.serialNumber);case 10:a=e.sent,console.log("--------------------------- owner",a,ce,t,F.r.vaultHandlerV8[n]),e.next=22;break;case 14:if(!Ln){e.next=20;break}return e.next=17,Ua.ownerOf(he);case 17:e.t0=e.sent,e.next=21;break;case 20:e.t0="0x0000000000000000000000000000000000000000";case 21:a=e.t0;case 22:return e.t1=Ca,e.next=25,qa.decimals();case 25:return e.t2=e.sent,(0,e.t1)(e.t2),e.t3=Aa,e.next=30,qa.allowance(t,F.r.vaultHandler[n]).then((function(e){return e.toString()}));case 30:return e.t4=e.sent,(0,e.t3)(e.t4),e.t5=Ia,e.next=35,qa.balanceOf(t).then((function(e){return e.toString()}));case 35:return e.t6=e.sent,(0,e.t5)(e.t6),e.t7=Fa,e.next=40,Ka.price().then((function(e){return e.toString()}));case 40:e.t8=e.sent,(0,e.t7)(e.t8),Number(Na)>=Number(Ma)?ka(!0):ka(!1),i(),e.next=50;break;case 46:e.prev=46,e.t9=e.catch(4),a="0x0000000000000000000000000000000000000000",i();case 50:case"end":return e.stop()}}),e,null,[[4,46]])})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){console.log("mine?",Ct),console.log("claiming?",At),console.log("accepting?",gn),console.log("acceptable",jn),console.log("qualified",te),console.log("owner",Hn)}));var Er=function(e){return console.log(e,et.filter((function(t){return t.coin==e})).length>0),et.filter((function(t){return t.coin==e})).length>0},Ir=function(){var e=Object(o.a)(r.a.mark((function e(i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.getSigner(t).signMessage("Renew: "+he).then((function(e){var t=et.filter((function(e){return"NMC"==e.coin}))[0].address;console.log("signature",e,i),fetch(F.g+"/nmc/renew/"+t,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:he,signature:e,name:i})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("Requested Renew",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_r=function(){var e=Object(o.a)(r.a.mark((function e(){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ma[n]){e.next=5;break}return Ua=mr(ma[n]),e.next=4,Ua.getSerial(ma.tokenId,0);case 4:i=e.sent;case 5:a.getSigner(t).signMessage("Claim: "+(ma[n]?i:he)).then((function(e){yt({loaded:!1}),Pa&&"claimed"!=_t&&!Wa&&Da(!0),yr(e,he,(function(e){xr(he,e.token,function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=L.a.AES.decrypt(Ee,t.privateKey),a=JSON.parse(n.toString(L.a.enc.Utf8)),Zt(a.values),Jt(a.phrase),et.forEach(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("STX"!=t.coin){e.next=6;break}return e.next=3,Mr(t,a.phrase);case 3:t.key=e.sent,e.next=7;break;case 6:t.key=window.phrasePathToKey(a.phrase,t.path);case 7:"BTC"==t.coin&&Rt(t.key),"ETH"==t.coin&&Xt(t.key);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(i){alert(i),setTimeout((function(){location.href=location.href}),2e3)}yt({loaded:!0}),er();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Mr=function(){var e=Object(o.a)(r.a.mark((function e(t,n){var a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.a)({secretKey:n,password:""});case 2:return a=e.sent,console.log("------ stacks account -",a.accounts[0]),o=a.accounts[0],t.key=o.stxPrivateKey,e.abrupt("return",t.key);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Fr=function(){var e=Object(o.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.getSigner(t).signMessage("HideAsset: "+he).then((function(e){Hr(he,n.coin,n.address,n.name,e,(function(){console.log("Done hiding coin and getting new balances")}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Hr(e,t,a,i,c,s){fetch(F.g+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({coin:t||null,address:a||null,name:i||null,signature:c||null})}).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log("-------",a),Or([],e,(function(e){return Be(e),s()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var Pr=function(){var e=Object(o.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.getSigner(t).signMessage("Address: "+he).then((function(e){Tr(e,he,n,(function(e){hr()}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vr=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.getSigner(t).signMessage("Embed: "+he).then((function(e){Nr(e,he,(function(e){Ve(e.ownedImage)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Lr=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("---------- qualified move",te),a.getSigner(t).signMessage("Move Vault: "+he).then((function(e){fetch(F.h+"/move-vault/",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({chainId:1,from:t,sourceContract:{1:F.r.emblemVault[ut]},targetContract:{1:te[n],name:te.name,chain:te.chain},targetAsset:{name:Je[0].name},amount:1,tokenId:he,signature:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:(a=e.sent).sig&&Ra.moveVault(F.r.emblemVault[ut],te[n],he,a.tokenId,a.nonce,a.sig,a.serial).then((function(e){gt(e.hash),oe(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Wr=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ma[n]?Ra.claim(ma[n],ma.tokenId).then((function(e){var t=e.hash;Et(!0),setTimeout((function(){gt(t)}),100)})):Ka.claimOnChain(he).then((function(e){var t=e.hash;Et(!0),setTimeout((function(){gt(t)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Dr=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a,o,i,c,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var r=0;r<o-c;r++){var l=Math.floor(t.length*Math.random()),d=t.charAt(l);s+=d}i==a-1&&c++,i==a&&(u+=n.charAt(c-1),i=0),an(u+s),s=""},!on){e.next=3;break}return e.abrupt("return");case 3:cn(!0),t="abcdefghijklmnopqrstuvwxyz",5,o=(n="Decrypting").length,i=0,c=0,s="",u="",function e(t){setTimeout((function(){--t?e(t):cn(!1),l(t),i+=1}),5)}(o*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Gr(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}function Jr(e){un&&(e=un),Dr(),console.log(et);var t=et[0].address.replace("private:","");try{var n=L.a.AES.decrypt(t,e);JSON.parse(n.toString(L.a.enc.Utf8)),rt(!1),ln(e),tt(function(e){return et.forEach((function(t){if(t.address.includes("private")){var n=t.address.replace("private:","");t.address=function(e,t){var n=L.a.AES.decrypt(e,t);return JSON.parse(n.toString(L.a.enc.Utf8))}(n,e)}})),et}(e));var a=et.filter((function(e){return"ETH"===e.coin}))[0].address,r=et.filter((function(e){return"BTC"===e.coin}))[0].address;console.log("SUCCESS",et),Sr([],a,r,(function(e){Be(e)}))}catch(o){console.log("WTF",o)}}return Object(i.useEffect)((function(){hr()}),[]),Object(i.useEffect)((function(){(t&&n&&ut&&n==ut||N.noLayout&&"true"==N.noLayout||N.slideshowOnly&&"true"==N.slideshowOnly)&&Ar()})),ua&&(Ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new _.a(e||F.r.emblemVault[n],F.r.emblemAbi,a.getSigner(t).connectUnchecked())}(ua||null)),Z(c.a.Fragment,null,Z(y.a,null,Z("meta",{name:"twitter:card",content:"summary_large_image"}),Z("meta",{name:"twitter:site",content:"Emblem.Finance"}),Z("meta",{name:"twitter:title",content:je}),Z("meta",{name:"twitter:description",content:Gr(Me)}),Z("meta",{name:"twitter:image",content:Pe}),Z("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})),Z($,{isOpen:za,onClose:Za,addrCoin:ht,addrAddr:Ot}),Z(Q,{isOpen:Qa,onClose:tr,mnemonic:Gt,privKeyBTC:Kt,privKeyETH:qt,privValues:Yt,addresses:et}),pe?Z(ee,{isOpen:ar,onClose:or,tokenId:he,mine:Ct}):null,Z(A.a,{loaded:kt.loaded},Z(l.a,{height:"40px"}),Qt?Z(T.a,null):"",fn||we?Je.length>0&&we?Z(f.a,{className:"NFT-content",align:"center"},Je.length&&Je.filter((function(e){return"nft"==e.type})).length>0?Z(K.a,{name:je,image:Je[0].image,items:Je.filter((function(e){return e.image!==Je[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):Z(B.b,{className:"d-block w-100 NFT-image",url:Pe})):fn?Z(f.a,{align:"center"},Z(j.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),Z(m.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",Z(g.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):null:Z(d.a,{width:"full",align:"center",justifyContent:"center"},Z(l.a,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:ut!=n?"orange.500":"claimed"==_t?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},Z(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500"},"Vault Network: ",P.a[ut]),Z(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center"},je,!at&&it>0?": ~$"+it.toLocaleString():null),Z(f.a,{className:"NFT-content",align:"center"},Je.length&&Je.filter((function(e){return"nft"==e.type})).length>0?Z(K.a,{name:je,image:Pe,items:Je.map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):Z(B.b,{className:"d-block w-100 NFT-image",url:Pe}),Ct&&We?Z(p.a,{onClick:function(){Vr()}},"(OWNED) Show Full Embed"):null),Z(f.a,{align:"center",maxWidth:"400px"},Z(l.a,{mt:"2",ml:"4",lineHeight:"tight",maxWidth:"400px"},Z(f.a,null,Z(m.a,{fontSize:"xs"},ut==n?Z(g.a,{href:"./vaults?address="+Hn},"Owner: ",Hn):null),Z(m.a,{overflowWrap:"anywhere",mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md"},Z(D.a,{plugins:[J.a],children:Gr(Me)}))))),Z(l.a,{p:"6"},Z(b.f,{isFitted:!0,variant:"enclosed"},Z(b.c,{mb:"1em"},Z(b.a,null,"Balances"),Z(b.a,null,"Attributes")),Z(b.e,null,Z(b.d,null,at?Z(l.a,{mb:5},Z(m.a,{pb:2,color:nn?"green.500":null},nn||"Contents hidden. Enter password to unlock."),Z(h.a,{type:"password",id:"vault-password",onChange:function(e){return Jr(e.target.value)},"aria-describedby":"password-helper-text"})):Z(l.a,{d:"flex",backgroundColor:"light"==pr?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content"},Z(l.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},Z(m.a,{as:"h4",mt:2,fontWeight:"semibold"},"Current Contents:  ",Z("button",{onClick:function(){jr([],he,(function(e){Ue(!1),Be(e)}))}}," [Refresh Balances]")),Z(m.a,{as:"p",color:"dark"==pr?"lightgreen":"forestgreen"},"$",Number(it.toFixed(4)).toLocaleString()),Je.length?Je.map((function(e){return Z(f.a,null,Z(R.a,{colorMode:pr,coin:e,mine:"claimed"===_t&&Lt===t||Ct,onRenew:Ir,hideAsset:Fr}))})):Z(T.a,null),Xe.length?Xe.map((function(e){return Z(m.a,null,"Data: ",e.attribute_key)})):Xe.length||Je.length?null:Z(m.a,null,"Nothing in here! Fill 'er up!")))),Z(b.d,null,Z(U.a,{colorMode:pr,attributes:Ze})))),at?null:Z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Z(v.a,{justifyContent:"space-between",spacing:6},Z(f.a,null,Z(m.a,null,"Deposit Addresses"),Z(d.a,{w:"340px",justify:"center",flexWrap:"wrap"},et.map((function(e){return Z(p.a,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",key:e.address,onClick:function(){vt(e.coin),jt(e.address),Ya()}},"ETH"==e.coin?e.coin+"/EVM":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":"TAP"==e.coin?"TAPROOT":e.coin)}))),(Ct||"claimed"===_t)&&et.length<12?Z(c.a.Fragment,null,Z("button",{className:"nft_button",onClick:function(){ur()}},"Manage Addresses"),Z(d.a,{w:"340px",justify:"center",flexWrap:"wrap"},Z(w.a,{isOpen:sr},Er("DOGE")?null:Z(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Pr("DOGE")}},"Add DOGE"),Er("DGB")?null:Z(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Pr("DGB")}},"Add Digibyte"),Er("NMC")?null:Z(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Pr("NMC")}},"Add Namecoin"),Er("LTC")?null:Z(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Pr("LTC")}},"Add Litecoin"),Er("MONA")?null:Z(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Pr("MONA")}},"Add Mona"),Er("TEZOS")?null:Z(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Pr("TEZOS")}},"Add Tezos"),Er("SOLANA")?null:Z(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Pr("SOLANA")}},"Add Solana"),Er("STX")?null:Z(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Pr("STX")}},"Add Stacks"),Er("TAP")?null:Z(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){Pr("TAP")}},"Add Taproot")))):null))),"claimed"===_t||!Ln||1!==ut&&137!==ut?null:Z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Z(p.a,{className:"nft_button",width:Ct&&1==ut?"33%":137==ut?"100%":"50%",m:2.5,mb:5,onClick:function(){window.open("https://"+(4==ut?"rinkeby.":"")+"opensea.io/assets/"+(137==ut?"matic/":"ethereum/")+(ua||F.r.emblemVault[ut])+"/"+he,"_blank")}},"Opensea"),1==ut?Z(p.a,{className:"nft_button",width:Ct?"33%":"50%",m:2.5,mb:5,onClick:function(){window.open("https://"+(4==ut?"rinkeby.":"")+"looksrare.org/collections/"+(137==ut?"matic/":"")+(ua||F.r.emblemVault[ut])+"/"+he,"_blank")}},"LooksRare"):null,Ct&&1==ut?Z(p.a,{className:"nft_button",width:"33%",m:2.5,mb:5,onClick:function(){window.open("https://app.arcade.xyz/terms/asset/".concat(ma[ut]?ma[ut]:F.r.emblemVault[ut],"/").concat(he),"_blank")}},"Arcade"):null,pe?Z(p.a,{className:"",onClick:function(){rr()}},Ct?"My Offers":"Make an Offer"," (NFT\xb2NFT)"):null),Sa&&!Ln?Z(f.a,{direction:"row",align:"flex-start",spacing:"0rem",flexWrap:"wrap",shouldWrapChildren:!0},Z(l.a,{maxW:"sm",borderWidth:"1px",p:1,rounded:"lg",overflow:"hidden"},Z(m.a,null,"Creating a vault spends ",Ma*Math.pow(10,-xa)," Coval from your wallet"))):null,Ct&&!ce?Z(c.a.Fragment,null,Z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Z(p.a,{backgroundColor:"#02b402",color:"black !important",fontWeight:"bold !important",className:"nft_button",width:"100%",onClick:function(){return wn(!0),void Ua.setApprovalForAll(F.r.vaultHandler[n],!0).then((function(e){var t=e.hash;setTimeout((function(){gt(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):wn(!1)}))}}," Approve Minting"))):null,Ln||!Ct||ut!=n||"claimed"===_t||ta||!ce||Sa?null:Z(c.a.Fragment,null,Z(p.a,{backgroundColor:"#02b402",color:"black !important",fontWeight:"bold !important",width:"100%",mt:5,onClick:function(){wn(!0),qa.approve(F.r.vaultHandler[n],"100000000000000").then((function(e){var t=e.hash;gt(t)})).catch((function(e){4001==(null===e||void 0===e?void 0:e.code)&&wn(!1)}))}},"Approve Spending Coval")),(Cn||le)&&jn?Z(l.a,null,Z(g.a,{href:location.protocol+"//"+location.host+"/nft?id="+he+"&key="+(yn||le)},"Copy Gift Link"),Z(m.a,null,"Password: ",yn||le)):null,jn&&Lt!==t?Z(c.a.Fragment,null,Z(p.a,{mt:2,width:"100%",onClick:function(){console.log(le),bn(!0),vr((function(e){Ka.transferWithCode(he,le,t,e.nonce,e.signature).then((function(e){var t=e.hash;setTimeout((function(){gt(t)}),100)})).catch((function(e){bn(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.log("tx failed.",e)}))}))}},"Accept"),Z(h.a,{mt:2,type:"password",id:"mintPassword",minLength:3,maxLength:200,value:le||"",onChange:function(e){console.log("grrr",e.target.value,le),de(e.target.value)},autoComplete:"off"})):null,!Ln&&Ct&&ut==n&&"claimed"!==_t&&!ta&&ce&&Sa?Z(c.a.Fragment,null,Z(p.a,{width:"100%",mt:5,isDisabled:!at&&Je.length<1||Wa,onClick:function(){a.getSigner(t).signMessage("Delayed Minting: "+he).then((function(e){console.log("sig",e),fetch(F.g+"/lazyMint",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:he,signature:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:!(n=e.sent).error&&n.data?(Xn(n.data.signature),Kn(n.data.nonce),Un(n.data.block),Qn(!0),setTimeout((function(){br(n.data.nonce,n.data.block,n.data.signature)}),1500)):alert(n.error?n.msg:"unknown error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},Wa?"Mint Locked - keys accessed before mint":!at&&Je.length<1?"Please load the vault to mint":"Mint Vault")):null,"claimed"!==_t&&t&&ut===n&&Ct&&!Ht&&ce&&Ln?Z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Z(p.a,{width:"100%",onClick:function(){Wr()},isDisabled:At},At?"Claiming ...":"Unlock Vault (Get Private Keys)")):ut!==n||"claimed"!=_t&&!Wa||Lt!==t&&!Ct?null:Z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Z(p.a,{width:"100%",onClick:_r},"Get Keys")),Z(f.a,{mt:5},Z(c.a.Fragment,null,Z("button",{className:"nft_button",onClick:function(){fr()}},"Advanced Operations"),Z(d.a,{w:"100%",justify:"center",flexWrap:"wrap"},Z(w.a,{width:"100%",isOpen:dr},ut===n&&Pa&&"claimed"!=_t&&!Wa?Z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Z(p.a,{width:"100%",onClick:_r},"Get Keys (Unlocking will prevent minting)")):null,Ct&&W&&te&&te[n]&&te.name&&te.chain?Z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Z(p.a,{width:"100%",onClick:function(){Lr()},isDisabled:re},re?"Moving ...":"Move Vault")):null,Ct||Lt==t?Z(Y.a,{data:Ja,filename:"EmblemVault-".concat(he,".json")}):null,Ln&&"claimed"!=_t||Yn!=t||ut!=n||ta||!(Je.length<1)?null:Z(p.a,{width:"100%",mt:5,onClick:function(){a.getSigner(t).signMessage("Delete: "+he).then((function(e){console.log("sig",e),fetch(F.g+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:he,signature:e,chainId:n.toString()})}).then(Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:location.href=location.href.split("/")[0]+"/vaults";case 1:case"end":return e.stop()}}),e)}))))}))}},"Delete Vault ")))))),ye?Z(S.a,{align:"center"},Z(g.a,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+ye,isExternal:!0},"View Metadata on IPFS "),Te?Z(g.a,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+Te,isExternal:!0},"View Image on IPFS "):null):null,Ht?Z(l.a,{d:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4"},Z(m.a,null,"*This vault is sealed forever.")):null,Z(f.a,{direction:"column",align:"center"},"claimed"==_t?Z(m.a,{color:"green.500"},"CLAIMED"):null),mt?Z(O.a,{status:"info"},Z(O.b,null),gn?"Accepting Your Gift Vault":At?"Claiming your Vault ...":vn?"Handling Approval Flow ...":_n?"Transfering Vault ...":ra?"Minting Vault":"Validating transaction"):null)),mt?Z(M.a,{hash:mt,onComplete:function(){!At||gn||An?An?(localStorage.setItem(t+"_"+n+"_"+he+"_mintPassword",yn),Tn(!0),En(!1),gt(null)):gn?(bn(!1),hr(),gt(null)):vn?(wn(!1),hr(),gt(null),location.href=location.origin+"/nft?id="+he):_n?(Mn(!1),hr(),gt(null)):ra?gr(he,(function(){oa(!1),Wn(!0),location.href=location.origin+"/nft?id="+he+"&cc=t"})):location.href=location.origin+"/nft?id="+he:(gt(null),Mt("claimed"),Et(!1),Wt(t),location.href=location.origin+"/nft?id="+he+"&cc=t")}}):null,Z(l.a,{height:"40px"})))}}}]);