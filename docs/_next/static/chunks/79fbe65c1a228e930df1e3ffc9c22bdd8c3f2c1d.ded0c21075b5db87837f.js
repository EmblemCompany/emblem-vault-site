(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{ePsk:function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));var a=n("o0o1"),r=n.n(a),o=n("HaE+"),c=n("q1tI"),i=n.n(c),s=n("XZ7F"),u=n("mf32"),l=n("BMxC"),f=n("Weur"),p=n("Yn+B"),d=n("eJLp"),m=n("sK1y"),g=n("pboS"),h=n("wCB1"),b=n("FpzS"),v=n("IP4Q"),w=n("MKZ1"),O=n("jgTY"),j=n("LqLE"),S=n("bQFp"),y=n("wZsY"),k=n("8Kt/"),x=n.n(k),C=n("Z6YE"),T=n("nOHt"),N=n("Ute3"),A=n("a6RD"),I=n.n(A),E=n("iBPG"),_=n("8XlW"),M=n("zIq6"),F=n("N39q"),H=n("21eR"),P=n("NFKh"),V=n.n(P),L=n("IujW"),D=n.n(L),G=n("wH4i"),W=n.n(G),J=n("PLxQ"),K=n("zNBI"),B=n("fksj"),R=(n("Q/0U"),n("r9y0")),U=n("diTF"),q=n("PSLY"),z=n("FGWJ"),X=i.a.createElement,Y=I()((function(){return Promise.all([n.e(13),n.e(16),n.e(28)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),Z=I()((function(){return Promise.all([n.e(13),n.e(16),n.e(29)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}}),$=I()((function(){return Promise.all([n.e(13),n.e(16),n.e(30)]).then(n.bind(null,"D3uo"))}),{loadableGenerated:{webpack:function(){return["D3uo"]},modules:["./OfferModal"]}});function Q(){var e=Object(C.b)(),t=e.account,n=e.chainId,a=e.library,k=Object(T.useRouter)(),A=k.query,I=Object(c.useState)("t"==A.cc),P=I[0],L=(I[1],Object(c.useState)("t"==A.curated)),G=L[0],Q=(L[1],Object(c.useState)({name:"",chain:""})),ee=Q[0],te=Q[1],ne=Object(c.useState)(!1),ae=ne[0],re=ne[1],oe=Object(c.useState)(!1),ce=oe[0],ie=oe[1],se=Object(c.useState)(A.useOldMint),ue=(se[0],se[1],Object(c.useState)(A.key)),le=ue[0],fe=ue[1],pe=Object(c.useState)(A.offer||!1),de=pe[0],me=(pe[1],Object(c.useState)(A.framed||!0)),ge=me[0],he=(me[1],Object(c.useState)(A.id)),be=he[0],ve=(he[1],Object(c.useState)(A.experimental)),we=(ve[0],ve[1],Object(c.useState)(A.noLayout)),Oe=(we[0],we[1],Object(c.useState)(A.slideshowOnly||!1)),je=Oe[0],Se=(Oe[1],Object(c.useState)("")),ye=Se[0],ke=Se[1],xe=Object(c.useState)(""),Ce=xe[0],Te=xe[1],Ne=Object(c.useState)(""),Ae=Ne[0],Ie=Ne[1],Ee=Object(c.useState)(""),_e=Ee[0],Me=Ee[1],Fe=Object(c.useState)(""),He=Fe[0],Pe=Fe[1],Ve=Object(c.useState)(""),Le=Ve[0],De=Ve[1],Ge=Object(c.useState)(""),We=Ge[0],Je=Ge[1],Ke=Object(c.useState)([]),Be=Ke[0],Re=Ke[1],Ue=Object(c.useState)(!1),qe=Ue[0],ze=Ue[1],Xe=Object(c.useState)([]),Ye=Xe[0],Ze=Xe[1],$e=Object(c.useState)([]),Qe=$e[0],et=$e[1],tt=Object(c.useState)([]),nt=tt[0],at=tt[1],rt=Object(c.useState)(!1),ot=rt[0],ct=rt[1],it=Object(c.useState)(0),st=it[0],ut=it[1],lt=Object(c.useState)(null),ft=lt[0],pt=lt[1],dt=Object(c.useState)(null),mt=(dt[0],dt[1]),gt=Object(c.useState)(null),ht=gt[0],bt=gt[1],vt=Object(c.useState)(""),wt=vt[0],Ot=vt[1],jt=Object(c.useState)(""),St=jt[0],yt=jt[1],kt=Object(c.useState)({loaded:!1}),xt=(kt[0],kt[1]),Ct=Object(c.useState)(!1),Tt=Ct[0],Nt=Ct[1],At=Object(c.useState)(!1),It=At[0],Et=At[1],_t=Object(c.useState)("claimed"),Mt=_t[0],Ft=_t[1],Ht=Object(c.useState)(!1),Pt=Ht[0],Vt=Ht[1],Lt=Object(c.useState)(null),Dt=Lt[0],Gt=Lt[1],Wt=Object(c.useState)(""),Jt=Wt[0],Kt=Wt[1],Bt=Object(c.useState)(""),Rt=Bt[0],Ut=Bt[1],qt=Object(c.useState)(""),zt=qt[0],Xt=qt[1],Yt=Object(c.useState)([]),Zt=Yt[0],$t=Yt[1],Qt=Object(c.useState)(!1),en=Qt[0],tn=Qt[1],nn=Object(c.useState)(""),an=nn[0],rn=nn[1],on=Object(c.useState)(!1),cn=on[0],sn=on[1],un=Object(c.useState)(""),ln=un[0],fn=un[1],pn=Object(c.useState)(!1),dn=pn[0],mn=pn[1],gn=Object(c.useState)(!1),hn=(gn[0],gn[1],Object(c.useState)(!1)),bn=hn[0],vn=hn[1],wn=Object(c.useState)(!1),On=wn[0],jn=wn[1],Sn=Object(c.useState)(!1),yn=Sn[0],kn=Sn[1],xn=Object(c.useState)(""),Cn=xn[0],Tn=(xn[1],Object(c.useState)(!1)),Nn=Tn[0],An=Tn[1],In=Object(c.useState)(!1),En=In[0],_n=In[1],Mn=Object(c.useState)(null),Fn=Mn[0],Hn=Mn[1],Pn=Object(c.useState)(!1),Vn=Pn[0],Ln=Pn[1],Dn=Object(c.useState)(null),Gn=Dn[0],Wn=Dn[1],Jn=Object(c.useState)(!1),Kn=Jn[0],Bn=Jn[1],Rn=Object(c.useState)(null),Un=(Rn[0],Rn[1]),qn=Object(c.useState)(null),zn=(qn[0],qn[1]),Xn=Object(c.useState)(null),Yn=(Xn[0],Xn[1]),Zn=Object(c.useState)(null),$n=Zn[0],Qn=Zn[1],ea=Object(c.useState)(!1),ta=ea[0],na=ea[1],aa=Object(c.useState)(!1),ra=aa[0],oa=aa[1],ca=Object(c.useState)(!1),ia=ca[0],sa=ca[1],ua=Object(c.useState)(!1),la=(ua[0],ua[1]),fa=Object(c.useState)(null),pa=fa[0],da=fa[1],ma=Object(c.useState)({name:"",image:"",metadata:""}),ga=(ma[0],ma[1]),ha=Object(c.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),ba=ha[0],va=ha[1],wa=Object(c.useState)(!1),Oa=wa[0],ja=wa[1],Sa=Object(c.useState)(null),ya=Sa[0],ka=Sa[1],xa=Object(c.useState)(null),Ca=xa[0],Ta=xa[1],Na=Object(c.useState)(null),Aa=(Na[0],Na[1]),Ia=Object(c.useState)(null),Ea=Ia[0],_a=Ia[1],Ma=Object(H.b)(F.p.vaultHandler[n],F.p.vaultHandlerAbi,!0),Fa=Object(H.b)(F.p.vaultHandlerV8[n],F.p.vaultHandlerV8Abi,!0),Ha=Object(H.b)(F.p.emblemVault[n],F.p.emblemAbi,!0),Pa=Object(H.b)(F.p.coval[n],F.p.covalAbi,!0),Va=Object(s.a)(),La=Va.isOpen,Da=Va.onOpen,Ga=Va.onClose,Wa=Object(s.a)(),Ja=Wa.isOpen,Ka=Wa.onOpen,Ba=Wa.onClose,Ra=Object(s.a)(),Ua=Ra.isOpen,qa=Ra.onOpen,za=Ra.onClose,Xa=Object(s.a)(),Ya=Xa.isOpen,Za=Xa.onToggle,$a=Object(s.a)(),Qa=$a.isOpen,er=$a.onToggle,tr=Object(u.c)().colorMode,nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new _.a(e,F.p.erc1155Abi,a.getSigner(t).connectUnchecked())},ar=function(e,t){return fetch(F.g+"/liveliness",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,Bn(n.live),console.log("Liveliness check",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t()},rr=function(e,n,a){console.log("Delayed Minting"),na(!1),oa(!0),sa(!0);var r=nt.filter((function(e){return"ETH"==e.coin}))[0].address;Ma.buyWithSignature2(t,be,r,e,n,a).then((function(e){var t=e.hash;setTimeout((function(){bt(t),oa(!1)}),100)})).catch((function(e){console.log("AAAAAHHHHHH",e),oa(!1)}))},or=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getvault"),e.next=3,fetch(F.g+"/meta/"+be+"?experimental=true"+(P?"&_vercel_no_cache=1":""),{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",cc:P?"t":""}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,sr(n),n.image_ipfs,n.collectionAddress&&(la(!0),da(n.collectionAddress)),n.name?(tn(!1),mn(!1)):(xt({loaded:!0}),mn(!0)),!ot&&!qe&&lr([],be,(function(e){e&&Re(e)})),n.targetContract&&setTimeout((function(){location.href=location.origin+"/nft2?id="+n.targetContract.tokenId}),500);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cr=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/witness/"+be,{method:"GET",headers:{"Content-Type":"application/json",cc:"t",service:"evmetadata",chainid:n.toString()}});case 2:return a=e.sent,e.next=5,a.json();case 5:if(!(o=e.sent).signature){e.next=11;break}return console.log("witness",o),e.abrupt("return",t(o));case 11:return e.abrupt("return",t(!1));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ir=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("-----------------------------------",Be.length,Qe.length),1==Be.length&&Qe.length>0&&(t=Qe.filter((function(e){return e.value==Be[0].name}))).length>0&&(n=t[0].trait_type,(a=F.r.filter((function(e){return e.name==n}))).length>0&&te(a[0]));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sr=function(e){ge&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+ge),e.ciphertextV2&&(Me(e.ciphertextV2),console.log("ciphertextV2",e.ciphertextV2)),ke(e.name),De(e.image),Je(e.ownedImage||null),Pe(e.description),ut(e.totalValue||0),e.values&&Re(Be.concat(e.values)),e.attributes&&Ze(e.attributes.filter((function(e){return"key"===e.trait_type}))),e.attributes&&et(e.attributes),at(e.addresses),Te(e.ipfs||null),Ie(e.image_ipfs||null),e.targetAsset&&ga(e.targetAsset),e.targetContract&&va(e.targetContract),e.targetContract&&setTimeout((function(){location.href=location.origin+"/nft2?id="+e.targetContract.tokenId}),500),0==e.live&&ar(e.tokenId,(function(){})),Bn(0!=e.live),Un(e.nonce),Yn(e.signature),Qn(e.to),mt(e.network),pt("mainnet"==e.network?1:"rinkeby"==e.network?4:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),Ft(e.status),"claimed"===Mt&&Gt(e.claimedBy),xt({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;ct(t),e.sealed?Vt(!0):Vt(!1),ir()},ur=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/vault/balance/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(c=e.sent,console.log("responce",o,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt("return",a(t.concat(c.balances)));case 11:return e.abrupt("return",a(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),lr=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!qe){e.next=2;break}return e.abrupt("return",a(!1));case 2:return ze(!0),e.next=5,fetch(F.g+"/vault/balance/"+n+"?live=true&_vercel_no_cache=1",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 5:return o=e.sent,e.next=8,o.json();case 8:if(c=e.sent,console.log("responce",o,c),!(c.balances.length>0)){e.next=14;break}return e.abrupt("return",a(t.concat(c.balances)));case 14:return e.abrupt("return",a(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),fr=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){var c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/vault/balance/"+n+"/"+a,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return c=e.sent,e.next=5,c.json();case 5:if(i=e.sent,console.log("responce",c,i),!(i.balances.length>0)){e.next=11;break}return e.abrupt("return",o(t.concat(i.balances)));case 11:return e.abrupt("return",o(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),pr=function(){var e=localStorage.getItem(t+"_"+n+"_"+be+"_mintPassword");e&&yn&&fe(e)},dr=function(){var e=Object(o.a)(r.a.mark((function e(t,a,o){var c,i,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append("chainid",n.toString()),c.append("Content-Type","application/json"),i=JSON.stringify({signature:t,tokenId:a}),e.next=6,fetch(F.n+"/sign",{method:"POST",headers:c,body:i,redirect:"follow"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt("return",o(u));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function mr(e,t,n){return gr.apply(this,arguments)}function gr(){return(gr=Object(o.a)(r.a.mark((function e(t,n,a){var o,c,i,s,u,l,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new q.a({network:"mainnet"}),c=new z.a({enableOneKey:!0,network:"mainnet"}),e.next=4,o.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:t});case 4:return i=e.sent,s=i.torusNodeEndpoints,u=i.torusIndexes,e.next=9,c.retrieveShares(s,u,"tor-us-signer-vercel",{verifier_id:t},n);case 9:return l=e.sent,f=l.privKey,e.abrupt("return",a({privateKey:f}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hr=function(){var e=Object(o.a)(r.a.mark((function e(t,a,o,c){var i,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append("chainId",n.toString()),i.append("service","evmetadata"),i.append("Content-Type","application/json"),s=JSON.stringify({signature:t,coin:o}),e.next=7,fetch(F.g+"/address/"+a,{method:"POST",headers:i,body:s,redirect:"follow"});case 7:return u=e.sent,e.next=10,u.json();case 10:return l=e.sent,e.abrupt("return",c(l));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),br=function(){var e=Object(o.a)(r.a.mark((function e(t,a,o){var c,i,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append("chainId",n.toString()),c.append("service","evmetadata"),c.append("Content-Type","application/json"),i=JSON.stringify({signature:t}),e.next=7,fetch(F.g+"/embed/"+a,{method:"POST",headers:c,body:i,redirect:"follow"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt("return",o(u));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),vr=function(){var e=Object(o.a)(r.a.mark((function e(){var a,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(){return(i=Object(o.a)(r.a.mark((function e(){var o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ma.getPreTransfer(be);case 2:if(o=e.sent,!ba[n]){e.next=9;break}return e.next=6,Ha.isApprovedForAll(t,F.p.vaultHandlerV8[n]);case 6:c=e.sent,e.next=12;break;case 9:return e.next=11,Ha.isApprovedForAll(t,F.p.vaultHandler[n]);case 11:c=e.sent;case 12:ie(c),kn("0x0000000000000000000000000000000000000000"!==o._from),Wn(a),Nt(a===t||$n==t),pr();case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(){return i.apply(this,arguments)},console.log("Contract states"),!1,e.prev=4,!ba[n]){e.next=14;break}return console.log("Checking owner wth targetContract"),Ha=nr(ba[n]),e.next=10,Ha.getOwnerOfSerial(ba.serialNumber);case 10:a=e.sent,console.log("--------------------------- owner",a,ce,t,F.p.vaultHandlerV8[n]),e.next=22;break;case 14:if(!Kn){e.next=20;break}return e.next=17,Ha.ownerOf(be);case 17:e.t0=e.sent,e.next=21;break;case 20:e.t0=0;case 21:a=e.t0;case 22:return e.t1=ka,e.next=25,Pa.decimals();case 25:return e.t2=e.sent,(0,e.t1)(e.t2),e.t3=Ta,e.next=30,Pa.allowance(t,F.p.vaultHandler[n]).then((function(e){return e.toString()}));case 30:return e.t4=e.sent,(0,e.t3)(e.t4),e.t5=Aa,e.next=35,Pa.balanceOf(t).then((function(e){return e.toString()}));case 35:return e.t6=e.sent,(0,e.t5)(e.t6),e.t7=_a,e.next=40,Ma.price().then((function(e){return e.toString()}));case 40:e.t8=e.sent,(0,e.t7)(e.t8),Number(Ca)>=Number(Ea)?ja(!0):ja(!1),c(),e.next=51;break;case 46:e.prev=46,e.t9=e.catch(4),console.log("-------",e.t9),a="0x0000000000000000000000000000000000000000",c();case 51:case"end":return e.stop()}}),e,null,[[4,46]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){console.log("mine?",Tt),console.log("claiming?",It),console.log("accepting?",bn),console.log("acceptable",yn),console.log("qualified",ee)}));var wr=function(e){return console.log(e,nt.filter((function(t){return t.coin==e})).length>0),nt.filter((function(t){return t.coin==e})).length>0},Or=function(){var e=Object(o.a)(r.a.mark((function e(c){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.getSigner(t).signMessage("Renew: "+be).then((function(e){var t=nt.filter((function(e){return"NMC"==e.coin}))[0].address;console.log("signature",e,c),fetch(F.g+"/nmc/renew/"+t,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:be,signature:e,name:c})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("Requested Renew",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jr=function(){var e=Object(o.a)(r.a.mark((function e(){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ba[n]){e.next=5;break}return Ha=nr(ba[n]),e.next=4,Ha.getSerial(ba.tokenId,0);case 4:c=e.sent;case 5:a.getSigner(t).signMessage("Claim: "+(ba[n]?c:be)).then((function(e){dr(e,be,(function(e){mr(be,e.token,function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=V.a.AES.decrypt(_e,t.privateKey),a=JSON.parse(n.toString(V.a.enc.Utf8)),$t(a.values),Kt(a.phrase),nt.forEach(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("STX"!=t.coin){e.next=6;break}return e.next=3,Sr(t,a.phrase);case 3:t.key=e.sent,e.next=7;break;case 6:t.key=window.phrasePathToKey(a.phrase,t.path);case 7:"BTC"==t.coin&&Ut(t.key),"ETH"==t.coin&&Xt(t.key);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,void(localStorage.getItem(be+"-v")||fetch(F.g+"/sync/"+be,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"}}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem(be+"-v","1"),e.abrupt("return",!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){return!1})));case 12:setTimeout((function(){location.href=location.href}),2e3);case 13:Ka();case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Sr=function(){var e=Object(o.a)(r.a.mark((function e(t,n){var a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.a)({secretKey:n,password:""});case 2:return a=e.sent,console.log("------ stacks account -",a.accounts[0]),o=a.accounts[0],t.key=o.stxPrivateKey,e.abrupt("return",t.key);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),yr=function(){var e=Object(o.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.getSigner(t).signMessage("HideAsset: "+be).then((function(e){console.log("----------------------------------------------------------------",e),console.log(n.name,n.coin,n.address),kr(be,n.coin,n.address,n.name,e,(function(){console.log("Done hiding coin and getting new balances")}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function kr(e,t,a,c,i,s){fetch(F.g+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({coin:t||null,address:a||null,name:c||null,signature:i||null})}).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log("-------",a),ur([],e,(function(e){return Re(e),s()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var xr=function(){var e=Object(o.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.getSigner(t).signMessage("Address: "+be).then((function(e){hr(e,be,n,(function(e){or()}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Cr=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.getSigner(t).signMessage("Embed: "+be).then((function(e){br(e,be,(function(e){De(e.ownedImage)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Tr=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ir(),console.log("---------- qualified move",ee),fetch(F.g+"/v2/move-vault/",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({chainId:1,from:t,sourceContract:{1:"0x82c7a8f707110f5fbb16184a5933e9f78a34c6ab"},targetContract:{1:ee[n],name:ee.name,chain:ee.chain},targetAsset:{name:Be[0].name},amount:1,tokenId:be})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:(a=e.sent).sig&&Fa.moveVault("0x82c7a8f707110f5fbb16184a5933e9f78a34c6ab",ee[n],be,a.tokenId,a.nonce,a.sig,"0x0000000000000000000000000000000000000000000000000000000000000000").then((function(e){bt(e),re(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nr=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ba[n]?Fa.claim(ba[n],ba.tokenId).then((function(e){var t=e.hash;Et(!0),setTimeout((function(){bt(t)}),100)})):Ma.claimOnChain(be).then((function(e){var t=e.hash;Et(!0),setTimeout((function(){bt(t)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ar=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a,o,c,i,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var r=0;r<o-i;r++){var l=Math.floor(t.length*Math.random()),f=t.charAt(l);s+=f}c==a-1&&i++,c==a&&(u+=n.charAt(i-1),c=0),rn(u+s),s=""},!cn){e.next=3;break}return e.abrupt("return");case 3:sn(!0),t="abcdefghijklmnopqrstuvwxyz",5,o=(n="Decrypting").length,c=0,i=0,s="",u="",function e(t){setTimeout((function(){--t?e(t):sn(!1),l(t),c+=1}),5)}(o*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ir(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}function Er(e){ln&&(e=ln),Ar(),console.log(nt);var t=nt[0].address.replace("private:","");try{var n=V.a.AES.decrypt(t,e);JSON.parse(n.toString(V.a.enc.Utf8)),ct(!1),fn(e),at(function(e){return nt.forEach((function(t){if(t.address.includes("private")){var n=t.address.replace("private:","");t.address=function(e,t){var n=V.a.AES.decrypt(e,t);return JSON.parse(n.toString(V.a.enc.Utf8))}(n,e)}})),nt}(e));var a=nt.filter((function(e){return"ETH"===e.coin}))[0].address,r=nt.filter((function(e){return"BTC"===e.coin}))[0].address;console.log("SUCCESS",nt),fr([],a,r,(function(e){Re(e)}))}catch(o){console.log("WTF",o)}}return Object(c.useEffect)((function(){console.log("----"),or()}),[]),Object(c.useEffect)((function(){(t&&n&&ft&&n==ft||A.noLayout&&"true"==A.noLayout||A.slideshowOnly&&"true"==A.slideshowOnly)&&vr()})),pa&&(Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new _.a(e||F.p.emblemVault[n],F.p.emblemAbi,a.getSigner(t).connectUnchecked())}(pa||null)),X(i.a.Fragment,null,X(x.a,null,X("meta",{name:"twitter:card",content:"summary_large_image"}),X("meta",{name:"twitter:site",content:"Emblem.Finance"}),X("meta",{name:"twitter:title",content:ye}),X("meta",{name:"twitter:description",content:Ir(He)}),X("meta",{name:"twitter:image",content:Le}),X("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})),X(Y,{isOpen:La,onClose:Ga,addrCoin:wt,addrAddr:St}),X(Z,{isOpen:Ja,onClose:Ba,mnemonic:Jt,privKeyBTC:Rt,privKeyETH:zt,privValues:Zt,addresses:nt}),de?X($,{isOpen:Ua,onClose:za,tokenId:be,mine:Tt}):null,X(l.a,{height:"40px"}),en?X(N.a,null):"",dn||je?Be.length>0&&je?X(p.a,{className:"NFT-content",align:"center"},Be.length&&Be.filter((function(e){return"nft"==e.type})).length>0?X(K.a,{name:ye,image:Be[0].image,items:Be.filter((function(e){return e.image!==Be[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):X(J.b,{className:"d-block w-100 NFT-image",url:Le})):dn?X(p.a,{align:"center"},X(S.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),X(m.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",X(g.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):null:X(f.a,{width:"full",align:"center",justifyContent:"center"},X(l.a,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:ft!=n?"orange.500":"claimed"==Mt?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},X(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500"},"Vault Network: ",E.a[ft]),X(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center"},ye,!ot&&st>0?": ~$"+st.toLocaleString():null),X(p.a,{className:"NFT-content",align:"center"},Be.length&&Be.filter((function(e){return"nft"==e.type})).length>0?X(K.a,{name:ye,image:Le,items:Be.map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):X(J.b,{className:"d-block w-100 NFT-image",url:Le}),Tt&&We?X(d.a,{onClick:function(){Cr()}},"(OWNED) Show Full Embed"):null),X(p.a,{align:"center",maxWidth:"400px"},X(l.a,{mt:"2",ml:"4",lineHeight:"tight",maxWidth:"400px"},X(p.a,null,X(m.a,{fontSize:"xs"},ft==n?X(g.a,{href:"./vaults?address="+Gn},"Owner: ",Gn):null),X(m.a,{overflowWrap:"anywhere",mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md"},X(D.a,{plugins:[W.a],children:Ir(He)}))))),X(l.a,{p:"6"},X(h.f,{isFitted:!0,variant:"enclosed"},X(h.c,{mb:"1em"},X(h.a,null,"Balances"),X(h.a,null,"Attributes")),X(h.e,null,X(h.d,null,ot?X(l.a,{mb:5},X(m.a,{pb:2,color:an?"green.500":null},an||"Contents hidden. Enter password to unlock."),X(b.a,{type:"password",id:"vault-password",onChange:function(e){return Er(e.target.value)},"aria-describedby":"password-helper-text"})):X(l.a,{d:"flex",backgroundColor:"light"==tr?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content"},X(l.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},X(m.a,{as:"h4",mt:2,fontWeight:"semibold"},"Current Contents:  ",X("button",{onClick:function(){lr([],be,(function(e){ze(!1),Re(e)}))}}," [Refresh Balances]")),X(m.a,{as:"p",color:"dark"==tr?"lightgreen":"forestgreen"},"$",Number(st.toFixed(4)).toLocaleString()),Be.length?Be.map((function(e){return X(p.a,null,X(B.a,{colorMode:tr,coin:e,mine:"claimed"===Mt&&Dt===t||Tt,onRenew:Or,hideAsset:yr}))})):X(N.a,null),Ye.length?Ye.map((function(e){return X(m.a,null,"Data: ",e.attribute_key)})):Ye.length||Be.length?null:X(m.a,null,"Nothing in here! Fill 'er up!")))),X(h.d,null,X(R.a,{colorMode:tr,attributes:Qe})))),ot?null:X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(v.a,{justifyContent:"space-between",spacing:6},X(p.a,null,X(m.a,null,"Deposit Addresses"),X(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},nt.map((function(e){return X(d.a,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",key:e.address,onClick:function(){Ot(e.coin),yt(e.address),Da()}},"ETH"==e.coin?e.coin+"/EVM":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":"TAP"==e.coin?"TAPROOT":e.coin)}))),(Tt||"claimed"===Mt)&&nt.length<12?X(i.a.Fragment,null,X("button",{className:"nft_button",onClick:function(){er()}},"Manage Addresses"),X(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},X(w.a,{isOpen:Qa},wr("DOGE")?null:X(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){xr("DOGE")}},"Add DOGE"),wr("DGB")?null:X(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){xr("DGB")}},"Add Digibyte"),wr("NMC")?null:X(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){xr("NMC")}},"Add Namecoin"),wr("LTC")?null:X(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){xr("LTC")}},"Add Litecoin"),wr("MONA")?null:X(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){xr("MONA")}},"Add Mona"),wr("TEZOS")?null:X(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){xr("TEZOS")}},"Add Tezos"),wr("SOLANA")?null:X(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){xr("SOLANA")}},"Add Solana"),wr("STX")?null:X(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){xr("STX")}},"Add Stacks"),wr("TAP")?null:X(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){xr("TAP")}},"Add Taproot")))):null))),"claimed"===Mt||!Kn||1!==ft&&4!==ft&&137!==ft?null:X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(d.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==ft?"rinkeby.":"")+"opensea.io/assets/"+(137==ft?"matic/":"")+(pa||F.p.emblemVault[ft])+"/"+be,"_blank")}},"Opensea"),X(d.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==ft?"rinkeby.":"")+"looksrare.org/collections/"+(137==ft?"matic/":"")+(pa||F.p.emblemVault[ft])+"/"+be,"_blank")}},"LooksRare"),de?X(d.a,{className:"",onClick:function(){qa()}},Tt?"My Offers":"Make an Offer"," (NFT\xb2NFT)"):null),Oa?X(p.a,{direction:"row",align:"flex-start",spacing:"0rem",flexWrap:"wrap",shouldWrapChildren:!0},X(l.a,{maxW:"sm",borderWidth:"1px",p:1,rounded:"lg",overflow:"hidden"},X(m.a,null,"Creating a vault spends ",Ea*Math.pow(10,-ya)," Coval from your wallet"))):null,"claimed"!==Mt&&Tt&&!yn?X(i.a.Fragment,null,X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",width:"100%"},X(p.a,{direction:"column",align:"center",width:"100%"},X(d.a,{className:"nft_button",width:"100%",onClick:Za},"Transfer Vault"),X(w.a,{isOpen:Ya},X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},X(O.a,{htmlFor:"owner-address"},"Address"),X(b.a,{mt:1,type:"text",id:"transferAddress",value:Fn||"",onChange:function(e){console.log("Transfer to",e.target.value),Hn(e.target.value)},autoComplete:"off"})),X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},X(d.a,{isDisabled:!Object(E.k)(Fn),onClick:function(){Za(),Ln(!0),Ha.transferFrom(t,Fn,be).then((function(e){var t=e.hash;bt(t)})).catch((function(e){}))}},"Transfer Now")))))):null,Tt&&!ce?X(i.a.Fragment,null,X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(d.a,{className:"nft_button",width:"100%",onClick:function(){return jn(!0),void Ha.setApprovalForAll(F.p.vaultHandler[n],!0).then((function(e){var t=e.hash;setTimeout((function(){bt(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):jn(!1)}))}}," Approve Minting"))):null,(Nn||le)&&yn?X(l.a,null,X(g.a,{href:location.protocol+"//"+location.host+"/nft?id="+be+"&key="+(Cn||le)},"Copy Gift Link"),X(m.a,null,"Password: ",Cn||le)):null,yn&&Dt!==t?X(i.a.Fragment,null,X(d.a,{mt:2,width:"100%",onClick:function(){console.log(le),vn(!0),cr((function(e){Ma.transferWithCode(be,le,t,e.nonce,e.signature).then((function(e){var t=e.hash;setTimeout((function(){bt(t)}),100)})).catch((function(e){vn(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.log("tx failed.",e)}))}))}},"Accept"),X(b.a,{mt:2,type:"password",id:"mintPassword",minLength:3,maxLength:200,value:le||"",onChange:function(e){console.log("grrr",e.target.value,le),fe(e.target.value)},autoComplete:"off"})):null,Tt&&G&&ee?X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(d.a,{width:"100%",onClick:function(){Tr()},isDisabled:ae},ae?"Moving ...":"Move Vault")):null,"claimed"!==Mt&&t&&ft===n&&Tt&&!Pt&&ce&&Kn?X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(d.a,{width:"100%",onClick:function(){Nr()},isDisabled:It},It?"Claiming ...":"Unlock Vault (Get Private Keys)")):"claimed"===Mt&&Dt===t&&ft===n?X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(d.a,{width:"100%",onClick:jr},"Get Keys")):null,!Kn&&Tt&&ft==n&&"claimed"!==Mt&&!ra&&ce&&Oa?X(i.a.Fragment,null,X(d.a,{width:"100%",mt:5,onClick:function(){a.getSigner(t).signMessage("Delayed Minting: "+be).then((function(e){console.log("sig",e),fetch(F.g+"/lazyMint",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:be,signature:e})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:!(n=e.sent).error&&n.data?(Yn(n.data.signature),Un(n.data.nonce),zn(n.data.block),na(!0),setTimeout((function(){rr(n.data.nonce,n.data.block,n.data.signature)}),1500)):alert(n.error?n.msg:"unknown error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Mint Vault")):null,Kn||!Tt||ft!=n||"claimed"===Mt||ra||!ce||Oa?null:X(i.a.Fragment,null,X(d.a,{width:"100%",mt:5,onClick:function(){jn(!0),Pa.approve(F.p.vaultHandler[n],"100000000000000").then((function(e){var t=e.hash;bt(t)})).catch((function(e){4001==(null===e||void 0===e?void 0:e.code)&&jn(!1)}))}},"Approve Spending Coval")),Kn&&"claimed"!=Mt||$n!=t||ft!=n||ra||!(Be.length<1)?null:X(d.a,{width:"100%",mt:5,onClick:function(){a.getSigner(t).signMessage("Delete: "+be).then((function(e){console.log("sig",e),fetch(F.g+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:be,signature:e,chainId:n.toString()})}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:e.sent,location.href=location.href.split("/")[0]+"/vaults";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Delete Vault "),ta?X(d.a,{isDisabled:!0,type:"submit"},"Verifying Signature ..."):null,ra?X(d.a,{isDisabled:!0,type:"submit"},"Minting Vault ..."):null),Ce?X(p.a,null,X(y.a,{align:"center"},X(g.a,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+Ce,isExternal:!0},"View Metadata on IPFS "),Ae?X(g.a,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+Ae,isExternal:!0},"View Image on IPFS "):null)):null,Pt?X(l.a,{d:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(m.a,null,"*This vault is sealed forever.")):null,X(p.a,{direction:"column",align:"center"},"claimed"==Mt?X(m.a,{color:"green.500"},"CLAIMED"):null),ht?X(j.a,{status:"info"},X(j.b,null),bn?"Accepting Your Gift Vault":It?"Claiming your Vault ...":On?"Handling Approval Flow ...":Vn?"Transfering Vault ...":ia?"Minting Vault":"Generating Gift Link ..."):null)),ht?X(M.a,{hash:ht,onComplete:function(){var e;!It||bn||En?En?(localStorage.setItem(t+"_"+n+"_"+be+"_mintPassword",Cn),An(!0),_n(!1),bt(null)):bn?(vn(!1),or(),bt(null)):On?(jn(!1),or(),bt(null)):Vn?(Ln(!1),or(),bt(null)):ia?ar(be,(function(){sa(!1),Bn(!0)})):(console.log("minting",ia),console.log("claiming",It),console.log("accepting",bn),console.log("preTransfering",En),console.log("approving",On),console.log("Unknown state")):(bt(null),Ft("claimed"),Et(!1),Gt(t),e=function(){location.href=location.origin+"/nft?id="+be+"&cc=t"},fetch(F.g+"/web3/selfClaimLogs?chainId="+n.toString()+"_vercel_no_cache=1",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",cc:"t"}}).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log("Log check",a),t.abrupt("return",e());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,X(l.a,{height:"40px"}))}}}]);