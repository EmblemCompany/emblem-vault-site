"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8329],{18329:function(e,t,n){n.d(t,{Z:function(){return et}});var a=n(85893),i=n(7335),l=n(45161),s=n(57747),o=n(93717),r=n(51343),c=n(93108),d=n(71293),u=n(32883),m=n(36752),h=n(77458),g=n(35232),p=n(72047),x=n(37365),f=n(33090),j=n(78590),S=n(34292),w=n(74153),b=n(7405),y=n(6089),v=n(8161),C=n(9008),k=n.n(C),T=n(77044),N=n(67294),O=n(11163),A=n(71114),E=n(70758),_=n.n(E),I=n(5152),H=n.n(I),P=n(77294),M=n(64541),q=n(31238),V=n(80902),F=n(62850),z=n(81354),Z=n.n(z),K=n(30724),G=n.n(K),L=n(10043),D=n.n(L),B=n(33862),U=n(97903),W=n(74174),R=n(35649),J=n(18974),$=n(87070),X=n(38299),Y=n(10063);let Q=H()(()=>Promise.all([n.e(749),n.e(8159),n.e(6115),n.e(7414)]).then(n.bind(n,37414)),{loadableGenerated:{webpack:()=>[37414]}}),ee=H()(()=>Promise.all([n.e(749),n.e(8159),n.e(1817)]).then(n.bind(n,81817)),{loadableGenerated:{webpack:()=>[81817]}});function et(){let{account:e,chainId:t,library:n}=(0,T.Ge)(),{query:C}=(0,O.useRouter)(),[E,I]=(0,N.useState)("t"==C.cc),[H,z]=(0,N.useState)("true"==C.townHall),[K,L]=(0,N.useState)({to:[]}),[et,en]=(0,N.useState)(!1),[ea,ei]=(0,N.useState)(C.key),[el,es]=(0,N.useState)(C.offer||!1),[eo,er]=(0,N.useState)("true"==C.debug),[ec,ed]=(0,N.useState)(null),[eu,em]=(0,N.useState)(C.framed||!0),[eh,eg]=(0,N.useState)(C.id),[ep,ex]=(0,N.useState)(C.slideshowOnly||!1),[ef,ej]=(0,N.useState)(""),[eS,ew]=(0,N.useState)(""),[eb,ey]=(0,N.useState)(""),[ev,eC]=(0,N.useState)(""),[ek,eT]=(0,N.useState)(""),[eN,eO]=(0,N.useState)(""),[eA,eE]=(0,N.useState)(""),[e_,eI]=(0,N.useState)([]),[eH,eP]=(0,N.useState)(!1),[eM,eq]=(0,N.useState)([]),[eV,eF]=(0,N.useState)([]),[ez,eZ]=(0,N.useState)([]),[eK,eG]=(0,N.useState)(!1),[eL,eD]=(0,N.useState)(0),[eB,eU]=(0,N.useState)(null),[eW,eR]=(0,N.useState)(null),[eJ,e$]=(0,N.useState)(null),[eX,eY]=(0,N.useState)(""),[eQ,e0]=(0,N.useState)(""),[e1,e7]=(0,N.useState)({loaded:!1}),[e2,e3]=(0,N.useState)(!1),[e4,e5]=(0,N.useState)(!1),[e8,e9]=(0,N.useState)("claimed"),[e6,te]=(0,N.useState)(!1),[tt,tn]=(0,N.useState)(null),[ta,ti]=(0,N.useState)(""),[tl,ts]=(0,N.useState)(""),[to,tr]=(0,N.useState)(""),[tc,td]=(0,N.useState)([]),[tu,tm]=(0,N.useState)(!1),[th,tg]=(0,N.useState)(""),[tp,tx]=(0,N.useState)(!1),[tf,tj]=(0,N.useState)(""),[tS,tw]=(0,N.useState)(!1),[tb,ty]=(0,N.useState)(!1),[tv,tC]=(0,N.useState)(!1),[tk,tT]=(0,N.useState)(!1),[tN,tO]=(0,N.useState)(""),[tA,tE]=(0,N.useState)(!1),[t_,tI]=(0,N.useState)(!1),[tH,tP]=(0,N.useState)(!1),[tM,tq]=(0,N.useState)(null),[tV,tF]=(0,N.useState)(!1),[tz,tZ]=(0,N.useState)(!1),[tK,tG]=(0,N.useState)(null),[tL,tD]=(0,N.useState)(null),[tB,tU]=(0,N.useState)(null),[tW,tR]=(0,N.useState)(null),[tJ,t$]=(0,N.useState)(!1),[tX,tY]=(0,N.useState)(!1),[tQ,t0]=(0,N.useState)(!1),[t1,t7]=(0,N.useState)(!1),[t2,t3]=(0,N.useState)(null),[t4,t5]=(0,N.useState)({name:"",image:"",metadata:""}),[t8,t9]=(0,N.useState)({migrating:!1,name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),[t6,ne]=(0,N.useState)({name:"",image:"",metadata:""}),[nt,nn]=(0,N.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),[na,ni]=(0,N.useState)(!1),[nl,ns]=(0,N.useState)(!1),[no,nr]=(0,N.useState)(null),[nc,nd]=(0,N.useState)(null),[nu,nm]=(0,N.useState)(null),[nh,ng]=(0,N.useState)(null),[np,nx]=(0,N.useState)(!1),[nf,nj]=(0,N.useState)(!1),[nS,nw]=(0,N.useState)({}),nb=(0,V.cq)(q.q7.vaultHandler[t],q.q7.vaultHandlerAbi,!0),ny=(0,V.cq)(q.q7.vaultHandlerV8[t],q.q7.vaultHandlerV8Abi,!0),nv=(0,V.cq)(q.q7.emblemVault[t],q.q7.emblemAbi,!0),nC=(0,V.cq)(q.q7.coval[t],q.q7.covalAbi,!0),{isOpen:nk,onOpen:nT,onClose:nN}=(0,i.q)(),{isOpen:nO,onOpen:nA,onClose:nE}=(0,i.q)(),{isOpen:n_,onToggle:nI}=(0,i.q)(),{isOpen:nH,onToggle:nP}=(0,i.q)(),{isOpen:nM,onToggle:nq}=(0,i.q)(),{colorMode:nV}=(0,l.If)(),nF=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new P.CH(t,q.q7.erc1155Abi,n.getSigner(e).connectUnchecked())},nz=(e,n)=>{fetch(q._z+"/liveliness",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:e})}).then(async function(e){let t=await e.json();return tF(t.live),console.log("Liveliness check",t),n(t.live)})},nZ=()=>{tC(!0),nv.setApprovalForAll("0x23859b51117dbFBcdEf5b757028B18d7759a4460",!0).then(e=>{let{hash:t}=e;setTimeout(()=>{e$(t)},100)}).catch(e=>{(null==e?void 0:e.code)!==4001?console.log("tx failed.",e):tC(!1)})},nK=async()=>{let t=await fetch(q._z+"/meta/"+eh+"?experimental=true"+(E?"&_vercel_no_cache=1":""),{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",cc:E?"t":""}}),n=await t.json(),a=await F.SZ.generateMigrateReport(e,!0);(a=Object.keys(a=Object.fromEntries(Object.entries(a).filter(e=>{let[t,n]=e;return!n.to.includes("Embels")}))).map(e=>({...a[e],tokenId:e})).find(e=>e.tokenId==eh))&&a.to&&a.to.length>0&&(n.move=a),nw(n),nG(n),n.image_ipfs,n.collectionAddress&&(t7(!0),t3(n.collectionAddress)),n.name?(tm(!1),tw(!1)):(e7({loaded:!0}),tw(!0)),eK||eH||nD([],eh,e=>{e&&eI(e)})},nG=e=>{if(eu&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+eu),e.ciphertextV2&&eC(e.ciphertextV2),nj(e.mintLocked&&0==e.mintLockBlock),ej(e.name),eO(e.image),eE(e.ownedImage||null),eT(e.description),eD(e.totalValue||0),e.values&&eI(e_.concat(e.values)),e.attributes&&eq(e.attributes.filter(e=>"key"===e.trait_type)),e.attributes&&eF(e.attributes),eZ(e.addresses),ew(e.ipfs||null),ey(e.image_ipfs||null),e.targetAsset&&t5(e.targetAsset),e.targetContract&&t9(e.targetContract),e.move_targetContract&&nn(e.move_targetContract),e.move_targetAsset&&ne(e.move_targetAsset),"Migrated Vault"==e.name||e.targetContract&&e.targetContract[t]&&!e.targetContract.migrating)return location.href=location.origin+"/nft2?id="+eh,!1;tF(!1!=e.live),tG(e.nonce),tU(e.signature),tR(e.to),eR(e.network),eU("mainnet"==e.network?1:"rinkeby"==e.network?4:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),e9(e.status),"claimed"===e8&&tn(e.claimedBy),eG(e.addresses.filter(e=>e.address.includes("private:")).length>0),e.sealed?te(!0):te(!1),e.move&&e.move.to&&e.move.to.length>0&&L(e.move),e7({loaded:!0})},nL=async(e,t,n)=>{let a=await fetch(q.HP+"/vault/balance/"+t,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),i=await a.json();return n((console.log("response",a,i),i.balances.length>0)?e.concat(i.balances):e)},nD=async(e,t,n)=>{if(eH)return n(!1);eP(!0);let a=await fetch(q.HP+"/vault/balance/"+t+"?live=true&_vercel_no_cache=1",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),i=await a.json();return n((console.log("response",a,i),i.balances.length>0)?e.concat(i.balances):e)},nB=async(e,t,n,a)=>{let i=await fetch(q.HP+"/vault/balance/"+t+"/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),l=await i.json();return a((console.log("response",i,l),l.balances.length>0)?e.concat(l.balances):e)},nU=()=>{localStorage.setItem(e+"_"+t+"_"+eh+"_mintPassword",tN)},nW=()=>{let n=localStorage.getItem(e+"_"+t+"_"+eh+"_mintPassword");n&&tk&&ei(n)},nR=async(e,n,a)=>{var i=new Headers;i.append("chainid",t.toString()),i.append("Content-Type","application/json");var l=JSON.stringify({signature:e,tokenId:n});let s=await fetch(q.pU+"/sign",{method:"POST",headers:i,body:l,redirect:"follow"}),o=await s.json();return a(o)};async function nJ(e,t,n){let a=new J.ZP({network:"mainnet"}),i=new $.ZP({enableOneKey:!0,network:"mainnet"}),{torusNodeEndpoints:l,torusIndexes:s}=await a.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:e}),{privKey:o}=await i.retrieveShares(l,s,"tor-us-signer-vercel",{verifier_id:e},t);return n({privateKey:o})}let n$=async(e,n,a,i)=>{var l=new Headers;l.append("chainId",t.toString()),l.append("service","evmetadata"),l.append("Content-Type","application/json");var s=JSON.stringify({signature:e,coin:a});let o=await fetch(q.HP+"/address/"+n,{method:"POST",headers:l,body:s,redirect:"follow"}),r=await o.json();return i(r)},nX=async(e,n,a)=>{var i=new Headers;i.append("chainId",t.toString()),i.append("service","evmetadata"),i.append("Content-Type","application/json");var l=JSON.stringify({signature:e});let s=await fetch(q.HP+"/embed/"+n,{method:"POST",headers:i,body:l,redirect:"follow"}),o=await s.json();return a(o)},nY=async()=>{let n;console.log("Contract states");try{t8[t]&&!t8.migrating?(console.log("Checking owner wth targetContract"),nv=nF(t8[t]),n=await nv.getOwnerOfSerial(t8.serialNumber),console.log("--------------------------- owner",n,nl,e,q.q7.vaultHandlerV8[t])):n=tV||t8.migrating?await nv.ownerOf(eh):"0x0000000000000000000000000000000000000000",nr(await nC.decimals()),nd(await nC.allowance(e,q.q7.vaultHandler[t]).then(e=>e.toString())),nm(await nC.balanceOf(e).then(e=>e.toString())),ng(await nb.price().then(e=>e.toString())),Number(nc)>=Number(nh)?ni(!0):ni(!1),a()}catch(e){n="0x0000000000000000000000000000000000000000",a()}async function a(){let a=await nb.getPreTransfer(eh);ns(await nv.isApprovedForAll(e,q.q7.vaultHandlerV8[t])),tT("0x0000000000000000000000000000000000000000"!==a._from),tq(n),e3(n===e||tW===e&&"0x0000000000000000000000000000000000000000"===n),nx(tW===e&&"0x0000000000000000000000000000000000000000"===n),nW(),tM&&!1==tV&&!tz&&(tZ(!0),nz(eh,()=>{}))}};(0,N.useEffect)(()=>{console.log("mine?",e2),console.log("claiming?",e4),console.log("accepting?",tb),console.log("acceptable",tk),console.log("qualified",K),console.log("owner",tM)}),(0,N.useEffect)(()=>{if(e&&t&&eB&&eo&&tM){let n="DEBUG Report for ".concat(eh,":\n\n");n+="Props:\n   owner: ".concat(tM,"\n   mine: ").concat(e2,"\n   created by: ").concat(tW,"\n   account: ").concat(e,"\n   vaultChainId: ").concat(eB,"\n   chainId: ").concat(t,"\n   sealed: ").concat(e6,"\n   approved: ").concat(nl,"\n   live: ").concat(tV,"\n   mineUnMinted: ").concat(np,"\n   status: ").concat(e8,"\n   mintLockedForever: ").concat(nf,"\n")+"Can Unlock Before Mint: ".concat(eB===t&&np&&"claimed"!=e8&&!nf,"\n")+"Can Claim: ".concat("claimed"!==e8&&e&&eB===t&&e2&&!e6&&nl&&tV,"\n"),er(!1),ed(n)}},[e,t,eB,eo,tM]);let nQ=e=>(console.log(e,ez.filter(t=>t.coin==e).length>0),ez.filter(t=>t.coin==e).length>0),n0=async a=>{n.getSigner(e).signMessage("Renew: "+eh).then(e=>{let n=ez.filter(e=>"NMC"==e.coin)[0].address;console.log("signature",e,a),fetch(q.HP+"/nmc/renew/"+n,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:eh,signature:e,name:a})}).then(async function(e){console.log("Requested Renew",await e.json())})})},n1=async()=>{let a;t8[t]&&(nv=nF(t8[t]),a=await nv.getSerial(t8.tokenId,0)),n.getSigner(e).signMessage("Claim: "+(t8[t]?a:eh)).then(e=>{e7({loaded:!1}),np&&"claimed"!=e8&&!nf&&nj(!0),nR(e,eh,e=>{nJ(eh,e.token,async e=>{try{var t=Z().AES.decrypt(ev,e.privateKey);let n=JSON.parse(t.toString(Z().enc.Utf8));td(n.values),ti(n.phrase),ez.forEach(async e=>{"STX"==e.coin?e.key=await n7(e,n.phrase):e.key=window.phrasePathToKey(n.phrase,e.path),"BTC"==e.coin&&ts(e.key),"ETH"==e.coin&&tr(e.key)})}catch(e){alert(e),e7({loaded:!0})}e7({loaded:!0}),nA()})})})},n7=async(e,t)=>"contact emblem.team if you see this error",n2=async a=>{n.getSigner(e).signMessage("HideAsset: "+eh).then(e=>{!function(e,n,a,i,l,s){fetch(q.HP+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({coin:n||null,address:a||null,name:i||null,signature:l||null})}).then(async function(t){console.log("-------",await t.json()),nL([],e,e=>(eI(e),s()))})}(eh,a.coin,a.address,a.name,e,()=>{console.log("Done hiding coin and getting new balances")})})},n3=async t=>{n.getSigner(e).signMessage("Address: "+eh).then(e=>{n$(e,eh,t,e=>{nK()})})},n4=async()=>{n.getSigner(e).signMessage("Embed: "+eh).then(e=>{nX(e,eh,e=>{eO(e.ownedImage)})})},n5=async a=>{en(!0),await (0,Y.mv)(eh);let i=K.to[a],l=await F.SZ.fetchCuratedContractByName(i);n.getSigner(e).signMessage("Move Vault: "+eh).then(n=>{fetch(q._z+"/move-vault/",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({chainId:1,from:e,sourceContract:{1:q.q7.emblemVault[eB]},targetContract:l,targetAsset:{name:e_[0].name},amount:1,tokenId:eh,signature:n})}).then(async function(e){let n=await e.json();n.sig&&(console.log(q.q7.emblemVault[eB]),console.log(q.q7.emblemVault[eB],l[t],eh,n.tokenId,n.nonce,n.sig,n.serial),ny.moveVault(q.q7.emblemVault[eB],l[t],eh,n.tokenId,n.nonce,n.sig,n.serial).then(async e=>{e$(e.hash),await (0,Y.mv)(eh)}).catch(e=>{nz(eh,t=>{alert(e.message),t?location.href=location.href:location.href=location.origin+(t?"/nft?id=":"/nft2?id=")+eh})}))})}).catch(e=>{console.log(e),alert(e.message),en(!1)})},n8=async()=>{t8[t]?ny.claim(t8[t],t8.tokenId).then(e=>{let{hash:t}=e;e5(!0),setTimeout(()=>{e$(t)},100)}).catch(e=>{alert(e.message),e5(!1)}):nb.claimOnChain(eh).then(e=>{let{hash:t}=e;e5(!0),setTimeout(()=>{e$(t)},100)}).catch(e=>{alert(e.message),e5(!1)})},n9=async()=>{if(!tp){tx(!0);var e="abcdefghijklmnopqrstuvwxyz",t="Decrypting",n=t.length,a=0,i=0,l="",s="";!function o(r){setTimeout(function(){--r?o(r):tx(!1),function(o){for(var r=0;r<n-i;r++){var c=Math.floor(e.length*Math.random());l+=e.charAt(c)}7==a&&i++,8==a&&(s+=t.charAt(i-1),a=0),tg(s+l),l=""}(0),a+=1},5)}(8*n+1)}};function n6(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}return(0,N.useEffect)(()=>{nK()},[]),(0,N.useEffect)(()=>{(e&&t&&eB&&t==eB||C.noLayout&&"true"==C.noLayout||C.slideshowOnly&&"true"==C.slideshowOnly)&&nY()}),t2&&(nv=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new P.CH(a||q.q7.emblemVault[t],q.q7.emblemAbi,n.getSigner(e).connectUnchecked())}(t2||null)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(k(),{children:[(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:site",content:"Emblem.Finance"}),(0,a.jsx)("meta",{name:"twitter:title",content:ef}),(0,a.jsx)("meta",{name:"twitter:description",content:n6(ek)}),(0,a.jsx)("meta",{name:"twitter:image",content:eN}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})]}),(0,a.jsx)(Q,{isOpen:nk,onClose:nN,addrCoin:eX,addrAddr:eQ}),(0,a.jsx)(ee,{isOpen:nO,onClose:nE,mnemonic:ta,privKeyBTC:tl,privKeyETH:to,privValues:tc,addresses:ez}),(0,a.jsxs)(_(),{loaded:e1.loaded,children:[(0,a.jsx)(s.xu,{height:"40px"}),tu?(0,a.jsx)(A.Z,{}):"",!e1.loaded||tS||ep?e_.length>0&&ep?(0,a.jsx)(r.K,{className:"NFT-content",align:"center",children:e_.length&&e_.filter(e=>"nft"==e.type).length>0?(0,a.jsx)(U.Z,{name:ef,image:e_[0].image,items:e_.filter(e=>e.image!==e_[0].image).map(e=>({image:e.image,description:e.description,name:e.name,type:e.type})),properties:{duration:3e3,canSwipe:!1}}):(0,a.jsx)(B.Z,{className:"d-block w-100 NFT-image",url:eN})}):tS?(0,a.jsxs)(r.K,{align:"center",children:[(0,a.jsx)(y.E,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),(0,a.jsxs)(d.x,{children:["THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",(0,a.jsx)(u.r,{color:"#638cd8",href:"../create",children:"CREATE ONE HERE!"})]})]}):null:(0,a.jsx)(o.k,{width:"full",align:"center",justifyContent:"center",children:ec?(0,a.jsx)(s.xu,{as:"pre",style:{color:"white",opacity:1},children:ec}):(0,a.jsxs)(s.xu,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:eB!=t?"orange.500":"claimed"==e8?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390,children:[(0,a.jsxs)(s.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500",children:["Vault Network: ",F.zh[eB]]}),(0,a.jsxs)(s.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center",children:[ef,!eK&&eL>0?": ~$"+eL.toLocaleString():null]}),(0,a.jsxs)(r.K,{className:"NFT-content",align:"center",children:[e_.length&&e_.filter(e=>"nft"==e.type).length>0?(0,a.jsx)(U.Z,{name:ef,image:eN,items:e_.map(e=>({image:e.image,description:e.description,name:e.name,type:e.type})),properties:{duration:3e3,canSwipe:!1}}):(0,a.jsx)(B.Z,{className:"d-block w-100 NFT-image",url:eN}),e2&&eA?(0,a.jsx)(c.z,{onClick:()=>{n4()},children:"(OWNED) Show Full Embed"}):null]}),(0,a.jsx)(r.K,{align:"center",maxWidth:"400px",children:(0,a.jsx)(s.xu,{mt:"2",ml:"4",lineHeight:"tight",maxWidth:"400px",children:(0,a.jsxs)(r.K,{children:[(0,a.jsx)(d.x,{fontSize:"xs",children:eB==t?(0,a.jsxs)(u.r,{href:"./vaults?address="+tM,children:["Owner: ",tM]}):null}),(0,a.jsx)(d.x,{overflowWrap:"anywhere",mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md",children:(0,a.jsx)(G(),{plugins:[D()],children:n6(ek)})})]})})}),(0,a.jsxs)(s.xu,{p:"6",children:[(0,a.jsxs)(m.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(h.t,{mb:"1em",children:[(0,a.jsx)(g.O,{children:"Balances"}),(0,a.jsx)(g.O,{children:"Attributes"})]}),(0,a.jsxs)(p.n,{children:[(0,a.jsx)(x.x,{children:eK?(0,a.jsxs)(s.xu,{mb:5,children:[(0,a.jsx)(d.x,{pb:2,color:th?"green.500":null,children:th||"Contents hidden. Enter password to unlock."}),(0,a.jsx)(f.I,{type:"password",id:"vault-password",onChange:e=>(function(e){tf&&(e=tf),n9(),console.log(ez);let t=ez[0].address.replace("private:","");try{var n,a=Z().AES.decrypt(t,e);JSON.parse(a.toString(Z().enc.Utf8)),eG(!1),tj(e),eZ((n=e,ez.forEach(e=>{if(e.address.includes("private")){let t=e.address.replace("private:","");e.address=JSON.parse(Z().AES.decrypt(t,n).toString(Z().enc.Utf8))}}),ez));let i=ez.filter(e=>"ETH"===e.coin)[0].address,l=ez.filter(e=>"BTC"===e.coin)[0].address;console.log("SUCCESS",ez),nB([],i,l,e=>{eI(e)})}catch(e){console.log("WTF",e)}})(e.target.value),"aria-describedby":"password-helper-text"})]}):(0,a.jsx)(s.xu,{display:"flex",backgroundColor:"light"==nV?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content",children:(0,a.jsxs)(s.xu,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2",children:[(0,a.jsxs)(d.x,{as:"div",mt:2,fontWeight:"semibold",children:["Current Contents:  ",(0,a.jsx)("button",{onClick:()=>{nD([],eh,e=>{eP(!1),eI(e)})},children:" [Refresh Balances]"})]}),(0,a.jsxs)(d.x,{as:"p",color:"dark"==nV?"lightgreen":"forestgreen",children:["$",Number(eL.toFixed(4)).toLocaleString()]}),e_.length?e_.map(t=>(0,a.jsx)(r.K,{children:(0,a.jsx)(W.Z,{colorMode:nV,coin:t,mine:"claimed"===e8&&tt===e||e2,onRenew:n0,hideAsset:n2})})):(0,a.jsx)(A.Z,{}),eM.length?eM.map(e=>(0,a.jsxs)(d.x,{children:["Data: ",e.attribute_key]})):eM.length||e_.length?null:(0,a.jsx)(d.x,{children:"Nothing in here! Fill 'er up!"})]})})}),(0,a.jsx)(x.x,{children:(0,a.jsx)(R.Z,{colorMode:nV,attributes:eV})})]})]}),eK?null:(0,a.jsx)(s.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(j.h,{justifyContent:"space-between",spacing:6,children:(0,a.jsxs)(r.K,{children:[(0,a.jsx)(d.x,{children:"Deposit Addresses"}),(0,a.jsx)(o.k,{w:"340px",justify:"center",flexWrap:"wrap",children:ez&&ez.length>0?ez.map(e=>(0,a.jsx)(c.z,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",onClick:()=>{eY(e.coin),e0(e.address),nT()},children:"ETH"==e.coin?e.coin+"/EVM":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":"TAP"==e.coin?"TAPROOT":e.coin},e.address)):null}),(e2||"claimed"===e8)&&ez.length<12?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"nft_button",onClick:()=>{nP()},children:"Manage Addresses"}),(0,a.jsx)(o.k,{w:"340px",justify:"center",flexWrap:"wrap",children:(0,a.jsxs)(v.Z,{isOpen:nH,children:[nQ("DOGE")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n3("DOGE")},children:"Add DOGE"}),nQ("DGB")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n3("DGB")},children:"Add Digibyte"}),nQ("NMC")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n3("NMC")},children:"Add Namecoin"}),nQ("LTC")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n3("LTC")},children:"Add Litecoin"}),nQ("MONA")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n3("MONA")},children:"Add Mona"}),nQ("TEZOS")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n3("TEZOS")},children:"Add Tezos"}),nQ("SOLANA")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n3("SOLANA")},children:"Add Solana"}),nQ("STX")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n3("STX")},children:"Add Stacks"}),nQ("TAP")?null:(0,a.jsx)(c.z,{className:"nft_button",mr:2,mt:2,onClick:()=>{n3("TAP")},children:"Add Taproot"})]})})]}):null]})})}),e2&&!nl?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{backgroundColor:"#02b402",color:"black !important",fontWeight:"bold !important",className:"nft_button",width:"100%",onClick:()=>nZ(),children:" Approve Minting"})})}):null,(tA||ea)&&tk?(0,a.jsxs)(s.xu,{children:[(0,a.jsx)(u.r,{href:location.protocol+"//"+location.host+"/nft?id="+eh+"&key="+(tN||ea),children:"Copy Gift Link"}),(0,a.jsxs)(d.x,{children:["Password: ",tN||ea]})]}):null,"claimed"!==e8&&e&&eB===t&&e2&&!e6&&nl&&tV?(0,a.jsx)(s.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:()=>{n8()},isDisabled:e4,children:e4?"Claiming ...":"Unlock Vault (Get Private Keys)"})}):eB===t&&("claimed"==e8||nf)&&(tt===e||e2)?(0,a.jsx)(s.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:n1,children:"Get Keys"})}):null,(0,a.jsx)(r.K,{mt:5,children:(0,a.jsx)(a.Fragment,{children:e&&e1.loaded?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"nft_button",onClick:()=>{nq()},children:"Advanced Operations"}),(0,a.jsx)(o.k,{w:"100%",justify:"center",flexWrap:"wrap",children:(0,a.jsxs)(v.Z,{width:"100%",isOpen:nM,children:[eB===t&&np&&"claimed"!=e8&&!nf?(0,a.jsx)(s.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:n1,children:"Get Keys (Unlocking will prevent minting)"})}):null,e2&&H&&K&&K.to.length>0?(0,a.jsx)(a.Fragment,{children:K.to.map((e,t)=>(0,a.jsx)(s.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:()=>{n5(t)},isDisabled:et,children:et?"Migrating ...":"Migrate Vault to ".concat(e)})}))}):null,e2||tt==e?(0,a.jsx)(X.Z,{data:nS,filename:"EmblemVault-".concat(eh,".json")}):null,tV&&"claimed"!=e8||tW!=e||eB!=t||tX||!(e_.length<1)?null:(0,a.jsx)(c.z,{width:"100%",mt:5,onClick:()=>{n.getSigner(e).signMessage("Delete: "+eh).then(e=>{console.log("sig",e),fetch(q.HP+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:eh,signature:e,chainId:t.toString()})}).then(async function(){location.href=location.href.split("/")[0]+"/vaults"})})},children:"Delete Vault "})]})})]}):null})})]}),eS?(0,a.jsxs)(S.U,{align:"center",children:[(0,a.jsx)(u.r,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+eS,isExternal:!0,children:"View Metadata on IPFS "}),eb?(0,a.jsx)(u.r,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+eb,isExternal:!0,children:"View Image on IPFS "}):null]}):null,e6?(0,a.jsx)(s.xu,{display:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(d.x,{children:"*This vault is sealed forever."})}):null,(0,a.jsx)(r.K,{direction:"column",align:"center",children:"claimed"==e8?(0,a.jsx)(d.x,{color:"green.500",children:"CLAIMED"}):null}),eJ?(0,a.jsxs)(w.b,{status:"info",children:[(0,a.jsx)(b.z,{}),tb?"Accepting Your Gift Vault":e4?"Claiming your Vault ...":tv?"Handling Approval Flow ...":tH?"Transfering Vault ...":tQ?"Minting Vault":"Validating transaction"]}):null]})}),eJ?(0,a.jsx)(M.Z,{hash:eJ,onComplete:()=>{et?(en(!1),location.href=location.origin+"/nft2?id="+eh):!e4||tb||t_?t_?(nU(),tE(!0),tI(!1),e$(null)):tb?(ty(!1),nK(),e$(null)):tv?(tC(!1),nK(),e$(null),location.href=location.origin+"/nft?id="+eh):tH?(tP(!1),nK(),e$(null)):tQ?nz(eh,()=>{t0(!1),tF(!0),location.href=location.origin+"/nft?id="+eh}):location.href=location.origin+"/nft?id="+eh:(e$(null),e9("claimed"),e5(!1),tn(e),location.href=location.origin+"/nft?id="+eh)}}):null,(0,a.jsx)(s.xu,{height:"40px"})]})]})}},97903:function(e,t,n){var a=n(85893),i=n(67294),l=n(71963),s=n(10682),o=n(51343),r=n(57747),c=n(33862);class d extends i.Component{render(){let e=[{image:this.props.image,name:this.props.name,type:"nft"}];return console.log("items",e=(e=e.concat(this.props.items)).filter(e=>""!==e.image&&"nft"==e.type)),(0,a.jsx)(s.Z,{className:"p-3",children:(0,a.jsx)(l.Z,{children:e.map((e,t)=>(0,a.jsx)(l.Z.Item,{children:(0,a.jsxs)(o.K,{children:[(0,a.jsx)(r.xu,{children:(0,a.jsx)(c.Z,{className:"d-block w-100 NFT-image",url:e.image})}),(0,a.jsx)(r.xu,{children:(0,a.jsx)(l.Z.Caption,{children:(0,a.jsx)("h3",{children:e.name})})})]})},t))})})}}t.Z=d}}]);