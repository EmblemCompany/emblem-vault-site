"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9167],{69824:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r=n(85893),o=n(67294),a=n(11163),i=n(77044),l=n(11987),s=n(45161),u=n(16576),c=n(7636),d=n(70727),f=n(46685),m=n(71293),p=n(89693),v=n(89423),b=n(51343),h=n(78125),y=n(25432),k=n(16554),x=n(27440),g=n(33179),w=n(65548),j=(0,k.G)(function(e,t){let n=(0,x.jC)("Switch",e),{spacing:a="0.5rem",children:i,...l}=(0,g.Lr)(e),{getIndicatorProps:s,getInputProps:u,getCheckboxProps:c,getRootProps:d,getLabelProps:f}=(0,h.O)(l),m=(0,o.useMemo)(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...n.container}),[n.container]),p=(0,o.useMemo)(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...n.track}),[n.track]),v=(0,o.useMemo)(()=>({userSelect:"none",marginStart:a,...n.label}),[a,n.label]);return(0,r.jsxs)(w.m.label,{...d(),className:(0,y.cx)("chakra-switch",e.className),__css:m,children:[(0,r.jsx)("input",{className:"chakra-switch__input",...u({},t)}),(0,r.jsx)(w.m.span,{...c(),className:"chakra-switch__track",__css:p,children:(0,r.jsx)(w.m.span,{__css:n.thumb,className:"chakra-switch__thumb",...s()})}),i&&(0,r.jsx)(w.m.span,{className:"chakra-switch__label",...f(),__css:v,children:i})]})});j.displayName="Switch";var P=n(33090),C=n(32883),B=n(97878),S=n(93108),_=n(20640),E=n.n(_),I=n(31238),N=n(93007),L=n(10063);function D(e){let{isOpen:t,onClose:n}=e,{chainId:h}=(0,i.Ge)(),{colorMode:y,toggleColorMode:k}=(0,s.If)(),{pathname:x}=(0,a.useRouter)(),[g,w]=(0,N.u2)(),[_,D]=(0,N.xZ)(),[F,O]=(0,N.kX)(),[T]=(0,N.GU)(),[M]=(0,N.HL)(),K=null;if("number"==typeof h&&(T||M)&&("/buy"===x||"/sell"===x)){let e={[I.nV.CHAIN]:h,..."/buy"===x?{...T?{[I.nV.OUTPUT]:T.address}:{},...M?{[I.nV.INPUT]:M.address}:{}}:{...T?{[I.nV.INPUT]:T.address}:{},...M?{[I.nV.OUTPUT]:M.address}:{}}};K=(0,l.resolve)("https://emblem.finance","".concat(x,"?").concat(Object.entries(e).map(e=>{let[t,n]=e;return"".concat(t,"=").concat(n)}).join("&")))}let[R,q]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{if(R){let e=setTimeout(()=>{q(!1)},750);return()=>{clearTimeout(e)}}},[R]),(0,r.jsxs)(u.u_,{isOpen:t,onClose:n,isCentered:!0,children:[(0,r.jsx)(c.Z,{}),(0,r.jsxs)(d.h,{color:I.r$[y],children:[(0,r.jsx)(f.x,{children:(0,r.jsx)(m.x,{children:"Settings (Build #2021)"})}),(0,r.jsx)(p.o,{}),(0,r.jsx)(v.f,{children:(0,r.jsxs)(b.K,{direction:"column",children:[(0,r.jsxs)(b.K,{direction:"row",justify:"space-between",children:[(0,r.jsx)(m.x,{children:"Dark Mode"}),(0,r.jsx)(j,{isChecked:"dark"===y,onChange:k})]}),(0,r.jsxs)(b.K,{direction:"row",justify:"space-between",children:[(0,r.jsx)(m.x,{children:"API-Key"}),(0,r.jsx)(P.I,{placeholder:"API Key",defaultValue:localStorage.getItem("apiKey")||"",onChange:e=>{localStorage.setItem("apiKey",e.target.value)},width:"80%"})]}),(0,r.jsx)(b.K,{direction:"row",justify:"space-between",children:(0,r.jsx)(C.r,{textAlign:"left",isTruncated:!0,onClick:async()=>{await (0,L.Lj)()},children:" Reset Cache "})}),(0,r.jsxs)(b.K,{direction:"row",justify:"space-between",children:[(0,r.jsx)(m.x,{children:"Offline Mode"}),(0,r.jsx)(j,{isChecked:"true"===localStorage.getItem("offline"),onChange:e=>{localStorage.setItem("offline",String(e.target.checked))}})]})]})}),(0,r.jsxs)(B.m,{justifyContent:"space-between",children:["string"==typeof K&&(0,r.jsx)(S.z,{variant:"link",isDisabled:R,color:"blue.500",width:"min-content",onClick:()=>{try{window.navigator.share({title:"Emblem Vault",url:K}).catch(()=>{})}catch(t){var e;e=K,E()(e),q(!0)}},children:R?"Copied":"Share Permalink"}),(0,r.jsx)(C.r,{href:"https://github.com/NoahZinsmeister/hypertext",target:"_blank",rel:"noopener noreferrer",color:"blue.500",children:"Based on Hypertext."})]})]})]})}},10063:function(e,t,n){n.d(t,{Lj:function(){return o},PK:function(){return i},ZO:function(){return a}});let r=async()=>"indexedDB"in window?new Promise((e,t)=>{let n=indexedDB.open("MyDatabase",1);n.onerror=e=>{console.error("Database error:",e.target.error),t(e.target.error)},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains("vaults")||t.createObjectStore("vaults",{keyPath:"tokenId"})}}):(console.error("IndexedDB is not supported by this browser."),null),o=async()=>new Promise((e,t)=>{let n=indexedDB.deleteDatabase("MyDatabase");n.onerror=e=>{console.error("Database error:",e.target.error),t(e.target.error)},n.onsuccess=()=>{e(!0)}}),a=async(e,t)=>{console.log("getVaults - start");let n=await r();if(!n)throw console.error("Failed to open database"),Error("Failed to open database");let o=n.transaction(["vaults"],"readonly"),a=o.objectStore("vaults"),i=a.getAll();return new Promise((n,r)=>{i.onsuccess=()=>{console.log("All vaults successfully retrieved from store");let r=i.result.filter(t=>e===t.ownership.status).filter(n=>"claimed"==e?t===n.ownership.claimedBy:t===n.ownership.owner);n(r)},i.onerror=e=>{console.error("Error retrieving vaults from store:",e.target.error),r(e.target.error)}})},i=async e=>{console.log("useDB - start");let t=await r();if(!t)throw console.error("Failed to open database"),Error("Failed to open database");let n=t.transaction(["vaults"],"readwrite"),o=n.objectStore("vaults");return new Promise((r,a)=>{e.forEach((e,t)=>{if(console.log("Processing item ".concat(t),e),!e.tokenId){console.error("Item missing tokenId:",e);return}let n=o.put(e);n.onsuccess=()=>{console.log("Item ".concat(t," successfully put into store"))},n.onerror=e=>{console.error("Error putting item ".concat(t," into store:"),e.target.error),a(e.target.error)}}),n.oncomplete=()=>{console.log("Transaction complete"),t.close(),r(!0)},n.onerror=e=>{console.error("Transaction error:",e.target.error),t.close(),a(e.target.error)}})}},4942:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(83997);function o(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},75068:function(e,t,n){function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{Z:function(){return o}})},63366:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},83997:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(71002);function o(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==(0,r.Z)(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},71002:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},78125:function(e,t,n){n.d(t,{O:function(){return d}});var r=n(57265),o=n(26245),a=n(67294),i=n(35155),l=n(81103),s=n(25432),u={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},c=n(78879);function d(e={}){let t=(0,r.K)(e),{isDisabled:n,isReadOnly:d,isRequired:m,isInvalid:p,id:v,onBlur:b,onFocus:h,"aria-describedby":y}=t,{defaultChecked:k,isChecked:x,isFocusable:g,onChange:w,isIndeterminate:j,name:P,value:C,tabIndex:B,"aria-label":S,"aria-labelledby":_,"aria-invalid":E,...I}=e,N=function(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}(I,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),L=(0,i.W)(w),D=(0,i.W)(b),F=(0,i.W)(h),[O,T]=(0,a.useState)(!1),[M,K]=(0,a.useState)(!1),[R,q]=(0,a.useState)(!1),[Z,G]=(0,a.useState)(!1);(0,a.useEffect)(()=>(0,c.BT)(T),[]);let U=(0,a.useRef)(null),[A,H]=(0,a.useState)(!0),[V,$]=(0,a.useState)(!!k),z=void 0!==x,Q=z?x:V,W=(0,a.useCallback)(e=>{if(d||n){e.preventDefault();return}z||(Q?$(e.target.checked):$(!!j||e.target.checked)),null==L||L(e)},[d,n,Q,z,j,L]);(0,o.G)(()=>{U.current&&(U.current.indeterminate=!!j)},[j]),function(e,t){let n=(0,a.useRef)(!1),r=(0,a.useRef)(!1);(0,a.useEffect)(()=>{let t=n.current,o=t&&r.current;if(o)return e();r.current=!0},t),(0,a.useEffect)(()=>(n.current=!0,()=>{n.current=!1}),[])}(()=>{n&&K(!1)},[n,K]),(0,o.G)(()=>{let e=U.current;if(!(null==e?void 0:e.form))return;let t=()=>{$(!!k)};return e.form.addEventListener("reset",t),()=>{var n;return null==(n=e.form)?void 0:n.removeEventListener("reset",t)}},[]);let J=n&&!g,Y=(0,a.useCallback)(e=>{" "===e.key&&G(!0)},[G]),X=(0,a.useCallback)(e=>{" "===e.key&&G(!1)},[G]);(0,o.G)(()=>{if(!U.current)return;let e=U.current.checked!==Q;e&&$(U.current.checked)},[U.current]);let ee=(0,a.useCallback)((e={},t=null)=>({...e,ref:t,"data-active":(0,s.PB)(Z),"data-hover":(0,s.PB)(R),"data-checked":(0,s.PB)(Q),"data-focus":(0,s.PB)(M),"data-focus-visible":(0,s.PB)(M&&O),"data-indeterminate":(0,s.PB)(j),"data-disabled":(0,s.PB)(n),"data-invalid":(0,s.PB)(p),"data-readonly":(0,s.PB)(d),"aria-hidden":!0,onMouseDown:(0,s.v0)(e.onMouseDown,e=>{M&&e.preventDefault(),G(!0)}),onMouseUp:(0,s.v0)(e.onMouseUp,()=>G(!1)),onMouseEnter:(0,s.v0)(e.onMouseEnter,()=>q(!0)),onMouseLeave:(0,s.v0)(e.onMouseLeave,()=>q(!1))}),[Z,Q,n,M,O,R,j,p,d]),et=(0,a.useCallback)((e={},t=null)=>({...e,ref:t,"data-active":(0,s.PB)(Z),"data-hover":(0,s.PB)(R),"data-checked":(0,s.PB)(Q),"data-focus":(0,s.PB)(M),"data-focus-visible":(0,s.PB)(M&&O),"data-indeterminate":(0,s.PB)(j),"data-disabled":(0,s.PB)(n),"data-invalid":(0,s.PB)(p),"data-readonly":(0,s.PB)(d)}),[Z,Q,n,M,O,R,j,p,d]),en=(0,a.useCallback)((e={},t=null)=>({...N,...e,ref:(0,l.lq)(t,e=>{e&&H("LABEL"===e.tagName)}),onClick:(0,s.v0)(e.onClick,()=>{var e;A||(null==(e=U.current)||e.click(),requestAnimationFrame(()=>{var e;null==(e=U.current)||e.focus({preventScroll:!0})}))}),"data-disabled":(0,s.PB)(n),"data-checked":(0,s.PB)(Q),"data-invalid":(0,s.PB)(p)}),[N,n,Q,p,A]),er=(0,a.useCallback)((e={},t=null)=>({...e,ref:(0,l.lq)(U,t),type:"checkbox",name:P,value:C,id:v,tabIndex:B,onChange:(0,s.v0)(e.onChange,W),onBlur:(0,s.v0)(e.onBlur,D,()=>K(!1)),onFocus:(0,s.v0)(e.onFocus,F,()=>K(!0)),onKeyDown:(0,s.v0)(e.onKeyDown,Y),onKeyUp:(0,s.v0)(e.onKeyUp,X),required:m,checked:Q,disabled:J,readOnly:d,"aria-label":S,"aria-labelledby":_,"aria-invalid":E?!!E:p,"aria-describedby":y,"aria-disabled":n,style:u}),[P,C,v,W,D,F,Y,X,m,Q,J,d,S,_,E,p,y,n,B]),eo=(0,a.useCallback)((e={},t=null)=>({...e,ref:t,onMouseDown:(0,s.v0)(e.onMouseDown,f),"data-disabled":(0,s.PB)(n),"data-checked":(0,s.PB)(Q),"data-invalid":(0,s.PB)(p)}),[Q,n,p]);return{state:{isInvalid:p,isFocused:M,isChecked:Q,isActive:Z,isHovered:R,isIndeterminate:j,isDisabled:n,isReadOnly:d,isRequired:m},getRootProps:en,getCheckboxProps:ee,getIndicatorProps:et,getInputProps:er,getLabelProps:eo,htmlProps:N}}function f(e){e.preventDefault(),e.stopPropagation()}},18020:function(e,t,n){n.d(t,{NI:function(){return b},NJ:function(){return v},Q6:function(){return h},e:function(){return m}});var r=n(55227),o=n(81103),a=n(16554),i=n(27440),l=n(33179),s=n(65548),u=n(25432),c=n(67294),d=n(85893),[f,m]=(0,r.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[p,v]=(0,r.k)({strict:!1,name:"FormControlContext"}),b=(0,a.G)(function(e,t){let n=(0,i.jC)("Form",e),r=(0,l.Lr)(e),{getRootProps:a,htmlProps:m,...v}=function(e){let{id:t,isRequired:n,isInvalid:r,isDisabled:a,isReadOnly:i,...l}=e,s=(0,c.useId)(),d=t||`field-${s}`,f=`${d}-label`,m=`${d}-feedback`,p=`${d}-helptext`,[v,b]=(0,c.useState)(!1),[h,y]=(0,c.useState)(!1),[k,x]=(0,c.useState)(!1),g=(0,c.useCallback)((e={},t=null)=>({id:p,...e,ref:(0,o.lq)(t,e=>{e&&y(!0)})}),[p]),w=(0,c.useCallback)((e={},t=null)=>({...e,ref:t,"data-focus":(0,u.PB)(k),"data-disabled":(0,u.PB)(a),"data-invalid":(0,u.PB)(r),"data-readonly":(0,u.PB)(i),id:void 0!==e.id?e.id:f,htmlFor:void 0!==e.htmlFor?e.htmlFor:d}),[d,a,k,r,i,f]),j=(0,c.useCallback)((e={},t=null)=>({id:m,...e,ref:(0,o.lq)(t,e=>{e&&b(!0)}),"aria-live":"polite"}),[m]),P=(0,c.useCallback)((e={},t=null)=>({...e,...l,ref:t,role:"group"}),[l]),C=(0,c.useCallback)((e={},t=null)=>({...e,ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!i,isDisabled:!!a,isFocused:!!k,onFocus:()=>x(!0),onBlur:()=>x(!1),hasFeedbackText:v,setHasFeedbackText:b,hasHelpText:h,setHasHelpText:y,id:d,labelId:f,feedbackId:m,helpTextId:p,htmlProps:l,getHelpTextProps:g,getErrorMessageProps:j,getRootProps:P,getLabelProps:w,getRequiredIndicatorProps:C}}(r),b=(0,u.cx)("chakra-form-control",e.className);return(0,d.jsx)(p,{value:v,children:(0,d.jsx)(f,{value:n,children:(0,d.jsx)(s.m.div,{...a({},t),className:b,__css:n.container})})})});b.displayName="FormControl";var h=(0,a.G)(function(e,t){let n=v(),r=m(),o=(0,u.cx)("chakra-form__helper-text",e.className);return(0,d.jsx)(s.m.div,{...null==n?void 0:n.getHelpTextProps(e,t),__css:r.helperText,className:o})});h.displayName="FormHelperText"},57265:function(e,t,n){n.d(t,{K:function(){return i},Y:function(){return a}});var r=n(18020),o=n(25432);function a(e){let{isDisabled:t,isInvalid:n,isReadOnly:r,isRequired:a,...l}=i(e);return{...l,disabled:t,readOnly:r,required:a,"aria-invalid":(0,o.Qm)(n),"aria-required":(0,o.Qm)(a),"aria-readonly":(0,o.Qm)(r)}}function i(e){var t,n,a;let i=(0,r.NJ)(),{id:l,disabled:s,readOnly:u,required:c,isRequired:d,isInvalid:f,isReadOnly:m,isDisabled:p,onFocus:v,onBlur:b,...h}=e,y=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==i?void 0:i.hasFeedbackText)&&(null==i?void 0:i.isInvalid)&&y.push(i.feedbackId),(null==i?void 0:i.hasHelpText)&&y.push(i.helpTextId),{...h,"aria-describedby":y.join(" ")||void 0,id:null!=l?l:null==i?void 0:i.id,isDisabled:null!=(t=null!=s?s:p)?t:null==i?void 0:i.isDisabled,isReadOnly:null!=(n=null!=u?u:m)?n:null==i?void 0:i.isReadOnly,isRequired:null!=(a=null!=c?c:d)?a:null==i?void 0:i.isRequired,isInvalid:null!=f?f:null==i?void 0:i.isInvalid,onFocus:(0,o.v0)(null==i?void 0:i.onFocus,v),onBlur:(0,o.v0)(null==i?void 0:i.onBlur,b)}}},33090:function(e,t,n){n.d(t,{I:function(){return c}});var r=n(57265),o=n(16554),a=n(27440),i=n(33179),l=n(65548),s=n(25432),u=n(85893),c=(0,o.G)(function(e,t){let{htmlSize:n,...o}=e,c=(0,a.jC)("Input",o),d=(0,i.Lr)(o),f=(0,r.Y)(d),m=(0,s.cx)("chakra-input",e.className);return(0,u.jsx)(l.m.input,{size:n,...f,__css:c.field,ref:t,className:m})});c.displayName="Input",c.id="Input"},32883:function(e,t,n){n.d(t,{r:function(){return u}});var r=n(16554),o=n(27440),a=n(33179),i=n(65548),l=n(25432),s=n(85893),u=(0,r.G)(function(e,t){let n=(0,o.mq)("Link",e),{className:r,isExternal:u,...c}=(0,a.Lr)(e);return(0,s.jsx)(i.m.a,{target:u?"_blank":void 0,rel:u?"noopener":void 0,ref:t,className:(0,l.cx)("chakra-link",r),...c,__css:n})});u.displayName="Link"},97878:function(e,t,n){n.d(t,{m:function(){return s}});var r=n(16576),o=n(25432),a=n(16554),i=n(65548),l=n(85893),s=(0,a.G)((e,t)=>{let{className:n,...a}=e,s=(0,o.cx)("chakra-modal__footer",n),u=(0,r.I_)(),c={display:"flex",alignItems:"center",justifyContent:"flex-end",...u.footer};return(0,l.jsx)(i.m.footer,{ref:t,...a,__css:c,className:s})});s.displayName="ModalFooter"},35155:function(e,t,n){n.d(t,{W:function(){return o}});var r=n(67294);function o(e,t=[]){let n=(0,r.useRef)(e);return(0,r.useEffect)(()=>{n.current=e}),(0,r.useCallback)((...e)=>{var t;return null==(t=n.current)?void 0:t.call(n,...e)},t)}},78879:function(e,t,n){n.d(t,{BT:function(){return h}});let r=()=>"undefined"!=typeof document,o=!1,a=null,i=!1,l=!1,s=new Set;function u(e,t){s.forEach(n=>n(e,t))}let c="undefined"!=typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);function d(e){i=!0,e.metaKey||!c&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||(a="keyboard",u("keyboard",e))}function f(e){if(a="pointer","mousedown"===e.type||"pointerdown"===e.type){i=!0;let t=e.composedPath?e.composedPath()[0]:e.target,n=!1;try{n=t.matches(":focus-visible")}catch{}n||u("pointer",e)}}function m(e){(0===e.mozInputSource&&e.isTrusted||0===e.detail&&!e.pointerType)&&(i=!0,a="virtual")}function p(e){e.target!==window&&e.target!==document&&(i||l||(a="virtual",u("virtual",e)),i=!1,l=!1)}function v(){i=!1,l=!0}function b(){return"pointer"!==a}function h(e){!function(){if(!r()||o)return;let{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...t){i=!0,e.apply(this,t)},document.addEventListener("keydown",d,!0),document.addEventListener("keyup",d,!0),document.addEventListener("click",m,!0),window.addEventListener("focus",p,!0),window.addEventListener("blur",v,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",f,!0),document.addEventListener("pointermove",f,!0),document.addEventListener("pointerup",f,!0)):(document.addEventListener("mousedown",f,!0),document.addEventListener("mousemove",f,!0),document.addEventListener("mouseup",f,!0)),o=!0}(),e(b());let t=()=>e(b());return s.add(t),()=>{s.delete(t)}}}}]);