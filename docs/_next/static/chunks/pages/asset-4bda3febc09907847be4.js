_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[34],{CDBg:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Z}));var a=n("q1tI"),r=n.n(a),o=n("o0o1"),i=n.n(o),c=n("HaE+"),s=n("XZ7F"),u=n("mf32"),l=n("BMxC"),f=n("Weur"),p=n("Yn+B"),d=n("eJLp"),m=n("sK1y"),g=n("pboS"),h=n("FpzS"),b=n("IP4Q"),w=n("MKZ1"),v=n("jgTY"),O=n("LqLE"),j=n("bQFp"),S=n("wZsY"),y=n("S5RI"),x=n.n(y),k=n("8Kt/"),C=n.n(k),T=n("Z6YE"),N=n("nOHt"),E=n("Ute3"),I=n("Y1ui"),A=n.n(I),_=n("a6RD"),F=n.n(_),M=n("iBPG"),P=n("zIq6"),H=n("N39q"),L=n("21eR"),G=n("NFKh"),D=n.n(G),V=n("IujW"),J=n.n(V),W=n("wH4i"),B=n.n(W),K=n("PLxQ"),R=n("zNBI"),U=n("fksj"),q=(n("Q/0U"),r.a.createElement),z=F()((function(){return Promise.all([n.e(11),n.e(15),n.e(24)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),Y=F()((function(){return Promise.all([n.e(11),n.e(15),n.e(26)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}}),X=F()((function(){return Promise.all([n.e(11),n.e(15),n.e(25)]).then(n.bind(null,"D3uo"))}),{loadableGenerated:{webpack:function(){return["D3uo"]},modules:["./OfferModal"]}});function $(){var e,t=Object(T.b)(),n=t.account,o=t.chainId,y=t.library,k=Object(N.useRouter)().query,I=Object(a.useState)(!1),_=I[0],F=I[1],G=Object(a.useState)(k.key),V=G[0],W=G[1],$=Object(a.useState)(k.offer||!1),Q=$[0],Z=($[1],Object(a.useState)(k.framed||!0)),ee=(Z[0],Z[1],Object(a.useState)(k.id)),te=ee[0],ne=(ee[1],Object(a.useState)(k.experimental)),ae=(ne[0],ne[1],Object(a.useState)("")),re=ae[0],oe=(ae[1],Object(a.useState)("")),ie=oe[0],ce=(oe[1],Object(a.useState)("")),se=ce[0],ue=(ce[1],Object(a.useState)("")),le=ue[0],fe=(ue[1],Object(a.useState)("")),pe=fe[0],de=(fe[1],Object(a.useState)("")),me=de[0],ge=de[1],he=Object(a.useState)(""),be=he[0],we=(he[1],Object(a.useState)([])),ve=we[0],Oe=we[1],je=Object(a.useState)(!1),Se=je[0],ye=je[1],xe=Object(a.useState)([]),ke=xe[0],Ce=(xe[1],Object(a.useState)([])),Te=Ce[0],Ne=Ce[1],Ee=Object(a.useState)(!1),Ie=Ee[0],Ae=Ee[1],_e=Object(a.useState)(0),Fe=_e[0],Me=(_e[1],Object(a.useState)(null)),Pe=Me[0],He=(Me[1],Object(a.useState)(null)),Le=(He[0],He[1],Object(a.useState)(null)),Ge=Le[0],De=Le[1],Ve=Object(a.useState)(""),Je=Ve[0],We=Ve[1],Be=Object(a.useState)(""),Ke=Be[0],Re=Be[1],Ue=Object(a.useState)({loaded:!1}),qe=Ue[0],ze=(Ue[1],Object(a.useState)(!1)),Ye=ze[0],Xe=ze[1],$e=Object(a.useState)(!1),Qe=$e[0],Ze=$e[1],et=Object(a.useState)("claimed"),tt=et[0],nt=et[1],at=Object(a.useState)(null),rt=at[0],ot=at[1],it=Object(a.useState)(""),ct=it[0],st=it[1],ut=Object(a.useState)(""),lt=ut[0],ft=ut[1],pt=Object(a.useState)(""),dt=pt[0],mt=pt[1],gt=Object(a.useState)([]),ht=gt[0],bt=gt[1],wt=Object(a.useState)(!1),vt=wt[0],Ot=(wt[1],Object(a.useState)("")),jt=Ot[0],St=Ot[1],yt=Object(a.useState)(!1),xt=yt[0],kt=yt[1],Ct=Object(a.useState)(""),Tt=Ct[0],Nt=Ct[1],Et=Object(a.useState)(!1),It=Et[0],At=(Et[1],Object(a.useState)(!1)),_t=(At[0],At[1],Object(a.useState)(!1)),Ft=_t[0],Mt=_t[1],Pt=Object(a.useState)(!1),Ht=Pt[0],Lt=Pt[1],Gt=Object(a.useState)(!1),Dt=Gt[0],Vt=Gt[1],Jt=Object(a.useState)(""),Wt=Jt[0],Bt=Jt[1],Kt=Object(a.useState)(!1),Rt=Kt[0],Ut=Kt[1],qt=Object(a.useState)(!1),zt=qt[0],Yt=qt[1],Xt=Object(a.useState)(null),$t=Xt[0],Qt=Xt[1],Zt=Object(a.useState)(!1),en=Zt[0],tn=Zt[1],nn=Object(a.useState)(null),an=nn[0],rn=nn[1],on=Object(a.useState)(function(){return Kn.apply(this,arguments)}()),cn=on[0],sn=(on[1],Object(a.useState)(!1)),un=sn[0],ln=sn[1],fn=Object(a.useState)(null),pn=fn[0],dn=(fn[1],Object(a.useState)(null)),mn=dn[0],gn=(dn[1],Object(a.useState)(null)),hn=gn[0],bn=(gn[1],Object(a.useState)(!1)),wn=bn[0],vn=(bn[1],Object(a.useState)(!1)),On=vn[0],jn=vn[1],Sn=Object(a.useState)(k.contract),yn=(Sn[0],Sn[1],Object(L.b)(H.o.vaultHandler[o],H.o.vaultHandlerAbi,!0)),xn=Object(L.b)(H.o.emblemVault[o],H.o.emblemAbi,!0),kn=Object(s.a)(),Cn=kn.isOpen,Tn=kn.onOpen,Nn=kn.onClose,En=Object(s.a)(),In=En.isOpen,An=En.onOpen,_n=En.onClose,Fn=Object(s.a)(),Mn=Fn.isOpen,Pn=Fn.onOpen,Hn=Fn.onClose,Ln=Object(s.a)(),Gn=Ln.isOpen,Dn=Ln.onToggle,Vn=Object(s.a)(),Jn=Vn.isOpen,Wn=Vn.onToggle,Bn=Object(u.c)().colorMode;function Kn(){return(Kn=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new x.a({baseUrl:"".concat(window.location.origin,"/serviceworker"),enableLogging:!0,network:"testnet"}),e.next=3,t.init({skipSw:!0,skipInit:!0,skipPrefetch:!0});case 3:return console.log("Initialized Torus"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rn=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H.g+"/witness/"+te,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:o.toString()}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(a=e.sent).signature){e.next=11;break}return console.log("witness",a),e.abrupt("return",t(a));case 11:return e.abrupt("return",t(!1));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Un=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Se){e.next=2;break}return e.abrupt("return",a(!1));case 2:return ye(!0),e.next=5,fetch(H.g+"/vault/balance/"+n+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 5:return r=e.sent,e.next=8,r.json();case 8:if(o=e.sent,console.log("responce",r,o),!(o.balances.length>0)){e.next=14;break}return e.abrupt("return",a(t.concat(o.balances)));case 14:return e.abrupt("return",a(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),qn=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a,r){var o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H.g+"/vault/balance/"+n+"/"+a,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(c=e.sent,console.log("responce",o,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt("return",r(t.concat(c.balances)));case 11:return e.abrupt("return",r(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),zn=function(){var e=localStorage.getItem(n+"_"+o+"_"+te+"_mintPassword");e&&Dt&&W(e)},Yn=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("chainid",o.toString()),r.append("Content-Type","application/json"),c=JSON.stringify({signature:t,tokenId:n}),e.next=6,fetch("https://tor-us-signer.vercel.app/sign",{method:"POST",headers:r,body:c,redirect:"follow"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt("return",a(u));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Xn=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,e.next=3,cn;case 3:return e.next=5,e.sent.getTorusKey("tor-us-signer-vercel",t,{verifier_id:t},n).catch((function(e){r=e.message}));case 5:if(o=e.sent,!r){e.next=11;break}return console.log("error",r),e.abrupt("return",a(!1));case 11:return e.abrupt("return",a(o));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),$n=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a,r){var c,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append("chainId",o.toString()),c.append("service","evmetadata"),c.append("Content-Type","application/json"),s=JSON.stringify({signature:t,coin:a}),e.next=7,fetch(H.g+"/address/"+n,{method:"POST",headers:c,body:s,redirect:"follow"});case 7:return u=e.sent,e.next=10,u.json();case 10:return l=e.sent,e.abrupt("return",r(l));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Qn=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("chainId",o.toString()),r.append("service","evmetadata"),r.append("Content-Type","application/json"),c=JSON.stringify({signature:t}),e.next=7,fetch(H.g+"/embed/"+n,{method:"POST",headers:r,body:c,redirect:"follow"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt("return",a(u));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Zn=function(){var e=Object(c.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){return(r=Object(c.a)(i.a.mark((function e(){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn.getPreTransfer(te);case 2:return a=e.sent,e.next=5,xn.isApprovedForAll(n,H.o.vaultHandler[o]);case 5:r=e.sent,F(r),Vt("0x0000000000000000000000000000000000000000"!==a._from),rn(t),Xe(t===n),zn();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)},a=function(){return r.apply(this,arguments)},!1,e.prev=3,e.next=6,xn.ownerOf(te);case 6:t=e.sent,a(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),t="0x0000000000000000000000000000000000000000",a();case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){}));var ea=function(e){return console.log(e,Te.filter((function(t){return t.coin==e})).length>0),Te.filter((function(t){return t.coin==e})).length>0},ta=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.getSigner(n).signMessage("Renew: "+te).then((function(e){var n=Te.filter((function(e){return"NMC"==e.coin}))[0].address;console.log("signature",e,t),fetch(H.g+"/nmc/renew/"+n,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:o.toString()},body:JSON.stringify({tokenId:te,signature:e,name:t})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("Requested Renew",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),na=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.getSigner(n).signMessage("Claim: "+te).then((function(e){Yn(e,te,(function(e){Xn(te,e.token,(function(e){var t=D.a.AES.decrypt(le,e.privateKey),n=JSON.parse(t.toString(D.a.enc.Utf8));bt(n.values),st(n.phrase);var a=window.phrasePathToKey(n.phrase,Te.filter((function(e){return"BTC"==e.coin}))[0].path);ft(a);var r=window.phrasePathToKey(n.phrase,Te.filter((function(e){return"ETH"==e.coin}))[0].path);mt(r),Te.forEach((function(e){e.key=window.phrasePathToKey(n.phrase,e.path)})),An()}))}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),aa=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.getSigner(n).signMessage("Address: "+te).then((function(e){$n(e,te,t,(function(e){}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ra=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.getSigner(n).signMessage("Embed: "+te).then((function(e){Qn(e,te,(function(e){ge(e.ownedImage)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oa=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xn.burn(te).then((function(e){var t=e.hash;Ze(!0),setTimeout((function(){De(t)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ia=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,r,o,c,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var i=0;i<r-c;i++){var l=Math.floor(t.length*Math.random()),f=t.charAt(l);s+=f}o==a-1&&c++,o==a&&(u+=n.charAt(c-1),o=0),St(u+s),s=""},!xt){e.next=3;break}return e.abrupt("return");case 3:kt(!0),t="abcdefghijklmnopqrstuvwxyz",5,r=(n="Decrypting").length,o=0,c=0,s="",u="",function e(t){setTimeout((function(){--t?e(t):kt(!1),l(t),o+=1}),5)}(r*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ca(e){return e.split("\n\n\n\n")[0].trim()}function sa(e){Tt&&(e=Tt),ia(),console.log(Te);var t=Te[0].address.replace("private:","");try{var n=D.a.AES.decrypt(t,e);JSON.parse(n.toString(D.a.enc.Utf8)),Ae(!1),Nt(e),Ne(function(e){return Te.forEach((function(t){if(t.address.includes("private")){var n=t.address.replace("private:","");t.address=function(e,t){var n=D.a.AES.decrypt(e,t);return JSON.parse(n.toString(D.a.enc.Utf8))}(n,e)}})),Te}(e));var a=Te.filter((function(e){return"ETH"===e.coin}))[0].address,r=Te.filter((function(e){return"BTC"===e.coin}))[0].address;console.log("SUCCESS",Te),qn([],a,r,(function(e){Oe(e)}))}catch(o){console.log("WTF",o)}}return Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){n&&o&&Pe&&o==Pe&&Zn()})),q(r.a.Fragment,null,q(C.a,null,q("meta",{name:"twitter:card",content:"summary_large_image"}),q("meta",{name:"twitter:site",content:"Emblem.Finance"}),q("meta",{name:"twitter:title",content:re}),q("meta",{name:"twitter:description",content:ca(pe)}),q("meta",{name:"twitter:image",content:me}),q("script",{dangerouslySetInnerHTML:{__html:"\n              // $(\".NFT\").tilt({    \n              //     maxTilt: 3\n              // });\n              $(\".NFT\").trigger('mouseenter');\n              $(\".NFT\").trigger('mouseclick'), '.NFT';\n              "}})),q(z,{isOpen:Cn,onClose:Nn,addrCoin:Je,addrAddr:Ke}),q(Y,{isOpen:In,onClose:_n,mnemonic:ct,privKeyBTC:lt,privKeyETH:dt,privValues:ht,addresses:Te}),Q?q(X,{isOpen:Mn,onClose:Hn,tokenId:te,mine:Ye}):null,q(A.a,{loaded:qe.loaded},q(l.a,{height:"40px"}),vt?q(E.a,null):"",It?q(p.a,{align:"center"},q(j.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),q(m.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",q(g.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):q(f.a,{width:"full",align:"center",justifyContent:"center"},q(l.a,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:Pe!=o?"orange.500":"claimed"==tt?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},q(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500"},"Vault Network: ",M.a[Pe]),q(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center"},re,!Ie&&Fe>0?": ~$"+Fe.toLocaleString():null),q(p.a,{className:"NFT-content",align:"center"},ve.length&&ve.filter((function(e){return"nft"==e.type})).length>0?q(R.a,{name:re,image:me,items:ve.map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):q(K.b,{className:"d-block w-100 NFT-image",url:me}),Ye&&be?q(d.a,{onClick:function(){ra()}},"(OWNED) Show Full Embed"):null),q(p.a,{align:"center"},q(l.a,{mt:"2",ml:"4",lineHeight:"tight"},q(p.a,null,q(m.a,{fontSize:"xs"},Pe==o?q(g.a,{href:"./myvaults?address="+an},"Owner: ",an):null),q(m.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md"},q(J.a,{plugins:[B.a],children:ca(pe)}))))),q(l.a,{p:"6"},Ie?q(l.a,{mb:5},q(m.a,{pb:2,color:jt?"green.500":null},jt||"Contents hidden. Enter password to unlock."),q(h.a,{type:"password",id:"vault-password",onChange:function(e){return sa(e.target.value)},"aria-describedby":"password-helper-text"})):q(l.a,{d:"flex",backgroundColor:"light"==Bn?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content"},q(l.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},q(m.a,{as:"h4",mt:2,fontWeight:"semibold"},"Current Contents:  ",q("button",{onClick:function(){Un([],te,(function(e){ye(!1),Oe(e)}))}}," [Refresh Balances]")),q(m.a,{as:"p",color:"dark"==Bn?"lightgreen":"forestgreen"},"$",Number(Fe.toFixed(4)).toLocaleString()),ve.length?ve.map((function(e){return q(p.a,null,q(U.a,{colorMode:Bn,coin:e,mine:"claimed"===tt&&rt===n||Ye,onRenew:ta}))})):q(E.a,null),ke.length?ke.map((function(e){return q(m.a,null,"Data: ",e.attribute_key)})):ke.length||ve.length?null:q(m.a,null,"Nothing in here! Fill 'er up!"))),Ie?null:q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(b.a,{justifyContent:"space-between",spacing:6},q(p.a,null,q(m.a,null,"Deposit Addresses"),q(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},Te.map((function(e){return q(d.a,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",key:e.address,onClick:function(){We(e.coin),Re(e.address),Tn()}},"ETH"==e.coin?e.coin+"":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin)}))),(Ye||"claimed"===tt)&&Te.length<8?q(r.a.Fragment,null,q("button",{className:"nft_button",onClick:function(){Wn()}},"Manage Addresses"),q(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},q(w.a,{isOpen:Jn},ea("DOGE")?null:q(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){aa("DOGE")}},"Add DOGE"),ea("DGB")?null:q(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){aa("DGB")}},"Add Digibyte"),ea("NMC")?null:q(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){aa("NMC")}},"Add Namecoin"),ea("LTC")?null:q(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){aa("LTC")}},"Add Litecoin"),ea("MONA")?null:q(d.a,{className:"nft_button",mr:2,mt:2,onClick:function(){aa("MONA")}},"Add Mona")))):null))),"claimed"===tt||1!==Pe&&4!==Pe&&137!==Pe?null:q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(p.a,{d:"flex",width:"100%"},q(d.a,{className:"nft_button",width:"100%",onClick:function(){location.href="https://"+(4==Pe?"rinkeby.":"")+"opensea.io/assets/"+(137==Pe?"matic/":"")+H.o.emblemVault[Pe]+"/"+te}},"View Vault on Opensea"),Q?q(d.a,{className:"",onClick:function(){Pn()}},Ye?"My Offers":"Make an Offer"," (NFT\xb2NFT)"):null)),"claimed"!==tt&&Ye&&!Dt?q(r.a.Fragment,null,q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",width:"100%"},q(p.a,{direction:"column",align:"center",width:"100%"},q(d.a,{className:"nft_button",width:"100%",onClick:Dn},"Transfer Vault"),q(w.a,{isOpen:Gn},q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},q(v.a,{htmlFor:"owner-address"},"Address"),q(h.a,{mt:1,type:"text",id:"transferAddress",value:$t||"",onChange:function(e){console.log("Transfer to",e.target.value),Qt(e.target.value)},autoComplete:"off"})),q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},q(d.a,{isDisabled:!Object(M.j)($t),onClick:function(){Dn(),tn(!0),xn.transferFrom(n,$t,te).then((function(e){var t=e.hash;De(t)})).catch((function(e){}))}},"Transfer Now")))))):null,Ye&&!Dt?q(r.a.Fragment,null,q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(d.a,{className:"nft_button",width:"100%",onClick:function(){if(!_)return Lt(!0),void xn.setApprovalForAll(H.o.vaultHandler[o],!0).then((function(e){var t=e.hash;setTimeout((function(){De(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):Lt(!1)}));var t=D.a.lib.WordArray.random(16).toString(),n=D.a.SHA256(t).toString();console.log("plain",t),console.log("sha",n),Bt(t),e=n,setTimeout((function(){console.log("transferImage","0x"+e),Yt(!0),yn.addPreTransfer(te,"0x"+e).then((function(e){var t=e.hash;De(t),console.log("Set Pre Transfering True",zt)})).catch((function(e){(null===e||void 0===e?void 0:e.code)&&(console.log("Error?"),Yt(!1),Ut(!1),Bt(""))}))}),500)}}," ",_?"Get Link (Send Vault Via Link)":"Approve Gifting"," "))):null,(Rt||V)&&Dt?q(l.a,null,q(g.a,{href:location.protocol+"//"+location.host+"/nft?id="+te+"&key="+(Wt||V)},"Copy Gift Link"),q(m.a,null,"Password: ",Wt||V)):null,Dt&&rt!==n?q(r.a.Fragment,null,q(d.a,{mt:2,width:"100%",onClick:function(){console.log(V),Mt(!0),Rn((function(e){yn.transferWithCode(te,V,n,e.nonce,e.signature).then((function(e){var t=e.hash;setTimeout((function(){De(t)}),100)})).catch((function(e){Mt(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.log("tx failed.",e)}))}))}},"Accept"),q(h.a,{mt:2,type:"password",id:"mintPassword",minLength:3,maxLength:200,value:V||"",onChange:function(e){console.log("grrr",e.target.value,V),W(e.target.value)},autoComplete:"off"})):null,"claimed"!==tt&&n&&Pe===o&&Ye?q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(d.a,{width:"100%",onClick:function(){oa()},isDisabled:Qe},Qe?"Claiming ...":"Claim (Crack Open Vault)")):"claimed"===tt&&rt===n&&Pe===o?q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(d.a,{width:"100%",onClick:na},"Get Keys")):null,!un&&pn&&mn&&le&&hn==n&&Pe==o&&"claimed"!==tt?q(d.a,{width:"100%",mt:5,onClick:function(){jn(!0);var e=Te.filter((function(e){return"ETH"==e.coin}))[0].address;yn.buyWithSignature(n,te,e,pn,mn).then((function(e){var t=e.hash;setTimeout((function(){De(t)}),100)})).catch((function(e){}))}},"Mint Me "):null,wn?q(d.a,{isDisabled:!0,type:"submit"},"Making Vault ..."):null),ie?q(p.a,null,q(S.a,{align:"center"},q(g.a,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+ie,isExternal:!0},"View Metadata on IPFS "),se?q(g.a,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+se,isExternal:!0},"View Image on IPFS "):null)):null,q(p.a,{direction:"column",align:"center"},"claimed"==tt?q(m.a,{color:"green.500"},"CLAIMED"):null),Ge?q(O.a,{status:"info"},q(O.b,null),Ft?"Accepting Your Gift Vault":Qe?"Claiming your Vault ...":Ht?"Handling Approval Flow ...":en?"Transfering Vault ...":On?"Minting Vault":"Generating Gift Link ..."):null)),Ge?q(P.a,{hash:Ge,onComplete:function(){var e;!Qe||Ft||zt?zt?(localStorage.setItem(n+"_"+o+"_"+te+"_mintPassword",Wt),Ut(!0),Yt(!1),De(null)):Ft?(Mt(!1),De(null)):Ht?(Lt(!1),De(null)):en?(tn(!1),De(null)):On?function(e,t){fetch(H.g+"/liveliness",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:o.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,ln(n.live),console.log("Liveliness check",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t()}(te,(function(){jn(!1),ln(!0)})):(console.log("minting",On),console.log("claiming",Qe),console.log("accepting",Ft),console.log("preTransfering",zt),console.log("approving",Ht),console.log("Unknown state")):(De(null),nt("claimed"),Ze(!1),ot(n),e=function(){location.href=location.origin+"/nft?id="+te},fetch(H.g+"/web3/selfClaimLogs?chainId="+o.toString(),{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}).then(function(){var t=Object(c.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log("Log check",a),t.abrupt("return",e());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,q(l.a,{height:"40px"})))}var Q=r.a.createElement;function Z(){return Q($,null)}},NwGJ:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/asset",function(){return n("CDBg")}])}},[["NwGJ",1,0,12,14,2,4,3,5,6,7,8,9,10,13,16,17,18,19,21,20]]]);