(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{32494:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/createcurated",function(){return a(88406)}])},44302:function(e,t,a){"use strict";a.d(t,{Z:function(){return y}});var n=a(85893),r=a(67294),s=a(83230),l=a(6089);class i extends r.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"sketchfab-embed-wrapper",children:(0,n.jsx)("iframe",{width:"100%",src:this.props.url,frameBorder:"0",allow:"autoplay; fullscreen; vr",allowFullScreen:!0})})})}}class c extends r.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{width:"95%",frameBorder:"0",src:e,allowFullScreen:!0})})}}class o extends r.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{height:"753px",src:e,seamless:!0})})}}class d extends r.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{width:"95%",height:"100%",scrolling:"no",frameBorder:"no",allow:"autoplay",src:e})})}}class u extends r.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{width:"95%",height:"256px",scrolling:"no",frameBorder:"no",allow:"autoplay",src:e})})}}class p extends r.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{src:this.props.url,frameBorder:"0",scrolling:"no",width:"580",height:"326",allowFullScreen:!0})})}}class h extends r.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{src:this.props.url,width:"800",height:"600",allowFullScreen:!0})})}}class m extends r.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{width:"230",height:"285",src:this.props.url,frameBorder:"0",scrolling:"no",allowTransparency:!0})})}}class x extends r.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{src:this.props.url,width:"100%",height:"400",allow:"encrypted-media"})})}}class g extends r.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{frameBorder:"0",src:this.props.url,width:"350",height:"650",allow:"encrypted-media",sandbox:"allow-scripts allow-same-origin"})})}}class j extends r.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{className:"ytembed",src:this.props.url.split(" ")[0].trim().replace('"',"").replace("/watch?v=","/embed/"),width:"100%",height:"315",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}}class f extends r.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{src:this.props.url,width:"100%",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}}class w extends r.Component{async componentDidMount(){try{let e=await s.SZ.contentTypeReport(this.props.url);this.setState({contentType:e,loading:!1})}catch(e){console.error("Error fetching content type:",e),this.setState({loading:!1})}}render(){let e=this.props.url||"",{contentType:t,loading:a}=this.state,r=e.replace("ipfs://","").split("?")[0].split("&")[0],w=!!e.toLocaleLowerCase().includes("stamp:")&&function(e){let t=atob(e),a=t.slice(0,4).split("").map(e=>e.charCodeAt(0).toString(16).padStart(2,"0")).join(""),n="unknown";switch(a.toUpperCase()){case"89504E47":n="image/png";break;case"FFD8FFDB":case"FFD8FFE0":case"FFD8FFE1":n="image/jpeg";break;case"47494638":n="image/gif";break;case"25504446":n="application/pdf";break;case"66747970":n="video/mp4"}return"unknown"===n&&(n=t.startsWith("<svg")||t.startsWith("<?xml")?"image/svg+xml":t.startsWith("<!DOCTYPE html>")||t.startsWith("<html")?"text/html":"text/plain"),"data:".concat(n,";base64,").concat(e)}(e.split(":")[1]);return e.includes("ipfs://")&&(e="https://gateway.ipfs.io/ipfs/"+r,v(r)),e.includes("image-scale")&&(e+="&size=400"),(0,n.jsx)(n.Fragment,{children:t&&"video/mp4"==t.contentType?(0,n.jsx)("video",{src:e,controls:!0}):e.includes("sketchfab.com/")?(0,n.jsx)(i,{url:e}):e.includes("shadertoy.com/")?(0,n.jsx)(c,{url:e}):e.includes("bandcamp.com/")?(0,n.jsx)(o,{url:e}):e.includes("soundcloud.com/")?(0,n.jsx)(d,{url:e}):e.includes("clyp.it/")?(0,n.jsx)(u,{url:e}):e.includes("sketchup.com/")?(0,n.jsx)(p,{url:e}):e.includes("clara.io/")?(0,n.jsx)(h,{url:e}):e.includes("myminifactory.com/")?(0,n.jsx)(m,{url:e}):e.includes("audius.co/")?(0,n.jsx)(x,{url:e}):e.includes("youtube.com")?(0,n.jsx)(j,{url:e}):e.includes("vimeo.com")?(0,n.jsx)(f,{url:e}):e.includes("ipfs.io")?(0,n.jsx)(l.E,{p:"20px",h:"100%",className:this.props.className+" "+r||"d-block w-100",src:e,width:"250px",maxWidth:"250px"}):e.includes("image-scaler.vercel")?(0,n.jsx)(l.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:e,width:"250px",height:"300px"}):e.includes("/dynamic/")||e.includes("https://s3.amazonaws.com/")||e.includes("googleusercontent.com")||e.includes("ipfs.io")||e.includes("framed/")||e.includes(".png")||e.includes(".jpg")||e.includes(".jpeg")||e.includes(".gif")||e.includes(".svg")||e.includes("data:image")?(0,n.jsx)(l.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:(0,s.yo)(e)?e:"https://raw.githubusercontent.com/EmblemCompany/Coval-Site/master/public/coval-logo.png",width:"250px",maxWidth:"250px"}):w?(0,n.jsx)(l.E,{h:"100%",className:this.props.className||"d-block w-100",src:w,width:"250px",height:"300px"}):t&&t.valid&&!t.contentType.includes("text/")?(0,n.jsx)(l.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:e,width:"250px",height:"300px"}):(0,n.jsx)(g,{url:e})})}constructor(...e){super(...e),this.state={contentType:null,loading:!0}}}let v=async function(e){let t=await fetch("https://gateway.ipfs.io/ipfs/"+e,{method:"GET"}),a=await t.text();a.includes("data:image")&&(document.querySelector("img."+e).src=a,console.log(a))};var y=w},88406:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return L}});var n=a(85893),r=a(93717),s=a(57747),l=a(36752),i=a(77458),c=a(35232),o=a(72047),d=a(37365),u=a(51343),p=a(18020),h=a(49289),m=a(66529),x=a(41731),g=a(33090),j=a(71293),f=a(78590),w=a(93108),v=a(11163),y=a(70758),C=a.n(y),S=a(77044),b=a(67294),F=a(61256),N=a(14990),k=a(83230),I=a(7335),W=a(51001),T=a(57169),E=function(e){let{experimental:t=!1,overrides:a={},account:r="",handleSubmit:x}=e,{isOpen:j,onToggle:v}=(0,I.q)(),[y,C]=(0,b.useState)(a.to||r||""),[S,F]=(0,b.useState)("Public"),[N,k]=(0,b.useState)(a.title||""),[E,_]=(0,b.useState)(a.description||""),[D,K]=(0,b.useState)(a.image||""),[P,B]=(0,b.useState)(a.ownedUrl||""),[L,z]=(0,b.useState)(a.tabIndex||a.image?2:a.to||a.title||a.description?1:0),[A,O]=(0,b.useState)(""),[R,V]=(0,b.useState)({loaded:!0,private:!1}),[G,Z]=(0,b.useState)(""),[q,U]=(0,b.useState)(""),[J,M]=(0,b.useState)("embed"),[Q,X]=(0,b.useState)(!!a.image),[Y,H]=(0,b.useState)(""),[$,ee]=(0,b.useState)(!1);return(0,n.jsx)(s.xu,{maxW:"sm",borderWidth:"1px",rounded:"lg",overflow:"hidden",children:(0,n.jsxs)(l.m,{defaultIndex:0,index:L,onChange:e=>z(e),children:[(0,n.jsxs)(i.t,{children:[(0,n.jsx)(c.O,{children:"Step 1"}),(0,n.jsx)(c.O,{children:"Step 2"})]}),(0,n.jsxs)(o.n,{children:[(0,n.jsx)(d.x,{children:(0,n.jsxs)(u.K,{direction:"column",align:"center",spacing:"2rem",flexGrow:1,justifyContent:"center",px:"2rem",py:"2rem",shouldWrapChildren:!0,children:[(0,n.jsx)(u.K,{direction:"row",align:"flex-start",spacing:"0rem",flexWrap:"wrap",shouldWrapChildren:!0,children:(0,n.jsxs)(p.NI,{isRequired:!0,isInvalid:N&&N.length<3&&N.length>200,children:[(0,n.jsx)(m.l,{htmlFor:"vault-name",children:"Vault Name"}),(0,n.jsx)(g.I,{type:"text",id:"vault-name","aria-describedby":"vault-name-text",minLength:3,maxLength:200,value:N,onChange:e=>k(e.target.value),autoComplete:"off"}),(0,n.jsx)(p.Q6,{id:"vault-name-text",children:"Give it some love so you can find it later."}),(0,n.jsx)(W.J1,{children:"Name needs at least 3 characters. 200 is max."})]})}),(0,n.jsx)(u.K,{direction:"row",align:"flex-start",spacing:"0rem",flexWrap:"wrap",shouldWrapChildren:!0,children:(0,n.jsxs)(p.NI,{isRequired:!0,isInvalid:E&&E.length<3&&E.length>1024,children:[(0,n.jsx)(m.l,{htmlFor:"vault-desc",children:"Vault Description"}),(0,n.jsx)(T.g,{id:"vault-desc",size:"lg","aria-describedby":"vault-desc-text",minLength:3,maxLength:1024,value:E,onChange:e=>_(e.target.value),autoComplete:"off"}),(0,n.jsx)(p.Q6,{id:"vault-desc-text",children:"Add some fluffy text to tell people what the point is!"}),(0,n.jsx)(W.J1,{children:"Description needs to be at least 3 characters. 1024 is max."})]})}),(0,n.jsx)(u.K,{direction:"row",align:"flex-start",spacing:"0rem",flexWrap:"wrap",shouldWrapChildren:!0,children:(0,n.jsxs)(f.h,{spacing:4,children:[(0,n.jsx)(w.z,{onClick:()=>z(0),children:"Back"}),(0,n.jsx)(w.z,{onClick:()=>z(1),children:"Next"})]})})]})}),(0,n.jsx)(d.x,{children:(0,n.jsxs)(u.K,{direction:"column",align:"center",spacing:"2rem",flexGrow:1,justifyContent:"center",px:"2rem",py:"2rem",shouldWrapChildren:!0,children:[(0,n.jsx)(u.K,{direction:"row",align:"flex-start",spacing:"0rem",flexWrap:"wrap",shouldWrapChildren:!0,children:(0,n.jsx)(p.NI,{children:(0,n.jsx)(s.xu,{p:1,rounded:"lg",overflow:"hidden",children:(0,n.jsxs)(u.K,{align:"center",p:1,children:["upload"!==J?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.l,{htmlFor:"vault-image-url",children:"Vault Image or Embed URL"}),(0,n.jsx)(g.I,{type:"text",id:"vault-image-url","aria-describedby":"vault-image-url-text",minLength:3,maxLength:200,value:D,defaultValue:"http://",onChange:e=>{K(e.target.value),X(!0),console.log("showEmbed",Q)},autoComplete:"off",w:300})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.l,{htmlFor:"vault-img",children:"Vault Image"}),(0,n.jsx)("input",{type:"file",onChange:()=>(function(){let e=document.querySelector("#preview"),t=document.querySelector("input[type=file]"),a=new FileReader;if(t.files[0].size>5e6)return delete t.files,alert("File too large");a.addEventListener("load",function(){var t;e&&(e.src=(null===(t=a.result)||void 0===t?void 0:t.toString())||""),e&&K(e.src),H("")},!1),t.files&&a.readAsDataURL(t.files[0])})()}),(0,n.jsx)(h.i,{})]}),"upload"==J?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("img",{id:"preview",src:Y,width:"250","margin-top":"6"})}):!0==Q?(0,n.jsx)(n.Fragment,{}):null]})})})}),(0,n.jsx)(u.K,{direction:"row",align:"flex-start",spacing:"0rem",flexWrap:"wrap",shouldWrapChildren:!0,children:(0,n.jsxs)(f.h,{spacing:4,children:[(0,n.jsx)(w.z,{onClick:()=>z(0),children:"Back"}),(0,n.jsx)(w.z,{isDisabled:!E||!D||!N,onClick:()=>{x(y,S,N,E,D,P,G,q,J,A)},type:"submit",children:"Preview Vault"})]})})]})})]})]})})},_=a(44302);let D=null,K={xcp:[]},P=k.SZ.getAllAssetMetadata();function B(e){let t;let{query:a}=(0,v.useRouter)(),[y,I]=(0,b.useState)(0),{account:W,chainId:T}=(0,S.Ge)(),[P,B]=(0,b.useState)(W||""),[L,z]=(0,b.useState)({loaded:!1,private:!1}),[A,O]=(0,b.useState)({name:"",image:"",description:"",ownedImage:""}),[R,V]=(0,b.useState)(a.image?"embed":"upload"),[G,Z]=(0,b.useState)("f"==a.public?"Private":"Public"),[q,U]=(0,b.useState)({name:"",collectionChain:"",image:e=>"",allowed:e=>!1,allowedName:e=>!1,placeholder:()=>"",loading:()=>"",loadTypes:[]}),[J,M]=(0,b.useState)("t"==a.curated),[Q,X]=(0,b.useState)(!0),[Y,H]=(0,b.useState)(""),[$,ee]=(0,b.useState)(""),[et,ea]=(0,b.useState)(!1),[en,er]=(0,b.useState)(!1),[es,el]=(0,b.useState)(!0),[ei,ec]=(0,b.useState)([]),[eo,ed]=(0,b.useState)(""),eu=()=>{"true"==localStorage.getItem("tos")?(er(!0),el(!1)):(er(!1),el(!0))},ep=e=>{e.preventDefault(),z({loaded:!1,private:L.private}),fetch(F._z+"/create-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({fromAddress:W,toAddress:P,chainId:T,experimental:!0,targetContract:q,targetAsset:A,imageDisplayType:R,isPrivate:"Private"==G,vaultPassword:eo})}).then(async function(e){z({loaded:!0,private:L.private});let t=await e.json();D=t.data.tokenId||t.data.targetContract.tokenId,setTimeout(()=>{location.href=location.origin+"/nft2?id="+D},500)})},[eh,em]=(0,b.useState)("");return(0,b.useEffect)(()=>{W&&eh!=W&&!L.loaded&&ei&&ei.length>0?(em(W),B(W),eu(),z({loaded:!0,private:L.private})):ei&&0!=ei.length||(0,k.f_)().then(e=>{ec(e)})}),(0,n.jsx)(C(),{loaded:L.loaded&&ei.length>0,children:(0,n.jsx)(r.k,{width:"full",align:"center",justifyContent:"center",children:(0,n.jsx)(s.xu,{borderWidth:"1px",rounded:"lg",overflow:"hidden",children:(0,n.jsxs)(l.m,{defaultIndex:0,index:y,onChange:e=>I(e),children:[(0,n.jsx)(i.t,{children:(0,n.jsx)(c.O,{children:"Create Curated Vault"})}),(0,n.jsx)(o.n,{children:(0,n.jsx)(d.x,{children:(0,n.jsxs)(u.K,{direction:"column",align:"center",spacing:"2rem",flexGrow:1,justifyContent:"center",px:"2rem",py:"2rem",shouldWrapChildren:!0,children:[(0,n.jsx)(u.K,{direction:"row",align:"flex-start",spacing:"0rem",flexWrap:"wrap",shouldWrapChildren:!0,children:(0,n.jsx)(p.NI,{children:(0,n.jsx)(s.xu,{p:1,rounded:"lg",overflow:"hidden",children:(0,n.jsxs)(u.K,{align:"center",p:1,children:[(0,n.jsx)(h.i,{}),(0,n.jsx)(m.l,{htmlFor:"project-selector",children:"Choose Curated Collection"}),(0,n.jsxs)(x.P,{id:"project-selector",w:"100%",value:q.name,onChange:e=>{let t=ei.filter(t=>t.name==e.target.value)[0];console.log("------",t),5==T?delete t["1"]:delete t["5"],U(t)},children:[(0,n.jsx)("option",{value:"",children:"---Choose Project---"}),L.loaded?ei.map((e,t)=>J||e.mintable?(0,n.jsx)("option",{value:e.name,children:e.name},"select-".concat(t)):null):null]}),q.loadTypes.includes("select")&&"Embels"!=q.name?(0,n.jsxs)(x.P,{id:"asset-selector",w:"100%",value:A.name,onChange:async e=>{X(!1);let t=K[q.collectionChain][q.name].filter(t=>t.name==e.target.value)[0];(await k.SZ.contentTypeReport(t.image)).valid||(t.image="https://xchain.io/img/cards/".concat(t.image)),O(t)},children:[(0,n.jsx)("option",{value:"",children:"---Choose One---"}),K[q.collectionChain]&&K[q.collectionChain][q.name]?K[q.collectionChain][q.name].sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0).map((e,t)=>(0,n.jsx)("option",{value:e.name,children:e.name},"choose-".concat(t))):null]}):null,(0,n.jsxs)(n.Fragment,{children:[q.loadTypes.includes("input")?(0,n.jsx)(g.I,{isDisabled:et,onKeyUp:e=>{clearTimeout(t),console.log(e.target.value),t=setTimeout(()=>{let t="".concat(q.name," ").concat(e.target.value);q.allowedName(t)?(H(""),function(e,t){fetch(F.fy+"num/"+e,{method:"GET"}).then(async function(e){return t((await e.json()).data[0])})}(e.target.value,e=>{ee(e?e.content_type:""),q.allowed(e)?(H(""),X(!1),O({name:t,image:q.image(e),description:"",ownedImage:""})):(ee(""),H(e?"JSON/BRC-20 inscriptions not allowed":"Not a valid #"),X(!0),O({name:"",image:q.placeholder(),description:"",ownedImage:""}))})):(ee(""),H("Invalid format: example (-1337)"),X(!0),O({name:"",image:"",description:"",ownedImage:""}))},1e3)},w:"100%",placeholder:"".concat(q.name," Number (-1337)")}):null,q.loadTypes.includes("empty")?(0,n.jsxs)(s.xu,{my:3,children:[(0,n.jsx)(N.Z,{checked:et,onChange:e=>{e.target.checked?(O({name:"Loading...",image:q.loading(),description:"",ownedImage:""}),H(""),ee(""),X(!1),ea(!0)):(O({name:"",image:"",description:"",ownedImage:""}),X(!0),ea(!1))}}),"Empty Vault."]}):null,q.loadTypes.includes("detailed")?(0,n.jsx)(E,{experimental:!1,overrides:a,account:W,handleSubmit:(e,t,a,n,r,s,l,i,c,o)=>{B(e),O({name:a,image:r,description:n,ownedImage:s}),H(""),V(c),Z(t),ed(o),X(!1)}}):null,(0,n.jsx)(n.Fragment,{children:Y}),(0,n.jsx)(n.Fragment,{children:$})]}),A.name?(0,n.jsxs)(j.x,{children:["Name: ",A.name]}):null,A.description?(0,n.jsxs)(j.x,{children:["Description: ",A.description]}):null,A.image?(0,n.jsx)(_.Z,{url:"text/plain;charset=utf-8"==$?q.placeholder():A.image.toString()}):null]})})})}),(0,n.jsx)(u.K,{direction:"row",align:"flex-start",spacing:"0rem",flexWrap:"wrap",shouldWrapChildren:!0,children:(0,n.jsx)(f.h,{spacing:4,children:W?(0,n.jsxs)(w.z,{isDisabled:!en||Q,onClick:e=>{ep(e)},type:"submit",children:["Create ",q.name.toString()," Vault"]}):(0,n.jsx)(w.z,{isDisabled:!0,type:"submit",children:"No Wallet Connected!"})})}),es?(0,n.jsx)(u.K,{children:(0,n.jsxs)(m.l,{children:[(0,n.jsx)(N.Z,{onClick:e=>{er(e.target.checked),localStorage.setItem("tos",e.target.checked)}}),"Agree to ",(0,n.jsx)("a",{href:"/tos",target:"_blank",children:"Terms of Service"})]})}):(0,n.jsx)(j.x,{children:(0,n.jsx)("a",{href:"/tos",target:"_blank",children:"Terms of Service"})})]})})})]})})})})}function L(){return(0,n.jsx)(B,{})}P.forEach(e=>{e.name=e.assetName,K.xcp[e.projectName]||(K.xcp[e.projectName]=[]),K.xcp[e.projectName].includes(e)||K.xcp[e.projectName].push(e)}),console.log("NFT_DATA",P)}},function(e){e.O(0,[758,119,585,586,888,774,179],function(){return e(e.s=32494)}),_N_E=e.O()}]);