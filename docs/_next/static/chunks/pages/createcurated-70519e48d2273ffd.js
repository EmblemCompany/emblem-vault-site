(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7366],{32494:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/createcurated",function(){return n(85367)}])},85367:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return W}});var a=n(85893),l=n(93717),r=n(57747),i=n(36752),o=n(77458),c=n(35232),s=n(72047),d=n(37365),u=n(51343),h=n(18020),m=n(49289),p=n(66529),x=n(41731),g=n(33090),j=n(6089),f=n(78590),C=n(93108),v=n(14e3),w=n(11163),y=n(70758),S=n.n(y),T=n(77044),k=n(67294),_=n(31238),b=n(14990),N=n(62850);let E=null;function I(e){let t;let{query:n}=(0,w.useRouter)(),[y,I]=(0,k.useState)(0),{account:W,chainId:O}=(0,T.Ge)(),[K,P]=(0,k.useState)(W||""),[R,A]=(0,k.useState)({loaded:!0,private:!1}),[D,F]=(0,k.useState)({name:"",image:""}),[z,G]=(0,k.useState)({name:"",collectionChain:"",image:e=>"",allowed:e=>!1,allowedName:e=>!1,placeholder:()=>"",loading:()=>"",loadTypes:[]}),[V,J]=(0,k.useState)("t"==n.curated),[X,Z]=(0,k.useState)(!0),[B,L]=(0,k.useState)(""),[U,q]=(0,k.useState)(""),[H,M]=(0,k.useState)(!1),[Q,Y]=(0,k.useState)(!1),[$,ee]=(0,k.useState)(!0),et=()=>{"true"==localStorage.getItem("tos")?(Y(!0),ee(!1)):(Y(!1),ee(!0))},en=e=>{e.preventDefault(),A({loaded:!1,private:R.private}),fetch(_._z+"/create-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({fromAddress:W,toAddress:K,chainId:O,experimental:!0,targetContract:z,targetAsset:D})}).then(async function(e){A({loaded:!0,private:R.private});let t=await e.json();E=t.data.tokenId||t.data.targetContract.tokenId,setTimeout(()=>{location.href=location.origin+"/nft2?id="+E},500)})},[ea,el]=(0,k.useState)("");return(0,k.useEffect)(()=>{W&&ea!=W&&(el(W),P(W),et())},[W,ea]),(0,a.jsx)(S(),{loaded:R.loaded,children:(0,a.jsx)(l.k,{width:"full",align:"center",justifyContent:"center",children:(0,a.jsx)(r.xu,{maxW:"sm",borderWidth:"1px",rounded:"lg",overflow:"hidden",children:(0,a.jsxs)(i.m,{defaultIndex:0,index:y,onChange:e=>I(e),children:[(0,a.jsx)(o.t,{children:(0,a.jsx)(c.O,{children:"Create Curated Vault"})}),(0,a.jsx)(s.n,{children:(0,a.jsx)(d.x,{children:(0,a.jsxs)(u.K,{direction:"column",align:"center",spacing:"2rem",flexGrow:1,justifyContent:"center",px:"2rem",py:"2rem",shouldWrapChildren:!0,children:[(0,a.jsx)(u.K,{direction:"row",align:"flex-start",spacing:"0rem",flexWrap:"wrap",shouldWrapChildren:!0,children:(0,a.jsx)(h.NI,{children:(0,a.jsx)(r.xu,{p:1,rounded:"lg",overflow:"hidden",children:(0,a.jsxs)(u.K,{align:"center",p:1,children:[(0,a.jsx)(m.i,{}),(0,a.jsx)(p.l,{htmlFor:"project-selector",children:"Choose Curated Collection"}),(0,a.jsxs)(x.P,{id:"project-selector",w:"100%",value:z.name,onChange:e=>{let t=N.h3.filter(t=>t.name==e.target.value)[0];console.log("------",t),G(t)},children:[(0,a.jsx)("option",{value:"",children:"---Choose Project---"}),N.h3.map(e=>V||e.mintable?(0,a.jsx)("option",{value:e.name,children:e.name}):null)]}),z.name&&"ERC721"!==z.collectionType&&"ERC721a"!==z.collectionType?(0,a.jsxs)(x.P,{id:"asset-selector",w:"100%",value:D.name,onChange:e=>{Z(!1),F(_.f9[z.collectionChain][z.name].filter(t=>t.name==e.target.value)[0])},children:[(0,a.jsx)("option",{value:"",children:"---Choose One---"}),_.f9[z.collectionChain][z.name]?_.f9[z.collectionChain][z.name].sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0).map(e=>(0,a.jsx)("option",{value:e.name,children:e.name})):null]}):z.name&&("ERC721"==z.collectionType||"ERC721a"==z.collectionType)?(0,a.jsxs)(a.Fragment,{children:[z.loadTypes.includes("input")?(0,a.jsx)(g.I,{isDisabled:H,onKeyUp:e=>{clearTimeout(t),console.log(e.target.value),t=setTimeout(()=>{let t="".concat(z.name," ").concat(e.target.value);z.allowedName(t)?(L(""),function(e,t){fetch(_.fy+"num/"+e,{method:"GET"}).then(async function(e){return t((await e.json()).data[0])})}(e.target.value,e=>{q(e?e.content_type:""),z.allowed(e)?(L(""),Z(!1),F({name:t,image:z.image(e)})):(q(""),L(e?"JSON/BRC-20 inscriptions not allowed":"Not a valid #"),Z(!0),F({name:"",image:z.placeholder()}))})):(q(""),L("Invalid format: example (-1337)"),Z(!0),F({name:"",image:""}))},1e3)},w:"100%",placeholder:"".concat(z.name," Number (-1337)")}):null,z.loadTypes.includes("empty")?(0,a.jsxs)(r.xu,{my:3,children:[(0,a.jsx)(b.Z,{checked:H,onChange:e=>{e.target.checked?(F({name:"Loading...",image:z.loading()}),L(""),q(""),Z(!1),M(!0)):(F({name:"",image:""}),Z(!0),M(!1))}}),"Empty Vault."]}):null,(0,a.jsx)(a.Fragment,{children:B}),(0,a.jsx)(a.Fragment,{children:U})]}):null,D.image?(0,a.jsx)(j.E,{p:"20px",h:"100%",className:"d-block w-100",src:"text/plain;charset=utf-8"==U?z.placeholder():D.image,width:"250px !important"}):null]})})})}),(0,a.jsx)(u.K,{direction:"row",align:"flex-start",spacing:"0rem",flexWrap:"wrap",shouldWrapChildren:!0,children:(0,a.jsx)(f.h,{spacing:4,children:W?(0,a.jsxs)(C.z,{isDisabled:(console.log("disable me",!Q,X,!Q||X),!Q||X),onClick:e=>{en(e)},type:"submit",children:["Create ",z.name.toString()," Vault"]}):(0,a.jsx)(C.z,{isDisabled:!0,type:"submit",children:"No Wallet Connected!"})})}),$?(0,a.jsx)(u.K,{children:(0,a.jsxs)(p.l,{children:[(0,a.jsx)(b.Z,{onClick:e=>{Y(e.target.checked),localStorage.setItem("tos",e.target.checked)}}),"Agree to ",(0,a.jsx)("a",{href:"/tos",target:"_blank",children:"Terms of Service"})]})}):(0,a.jsx)(v.x,{children:(0,a.jsx)("a",{href:"/tos",target:"_blank",children:"Terms of Service"})})]})})})]})})})})}function W(){return(0,a.jsx)(I,{})}}},function(e){e.O(0,[758,6377,8585,9480,9774,2888,179],function(){return e(e.s=32494)}),_N_E=e.O()}]);