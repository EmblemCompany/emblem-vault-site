(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7366],{32494:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/createcurated",function(){return n(85367)}])},85367:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var a=n(85893),l=n(93717),r=n(57747),i=n(36752),o=n(77458),s=n(35232),c=n(72047),d=n(37365),u=n(51343),h=n(18020),m=n(49289),p=n(66529),x=n(41731),g=n(33090),j=n(6089),f=n(78590),C=n(93108),v=n(14e3),w=n(11163),y=n(70758),S=n.n(y),T=n(77044),k=n(67294),_=n(62892),b=n(14990);let N=null;function E(e){let t;let{query:n}=(0,w.useRouter)(),[y,E]=(0,k.useState)(0),{account:I,chainId:W}=(0,T.Ge)(),[O,K]=(0,k.useState)(I||""),[P,R]=(0,k.useState)({loaded:!0,private:!1}),[V,A]=(0,k.useState)({name:"",image:""}),[D,F]=(0,k.useState)({name:"",chain:"",image:e=>"",allowed:e=>!1,allowedName:e=>!1,placeholder:()=>"",loading:()=>"",loadTypes:[]}),[z,G]=(0,k.useState)("t"==n.curated),[J,X]=(0,k.useState)(!0),[Y,Z]=(0,k.useState)(""),[B,L]=(0,k.useState)(""),[U,q]=(0,k.useState)(!1),[H,M]=(0,k.useState)(!1),[Q,$]=(0,k.useState)(!0),ee=()=>{"true"==localStorage.getItem("tos")?(M(!0),$(!1)):(M(!1),$(!0))},et=e=>{e.preventDefault(),R({loaded:!1,private:P.private}),fetch(_._z+"/create-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({fromAddress:I,toAddress:O,chainId:W,experimental:!0,targetContract:D,targetAsset:V})}).then(async function(e){R({loaded:!0,private:P.private});let t=await e.json();N=t.data.tokenId||t.data.targetContract.tokenId,setTimeout(()=>{location.href=location.origin+"/nft2?id="+N},500)})},[en,ea]=(0,k.useState)("");return(0,k.useEffect)(()=>{I&&en!=I&&(ea(I),K(I),ee())},[I,en]),(0,a.jsx)(S(),{loaded:P.loaded,children:(0,a.jsx)(l.k,{width:"full",align:"center",justifyContent:"center",children:(0,a.jsx)(r.xu,{maxW:"sm",borderWidth:"1px",rounded:"lg",overflow:"hidden",children:(0,a.jsxs)(i.m,{defaultIndex:0,index:y,onChange:e=>E(e),children:[(0,a.jsx)(o.t,{children:(0,a.jsx)(s.O,{children:"Create Curated Vault"})}),(0,a.jsx)(c.n,{children:(0,a.jsx)(d.x,{children:(0,a.jsxs)(u.K,{direction:"column",align:"center",spacing:"2rem",flexGrow:1,justifyContent:"center",px:"2rem",py:"2rem",shouldWrapChildren:!0,children:[(0,a.jsx)(u.K,{direction:"row",align:"flex-start",spacing:"0rem",flexWrap:"wrap",shouldWrapChildren:!0,children:(0,a.jsx)(h.NI,{children:(0,a.jsx)(r.xu,{p:1,rounded:"lg",overflow:"hidden",children:(0,a.jsxs)(u.K,{align:"center",p:1,children:[(0,a.jsx)(m.i,{}),(0,a.jsx)(p.l,{htmlFor:"project-selector",children:"Choose Curated Collection"}),(0,a.jsxs)(x.P,{id:"project-selector",w:"100%",value:D.name,onChange:e=>{let t=_.VY.filter(t=>t.name==e.target.value)[0];console.log("------",t),F(t)},children:[(0,a.jsx)("option",{value:"",children:"---Choose Project---"}),_.VY.map(e=>z||e.mintable?(0,a.jsx)("option",{value:e.name,children:e.name}):null)]}),D.name&&"ERC721"!==D.collectionType&&"ERC721a"!==D.collectionType?(0,a.jsxs)(x.P,{id:"asset-selector",w:"100%",value:V.name,onChange:e=>{X(!1),A(_.f9[D.chain][D.name].filter(t=>t.name==e.target.value)[0])},children:[(0,a.jsx)("option",{value:"",children:"---Choose One---"}),_.f9[D.chain][D.name]?_.f9[D.chain][D.name].map(e=>(0,a.jsx)("option",{value:e.name,children:e.name})):null]}):D.name&&("ERC721"==D.collectionType||"ERC721a"==D.collectionType)?(0,a.jsxs)(a.Fragment,{children:[D.loadTypes.includes("input")?(0,a.jsx)(g.I,{isDisabled:U,onKeyUp:e=>{clearTimeout(t),console.log(e.target.value),t=setTimeout(()=>{let t="".concat(D.name," ").concat(e.target.value);D.allowedName(t)?(Z(""),function(e,t){fetch(_.fy+"num/"+e,{method:"GET"}).then(async function(e){return t((await e.json()).data[0])})}(e.target.value,e=>{L(e?e.content_type:""),D.allowed(e)?(Z(""),X(!1),A({name:t,image:D.image(e)})):(L(""),Z(e?"JSON/BRC-20 inscriptions not allowed":"Not a valid #"),X(!0),A({name:"",image:D.placeholder()}))})):(L(""),Z("Invalid format: example (-1337)"),X(!0),A({name:"",image:""}))},1e3)},w:"100%",placeholder:"".concat(D.name," Number (-1337)")}):null,D.loadTypes.includes("empty")?(0,a.jsxs)(r.xu,{my:3,children:[(0,a.jsx)(b.Z,{checked:U,onChange:e=>{e.target.checked?(A({name:"Loading...",image:D.loading()}),Z(""),L(""),X(!1),q(!0)):(A({name:"",image:""}),X(!0),q(!1))}}),"Empty Vault."]}):null,(0,a.jsx)(a.Fragment,{children:Y}),(0,a.jsx)(a.Fragment,{children:B})]}):null,V.image?(0,a.jsx)(j.E,{p:"20px",h:"100%",className:"d-block w-100",src:"text/plain;charset=utf-8"==B?D.placeholder():V.image,width:"250px"}):null]})})})}),(0,a.jsx)(u.K,{direction:"row",align:"flex-start",spacing:"0rem",flexWrap:"wrap",shouldWrapChildren:!0,children:(0,a.jsx)(f.h,{spacing:4,children:I?(0,a.jsxs)(C.z,{isDisabled:(console.log("disable me",!H,J,!H||J),!H||J),onClick:e=>{et(e)},type:"submit",children:["Create ",D.name.toString()," Vault"]}):(0,a.jsx)(C.z,{isDisabled:!0,type:"submit",children:"No Wallet Connected!"})})}),Q?(0,a.jsx)(u.K,{children:(0,a.jsxs)(p.l,{children:[(0,a.jsx)(b.Z,{onClick:e=>{M(e.target.checked),localStorage.setItem("tos",e.target.checked)}}),"Agree to ",(0,a.jsx)("a",{href:"/tos",target:"_blank",children:"Terms of Service"})]})}):(0,a.jsx)(v.x,{children:(0,a.jsx)("a",{href:"/tos",target:"_blank",children:"Terms of Service"})})]})})})]})})})})}function I(){return(0,a.jsx)(E,{})}}},function(e){e.O(0,[758,6377,8585,9480,9774,2888,179],function(){return e(e.s=32494)}),_N_E=e.O()}]);