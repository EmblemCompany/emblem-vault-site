(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[830],{49285:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/curatedadmin",function(){return n(71377)}])},44302:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var a=n(85893),s=n(67294),l=n(83230),i=n(6089);class r extends s.Component{render(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"sketchfab-embed-wrapper",children:(0,a.jsx)("iframe",{width:"100%",src:this.props.url,frameBorder:"0",allow:"autoplay; fullscreen; vr",allowFullScreen:!0})})})}}class c extends s.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("iframe",{width:"95%",frameBorder:"0",src:e,allowFullScreen:!0})})}}class o extends s.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("iframe",{height:"753px",src:e,seamless:!0})})}}class d extends s.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("iframe",{width:"95%",height:"100%",scrolling:"no",frameBorder:"no",allow:"autoplay",src:e})})}}class h extends s.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("iframe",{width:"95%",height:"256px",scrolling:"no",frameBorder:"no",allow:"autoplay",src:e})})}}class u extends s.Component{render(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("iframe",{src:this.props.url,frameBorder:"0",scrolling:"no",width:"580",height:"326",allowFullScreen:!0})})}}class p extends s.Component{render(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("iframe",{src:this.props.url,width:"800",height:"600",allowFullScreen:!0})})}}class x extends s.Component{render(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("iframe",{width:"230",height:"285",src:this.props.url,frameBorder:"0",scrolling:"no",allowTransparency:!0})})}}class m extends s.Component{render(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("iframe",{src:this.props.url,width:"100%",height:"400",allow:"encrypted-media"})})}}class j extends s.Component{render(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("iframe",{frameBorder:"0",scrolling:"no",src:this.props.url,height:"400",allow:"encrypted-media",sandbox:"allow-encrypted-media"})})}}class g extends s.Component{render(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("iframe",{className:"ytembed",src:this.props.url.split(" ")[0].trim().replace('"',"").replace("/watch?v=","/embed/"),width:"100%",height:"315",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}}class y extends s.Component{render(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("iframe",{src:this.props.url,width:"100%",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}}class f extends s.Component{async componentDidMount(){try{let e=await l.SZ.contentTypeReport(this.props.url);this.setState({contentType:e,loading:!1})}catch(e){console.error("Error fetching content type:",e),this.setState({loading:!1})}}render(){let e=this.props.url||"",{contentType:t,loading:n}=this.state,s=e.replace("ipfs://","").split("?")[0].split("&")[0],f=!!e.toLocaleLowerCase().includes("stamp:")&&function(e){let t=atob(e),n=t.slice(0,4).split("").map(e=>e.charCodeAt(0).toString(16).padStart(2,"0")).join(""),a="unknown";switch(n.toUpperCase()){case"89504E47":a="image/png";break;case"FFD8FFDB":case"FFD8FFE0":case"FFD8FFE1":a="image/jpeg";break;case"47494638":a="image/gif";break;case"25504446":a="application/pdf";break;case"66747970":a="video/mp4"}return"unknown"===a&&(a=t.startsWith("<svg")||t.startsWith("<?xml")?"image/svg+xml":t.startsWith("<!DOCTYPE html>")||t.startsWith("<html")?"text/html":"text/plain"),"data:".concat(a,";base64,").concat(e)}(e.split(":")[1]);return e.includes("ipfs://")&&(e="https://gateway.ipfs.io/ipfs/"+s,C(s)),e.includes("image-scale")&&(e+="&size=400"),(0,a.jsx)(a.Fragment,{children:t&&"video/mp4"==t.contentType?(0,a.jsx)("video",{src:e,controls:!0}):e.includes("sketchfab.com/")?(0,a.jsx)(r,{url:e}):e.includes("shadertoy.com/")?(0,a.jsx)(c,{url:e}):e.includes("bandcamp.com/")?(0,a.jsx)(o,{url:e}):e.includes("soundcloud.com/")?(0,a.jsx)(d,{url:e}):e.includes("clyp.it/")?(0,a.jsx)(h,{url:e}):e.includes("sketchup.com/")?(0,a.jsx)(u,{url:e}):e.includes("clara.io/")?(0,a.jsx)(p,{url:e}):e.includes("myminifactory.com/")?(0,a.jsx)(x,{url:e}):e.includes("audius.co/")?(0,a.jsx)(m,{url:e}):e.includes("youtube.com")?(0,a.jsx)(g,{url:e}):e.includes("vimeo.com")?(0,a.jsx)(y,{url:e}):e.includes("ipfs.io")?(0,a.jsx)(i.E,{p:"20px",h:"100%",className:this.props.className+" "+s||"d-block w-100",src:e,width:"250px",maxWidth:"250px"}):e.includes("image-scaler.vercel")?(0,a.jsx)(i.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:e,width:"250px",height:"300px"}):e.includes("/dynamic/")||e.includes("https://s3.amazonaws.com/")||e.includes("googleusercontent.com")||e.includes("ipfs.io")||e.includes("framed/")||e.includes(".png")||e.includes(".jpg")||e.includes(".jpeg")||e.includes(".gif")||e.includes(".svg")||e.includes("data:image")?(0,a.jsx)(i.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:(0,l.yo)(e)?e:"https://raw.githubusercontent.com/EmblemCompany/Coval-Site/master/public/coval-logo.png",width:"250px",maxWidth:"250px"}):f?(0,a.jsx)(i.E,{h:"100%",className:this.props.className||"d-block w-100",src:f,width:"250px",height:"300px"}):t&&t.valid?(0,a.jsx)(i.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:e,width:"250px",height:"300px"}):(0,a.jsx)(j,{url:e})})}constructor(...e){super(...e),this.state={contentType:null,loading:!0}}}let C=async function(e){let t=await fetch("https://gateway.ipfs.io/ipfs/"+e,{method:"GET"}),n=await t.text();n.includes("data:image")&&(document.querySelector("img."+e).src=n,console.log(n))};var v=f},71377:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ep}});var a=n(85893),s=n(93717),l=n(33090),i=n(93108),r=n(57747),c=n(70758),o=n.n(c),d=n(11163),h=n(67294),u=n(61256),p=n(48783),x=n(71293),m=n(18020),j=n(66529),g=n(41731),y=n(89645),f=n(57169),C=n(34292),v=n(36948),b=n(55227),w=n(16554),k=n(27440),N=n(33179),I=n(65548),[S,E]=(0,b.k)({name:"TagStylesContext",errorMessage:"useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Tag />\" "}),T=(0,w.G)((e,t)=>{let n=(0,k.jC)("Tag",e),s=(0,N.Lr)(e),l={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...n.container};return(0,a.jsx)(S,{value:n,children:(0,a.jsx)(I.m.span,{ref:t,...s,__css:l})})});T.displayName="Tag";var _=(0,w.G)((e,t)=>{let n=E();return(0,a.jsx)(I.m.span,{ref:t,noOfLines:1,...e,__css:n.label})});_.displayName="TagLabel",(0,w.G)((e,t)=>(0,a.jsx)(v.J,{ref:t,verticalAlign:"top",marginEnd:"0.5rem",...e})).displayName="TagLeftIcon",(0,w.G)((e,t)=>(0,a.jsx)(v.J,{ref:t,verticalAlign:"top",marginStart:"0.5rem",...e})).displayName="TagRightIcon";var z=e=>(0,a.jsx)(v.J,{verticalAlign:"inherit",viewBox:"0 0 512 512",...e,children:(0,a.jsx)("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});z.displayName="TagCloseIcon";var L=(0,w.G)((e,t)=>{let{isDisabled:n,children:s,...l}=e,i={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...E().closeButton};return(0,a.jsx)(I.m.button,{ref:t,"aria-label":"close",...l,type:"button",disabled:n,__css:i,children:s||(0,a.jsx)(z,{})})});L.displayName="TagCloseButton";var R=n(37900),F=n(6089);function B(e){let{onAdd:t,options:n=[],items:s=[],type:c="text"}=e,[o,d]=(0,h.useState)(""),[u,p]=(0,h.useState)([]),x=()=>{o.trim()&&t(o),d("")};return(0,h.useEffect)(()=>{if(n&&n.length>0){let e=n.filter(e=>!s.includes(e));p(o?e.filter(e=>e.toLowerCase().includes(o.toLowerCase())):e)}},[o,n,s]),(0,a.jsx)(r.xu,{display:"flex",alignItems:"center",children:n&&n.length>0&&u.length>0?(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsx)(g.P,{value:o,onChange:e=>d(e.target.value),placeholder:"Select or type...",children:u.map((e,t)=>(0,a.jsx)("option",{value:e,children:e},t))}),(0,a.jsx)(i.z,{marginLeft:"5px",onClick:x,children:"+"})]}):n&&n.length>0&&0===u.length?null:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(l.I,{type:"text",value:o,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(x(),e.preventDefault())},placeholder:"Type something..."}),(0,a.jsx)(i.z,{marginLeft:"5px",onClick:x,children:"+"})]})})}var O=function(e){let{value:t,onChange:n,name:s,options:l=[],type:i="text"}=e,[r,c]=(0,h.useState)(t||[]);(0,h.useEffect)(()=>{c(t)},[t]);let o=e=>{let t=r.filter((t,n)=>n!==e);c(t),d(t)},d=e=>{n&&n({target:{name:s,value:e}})};return(0,a.jsx)("form",{children:(0,a.jsx)(p.g,{spacing:4,children:(0,a.jsxs)(C.U,{spacing:4,children:[(0,a.jsx)(B,{onAdd:e=>{let t=r?[...r,e]:[e];c(t),d(t)},options:l,items:r}),"text"==i&&r?r.map((e,t)=>(0,a.jsxs)(T,{borderRadius:"full",variant:"solid",colorScheme:"green",children:[(0,a.jsx)(_,{children:e}),(0,a.jsx)(L,{onClick:()=>o(t)})]},t)):"image"==i&&r?r.map((e,t)=>(0,a.jsx)(R.u,{label:"Delete",fontSize:"md",children:(0,a.jsx)(F.E,{width:"85px",src:e,alt:e,onClick:()=>o(t),style:{cursor:"pointer"}},t)})):null]})})})},A=function(e){let{initialFormData:t,assetChains:n,deployments:s,callback:c=null,isNew:o=!1}=e,[d,C]=(0,h.useState)({name:"",contracts:{},nativeAssets:[],mintable:!1,autoLoad:!1,addressChain:"",collectionType:"",loadTypes:[],description:"",purchaseMethod:"",showBalance:!1,balanceUrl:"",price:"",collectionChain:"",balanceQty:"",imageHandler:"",loadingImages:[],placeholderImages:[],launch_ready:!1,marketplace_ready:!1,...t}),v=e=>{let{name:t,value:n}=e.target;C({...d,[t]:n})};return(0,a.jsxs)(p.g,{spacing:4,padding:4,children:[(0,a.jsxs)(r.xu,{display:"flex",flexDirection:"row",justifyContent:"flex-start",children:[(0,a.jsx)(r.xu,{children:(0,a.jsx)("img",{src:d.loadingImages[0],alt:d.name,style:{width:"25%"}})}),(0,a.jsx)(r.xu,{marginLeft:"10px",children:(0,a.jsx)(x.x,{fontSize:"2xl",children:d.name})})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),fetch("".concat(u.N0,"/v3/upsertCuratedCollection"),{method:"POST",headers:{"Content-Type":"application/json","x-api-key":localStorage.getItem("apiKey")||""},body:JSON.stringify(d)}).then(e=>e.json()).then(e=>{console.log(e),location.reload()}).catch(e=>{console.error("Error:",e)})},style:{width:"100%"},children:[(0,a.jsxs)(m.NI,{id:"contracts",style:{display:"flex",flexDirection:"row"},children:[(0,a.jsx)(j.l,{children:"Contracts"}),(0,a.jsx)(l.I,{type:"text",name:"contracts",value:JSON.stringify(d.contracts),onChange:e=>C({...d,contracts:JSON.parse(e.target.value)}),style:{width:"50%"}}),o&&s&&(0,a.jsx)(g.P,{ml:5,placeholder:"Select Contract",onChange:e=>C({...d,contracts:{1:e.target.value}}),children:s.map((e,t)=>e.name.includes("upgradableERC")&&(0,a.jsx)("option",{value:e.address,children:e.name},t))})]}),(0,a.jsxs)(m.NI,{id:"name",children:[(0,a.jsx)(j.l,{children:"Name"}),(0,a.jsx)(l.I,{type:"text",name:"name",value:d.name,onChange:v,disabled:!o})]}),(0,a.jsxs)(m.NI,{id:"nativeAssets",children:[(0,a.jsx)(j.l,{children:"Native Assets"}),(0,a.jsx)(O,{name:"nativeAssets",value:d.nativeAssets,onChange:v})]}),(0,a.jsxs)(m.NI,{id:"mintable",children:[(0,a.jsx)(j.l,{children:"Mintable"}),(0,a.jsx)(y.X,{name:"mintable",isChecked:d.mintable,onChange:e=>C({...d,mintable:e.target.checked})})]}),(0,a.jsxs)(m.NI,{id:"autoLoad",children:[(0,a.jsx)(j.l,{children:"Auto Load"}),(0,a.jsx)(y.X,{name:"autoLoad",isChecked:d.autoLoad,onChange:e=>C({...d,autoLoad:e.target.checked})})]}),(0,a.jsxs)(m.NI,{id:"addressChain",children:[(0,a.jsx)(j.l,{children:"Address Chain"}),(0,a.jsx)(g.P,{name:"addressChain",value:d.addressChain,onChange:v,children:n.map((e,t)=>(0,a.jsx)("option",{value:e,children:e},t))})]}),(0,a.jsxs)(m.NI,{id:"collectionType",children:[(0,a.jsx)(j.l,{children:"Collection Type"}),(0,a.jsx)(g.P,{name:"collectionType",value:d.collectionType,onChange:v,children:["ERC1155","ERC721","ERC721a"].map((e,t)=>(0,a.jsx)("option",{value:e,children:e},t))})]}),(0,a.jsxs)(m.NI,{id:"loadTypes",children:[(0,a.jsx)(j.l,{children:"Load Types"}),(0,a.jsx)(O,{name:"loadTypes",value:d.loadTypes,onChange:v,options:["empty","select","input"]})]}),(0,a.jsxs)(m.NI,{id:"description",children:[(0,a.jsx)(j.l,{children:"Description"}),(0,a.jsx)(f.g,{name:"description",value:d.description,onChange:v})]}),(0,a.jsxs)(m.NI,{id:"purchaseMethod",children:[(0,a.jsx)(j.l,{children:"Purchase Method"}),(0,a.jsx)(l.I,{type:"text",name:"purchaseMethod",value:d.purchaseMethod,onChange:v})]}),(0,a.jsxs)(m.NI,{id:"showBalance",children:[(0,a.jsx)(j.l,{children:"Show Balance"}),(0,a.jsx)(y.X,{name:"showBalance",isChecked:d.showBalance,onChange:e=>C({...d,showBalance:e.target.checked})})]}),(0,a.jsxs)(m.NI,{id:"balanceUrl",children:[(0,a.jsx)(j.l,{children:"Balance URL"}),(0,a.jsx)(l.I,{type:"text",name:"balanceUrl",value:d.balanceUrl,onChange:v})]}),(0,a.jsxs)(m.NI,{id:"price",children:[(0,a.jsx)(j.l,{children:"Price"}),(0,a.jsx)(l.I,{type:"text",name:"price",value:d.price,onChange:v,disabled:!0})]}),(0,a.jsxs)(m.NI,{id:"collectionChain",children:[(0,a.jsx)(j.l,{children:"Collection Chain"}),(0,a.jsx)(l.I,{type:"text",name:"collectionChain",value:d.collectionChain,onChange:v})]}),(0,a.jsxs)(m.NI,{id:"balanceQty",children:[(0,a.jsx)(j.l,{children:"Balance Quantity"}),(0,a.jsx)(l.I,{type:"text",name:"balanceQty",value:d.balanceQty,onChange:v})]}),(0,a.jsxs)(m.NI,{id:"imageHandler",children:[(0,a.jsx)(j.l,{children:"Image Handler"}),(0,a.jsx)(l.I,{type:"text",name:"imageHandler",value:d.imageHandler,onChange:v})]}),(0,a.jsxs)(m.NI,{id:"loadingImages",children:[(0,a.jsx)(j.l,{children:"Loading Images"}),(0,a.jsx)(O,{name:"loadingImages",value:d.loadingImages,onChange:v,type:"image"})]}),(0,a.jsxs)(m.NI,{id:"placeholderImages",children:[(0,a.jsx)(j.l,{children:"Placeholder Images"}),(0,a.jsx)(O,{name:"placeholderImages",value:d.placeholderImages,onChange:v,type:"image"})]}),(0,a.jsxs)(m.NI,{id:"launch_ready",children:[(0,a.jsx)(j.l,{children:"Launch Ready? (Enabling will cause the collection to be included in stats)"}),(0,a.jsx)(y.X,{name:"launch_ready",isChecked:d.launch_ready,onChange:e=>C({...d,launch_ready:e.target.checked})})]}),(0,a.jsxs)(m.NI,{id:"marketplace_ready",children:[(0,a.jsx)(j.l,{children:"Marketplace Ready? (Enabling will cause the collection to be included in the marketplace, after collection set ID is updated)"}),(0,a.jsx)(y.X,{name:"marketplace_ready",isChecked:d.marketplace_ready,onChange:e=>C({...d,marketplace_ready:e.target.checked})})]}),(0,a.jsx)(i.z,{type:"submit",children:"Submit"}),!o&&(0,a.jsx)(i.z,{ml:5,type:"button",onClick:()=>{fetch("".concat(u.N0,"/v3/deleteCuratedCollection"),{method:"DELETE",headers:{"Content-Type":"application/json","x-api-key":localStorage.getItem("apiKey")||""},body:JSON.stringify(d)}).then(e=>e.json()).then(e=>{console.log(e)}).catch(e=>{console.error("Error:",e)})},children:"Delete"}),c&&(0,a.jsx)(i.z,{ml:5,onClick:c,children:"Cancel"})]})]})},D=n(52094),M=n(25432),P=n(51526),G=n(17745),H=e=>null!=e&&parseInt(e.toString(),10)>0,J={exit:{height:{duration:.2,ease:D.Lj.ease},opacity:{duration:.3,ease:D.Lj.ease}},enter:{height:{duration:.3,ease:D.Lj.ease},opacity:{duration:.4,ease:D.Lj.ease}}},q={exit:({animateOpacity:e,startingHeight:t,transition:n,transitionEnd:a,delay:s})=>{var l;return{...e&&{opacity:H(t)?1:0},height:t,transitionEnd:null==a?void 0:a.exit,transition:null!=(l=null==n?void 0:n.exit)?l:D.p$.exit(J.exit,s)}},enter:({animateOpacity:e,endingHeight:t,transition:n,transitionEnd:a,delay:s})=>{var l;return{...e&&{opacity:1},height:t,transitionEnd:null==a?void 0:a.enter,transition:null!=(l=null==n?void 0:n.enter)?l:D.p$.enter(J.enter,s)}}},K=(0,h.forwardRef)((e,t)=>{let{in:n,unmountOnExit:s,animateOpacity:l=!0,startingHeight:i=0,endingHeight:r="auto",style:c,className:o,transition:d,transitionEnd:u,...p}=e,[x,m]=(0,h.useState)(!1);(0,h.useEffect)(()=>{let e=setTimeout(()=>{m(!0)});return()=>clearTimeout(e)},[]),(0,M.ZK)({condition:Number(i)>0&&!!s,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});let j=parseFloat(i.toString())>0,g={startingHeight:i,endingHeight:r,animateOpacity:l,transition:x?d:{enter:{duration:0}},transitionEnd:{enter:null==u?void 0:u.enter,exit:s?null==u?void 0:u.exit:{...null==u?void 0:u.exit,display:j?"block":"none"}}},y=!s||n,f=n||s?"enter":"exit";return(0,a.jsx)(P.M,{initial:!1,custom:g,children:y&&(0,a.jsx)(G.E.div,{ref:t,...p,className:(0,M.cx)("chakra-collapse",o),style:{overflow:"hidden",display:"block",...c},custom:g,variants:q,initial:!!s&&"exit",animate:f,exit:"exit"})})});K.displayName="Collapse";var U=n(36752),W=n(77458),V=n(35232),Y=n(72047),Q=n(37365),X=n(92495),Z=n(87052),[$,ee]=(0,b.k)({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "}),et=(0,w.G)(function(e,t){let n=(0,k.jC)("Input",e),{children:s,className:l,...i}=(0,N.Lr)(e),r=(0,M.cx)("chakra-input__group",l),c={},o=(0,X.W)(s),d=n.field;o.forEach(e=>{var t,a;n&&(d&&"InputLeftElement"===e.type.id&&(c.paddingStart=null!=(t=d.height)?t:d.h),d&&"InputRightElement"===e.type.id&&(c.paddingEnd=null!=(a=d.height)?a:d.h),"InputRightAddon"===e.type.id&&(c.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(c.borderStartRadius=0))});let u=o.map(t=>{var n,a;let s=(0,Z.o)({size:(null==(n=t.props)?void 0:n.size)||e.size,variant:(null==(a=t.props)?void 0:a.variant)||e.variant});return"Input"!==t.type.id?(0,h.cloneElement)(t,s):(0,h.cloneElement)(t,Object.assign(s,c,t.props))});return(0,a.jsx)(I.m.div,{className:r,ref:t,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...n.group},"data-group":!0,...i,children:(0,a.jsx)($,{value:n,children:u})})});et.displayName="InputGroup";var en=n(77044),ea=n(77294),es=function(e){let{targetContract:t}=e,{account:n,chainId:r,library:c}=(0,en.Ge)(),[o,d]=(0,h.useState)(null),p=e=>{let t={method:"POST",headers:{"x-api-key":localStorage.getItem("apiKey")||"","Content-Type":"application/json"},body:JSON.stringify({tokenId:e})};fetch("".concat(u._z,"/refreshBalanceForTokenId"),t).then(e=>e.json()).then(e=>{d(e)}).catch(e=>{console.error(e)})},x=e=>{let n={method:"GET",headers:{"x-api-key":localStorage.getItem("apiKey")||"","Content-Type":"application/json"}};fetch("".concat(u._z,"/refreshMarketplaceMetadata/").concat(t.contracts[r],"/").concat(e),n).then(e=>e.json()).then(e=>{d(e)}).catch(e=>{d(e)})},g=e=>{let n={method:"GET",headers:{"x-api-key":localStorage.getItem("apiKey")||"","Content-Type":"application/json"}};fetch("".concat(u.N0,"/v3/allowed/").concat(t.contracts["1"],"/").concat(e),n).then(e=>e.json()).then(e=>{d(e)}).catch(e=>{d(e)})},y=e=>{let n={method:"POST",headers:{"x-api-key":localStorage.getItem("apiKey")||"","Content-Type":"application/json"},body:JSON.stringify({tokenIds:[e]})};fetch("".concat(u.N0,"/v3/cache/").concat(t.contracts[e],"/refresh"),n).then(e=>e.json()).then(e=>{d(e)}).catch(e=>{d(e)})},C=async()=>{let e=I(),t=await e.byPassable();console.log("byPassable",t),t?alert("Already Bypassable"):(await e.toggleBypassability(),console.log("setting byPassable"))},v=async()=>{let e=I(),n="ERC721a"==t.collectionType||"ERC721"==t.collectionType?"0x40c10f19":"0x8bcef78e";await e.byPassableFunction(u.q7.vaultHandlerV8[r],n)?alert("Handler Can Already Mint"):await e.addBypassRule(u.q7.vaultHandlerV8[r],n,0)},b=async()=>{let e=I(),n="ERC721a"==t.collectionType||"ERC721"==t.collectionType?"0x4029a3ce":"0x8bcef78e";await e.byPassableFunction(u.q7.vaultHandlerV8[r],n)?alert("Handler Can Already Mint"):await e.addBypassRule(u.q7.vaultHandlerV8[r],n,0)},w=async()=>{let e=I(),t="https://v2.emblemvault.io/v3/meta/".concat(e.address,"/");await e.setBaseURI(t)},k=async()=>{let e=I(),t=await e.totalSupply();t>0?alert("Already Minting: ".concat(t)):await e.mint(n,0)},N=async()=>{let e=I(),n="ERC721a"==t.collectionType||"ERC721"==t.collectionType?"0x42966c68":"0xf5298aca";await e.byPassableFunction(u.q7.vaultHandlerV8[r],n)?alert("Handler Can Already Burn"):await e.addBypassRule(u.q7.vaultHandlerV8[r],n,0)},I=()=>new ea.CH(t.contracts[r],"ERC1155"==t.collectionType?u.q7.erc1155Abi:"ERC721a"==t.collectionType?u.q7.erc721aAbi:u.q7.erc721Abi,c.getSigner(n).connectUnchecked());return(0,a.jsxs)(s.k,{direction:"row",justify:"space-between",children:[(0,a.jsxs)(m.NI,{id:"tokenId",width:"50%",margin:"15px",children:[(0,a.jsx)(j.l,{children:"Token ID"}),(0,a.jsx)(et,{children:(0,a.jsx)(l.I,{type:"text",name:"".concat(t.name,"-tokenId")})}),(0,a.jsx)(i.z,{h:"1.75rem",size:"sm",m:"5px",children:"Get Balance"}),(0,a.jsx)(i.z,{h:"1.75rem",size:"sm",m:"5px",children:"Get Custom Balance"}),(0,a.jsx)(i.z,{h:"1.75rem",size:"sm",m:"5px",onClick:()=>{let e=document.getElementsByName("".concat(t.name,"-tokenId"))[0];e&&p(e.value)},children:"Get Ownership"}),(0,a.jsx)(i.z,{h:"1.75rem",size:"sm",m:"5px",onClick:()=>{let e=document.getElementsByName("".concat(t.name,"-tokenId"))[0];e&&x(e.value)},children:"Refresh Marketplace Metadata"}),(0,a.jsx)(i.z,{onClick:()=>{let e=document.getElementsByName("".concat(t.name,"-tokenId"))[0];e&&g(e.value)},h:"1.75rem",size:"sm",m:"5px",children:"Can Mint?"}),(0,a.jsx)(i.z,{onClick:()=>{let e=document.getElementsByName("".concat(t.name,"-tokenId"))[0];e&&y(e.value)},h:"1.75rem",size:"sm",m:"5px",children:"Clear Cache"}),(0,a.jsx)("hr",{}),"Contract",(0,a.jsx)("div",{}),(0,a.jsx)(i.z,{h:"1.75rem",size:"sm",m:"5px",onClick:C,children:"Turn on Bypassability"}),(0,a.jsx)(i.z,{h:"1.75rem",size:"sm",m:"5px",onClick:v,children:"Delegate Handler to Mint"}),(0,a.jsx)(i.z,{h:"1.75rem",size:"sm",m:"5px",onClick:N,children:"Delegate Handler to Burn"}),(0,a.jsx)(i.z,{h:"1.75rem",size:"sm",m:"5px",onClick:b,children:"Delegate Handler to Mint Bulk"}),(0,a.jsx)(i.z,{h:"1.75rem",size:"sm",m:"5px",onClick:w,children:"Set Uri"}),(0,a.jsx)(i.z,{h:"1.75rem",size:"sm",m:"5px",onClick:k,children:"Mint Placeholder"})]}),(0,a.jsxs)(m.NI,{id:"results",width:"50%",margin:"15px",children:[(0,a.jsx)(j.l,{children:"Results"}),(0,a.jsx)(f.g,{name:"results",placeholder:"results here",value:JSON.stringify(o,null,2)})]})]})},el=n(44302),ei=n(83230),er=function(e){let{targetContract:t}=e,n={xcp:[]};ei.SZ.getAllAssetMetadata().forEach(e=>{e.name=e.assetName,n.xcp[e.projectName]||(n.xcp[e.projectName]=[]),n.xcp[e.projectName].includes(e)||n.xcp[e.projectName].push(e)});let[c,o]=(0,h.useState)(null),[d,p]=(0,h.useState)(null),[x,m]=(0,h.useState)(null),[j,y]=(0,h.useState)(n);(0,h.useEffect)(()=>{d&&!x&&f()},[d,x]);let f=()=>{let e={method:"GET",headers:{"x-api-key":localStorage.getItem("apiKey")||"","Content-Type":"application/json"}};fetch("".concat(u._z,"/getOverride/").concat(d.name,"/").concat(t.collectionChain,"/image"),e).then(e=>e.json()).then(e=>{e&&m({...d,image:e.attributeValue})}).catch(e=>{console.error(e)})},C=()=>{let e={method:"POST",headers:{"x-api-key":localStorage.getItem("apiKey")||"","Content-Type":"application/json"},body:JSON.stringify({assetName:d.name,assetChain:t.collectionChain,attributeName:"image",attributeValue:x.image})};fetch("".concat(u._z,"/setOverride"),e).then(e=>e.json()).then(e=>{o(e)}).catch(e=>{console.error(e)})};return(0,a.jsx)(s.k,{direction:"row",justify:"space-between",marginTop:"5",children:t.name&&"ERC721"!==t.collectionType&&"ERC721a"!==t.collectionType&&!t.loadTypes.includes("empty")?(0,a.jsxs)(r.xu,{children:[(0,a.jsxs)(g.P,{id:"asset-selector",value:null==d?void 0:d.name,onChange:e=>{m(null),p(j[t.collectionChain][t.name].filter(t=>t.name==e.target.value)[0])},children:[(0,a.jsx)("option",{value:"",children:"---Choose One---"}),j[t.collectionChain][t.name]?j[t.collectionChain][t.name].sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0).map((e,t)=>(0,a.jsx)("option",{value:e.name,children:e.name},"choose-".concat(t))):null]}),d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(et,{children:[(0,a.jsx)(l.I,{style:{padding:5},value:(null==x?void 0:x.image)||d.image,onChange:e=>m({...d,image:e.target.value})}),(0,a.jsx)(i.z,{onClick:()=>C(),children:" Override"})]}),(0,a.jsx)(el.Z,{url:(null==x?void 0:x.image)||d.image})]})]}):null})};function ec(e){let{data:t,assetChains:n,deployments:l,callback:c=null}=e,[o,d]=(0,h.useState)(Array(t.length).fill(!1)),[u,m]=(0,h.useState)(0),[j,g]=(0,h.useState)({}),y=e=>{let t=[...o];t[e]=!t[e],d(t)};return(0,a.jsx)(p.g,{spacing:4,padding:4,children:t.map((e,t)=>(0,a.jsxs)(r.xu,{border:"1px",borderColor:"gray.200",padding:4,borderRadius:"md",width:"80vw",children:[(0,a.jsxs)(r.xu,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,a.jsxs)(x.x,{onClick:()=>y(t),style:{cursor:"pointer"},children:[e.mintable?"\uD83D\uDFE2":"\uD83D\uDD34",(0,a.jsx)("strong",{children:" Name:"})," ",e.name]}),(0,a.jsx)(i.z,{onClick:()=>y(t),style:{cursor:"pointer"},children:o[t]?"▼":"▲"})]}),(0,a.jsx)(K,{in:o[t],children:(0,a.jsx)(r.xu,{children:(0,a.jsxs)(U.m,{defaultIndex:0,index:u,onChange:e=>m(e),children:[(0,a.jsxs)(W.t,{children:[(0,a.jsx)(V.O,{children:"Details"}),(0,a.jsx)(V.O,{children:"Edit"}),(0,a.jsx)(V.O,{children:"Tools"}),(0,a.jsx)(V.O,{children:"Metadata"})]}),(0,a.jsxs)(Y.n,{children:[(0,a.jsx)(Q.x,{mt:5,children:0===u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.z,{style:{visibility:c?"visible":"hidden"},mb:3,onClick:()=>c(e),children:"Clone"}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Contracts:"})," ",JSON.stringify(e.contracts)]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Native Assets:"})," ",e.nativeAssets.join(", ")]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Mintable:"})," ",e.mintable?"Yes":"No"]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Auto Load:"})," ",e.autoLoad?"Yes":"No"]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Address Chain:"})," ",e.addressChain]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Collection Type:"})," ",e.collectionType]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Load Types:"})," ",e.loadTypes.join(", ")]}),(0,a.jsxs)(x.x,{isTruncated:!0,children:[(0,a.jsx)("strong",{children:"Description:"})," ",e.description]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Purchase Method:"})," ",e.purchaseMethod]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Show Balance:"})," ",e.showBalance?"Yes":"No"]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Balance URL:"})," ",e.balanceUrl]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Price:"})," ",e.price]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Collection Chain:"})," ",e.collectionChain]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Balance Quantity:"})," ",e.balanceQty]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Image Handler:"})," ",e.imageHandler]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Loading Images:"})," ",e.loadingImages.join(", ")]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Placeholder Images:"})," ",JSON.stringify(e.placeholderImages)]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Launch Ready?"})," ",JSON.stringify(e.launch_ready)]}),(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:"Marketplace Ready?"})," ",JSON.stringify(e.marketplace_ready)]})]})}),(0,a.jsx)(Q.x,{children:e&&n&&1===u&&(0,a.jsx)(s.k,{ml:12,children:(0,a.jsx)(p.g,{spacing:4,padding:4,align:"left",children:(0,a.jsx)(A,{initialFormData:e,assetChains:n,deployments:l})})})}),(0,a.jsx)(Q.x,{children:2===u&&(0,a.jsx)(es,{targetContract:e})}),(0,a.jsx)(Q.x,{children:3===u&&(0,a.jsx)(er,{targetContract:e})})]})]})})})]},e.id))})}async function eo(){let e={method:"POST",headers:{"x-api-key":localStorage.getItem("apiKey")||"","Content-Type":"application/json"}},t=await fetch("".concat(u.N0,"/reservoir/collection-sets"),e);return await t.json()}async function ed(){let e=await fetch("".concat(u.N0,"/reservoir/collection-sets/latest"));return(await e.json()).collectionSetID}function eh(){let[e,t]=(0,h.useState)(""),[n,l]=(0,h.useState)("");(0,h.useEffect)(()=>{(async()=>{t(await ed())})()},[]);let r=async()=>{try{let e=await eo();t(e.collectionSetID),e.msg&&l(e.msg)}catch(e){alert(e)}};return(0,a.jsxs)(s.k,{id:"reservoirAdmin",direction:"column",alignItems:"center",padding:4,borderRadius:"md",width:"80vw",children:[(0,a.jsx)(s.k,{children:(0,a.jsx)(x.x,{children:(0,a.jsx)("h2",{children:"Reservoir"})})}),(0,a.jsxs)(s.k,{w:"100%",direction:"column",alignItems:"center",flexWrap:"wrap",children:[(0,a.jsx)(s.k,{children:(0,a.jsxs)(x.x,{children:[(0,a.jsx)("strong",{children:" Latest Reservoir Collection Set ID:"})," ",(0,a.jsx)("br",{})," ",String(e)]})}),(0,a.jsx)(s.k,{children:(0,a.jsx)(i.z,{ml:5,minW:115,onClick:()=>r(),children:"Generate New Collection Set"})}),(0,a.jsx)(s.k,{id:"reservoirResults",padding:4,children:(0,a.jsx)(x.x,{children:n})})]})]})}function eu(){let{query:e}=(0,d.useRouter)(),[t,n]=(0,h.useState)({loaded:!0}),[c,p]=(0,h.useState)(null),[x,m]=(0,h.useState)(null),[j,g]=(0,h.useState)(null),[y,f]=(0,h.useState)(!1),[C,v]=(0,h.useState)([]),[b,w]=(0,h.useState)([]);return(0,h.useEffect)(()=>{fetch("".concat(u._z,"/curated")).then(e=>e.json()).then(e=>{m(e),g(e)})},[]),(0,h.useEffect)(()=>{fetch("".concat(u._z,"/assetChains")).then(e=>e.json()).then(e=>{v(e)})},[]),(0,h.useEffect)(()=>{x&&0===b.length&&fetch("".concat(u.N0,"/v3/deployments")).then(e=>e.json()).then(e=>{w(e.filter((e,t)=>!x.some(t=>t.contracts["1"]==e.address)&&e.name.includes("upgradableERC")))})},[x,b]),(0,a.jsxs)(o(),{loaded:t.loaded,children:[!y&&(0,a.jsx)(s.k,{id:"curatedAdmin",w:"100%",justify:"center",flexWrap:"wrap",mt:10,children:(0,a.jsxs)(s.k,{children:[(0,a.jsx)(l.I,{placeholder:"Filter by name",onChange:e=>{g(x.filter(t=>-1!==t.name.toLowerCase().indexOf(e.target.value.toLowerCase())))}}),(0,a.jsx)(i.z,{ml:5,minW:115,onClick:()=>{f(!0)},children:"Add New"})]})}),!c&&!y&&j&&C&&(0,a.jsx)(ec,{data:j,assetChains:C,deployments:b,callback:e=>{e=JSON.parse(JSON.stringify(e)),delete e.name,delete e.contracts,delete e.id,p(e),f(!0)}}),y&&C&&(0,a.jsx)(r.xu,{border:"1px",borderColor:"gray.200",padding:4,borderRadius:"md",width:"80vw",mt:5,children:(0,a.jsx)(A,{initialFormData:c||{},assetChains:C,deployments:b,callback:()=>{f(!1),p(null),g(x)},isNew:!0})}),(0,a.jsx)(eh,{})]})}function ep(){return(0,a.jsx)(eu,{})}},66529:function(e,t,n){"use strict";n.d(t,{l:function(){return d}});var a=n(18020),s=n(16554),l=n(27440),i=n(33179),r=n(65548),c=n(25432),o=n(85893),d=(0,s.G)(function(e,t){var n;let s=(0,l.mq)("FormLabel",e),d=(0,i.Lr)(e),{className:u,children:p,requiredIndicator:x=(0,o.jsx)(h,{}),optionalIndicator:m=null,...j}=d,g=(0,a.NJ)(),y=null!=(n=null==g?void 0:g.getLabelProps(j,t))?n:{ref:t,...j};return(0,o.jsxs)(r.m.label,{...y,className:(0,c.cx)("chakra-form__label",d.className),__css:{display:"block",textAlign:"start",...s},children:[p,(null==g?void 0:g.isRequired)?x:m]})});d.displayName="FormLabel";var h=(0,s.G)(function(e,t){let n=(0,a.NJ)(),s=(0,a.e)();if(!(null==n?void 0:n.isRequired))return null;let l=(0,c.cx)("chakra-form__required-indicator",e.className);return(0,o.jsx)(r.m.span,{...null==n?void 0:n.getRequiredIndicatorProps(e,t),__css:s.requiredIndicator,className:l})});h.displayName="RequiredIndicator"},34292:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var a=n(51343),s=n(16554),l=n(85893),i=(0,s.G)((e,t)=>(0,l.jsx)(a.K,{align:"center",...e,direction:"row",ref:t}));i.displayName="HStack"},48783:function(e,t,n){"use strict";n.d(t,{g:function(){return i}});var a=n(51343),s=n(16554),l=n(85893),i=(0,s.G)((e,t)=>(0,l.jsx)(a.K,{align:"center",...e,direction:"column",ref:t}));i.displayName="VStack"},41731:function(e,t,n){"use strict";n.d(t,{P:function(){return u}});var a=n(25432),s=n(16554),l=n(65548),i=n(85893),r=(0,s.G)(function(e,t){let{children:n,placeholder:s,className:r,...c}=e;return(0,i.jsxs)(l.m.select,{...c,ref:t,className:(0,a.cx)("chakra-select",r),children:[s&&(0,i.jsx)("option",{value:"",children:s}),n]})});r.displayName="SelectField";var c=n(57265),o=n(27440),d=n(33179),h=n(67294),u=(0,s.G)((e,t)=>{var n;let s=(0,o.jC)("Select",e),{rootProps:h,placeholder:u,icon:p,color:x,height:j,h:g,minH:y,minHeight:f,iconColor:C,iconSize:v,...b}=(0,d.Lr)(e),[w,k]=function(e,t){let n={},a={};for(let[s,l]of Object.entries(e))t.includes(s)?n[s]=l:a[s]=l;return[n,a]}(b,d.oE),N=(0,c.Y)(k),I={paddingEnd:"2rem",...s.field,_focus:{zIndex:"unset",...null==(n=s.field)?void 0:n._focus}};return(0,i.jsxs)(l.m.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:x},...w,...h,children:[(0,i.jsx)(r,{ref:t,height:null!=g?g:j,minH:null!=y?y:f,placeholder:u,...N,__css:I,children:e.children}),(0,i.jsx)(m,{"data-disabled":(0,a.PB)(N.disabled),...(C||x)&&{color:C||x},__css:s.icon,...v&&{fontSize:v},children:p})]})});u.displayName="Select";var p=e=>(0,i.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),x=(0,l.m)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),m=e=>{let{children:t=(0,i.jsx)(p,{}),...n}=e,a=(0,h.cloneElement)(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,i.jsx)(x,{...n,className:"chakra-select__icon-wrapper",children:(0,h.isValidElement)(t)?a:null})};m.displayName="SelectIcon"},57169:function(e,t,n){"use strict";n.d(t,{g:function(){return h}});var a=n(57265),s=n(16554),l=n(27440),i=n(33179),r=n(65548),c=n(25432),o=n(85893),d=["h","minH","height","minHeight"],h=(0,s.G)((e,t)=>{let n=(0,l.mq)("Textarea",e),{className:s,rows:h,...u}=(0,i.Lr)(e),p=(0,a.Y)(u),x=h?function(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}(n,d):n;return(0,o.jsx)(r.m.textarea,{ref:t,rows:h,...p,className:(0,c.cx)("chakra-textarea",s),__css:x})});h.displayName="Textarea"},52094:function(e,t,n){"use strict";n.d(t,{Lj:function(){return a},Sh:function(){return s},p$:function(){return l}});var a={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},s={enter:{duration:.2,ease:a.easeOut},exit:{duration:.1,ease:a.easeIn}},l={enter:(e,t)=>({...e,delay:"number"==typeof t?t:null==t?void 0:t.enter}),exit:(e,t)=>({...e,delay:"number"==typeof t?t:null==t?void 0:t.exit})}}},function(e){e.O(0,[758,119,793,645,270,888,774,179],function(){return e(e.s=49285)}),_N_E=e.O()}]);