(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5830],{49285:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/curatedadmin",function(){return t(90097)}])},33862:function(e,n,t){"use strict";t.d(n,{Z:function(){return b}});var s=t(85893),a=t(67294),l=t(62850),r=t(6089);class i extends a.Component{render(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"sketchfab-embed-wrapper",children:(0,s.jsx)("iframe",{width:"100%",src:this.props.url,frameBorder:"0",allow:"autoplay; fullscreen; vr",allowFullScreen:!0})})})}}class c extends a.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("iframe",{width:"95%",frameBorder:"0",src:e,allowFullScreen:!0})})}}class o extends a.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("iframe",{height:"753px",src:e,seamless:!0})})}}class d extends a.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("iframe",{width:"95%",height:"100%",scrolling:"no",frameBorder:"no",allow:"autoplay",src:e})})}}class h extends a.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("iframe",{width:"95%",height:"256px",scrolling:"no",frameBorder:"no",allow:"autoplay",src:e})})}}class x extends a.Component{render(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("iframe",{src:this.props.url,frameBorder:"0",scrolling:"no",width:"580",height:"326",allowFullScreen:!0})})}}class p extends a.Component{render(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("iframe",{src:this.props.url,width:"800",height:"600",allowFullScreen:!0})})}}class m extends a.Component{render(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("iframe",{width:"230",height:"285",src:this.props.url,frameBorder:"0",scrolling:"no",allowTransparency:!0})})}}class u extends a.Component{render(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("iframe",{src:this.props.url,width:"100%",height:"400",allow:"encrypted-media"})})}}class j extends a.Component{render(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("iframe",{frameBorder:"0",scrolling:"no",src:this.props.url,height:"400",allow:"encrypted-media",sandbox:"allow-encrypted-media"})})}}class g extends a.Component{render(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("iframe",{className:"ytembed",src:this.props.url.split(" ")[0].trim().replace('"',"").replace("/watch?v=","/embed/"),width:"100%",height:"315",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}}class y extends a.Component{render(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("iframe",{src:this.props.url,width:"100%",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}}class f extends a.Component{async componentDidMount(){try{let e=await l.SZ.contentTypeReport(this.props.url);this.setState({contentType:e,loading:!1})}catch(e){console.error("Error fetching content type:",e),this.setState({loading:!1})}}render(){let e=this.props.url||"",{contentType:n,loading:t}=this.state,a=e.replace("ipfs://","").split("?")[0].split("&")[0],f=!!e.toLocaleLowerCase().includes("stamp:")&&function(e){let n=atob(e),t=n.slice(0,4).split("").map(e=>e.charCodeAt(0).toString(16).padStart(2,"0")).join(""),s="unknown";switch(t.toUpperCase()){case"89504E47":s="image/png";break;case"FFD8FFDB":case"FFD8FFE0":case"FFD8FFE1":s="image/jpeg";break;case"47494638":s="image/gif";break;case"25504446":s="application/pdf";break;case"66747970":s="video/mp4"}"unknown"===s&&(s=n.startsWith("<svg")||n.startsWith("<?xml")?"image/svg+xml":n.startsWith("<!DOCTYPE html>")||n.startsWith("<html")?"text/html":"text/plain");let a="data:".concat(s,";base64,").concat(e);return a}(e.split(":")[1]);return e.includes("ipfs://")&&(e="https://gateway.ipfs.io/ipfs/"+a,C(a)),e.includes("image-scale")&&(e+="&size=400"),(0,s.jsx)(s.Fragment,{children:n&&"video/mp4"==n.contentType?(0,s.jsx)("video",{src:e,controls:!0}):e.includes("sketchfab.com/")?(0,s.jsx)(i,{url:e}):e.includes("shadertoy.com/")?(0,s.jsx)(c,{url:e}):e.includes("bandcamp.com/")?(0,s.jsx)(o,{url:e}):e.includes("soundcloud.com/")?(0,s.jsx)(d,{url:e}):e.includes("clyp.it/")?(0,s.jsx)(h,{url:e}):e.includes("sketchup.com/")?(0,s.jsx)(x,{url:e}):e.includes("clara.io/")?(0,s.jsx)(p,{url:e}):e.includes("myminifactory.com/")?(0,s.jsx)(m,{url:e}):e.includes("audius.co/")?(0,s.jsx)(u,{url:e}):e.includes("youtube.com")?(0,s.jsx)(g,{url:e}):e.includes("vimeo.com")?(0,s.jsx)(y,{url:e}):e.includes("ipfs.io")?(0,s.jsx)(r.E,{p:"20px",h:"100%",className:this.props.className+" "+a||"d-block w-100",src:e,width:"250px",maxWidth:"250px"}):e.includes("image-scaler.vercel")?(0,s.jsx)(r.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:e,width:"250px",height:"300px"}):e.includes("/dynamic/")||e.includes("https://s3.amazonaws.com/")||e.includes("googleusercontent.com")||e.includes("ipfs.io")||e.includes("framed/")||e.includes(".png")||e.includes(".jpg")||e.includes(".jpeg")||e.includes(".gif")||e.includes(".svg")||e.includes("data:image")?(0,s.jsx)(r.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:(0,l.yo)(e)?e:"https://raw.githubusercontent.com/EmblemCompany/Coval-Site/master/public/coval-logo.png",width:"250px",maxWidth:"250px"}):f?(0,s.jsx)(r.E,{h:"100%",className:this.props.className||"d-block w-100",src:f,width:"250px",height:"300px"}):n&&n.valid?(0,s.jsx)(r.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:e,width:"250px",height:"300px"}):(0,s.jsx)(j,{url:e})})}constructor(...e){super(...e),this.state={contentType:null,loading:!0}}}let C=async function(e){let n=await fetch("https://gateway.ipfs.io/ipfs/"+e,{method:"GET"}),t=await n.text();if(t.includes("data:image")){let n=document.querySelector("img."+e);n.src=t,console.log(t)}};var b=f},90097:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return J}});var s=t(85893),a=t(93717),l=t(33090),r=t(93108),i=t(57747),c=t(70758),o=t.n(c),d=t(11163),h=t(67294),x=t(31238),p=t(48783),m=t(71293),u=t(18020),j=t(66529),g=t(41731),y=t(89645),f=t(57169),C=t(34292),b=t(8371),w=t(37900),v=t(6089);function N(e){let{onAdd:n,options:t=[],items:a=[],type:c="text"}=e,[o,d]=(0,h.useState)(""),[x,p]=(0,h.useState)([]),m=()=>{o.trim()&&n(o),d("")};return(0,h.useEffect)(()=>{if(t&&t.length>0){let e=t.filter(e=>!a.includes(e));p(o?e.filter(e=>e.toLowerCase().includes(o.toLowerCase())):e)}},[o,t,a]),(0,s.jsx)(i.xu,{display:"flex",alignItems:"center",children:t&&t.length>0&&x.length>0?(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)(g.P,{value:o,onChange:e=>d(e.target.value),placeholder:"Select or type...",children:x.map((e,n)=>(0,s.jsx)("option",{value:e,children:e},n))}),(0,s.jsx)(r.z,{marginLeft:"5px",onClick:m,children:"+"})]}):t&&t.length>0&&0===x.length?null:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(l.I,{type:"text",value:o,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(m(),e.preventDefault())},placeholder:"Type something..."}),(0,s.jsx)(r.z,{marginLeft:"5px",onClick:m,children:"+"})]})})}var k=function(e){let{value:n,onChange:t,name:a,options:l=[],type:r="text"}=e,[i,c]=(0,h.useState)(n||[]);(0,h.useEffect)(()=>{c(n)},[n]);let o=e=>{let n=i.filter((n,t)=>t!==e);c(n),d(n)},d=e=>{t&&t({target:{name:a,value:e}})};return(0,s.jsx)("form",{children:(0,s.jsx)(p.g,{spacing:4,children:(0,s.jsxs)(C.U,{spacing:4,children:[(0,s.jsx)(N,{onAdd:e=>{let n=i?[...i,e]:[e];c(n),d(n)},options:l,items:i}),"text"==r&&i?i.map((e,n)=>(0,s.jsxs)(b.Vp,{borderRadius:"full",variant:"solid",colorScheme:"green",children:[(0,s.jsx)(b.Sn,{children:e}),(0,s.jsx)(b.SD,{onClick:()=>o(n)})]},n)):"image"==r&&i?i.map((e,n)=>(0,s.jsx)(w.u,{label:"Delete",fontSize:"md",children:(0,s.jsx)(v.E,{width:"85px",src:e,alt:e,onClick:()=>o(n),style:{cursor:"pointer"}},n)})):null]})})})},I=function(e){let{initialFormData:n,assetChains:t,deployments:a,callback:c=null,isNew:o=!1}=e,[d,C]=(0,h.useState)({name:"",contracts:{},nativeAssets:[],mintable:!1,autoLoad:!1,addressChain:"",collectionType:"",loadTypes:[],description:"",purchaseMethod:"",showBalance:!1,balanceUrl:"",price:"",collectionChain:"",balanceQty:"",imageHandler:"",loadingImages:[],placeholderImages:[],...n}),b=e=>{let{name:n,value:t}=e.target;C({...d,[n]:t})};return(0,s.jsxs)(p.g,{spacing:4,padding:4,children:[(0,s.jsxs)(i.xu,{display:"flex",flexDirection:"row",justifyContent:"flex-start",children:[(0,s.jsx)(i.xu,{children:(0,s.jsx)("img",{src:d.loadingImages[0],alt:d.name,style:{width:"25%"}})}),(0,s.jsx)(i.xu,{marginLeft:"10px",children:(0,s.jsx)(m.x,{fontSize:"2xl",children:d.name})})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),fetch("".concat(x.N0,"/v3/upsertCuratedCollection"),{method:"POST",headers:{"Content-Type":"application/json","x-api-key":localStorage.getItem("apiKey")||""},body:JSON.stringify(d)}).then(e=>e.json()).then(e=>{console.log(e),location.reload()}).catch(e=>{console.error("Error:",e)})},style:{width:"100%"},children:[(0,s.jsxs)(u.NI,{id:"contracts",style:{display:"flex",flexDirection:"row"},children:[(0,s.jsx)(j.l,{children:"Contracts"}),(0,s.jsx)(l.I,{type:"text",name:"contracts",value:JSON.stringify(d.contracts),onChange:e=>C({...d,contracts:JSON.parse(e.target.value)}),style:{width:"50%"}}),o&&a&&(0,s.jsx)(g.P,{ml:5,placeholder:"Select Contract",onChange:e=>C({...d,contracts:{1:e.target.value}}),children:a.map((e,n)=>e.name.includes("upgradableERC")&&(0,s.jsx)("option",{value:e.address,children:e.name},n))})]}),(0,s.jsxs)(u.NI,{id:"name",children:[(0,s.jsx)(j.l,{children:"Name"}),(0,s.jsx)(l.I,{type:"text",name:"name",value:d.name,onChange:b,disabled:!o})]}),(0,s.jsxs)(u.NI,{id:"nativeAssets",children:[(0,s.jsx)(j.l,{children:"Native Assets"}),(0,s.jsx)(k,{name:"nativeAssets",value:d.nativeAssets,onChange:b})]}),(0,s.jsxs)(u.NI,{id:"mintable",children:[(0,s.jsx)(j.l,{children:"Mintable"}),(0,s.jsx)(y.X,{name:"mintable",isChecked:d.mintable,onChange:e=>C({...d,mintable:e.target.checked})})]}),(0,s.jsxs)(u.NI,{id:"autoLoad",children:[(0,s.jsx)(j.l,{children:"Auto Load"}),(0,s.jsx)(y.X,{name:"autoLoad",isChecked:d.autoLoad,onChange:e=>C({...d,autoLoad:e.target.checked})})]}),(0,s.jsxs)(u.NI,{id:"addressChain",children:[(0,s.jsx)(j.l,{children:"Address Chain"}),(0,s.jsx)(g.P,{name:"addressChain",value:d.addressChain,onChange:b,children:t.map((e,n)=>(0,s.jsx)("option",{value:e,children:e},n))})]}),(0,s.jsxs)(u.NI,{id:"collectionType",children:[(0,s.jsx)(j.l,{children:"Collection Type"}),(0,s.jsx)(g.P,{name:"collectionType",value:d.collectionType,onChange:b,children:["ERC1155","ERC721","ERC721a"].map((e,n)=>(0,s.jsx)("option",{value:e,children:e},n))})]}),(0,s.jsxs)(u.NI,{id:"loadTypes",children:[(0,s.jsx)(j.l,{children:"Load Types"}),(0,s.jsx)(k,{name:"loadTypes",value:d.loadTypes,onChange:b,options:["empty","select","input"]})]}),(0,s.jsxs)(u.NI,{id:"description",children:[(0,s.jsx)(j.l,{children:"Description"}),(0,s.jsx)(f.g,{name:"description",value:d.description,onChange:b})]}),(0,s.jsxs)(u.NI,{id:"purchaseMethod",children:[(0,s.jsx)(j.l,{children:"Purchase Method"}),(0,s.jsx)(l.I,{type:"text",name:"purchaseMethod",value:d.purchaseMethod,onChange:b})]}),(0,s.jsxs)(u.NI,{id:"showBalance",children:[(0,s.jsx)(j.l,{children:"Show Balance"}),(0,s.jsx)(y.X,{name:"showBalance",isChecked:d.showBalance,onChange:e=>C({...d,showBalance:e.target.checked})})]}),(0,s.jsxs)(u.NI,{id:"balanceUrl",children:[(0,s.jsx)(j.l,{children:"Balance URL"}),(0,s.jsx)(l.I,{type:"text",name:"balanceUrl",value:d.balanceUrl,onChange:b})]}),(0,s.jsxs)(u.NI,{id:"price",children:[(0,s.jsx)(j.l,{children:"Price"}),(0,s.jsx)(l.I,{type:"text",name:"price",value:d.price,onChange:b,disabled:!0})]}),(0,s.jsxs)(u.NI,{id:"collectionChain",children:[(0,s.jsx)(j.l,{children:"Collection Chain"}),(0,s.jsx)(l.I,{type:"text",name:"collectionChain",value:d.collectionChain,onChange:b})]}),(0,s.jsxs)(u.NI,{id:"balanceQty",children:[(0,s.jsx)(j.l,{children:"Balance Quantity"}),(0,s.jsx)(l.I,{type:"text",name:"balanceQty",value:d.balanceQty,onChange:b})]}),(0,s.jsxs)(u.NI,{id:"imageHandler",children:[(0,s.jsx)(j.l,{children:"Image Handler"}),(0,s.jsx)(l.I,{type:"text",name:"imageHandler",value:d.imageHandler,onChange:b})]}),(0,s.jsxs)(u.NI,{id:"loadingImages",children:[(0,s.jsx)(j.l,{children:"Loading Images"}),(0,s.jsx)(k,{name:"loadingImages",value:d.loadingImages,onChange:b,type:"image"})]}),(0,s.jsxs)(u.NI,{id:"placeholderImages",children:[(0,s.jsx)(j.l,{children:"Placeholder Images"}),(0,s.jsx)(k,{name:"placeholderImages",value:d.placeholderImages,onChange:b,type:"image"})]}),(0,s.jsx)(r.z,{type:"submit",children:"Submit"}),!o&&(0,s.jsx)(r.z,{ml:5,type:"button",onClick:()=>{fetch("".concat(x.N0,"/v3/deleteCuratedCollection"),{method:"DELETE",headers:{"Content-Type":"application/json","x-api-key":localStorage.getItem("apiKey")||""},body:JSON.stringify(d)}).then(e=>e.json()).then(e=>{console.log(e)}).catch(e=>{console.error("Error:",e)})},children:"Delete"}),c&&(0,s.jsx)(r.z,{ml:5,onClick:c,children:"Cancel"})]})]})},S=t(10429),E=t(36752),T=t(77458),B=t(35232),F=t(72047),z=t(37365),D=t(82140),O=t(77044),R=t(77294),A=function(e){let{targetContract:n}=e,{account:t,chainId:i,library:c}=(0,O.Ge)(),[o,d]=(0,h.useState)(null),p=e=>{let n={method:"POST",headers:{"x-api-key":localStorage.getItem("apiKey")||"","Content-Type":"application/json"},body:JSON.stringify({tokenId:e})};fetch("".concat(x._z,"/refreshBalanceForTokenId"),n).then(e=>e.json()).then(e=>{d(e)}).catch(e=>{console.error(e)})},m=e=>{let t={method:"GET",headers:{"x-api-key":localStorage.getItem("apiKey")||"","Content-Type":"application/json"}};fetch("".concat(x._z,"/refreshMarketplaceMetadata/").concat(n.contracts[1],"/").concat(e),t).then(e=>e.json()).then(e=>{d(e)}).catch(e=>{d(e)})},g=e=>{let t={method:"GET",headers:{"x-api-key":localStorage.getItem("apiKey")||"","Content-Type":"application/json"}};fetch("".concat(x.N0,"/v3/allowed/").concat(n.contracts["1"],"/").concat(e),t).then(e=>e.json()).then(e=>{d(e)}).catch(e=>{d(e)})},y=e=>{let t={method:"POST",headers:{"x-api-key":localStorage.getItem("apiKey")||"","Content-Type":"application/json"},body:JSON.stringify({tokenIds:[e]})};fetch("".concat(x.N0,"/v3/cache/").concat(n.contracts["1"],"/refresh"),t).then(e=>e.json()).then(e=>{d(e)}).catch(e=>{d(e)})},C=async()=>{let e=N(),n=await e.byPassable();console.log("byPassable",n),n?alert("Already Bypassable"):(await e.toggleBypassability(),console.log("setting byPassable"))},b=async()=>{let e=N(),t="ERC721a"==n.collectionType||"ERC721"==n.collectionType?"0x40c10f19":"0x8bcef78e";await e.byPassableFunction("0x23859b51117dbFBcdEf5b757028B18d7759a4460",t)?alert("Handler Can Already Mint"):await e.addBypassRule("0x23859b51117dbFBcdEf5b757028B18d7759a4460",t,0)},w=async()=>{let e=N(),t="ERC721a"==n.collectionType||"ERC721"==n.collectionType?"0x4029a3ce":"0x8bcef78e";await e.byPassableFunction("0x23859b51117dbFBcdEf5b757028B18d7759a4460",t)?alert("Handler Can Already Mint"):await e.addBypassRule("0x23859b51117dbFBcdEf5b757028B18d7759a4460",t,0)},v=async()=>{let e=N(),t="ERC721a"==n.collectionType||"ERC721"==n.collectionType?"0x42966c68":"0xf5298aca";await e.byPassableFunction("0x23859b51117dbFBcdEf5b757028B18d7759a4460",t)?alert("Handler Can Already Burn"):await e.addBypassRule("0x23859b51117dbFBcdEf5b757028B18d7759a4460",t,0)},N=()=>new R.CH(n.contracts[i],"ERC1155"==n.collectionType?x.q7.erc1155Abi:"ERC721a"==n.collectionType?x.q7.erc721aAbi:x.q7.erc721Abi,c.getSigner(t).connectUnchecked());return(0,s.jsxs)(a.k,{direction:"row",justify:"space-between",children:[(0,s.jsxs)(u.NI,{id:"tokenId",width:"50%",margin:"15px",children:[(0,s.jsx)(j.l,{children:"Token ID"}),(0,s.jsx)(D.B,{children:(0,s.jsx)(l.I,{type:"text",name:"".concat(n.name,"-tokenId")})}),(0,s.jsx)(r.z,{h:"1.75rem",size:"sm",m:"5px",children:"Get Balance"}),(0,s.jsx)(r.z,{h:"1.75rem",size:"sm",m:"5px",children:"Get Custom Balance"}),(0,s.jsx)(r.z,{h:"1.75rem",size:"sm",m:"5px",onClick:()=>{let e=document.getElementsByName("".concat(n.name,"-tokenId"))[0];e&&p(e.value)},children:"Get Ownership"}),(0,s.jsx)(r.z,{h:"1.75rem",size:"sm",m:"5px",onClick:()=>{let e=document.getElementsByName("".concat(n.name,"-tokenId"))[0];e&&m(e.value)},children:"Refresh Marketplace Metadata"}),(0,s.jsx)(r.z,{onClick:()=>{let e=document.getElementsByName("".concat(n.name,"-tokenId"))[0];e&&g(e.value)},h:"1.75rem",size:"sm",m:"5px",children:"Can Mint?"}),(0,s.jsx)(r.z,{onClick:()=>{let e=document.getElementsByName("".concat(n.name,"-tokenId"))[0];e&&y(e.value)},h:"1.75rem",size:"sm",m:"5px",children:"Clear Cache"}),(0,s.jsx)("hr",{}),"Contract",(0,s.jsx)("div",{}),(0,s.jsx)(r.z,{h:"1.75rem",size:"sm",m:"5px",onClick:C,children:"Turn on Bypassability"}),(0,s.jsx)(r.z,{h:"1.75rem",size:"sm",m:"5px",onClick:b,children:"Delegate Handler to Mint"}),(0,s.jsx)(r.z,{h:"1.75rem",size:"sm",m:"5px",onClick:v,children:"Delegate Handler to Burn"}),(0,s.jsx)(r.z,{h:"1.75rem",size:"sm",m:"5px",onClick:w,children:"Delegate Handler to Mint Bulk"})]}),(0,s.jsxs)(u.NI,{id:"results",width:"50%",margin:"15px",children:[(0,s.jsx)(j.l,{children:"Results"}),(0,s.jsx)(f.g,{name:"results",placeholder:"results here",value:JSON.stringify(o,null,2)})]})]})},L=t(33862),P=t(62850),M=function(e){let{targetContract:n}=e,t={xcp:[]};P.SZ.getAllAssetMetadata().forEach(e=>{e.name=e.assetName,t.xcp[e.projectName]||(t.xcp[e.projectName]=[]),t.xcp[e.projectName].includes(e)||t.xcp[e.projectName].push(e)});let[c,o]=(0,h.useState)(null),[d,p]=(0,h.useState)(null),[m,u]=(0,h.useState)(null),[j,y]=(0,h.useState)(t);(0,h.useEffect)(()=>{d&&!m&&f()},[d,m]);let f=()=>{let e={method:"GET",headers:{"x-api-key":localStorage.getItem("apiKey")||"","Content-Type":"application/json"}};fetch("".concat(x._z,"/getOverride/").concat(d.name,"/").concat(n.collectionChain,"/image"),e).then(e=>e.json()).then(e=>{e&&u({...d,image:e.attributeValue})}).catch(e=>{console.error(e)})},C=()=>{let e={method:"POST",headers:{"x-api-key":localStorage.getItem("apiKey")||"","Content-Type":"application/json"},body:JSON.stringify({assetName:d.name,assetChain:n.collectionChain,attributeName:"image",attributeValue:m.image})};fetch("".concat(x._z,"/setOverride"),e).then(e=>e.json()).then(e=>{o(e)}).catch(e=>{console.error(e)})};return(0,s.jsx)(a.k,{direction:"row",justify:"space-between",marginTop:"5",children:n.name&&"ERC721"!==n.collectionType&&"ERC721a"!==n.collectionType&&!n.loadTypes.includes("empty")?(0,s.jsxs)(i.xu,{children:[(0,s.jsxs)(g.P,{id:"asset-selector",value:null==d?void 0:d.name,onChange:e=>{u(null),p(j[n.collectionChain][n.name].filter(n=>n.name==e.target.value)[0])},children:[(0,s.jsx)("option",{value:"",children:"---Choose One---"}),j[n.collectionChain][n.name]?j[n.collectionChain][n.name].sort((e,n)=>e.name<n.name?-1:e.name>n.name?1:0).map((e,n)=>(0,s.jsx)("option",{value:e.name,children:e.name},"choose-".concat(n))):null]}),d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(D.B,{children:[(0,s.jsx)(l.I,{style:{padding:5},value:(null==m?void 0:m.image)||d.image,onChange:e=>u({...d,image:e.target.value})}),(0,s.jsx)(r.z,{onClick:()=>C(),children:" Override"})]}),(0,s.jsx)(L.Z,{url:(null==m?void 0:m.image)||d.image})]})]}):null})};function _(e){let{data:n,assetChains:t,deployments:l,callback:c=null}=e,[o,d]=(0,h.useState)(Array(n.length).fill(!1)),[x,u]=(0,h.useState)(0),[j,g]=(0,h.useState)({}),y=e=>{let n=[...o];n[e]=!n[e],d(n)};return(0,s.jsx)(p.g,{spacing:4,padding:4,children:n.map((e,n)=>(0,s.jsxs)(i.xu,{border:"1px",borderColor:"gray.200",padding:4,borderRadius:"md",width:"80vw",children:[(0,s.jsxs)(i.xu,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,s.jsxs)(m.x,{onClick:()=>y(n),style:{cursor:"pointer"},children:[e.mintable?"\uD83D\uDFE2":"\uD83D\uDD34",(0,s.jsx)("strong",{children:" Name:"})," ",e.name]}),(0,s.jsx)(r.z,{onClick:()=>y(n),style:{cursor:"pointer"},children:o[n]?"▼":"▲"})]}),(0,s.jsx)(S.U,{in:o[n],children:(0,s.jsx)(i.xu,{children:(0,s.jsxs)(E.m,{defaultIndex:0,index:x,onChange:e=>u(e),children:[(0,s.jsxs)(T.t,{children:[(0,s.jsx)(B.O,{children:"Details"}),(0,s.jsx)(B.O,{children:"Edit"}),(0,s.jsx)(B.O,{children:"Tools"}),(0,s.jsx)(B.O,{children:"Metadata"})]}),(0,s.jsxs)(F.n,{children:[(0,s.jsxs)(z.x,{mt:5,children:[c&&(0,s.jsx)(r.z,{mb:3,onClick:()=>c(e),children:"Clone"}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Contracts:"})," ",JSON.stringify(e.contracts)]}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Native Assets:"})," ",e.nativeAssets.join(", ")]}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Mintable:"})," ",e.mintable?"Yes":"No"]}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Auto Load:"})," ",e.autoLoad?"Yes":"No"]}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Address Chain:"})," ",e.addressChain]}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Collection Type:"})," ",e.collectionType]}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Load Types:"})," ",e.loadTypes.join(", ")]}),(0,s.jsxs)(m.x,{isTruncated:!0,children:[(0,s.jsx)("strong",{children:"Description:"})," ",e.description]}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Purchase Method:"})," ",e.purchaseMethod]}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Show Balance:"})," ",e.showBalance?"Yes":"No"]}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Balance URL:"})," ",e.balanceUrl]}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Price:"})," ",e.price]}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Collection Chain:"})," ",e.collectionChain]}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Balance Quantity:"})," ",e.balanceQty]}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Image Handler:"})," ",e.imageHandler]}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Loading Images:"})," ",e.loadingImages.join(", ")]}),(0,s.jsxs)(m.x,{children:[(0,s.jsx)("strong",{children:"Placeholder Images:"})," ",JSON.stringify(e.placeholderImages)]})]}),(0,s.jsx)(z.x,{children:e&&t&&(0,s.jsx)(a.k,{ml:12,children:(0,s.jsx)(p.g,{spacing:4,padding:4,align:"left",children:(0,s.jsx)(I,{initialFormData:e,assetChains:t,deployments:l})})})}),(0,s.jsx)(z.x,{children:(0,s.jsx)(A,{targetContract:e})}),(0,s.jsx)(z.x,{children:(0,s.jsx)(M,{targetContract:e})})]})]})})})]},e.id))})}function H(){let{query:e}=(0,d.useRouter)(),[n,t]=(0,h.useState)({loaded:!0}),[c,p]=(0,h.useState)(null),[m,u]=(0,h.useState)(null),[j,g]=(0,h.useState)(null),[y,f]=(0,h.useState)(!1),[C,b]=(0,h.useState)([]),[w,v]=(0,h.useState)([]);return(0,h.useEffect)(()=>{fetch("".concat(x._z,"/curated")).then(e=>e.json()).then(e=>{u(e),g(e)})},[]),(0,h.useEffect)(()=>{fetch("".concat(x._z,"/assetChains")).then(e=>e.json()).then(e=>{b(e)})},[]),(0,h.useEffect)(()=>{m&&0===w.length&&fetch("".concat(x.N0,"/v3/deployments")).then(e=>e.json()).then(e=>{let n=e.filter((e,n)=>!m.some(n=>n.contracts["1"]==e.address)&&e.name.includes("upgradableERC"));v(n)})},[m,w]),(0,s.jsxs)(o(),{loaded:n.loaded,children:[!y&&(0,s.jsx)(a.k,{id:"curatedAdmin",w:"100%",justify:"center",flexWrap:"wrap",mt:10,children:(0,s.jsxs)(a.k,{children:[(0,s.jsx)(l.I,{placeholder:"Filter by name",onChange:e=>{let n=m.filter(n=>-1!==n.name.toLowerCase().indexOf(e.target.value.toLowerCase()));g(n)}}),(0,s.jsx)(r.z,{ml:5,minW:115,onClick:()=>{f(!0)},children:"Add New"})]})}),!c&&!y&&j&&C&&(0,s.jsx)(_,{data:j,assetChains:C,deployments:w,callback:e=>{e=JSON.parse(JSON.stringify(e)),delete e.name,delete e.contracts,delete e.id,p(e),f(!0)}}),y&&C&&(0,s.jsx)(i.xu,{border:"1px",borderColor:"gray.200",padding:4,borderRadius:"md",width:"80vw",mt:5,children:(0,s.jsx)(I,{initialFormData:c||{},assetChains:C,deployments:w,callback:()=>{f(!1),p(null),g(m)},isNew:!0})})]})}function J(){return(0,s.jsx)(H,{})}}},function(e){e.O(0,[758,1793,7119,9645,534,5849,9774,2888,179],function(){return e(e.s=49285)}),_N_E=e.O()}]);