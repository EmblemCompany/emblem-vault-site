(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5830],{49285:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/curatedadmin",function(){return s(12700)}])},12700:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return M}});var l=s(85893),t=s(45161),i=s(93717),a=s(33090),r=s(70758),c=s.n(r),d=s(11163),o=s(77044),h=s(67294),x=s(48783),j=s(57747),u=s(71293),g=s(93108),m=s(10429),p=s(36752),f=s(77458),y=s(35232),C=s(72047),I=s(37365),v=s(18020),N=s(66529),b=s(89645),w=s(41731),S=s(57169),k=s(34292),T=s(8371),L=s(37900),E=s(6089);function B(e){let{onAdd:n,options:s=[],items:t=[],type:i="text"}=e,[r,c]=(0,h.useState)(""),[d,o]=(0,h.useState)([]),x=()=>{r.trim()&&n(r),c("")};return(0,h.useEffect)(()=>{if(s&&s.length>0){let e=s.filter(e=>!t.includes(e));o(r?e.filter(e=>e.toLowerCase().includes(r.toLowerCase())):e)}},[r,s,t]),(0,l.jsx)(j.xu,{display:"flex",alignItems:"center",children:s&&s.length>0&&d.length>0?(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,l.jsx)(w.P,{value:r,onChange:e=>c(e.target.value),placeholder:"Select or type...",children:d.map((e,n)=>(0,l.jsx)("option",{value:e,children:e},n))}),(0,l.jsx)(g.z,{marginLeft:"5px",onClick:x,children:"+"})]}):s&&s.length>0&&0===d.length?null:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,l.jsx)(a.I,{type:"text",value:r,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(x(),e.preventDefault())},placeholder:"Type something..."}),(0,l.jsx)(g.z,{marginLeft:"5px",onClick:x,children:"+"})]})})}var z=function(e){let{value:n,onChange:s,name:t,options:i=[],type:a="text"}=e,[r,c]=(0,h.useState)(n||[]);(0,h.useEffect)(()=>{c(n)},[n]);let d=e=>{let n=r.filter((n,s)=>s!==e);c(n),o(n)},o=e=>{s&&s({target:{name:t,value:e}})};return(0,l.jsx)("form",{children:(0,l.jsx)(x.g,{spacing:4,children:(0,l.jsxs)(k.U,{spacing:4,children:[(0,l.jsx)(B,{onAdd:e=>{let n=r?[...r,e]:[e];c(n),o(n)},options:i,items:r}),"text"==a&&r?r.map((e,n)=>(0,l.jsxs)(T.Vp,{borderRadius:"full",variant:"solid",colorScheme:"green",children:[(0,l.jsx)(T.Sn,{children:e}),(0,l.jsx)(T.SD,{onClick:()=>d(n)})]},n)):"image"==a&&r?r.map((e,n)=>(0,l.jsx)(L.u,{label:"Delete",fontSize:"md",children:(0,l.jsx)(E.E,{width:"85px",src:e,alt:e,onClick:()=>d(n),style:{cursor:"pointer"}},n)})):null]})})})},A=function(e){let{initialFormData:n,assetChains:s}=e,[t,i]=(0,h.useState)(n),r=e=>{console.log(t);let{name:n,value:s}=e.target;i({...t,[n]:s})};return(0,l.jsxs)(x.g,{spacing:4,padding:4,children:[(0,l.jsxs)(j.xu,{display:"flex",flexDirection:"row",justifyContent:"flex-start",children:[(0,l.jsx)(j.xu,{children:(0,l.jsx)("img",{src:t.imageHandler,alt:t.name,style:{width:"25%"}})}),(0,l.jsx)(j.xu,{marginLeft:"10px",children:(0,l.jsx)(u.x,{fontSize:"2xl",children:t.name})})]}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault()},style:{width:"100%"},children:[(0,l.jsxs)(v.NI,{id:"contracts",children:[(0,l.jsx)(N.l,{children:"Contracts"}),(0,l.jsx)(a.I,{type:"text",name:"contracts",value:JSON.stringify(t.contracts),onChange:e=>i({...t,contracts:JSON.parse(e.target.value)})})]}),(0,l.jsxs)(v.NI,{id:"name",children:[(0,l.jsx)(N.l,{children:"Name"}),(0,l.jsx)(a.I,{type:"text",name:"name",value:t.name,onChange:r,disabled:!0})]}),(0,l.jsxs)(v.NI,{id:"nativeAssets",children:[(0,l.jsx)(N.l,{children:"Native Assets"}),(0,l.jsx)(z,{name:"nativeAssets",value:t.nativeAssets,onChange:r})]}),(0,l.jsxs)(v.NI,{id:"mintable",children:[(0,l.jsx)(N.l,{children:"Mintable"}),(0,l.jsx)(b.X,{name:"mintable",isChecked:t.mintable,onChange:e=>i({...t,mintable:e.target.checked})})]}),(0,l.jsxs)(v.NI,{id:"autoLoad",children:[(0,l.jsx)(N.l,{children:"Auto Load"}),(0,l.jsx)(b.X,{name:"autoLoad",isChecked:t.autoLoad,onChange:e=>i({...t,autoLoad:e.target.checked})})]}),(0,l.jsxs)(v.NI,{id:"addressChain",children:[(0,l.jsx)(N.l,{children:"Address Chain"}),(0,l.jsx)(w.P,{name:"addressChain",value:t.addressChain,onChange:r,children:s.map((e,n)=>(0,l.jsx)("option",{value:e,children:e},n))})]}),(0,l.jsxs)(v.NI,{id:"collectionType",children:[(0,l.jsx)(N.l,{children:"Collection Type"}),(0,l.jsx)(w.P,{name:"collectionType",value:t.collectionType,onChange:r,children:["ERC1155","ERC721","ERC721a"].map((e,n)=>(0,l.jsx)("option",{value:e,children:e},n))})]}),(0,l.jsxs)(v.NI,{id:"loadTypes",children:[(0,l.jsx)(N.l,{children:"Load Types"}),(0,l.jsx)(z,{name:"loadTypes",value:t.loadTypes,onChange:r,options:["empty","select","input"]})]}),(0,l.jsxs)(v.NI,{id:"description",children:[(0,l.jsx)(N.l,{children:"Description"}),(0,l.jsx)(S.g,{name:"description",value:t.description,onChange:r})]}),(0,l.jsxs)(v.NI,{id:"purchaseMethod",children:[(0,l.jsx)(N.l,{children:"Purchase Method"}),(0,l.jsx)(a.I,{type:"text",name:"purchaseMethod",value:t.purchaseMethod,onChange:r})]}),(0,l.jsxs)(v.NI,{id:"showBalance",children:[(0,l.jsx)(N.l,{children:"Show Balance"}),(0,l.jsx)(b.X,{name:"showBalance",isChecked:t.showBalance,onChange:e=>i({...t,showBalance:e.target.checked})})]}),(0,l.jsxs)(v.NI,{id:"balanceUrl",children:[(0,l.jsx)(N.l,{children:"Balance URL"}),(0,l.jsx)(a.I,{type:"text",name:"balanceUrl",value:t.balanceUrl,onChange:r})]}),(0,l.jsxs)(v.NI,{id:"price",children:[(0,l.jsx)(N.l,{children:"Price"}),(0,l.jsx)(a.I,{type:"text",name:"price",value:t.price,onChange:r,disabled:!0})]}),(0,l.jsxs)(v.NI,{id:"collectionChain",children:[(0,l.jsx)(N.l,{children:"Collection Chain"}),(0,l.jsx)(a.I,{type:"text",name:"collectionChain",value:t.collectionChain,onChange:r})]}),(0,l.jsxs)(v.NI,{id:"balanceQty",children:[(0,l.jsx)(N.l,{children:"Balance Quantity"}),(0,l.jsx)(a.I,{type:"text",name:"balanceQty",value:t.balanceQty,onChange:r})]}),(0,l.jsxs)(v.NI,{id:"imageHandler",children:[(0,l.jsx)(N.l,{children:"Image Handler"}),(0,l.jsx)(a.I,{type:"text",name:"imageHandler",value:t.imageHandler,onChange:r})]}),(0,l.jsxs)(v.NI,{id:"loadingImages",children:[(0,l.jsx)(N.l,{children:"Loading Images"}),(0,l.jsx)(z,{name:"loadingImages",value:t.loadingImages,onChange:r,type:"image"})]}),(0,l.jsxs)(v.NI,{id:"placeholderImages",children:[(0,l.jsx)(N.l,{children:"Placeholder Images"}),(0,l.jsx)(z,{name:"placeholderImages",value:t.placeholderImages,onChange:r,type:"image"})]}),(0,l.jsx)(g.z,{type:"submit",children:"Submit"})]})]})},O=s(31238),_=s(82140),P=function(e){let{}=e,[n,s]=(0,h.useState)(null),t=e=>{let n={method:"POST",headers:{"x-api-key":localStorage.getItem("apiKey")||"","Content-Type":"application/json"},body:JSON.stringify({tokenId:e})};fetch("".concat(O._z,"/refreshBalanceForTokenId"),n).then(e=>e.json()).then(e=>{s(e)}).catch(e=>{console.error(e)})};return(0,l.jsxs)(i.k,{direction:"row",justify:"space-between",children:[(0,l.jsxs)(v.NI,{id:"tokenId",width:"50%",margin:"15px",children:[(0,l.jsx)(N.l,{children:"Token ID"}),(0,l.jsx)(_.B,{children:(0,l.jsx)(a.I,{type:"text",name:"tokenId"})}),(0,l.jsx)(g.z,{h:"1.75rem",size:"sm",m:"5px",children:"Get Balance"}),(0,l.jsx)(g.z,{h:"1.75rem",size:"sm",m:"5px",children:"Get Custom Balance"}),(0,l.jsx)(g.z,{h:"1.75rem",size:"sm",m:"5px",onClick:()=>t(document.getElementsByName("tokenId")[0].value),children:"Get Ownership"}),(0,l.jsx)(g.z,{h:"1.75rem",size:"sm",m:"5px",children:"Refresh Metadata"})]}),(0,l.jsxs)(v.NI,{id:"results",width:"50%",margin:"15px",children:[(0,l.jsx)(N.l,{children:"Results"}),(0,l.jsx)(S.g,{name:"results",placeholder:"results here",value:JSON.stringify(n,null,2)})]})]})};function D(e){let{data:n,callback:s}=e,[t,a]=(0,h.useState)(Array(n.length).fill(!1)),[r,c]=(0,h.useState)(0),[d,o]=(0,h.useState)([]);(0,h.useEffect)(()=>{fetch("".concat(O._z,"/assetChains")).then(e=>e.json()).then(e=>{o(e)})},[]);let v=e=>{let n=[...t];n[e]=!n[e],a(n)};return(0,l.jsx)(x.g,{spacing:4,padding:4,children:n.map((e,n)=>(0,l.jsxs)(j.xu,{border:"1px",borderColor:"gray.200",padding:4,borderRadius:"md",width:"80vw",children:[(0,l.jsxs)(j.xu,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,l.jsxs)(u.x,{onClick:()=>v(n),style:{cursor:"pointer"},children:[(0,l.jsx)("strong",{children:"Name:"})," ",e.name]}),(0,l.jsx)(g.z,{onClick:()=>v(n),style:{cursor:"pointer"},children:t[n]?"▼":"▲"})]}),(0,l.jsx)(m.U,{in:t[n],children:(0,l.jsx)(j.xu,{children:(0,l.jsxs)(p.m,{defaultIndex:0,index:r,onChange:e=>c(e),children:[(0,l.jsxs)(f.t,{children:[(0,l.jsx)(y.O,{children:"Details"}),(0,l.jsx)(y.O,{children:"Edit"}),(0,l.jsx)(y.O,{children:"Tools"})]}),(0,l.jsxs)(C.n,{children:[(0,l.jsxs)(I.x,{mt:5,children:[(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Contracts:"})," ",JSON.stringify(e.contracts)]}),(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Native Assets:"})," ",e.nativeAssets.join(", ")]}),(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Mintable:"})," ",e.mintable?"Yes":"No"]}),(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Auto Load:"})," ",e.autoLoad?"Yes":"No"]}),(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Address Chain:"})," ",e.addressChain]}),(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Collection Type:"})," ",e.collectionType]}),(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Load Types:"})," ",e.loadTypes.join(", ")]}),(0,l.jsxs)(u.x,{isTruncated:!0,children:[(0,l.jsx)("strong",{children:"Description:"})," ",e.description]}),(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Purchase Method:"})," ",e.purchaseMethod]}),(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Show Balance:"})," ",e.showBalance?"Yes":"No"]}),(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Balance URL:"})," ",e.balanceUrl]}),(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Price:"})," ",e.price]}),(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Collection Chain:"})," ",e.collectionChain]}),(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Balance Quantity:"})," ",e.balanceQty]}),(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Image Handler:"})," ",e.imageHandler]}),(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Loading Images:"})," ",e.loadingImages.join(", ")]}),(0,l.jsxs)(u.x,{children:[(0,l.jsx)("strong",{children:"Placeholder Images:"})," ",JSON.stringify(e.placeholderImages)]})]}),(0,l.jsx)(I.x,{children:e&&d&&(0,l.jsx)(i.k,{ml:12,children:(0,l.jsx)(x.g,{spacing:4,padding:4,align:"left",children:(0,l.jsx)(A,{initialFormData:e,assetChains:d})})})}),(0,l.jsx)(I.x,{children:(0,l.jsx)(P,{})})]})]})})})]},e.id))})}function R(){let{query:e}=(0,d.useRouter)(),{account:n,chainId:s}=(0,o.Ge)(),[r,x]=(0,h.useState)([]),[j,u]=(0,h.useState)({loaded:!0}),[g,m]=(0,h.useState)(!1),[p,f]=(0,h.useState)(null),[y,C]=(0,h.useState)(e.experimental),{colorMode:I}=(0,t.If)(),[v,N]=(0,h.useState)(null),[b,w]=(0,h.useState)(null);return(0,h.useEffect)(()=>{fetch("https://v2.emblemvault.io/curated").then(e=>e.json()).then(e=>{N(e),w(e)})},[]),(0,h.useEffect)(()=>{p&&document.getElementById("curatedAdmin").scrollIntoView()},[p]),(0,l.jsxs)(c(),{loaded:j.loaded,children:[(0,l.jsx)(i.k,{id:"curatedAdmin",w:"100%",justify:"center",flexWrap:"wrap",mt:10,children:(0,l.jsx)(i.k,{children:(0,l.jsx)(a.I,{placeholder:"Filter by name",onChange:e=>{let n=v.filter(n=>-1!==n.name.toLowerCase().indexOf(e.target.value.toLowerCase()));w(n)}})})}),!p&&b&&(0,l.jsx)(D,{data:b,callback:e=>{f(e)}})]})}function M(){return(0,l.jsx)(R,{})}}},function(e){e.O(0,[758,749,7119,487,4092,9774,2888,179],function(){return e(e.s=49285)}),_N_E=e.O()}]);