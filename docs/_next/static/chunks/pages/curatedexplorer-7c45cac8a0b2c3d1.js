(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3859],{95208:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/curatedexplorer",function(){return t(80827)}])},80827:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return S}});var n=t(85893),l=t(7335),o=t(45161),r=t(36752),c=t(77458),d=t(35232),i=t(72047),s=t(37365),u=t(6089),h=t(32883),m=t(16576),f=t(7636),p=t(70727),v=t(46685),j=t(89693),x=t(89423),g=t(57747),C=t(70758),w=t.n(C),_=t(11163),b=t(67294),k=t(61256),N=t(96084);function y(){let e=(0,_.useRouter)(),{asPath:a}=e,t=new URLSearchParams(window.location.search),C=t.get("tab")?Number(t.get("tab")):0,y=t.get("filterType")||null,S=t.get("filterValue")||null,[E,I]=(0,b.useState)({loaded:!0}),[T,R]=(0,b.useState)(null),[D,U]=(0,b.useState)(null),[P,A]=(0,b.useState)(null),[z,L]=(0,b.useState)(!1),[V,O]=(0,b.useState)([]),[G,H]=(0,b.useState)([]),[Q,B]=(0,b.useState)([]),[F,M]=(0,b.useState)([]),[X,q]=(0,b.useState)([]),[J,W]=(0,b.useState)(null),[Z,$]=(0,b.useState)([]),K=N._$r,[Y,ee]=(0,b.useState)(C),{isOpen:ea,onOpen:et,onClose:en}=(0,l.q)(),[el,eo]=(0,b.useState)(null),{colorMode:er}=(0,o.If)(),ec="dark"===er,ed=a=>{ee(a);let t=new URLSearchParams(window.location.search);t.set("tab",a),e.push("".concat(e.pathname,"?").concat(t.toString()))};function ei(e){W(e),fetch("".concat(k.N0,"/asset_metadata/projects"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:e})}).then(e=>e.json()).then(e=>{q(e)})}function es(a){I({loaded:!1}),W(a),fetch("".concat(k.N0,"/vaults?project=").concat(a),{method:"GET"}).then(e=>e.json()).then(t=>{$(t),I({loaded:!0}),e.push("".concat(e.pathname,"?filterType=project&filterValue=").concat(encodeURIComponent(a),"&tab=").concat(Y))})}function eu(a){I({loaded:!1}),W(a),fetch("".concat(k.N0,"/vaults?asset_name=").concat(encodeURIComponent(a)),{method:"GET"}).then(e=>e.json()).then(t=>{$(t),I({loaded:!0}),e.push("".concat(e.pathname,"?filterType=asset_name&filterValue=").concat(encodeURIComponent(a),"&tab=").concat(Y))})}function eh(a){I({loaded:!1}),W(a),fetch("".concat(k.N0,"/vaults?asset_chain=").concat(a),{method:"GET"}).then(e=>e.json()).then(t=>{$(t),I({loaded:!0}),e.push("".concat(e.pathname,"?filterType=asset_chain&filterValue=").concat(a,"&tab=").concat(Y))})}function em(a){I({loaded:!1}),W(a),fetch("".concat(k.N0,"/vaults?category=").concat(a),{method:"GET"}).then(e=>e.json()).then(t=>{$(t),I({loaded:!0}),e.push("".concat(e.pathname,"?filterType=category&filterValue=").concat(a,"&tab=").concat(Y))})}function ef(a){I({loaded:!1}),W(a),fetch("".concat(k.N0,"/vaults?status=").concat(a),{method:"GET"}).then(e=>e.json()).then(t=>{$(t),I({loaded:!0}),e.push("".concat(e.pathname,"?filterType=status&filterValue=").concat(a,"&tab=").concat(Y))})}function ep(e,a){if("mainnet"==a)return D.find(a=>a.contracts[1]==e)||null}return(0,b.useEffect)(()=>{S&&!J&&(W(()=>decodeURIComponent(S)),"project"===y?es(decodeURIComponent(S)):"asset_name"===y?eu(decodeURIComponent(S)):"asset_chain"===y?eh(decodeURIComponent(S)):"category"===y?em(decodeURIComponent(S)):"status"===y&&ef(decodeURIComponent(S)))},[S,J]),(0,b.useEffect)(()=>{fetch("".concat(k._z,"/curated")).then(e=>e.json()).then(e=>{U(e),A(e)})},[]),(0,b.useEffect)(()=>{D&&0===G.length&&fetch("".concat(k.N0,"/v3/deployments")).then(e=>e.json()).then(e=>{H(e.filter((e,a)=>!D.some(a=>a.contracts["1"]==e.address)&&e.name.includes("upgradableERC")))})},[D,G]),(0,b.useEffect)(()=>{fetch("".concat(k.N0,"/asset_metadata/projects/vaulted")).then(e=>e.json()).then(e=>{B(e)})},[]),(0,b.useEffect)(()=>{fetch("".concat(k.N0,"/asset_metadata/projects")).then(e=>e.json()).then(e=>{M(e)})},[]),(0,n.jsxs)(w(),{loaded:E.loaded,children:[(0,n.jsxs)(r.m,{index:Y,onChange:ed,colorScheme:ec?"white":"black",children:[(0,n.jsx)(c.t,{children:["Tracked Metadata Projects","Metadata Project","Vaulted Projects","Vaults","Curated Collections"].map((e,a)=>(0,n.jsxs)(d.O,{isDisabled:!(0===a||2===a||4===a)&&!J,fontWeight:Y===a?"bold":"normal",color:Y===a?ec?"white":"black":ec?"gray":"black",children:[e," ",J&&(1===a||3===a)?"(: ".concat(J,")"):""]},a))}),(0,n.jsxs)(i.n,{children:[(0,n.jsx)(s.x,{children:F.length>0&&(0,n.jsx)(K,{style:{backgroundColor:"var(--background-color)",color:ec?"white":"black",margin:"20px",borderRadius:"10px"},columns:[{field:"project_name",headerName:"Project Name",width:200,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:a=>{a.preventDefault(),ei(e.value),es(e.value),ed(1)},children:e.value})},{field:"protocol",headerName:"Protocol",width:200},{field:"total_assets_count",headerName:"Total Assets Count",width:200}],rows:F.map((e,a)=>({id:a,project_name:e.project_name,protocol:e.protocol,total_assets_count:e.total_assets_count})),autoHeight:!0})}),(0,n.jsx)(s.x,{children:X.length>0&&(0,n.jsx)(K,{style:{backgroundColor:"var(--background-color)",color:"var(--text-color)",margin:"20px",borderRadius:"10px"},columns:[{field:"asset_name",headerName:"Asset Name",width:200,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:a=>{a.preventDefault(),eu(e.value),ed(1)},children:e.value})},{field:"project_name",headerName:"Project Name",width:200},{field:"chain",headerName:"Chain",width:100},{field:"supply",headerName:"Supply",width:100},{field:"image",headerName:"Image",width:200,renderCell:e=>{var a;return(0,n.jsx)(g.xu,{position:"relative",zIndex:"docked",children:(0,n.jsx)(u.E,{src:null==e?void 0:null===(a=e.value)||void 0===a?void 0:a.toString(),alt:"Asset Image",boxSize:"64px",onClick:()=>{var a;eo(null==e?void 0:null===(a=e.value)||void 0===a?void 0:a.toString()),et()}})})}},{field:"link",headerName:"Link",width:300,renderCell:e=>{var a,t;return(0,n.jsx)(h.r,{href:null==e?void 0:null===(a=e.value)||void 0===a?void 0:a.toString(),isExternal:!0,children:null==e?void 0:null===(t=e.value)||void 0===t?void 0:t.toString()})}}],rows:X.map((e,a)=>({id:e.id,created_at:e.created_at,asset_name:e.asset_name,project_name:e.project_name,chain:e.chain,supply:e.supply,link:e.link,image:e.image})),autoHeight:!0})}),(0,n.jsx)(s.x,{children:Q.length>0&&(0,n.jsx)(K,{style:{backgroundColor:"var(--background-color)",color:"var(--text-color)",margin:"20px",borderRadius:"10px"},columns:[{field:"project",headerName:"Project",width:200,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:a=>{a.preventDefault(),es(e.value),ei(e.value),ed(3)},children:e.value})},{field:"project_count",headerName:"Project Count",width:200}],rows:Q.map((e,a)=>({id:a,project:e.project,project_count:e.project_count})),autoHeight:!0})}),(0,n.jsx)(s.x,{children:(null==Z?void 0:Z.length)>0&&(0,n.jsx)(K,{style:{backgroundColor:"var(--background-color)",color:"var(--text-color)",margin:"20px",borderRadius:"10px"},columns:[{field:"asset_name",headerName:"Asset Name",width:200,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:a=>{a.preventDefault(),eu(e.value)},children:e.value})},{field:"project",headerName:"Project",width:200,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:a=>{a.preventDefault(),es(e.value)},children:e.value})},{field:"asset_chain",headerName:"Chain",width:100,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:a=>{a.preventDefault(),eh(e.value)},children:e.value})},{field:"balance",headerName:"Balance",width:100},{field:"image",headerName:"Image",width:100,renderCell:e=>{var a;return(0,n.jsx)(g.xu,{position:"relative",zIndex:"docked",children:(0,n.jsx)(u.E,{src:null==e?void 0:null===(a=e.value)||void 0===a?void 0:a.toString(),alt:"Asset Image",boxSize:"64px",onClick:()=>{eo(null==e?void 0:e.value),et()}})})}},{field:"tokenid",headerName:"Token ID",width:150,renderCell:e=>(0,n.jsx)(h.r,{href:"erc721Legacy"===e.row.category?"https://emblem.finance/nft?id=".concat(e.value):"https://emblem.finance/nft2?id=".concat(e.value),isExternal:!0,children:e.value})},{field:"category",headerName:"Category",width:150,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:a=>{a.preventDefault(),em(e.value)},children:e.value})},{field:"status",headerName:"Status",width:150,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:a=>{a.preventDefault(),ef(e.value)},children:e.value})},{field:"contract",headerName:"Contract",width:300,renderCell:e=>{var a,t;return(0,n.jsxs)(n.Fragment,{children:["erc721Legacy"!==e.row.category&&(0,n.jsx)(u.E,{src:null===(a=ep(e.value,e.row.network))||void 0===a?void 0:a.loadingImages[0],boxSize:"25px"}),(0,n.jsx)(h.r,{href:"https://etherscan.io/address/".concat(e.value),isExternal:!0,children:"erc721Legacy"===e.row.category?"Legacy":null===(t=ep(e.value,e.row.network))||void 0===t?void 0:t.name})]})}},{field:"fraud",headerName:"Fraud",width:100,renderCell:e=>e.value?"\uD83D\uDEA9":""}],rows:Z.map((e,a)=>({id:e.tokenid,asset_name:e.asset_name,project:e.project,asset_chain:e.asset_chain,balance:e.balance,image:e.image,tokenid:e.tokenid,category:e.category,status:e.status,contract:e.contract,fraud:e.fraud,network:e.network})),autoHeight:!0})}),(0,n.jsx)(s.x,{children:D&&(0,n.jsx)(K,{style:{backgroundColor:"var(--background-color)",color:"var(--text-color)",margin:"20px",borderRadius:"10px"},columns:[{field:"name",headerName:"Asset Name",width:200,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:a=>{a.preventDefault(),eu(e.value)},children:e.value})},{field:"description",headerName:"Description",width:200},{field:"addressChain",headerName:"Chain",width:100,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:a=>{a.preventDefault(),eh(e.value)},children:e.value})},{field:"balanceQty",headerName:"Balance Quantity",width:100},{field:"loadingImages",headerName:"Image",width:200,renderCell:e=>{var a;return(0,n.jsx)(g.xu,{position:"relative",zIndex:"docked",children:(0,n.jsx)(u.E,{src:null==e?void 0:null===(a=e.value)||void 0===a?void 0:a[0],alt:"Asset Image",boxSize:"64px",onClick:()=>{var a;eo(null==e?void 0:null===(a=e.value)||void 0===a?void 0:a[0]),et()}})})}},{field:"balanceUrl",headerName:"Balance URL",width:400,renderCell:e=>(0,n.jsx)(h.r,{href:null==e?void 0:e.value.toString(),isExternal:!0,style:{fontSize:"8px"},children:null==e?void 0:e.value})},{field:"vaultCollectionType",headerName:"Collection Type",width:200}],rows:D.map((e,a)=>({id:e.id,created_at:e.created_at,name:e.name,description:e.description,addressChain:e.addressChain,balanceQty:e.balanceQty,balanceUrl:e.balanceUrl,loadingImages:e.loadingImages,vaultCollectionType:e.vaultCollectionType})),autoHeight:!0})})]})]}),(0,n.jsxs)(m.u_,{isOpen:ea,onClose:en,children:[(0,n.jsx)(f.Z,{}),(0,n.jsxs)(p.h,{children:[(0,n.jsx)(v.x,{children:"Asset Image"}),(0,n.jsx)(j.o,{}),(0,n.jsx)(x.f,{children:(0,n.jsx)(u.E,{src:el,alt:"Asset Image"})})]})]})]})}function S(){return(0,n.jsx)(y,{})}}},function(e){e.O(0,[4314,758,7119,1793,2344,4745,6566,797,2083,2888,9774,179],function(){return e(e.s=95208)}),_N_E=e.O()}]);