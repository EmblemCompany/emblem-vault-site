(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3859],{95208:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/curatedexplorer",function(){return a(9555)}])},9555:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return z}});var n=a(85893),r=a(20967),l=a(45161),o=a(70959),i=a(44461),c=a(24124),s=a(84028),d=a(90889),u=a(6089),h=a(32883),m=a(93717),f=a(33090),g=a(93108),p=a(53468),v=a(41731),x=a(71293),j=a(35541),y=a(46199),w=a(22243),k=a(64859),C=a(66205),b=a(54346),S=a(57747),N=a(70758),E=a.n(N),_=a(11163),T=a(67294),A=a(82174),R=a(96084),I=a(11249),M=a(68209),D=a(77044);let U="curatedDataCache";function P(){let e=(0,_.useRouter)(),{account:t,chainId:a,library:N}=(0,D.Ge)(),{asPath:P}=e,z=new URLSearchParams(window.location.search),L=z.get("tab")?Number(z.get("tab")):0,G=z.get("filterType")||null,O=z.get("filterValue")||null,[V,q]=(0,T.useState)({loaded:!0}),[Z,B]=(0,T.useState)(null),[H,J]=(0,T.useState)(null),[F,Q]=(0,T.useState)(null),[W,X]=(0,T.useState)(!1),[K,Y]=(0,T.useState)([]),[$,ee]=(0,T.useState)([]),[et,ea]=(0,T.useState)(1),[en,er]=(0,T.useState)(!1),[el,eo]=(0,T.useState)(null),[ei,ec]=(0,T.useState)(null),[es,ed]=(0,T.useState)([]),[eu,eh]=(0,T.useState)([]),[em,ef]=(0,T.useState)([]),[eg,ep]=(0,T.useState)(null),[ev,ex]=(0,T.useState)(null),[ej,ey]=(0,T.useState)(null),[ew,ek]=(0,T.useState)([]),[eC,eb]=(0,T.useState)([]),eS=R._$r,[eN,eE]=(0,T.useState)(L),{isOpen:e_,onOpen:eT,onClose:eA}=(0,r.q)(),[eR,eI]=(0,T.useState)(null),{colorMode:eM}=(0,l.If)(),[eD,eU]=(0,T.useState)(!0),eP="dark"===eM,[ez,eL]=(0,T.useState)(!0),[eG,eO]=(0,T.useState)(null),eV=(0,T.useCallback)(async()=>{if(eG)return eG;let e=localStorage.getItem(U);if(e){let{data:t,timestamp:a}=JSON.parse(e);if(Date.now()-a<36e5)return eO(t),t}let t=await fetch("".concat(A._z,"/curated")),a=await t.json();return eO(a),localStorage.setItem(U,JSON.stringify({data:a,timestamp:Date.now()})),a},[eG]),eq=t=>{eE(t);let a=new URLSearchParams(window.location.search);a.set("tab",t),e.push("".concat(e.pathname,"?").concat(a.toString()))};async function eZ(){return fetch("https://api.etherscan.io/api?module=gastracker&action=gasoracle&apikey=TMWK7RK9YTQ8VYWD8Q8GFAZS6UZ8MTH57E").then(e=>e.json()).then(e=>{if("1"===e.status)return e.result.ProposeGasPrice;throw Error("Failed to fetch gas prices")}).catch(e=>(console.error("Error fetching gas prices:",e),null))}function eB(e){ep(e),fetch("".concat(A.N0,"/asset_metadata/projects"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:e})}).then(e=>e.json()).then(e=>{ef(e)})}function eH(t){q({loaded:!1}),ep(t),fetch("".concat(A.N0,"/vaults?project=").concat(t),{method:"GET"}).then(e=>e.json()).then(a=>{ek(a),q({loaded:!0}),e.push("".concat(e.pathname,"?filterType=project&filterValue=").concat(encodeURIComponent(t),"&tab=").concat(eN))})}function eJ(t){q({loaded:!1}),ep(t),fetch("".concat(A.N0,"/vaults?asset_name=").concat(encodeURIComponent(t)),{method:"GET"}).then(e=>e.json()).then(a=>{ek(a),q({loaded:!0}),e.push("".concat(e.pathname,"?filterType=asset_name&filterValue=").concat(encodeURIComponent(t),"&tab=").concat(eN))})}function eF(t){q({loaded:!1}),ep(t),fetch("".concat(A.N0,"/vaults?asset_chain=").concat(t),{method:"GET"}).then(e=>e.json()).then(a=>{ek(a),q({loaded:!0}),e.push("".concat(e.pathname,"?filterType=asset_chain&filterValue=").concat(t,"&tab=").concat(eN))})}function eQ(t){q({loaded:!1}),ep(t),fetch("".concat(A.N0,"/vaults?category=").concat(t),{method:"GET"}).then(e=>e.json()).then(a=>{ek(a),q({loaded:!0}),e.push("".concat(e.pathname,"?filterType=category&filterValue=").concat(t,"&tab=").concat(eN))})}function eW(t){q({loaded:!1}),ep(t),fetch("".concat(A.N0,"/vaults?status=").concat(t),{method:"GET"}).then(e=>e.json()).then(a=>{ek(a),q({loaded:!0}),e.push("".concat(e.pathname,"?filterType=status&filterValue=").concat(t,"&tab=").concat(eN))})}function eX(e,t){return H&&H.length>0&&"mainnet"===t&&H.find(t=>t.contracts[1]===e)||null}async function eK(e){let t=H.find(e=>e.name==ei);if(!ei||!t)return alert("Target contract address not found");if(0==e.length)return e$.log("No vaults to migrate");try{let n,r="ERC1155"==t.collectionType?A.q7.erc1155Abi:A.q7.erc721aAbi,l=new M.CH(t.contracts[a],r).connect(N.getSigner()),o=await eZ();if("ERC721a"===t.collectionType)n=await l.estimateGas.mintMany(e.map(e=>e.to),e.map(e=>e.tokenId));else if("ERC1155"===t.collectionType)n=await l.estimateGas.migrationMintMany(e.map(e=>e.serial),e.map(e=>e.to),e.map(e=>e.tokenId));else throw Error("Unsupported contract collection type");let i=n*o*1e-9;e$.log("Estimated gas for mintMany: ".concat(i))}catch(e){e$.log("Error estimating gas for mintMany:",e)}}async function eY(e){let t=H.find(e=>e.name==ei);if(!ei||!t)return alert("Target contract address not found");if(0==e.length)return alert("No vaults to migrate");try{let n,r="ERC1155"==t.collectionType?A.q7.erc1155Abi:A.q7.erc721aAbi,l=new M.CH(t.contracts[a],r).connect(N.getSigner());if("ERC721a"===t.collectionType)n=await l.mintMany(e.map(e=>e.to),e.map(e=>e.tokenId));else if("ERC1155"===t.collectionType)n=await l.migrationMintMany(e.map(e=>e.serial),e.map(e=>e.to),e.map(e=>e.tokenId));else throw Error("Unsupported contract collection type");await n.wait(),alert("TX hash: ".concat(n.hash)),e$.log("Minted vaults:",e.length),e$.log("refreshing"),e1(),e$.log("Refreshed metadata and liveliness for migrated vaults")}catch(e){e$.log("Error minting vaults:",e)}}(0,T.useEffect)(()=>{ei&&e2({target:{value:ei}})},[en]),(0,T.useEffect)(()=>{O&&!eg&&(ep(()=>decodeURIComponent(O)),"project"===G?eH(decodeURIComponent(O)):"asset_name"===G?eJ(decodeURIComponent(O)):"asset_chain"===G?eF(decodeURIComponent(O)):"category"===G?eQ(decodeURIComponent(O)):"status"===G&&eW(decodeURIComponent(O)))},[O,eg]),(0,T.useEffect)(()=>{(async()=>{eL(!0);try{let[e,t]=await Promise.all([eV(),(0,I.f_)()]);J(e),Q(e),eo(t),eL(!1)}catch(e){console.error("Error loading data:",e),eL(!1)}})()},[eV]),(0,T.useEffect)(()=>{H&&0===$.length&&fetch("".concat(A.N0,"/v3/deployments")).then(e=>e.json()).then(e=>{ee(e.filter((e,t)=>!H.some(t=>t.contracts["1"]==e.address)&&e.name.includes("upgradableERC")))})},[H,$]),(0,T.useEffect)(()=>{fetch("".concat(A.N0,"/asset_metadata/projects/vaulted")).then(e=>e.json()).then(e=>{ed(e)})},[]),(0,T.useEffect)(()=>{fetch("".concat(A.N0,"/asset_metadata/projects")).then(e=>e.json()).then(e=>{eh(e)})},[]);let e$={log:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let n=document.getElementById("migrationUpdates");if(n){let e=document.createElement("p");e.textContent=t.join(" "),n.insertBefore(e,n.firstChild)}}};function e0(){let e=document.querySelectorAll(".MuiDataGrid-row.Mui-selected"),t=[];t=e.length>0?Array.from(e).map(e=>{let t=Array.from(e.children).find(e=>"tokenid"===e.getAttribute("data-field"));return t?t.getAttribute("data-value"):null}).filter(e=>null!==e):ew.map(e=>e.tokenid);let a=ew.filter(e=>t.includes(e.tokenid)&&"minted"==e.status&&"erc721Legacy"!==e.category).map(e=>"".concat(e.contract,":").concat(e.externalTokenId)),n=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=e.slice(t,t+a);0!==r.length&&(await e5(r),n(e,t+a,a))};n(a)}function e1(){let e=0,t=Array.from(document.querySelectorAll(".MuiDataGrid-row.Mui-selected")).map(e=>{let t=Array.from(e.children).find(e=>"tokenid"===e.getAttribute("data-field"));return t?t.getAttribute("data-value"):null}).filter(e=>null!==e),a=ew.reverse().filter((e,a,n)=>t.includes(e.tokenid)&&a===n.findIndex(t=>t.tokenid===e.tokenid&&"claimed"!==t.status&&"deleted"!==t.status)),n=a.length,r=Math.ceil(n/et),l=async function(t,o){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=t+o*r;if(c>=n)return;let s=a[c];if(s&&s.tokenid){e$.log("Refreshing liveliness for vault",s.tokenid,"at index",c,"of",n,"vaults","thread #",o),ey("".concat(e," of ").concat(n," vaults * ").concat(et," threads"));try{"ERC721a"===s.category?await I.SZ.fetchMetadata(s.tokenid):"ERC1155"===s.category?(await I.SZ.fetchMetadata(s.tokenid),await I.SZ.fetchMetadata("".concat(s.tokenid,"1 "))):(await I.SZ.fetchMetadata(s.tokenid),s.serialNumber&&(await I.SZ.fetchMetadata("".concat(Number(s.serialNumber))),await I.SZ.fetchMetadata("".concat(Number(s.serialNumber),"1")))),e+=1,setTimeout(()=>l(t+1,o),5e3)}catch(e){if(e$.log("Error refreshing liveliness:",e),i<7){let e=1e3*Math.pow(2,i);e$.log("Retrying in",e,"ms"),setTimeout(()=>l(t,o,i+1),e)}else e$.log("Failed to refresh liveliness after 7 attempts, moving to next index"),setTimeout(()=>l(t+1,o),5e3)}}else setTimeout(()=>l(t+1,o),0);e>=n&&ey("complete")};for(let e=0;e<et;e++)e*r<n&&l(0,e)}let e5=async e=>{let t=new Headers;t.append("content-type","application/json");let a=JSON.stringify({tokens:e});try{let e=await fetch("https://api.reservoir.tools/tokens/refresh/v2",{method:"POST",headers:t,body:a,redirect:"follow"}),n=await e.json();return alert("Marketplace Refreshed"),console.log(n),n}catch(e){return console.error(e),e}};async function e2(e){if(""===e.target.value||ei&&e.target.value!==ei){ek(eC),""===e.target.value&&ec(null);return}ec(e.target.value);let t=await I.SZ.fetchCuratedContractByName(e.target.value,el);0===eC.length&&eb(ew);let a=eC.length>0?eC:ew,n=a.filter(e=>{let a=!e.fraud,n="erc721Legacy"===e.category,r=e.balance>=1,l=0===e.jumps_count,o="claimed"!==e.status,i="minted"==e.status,c="mainnet"===e.network,s=e.balances.some(e=>e.traits&&e.traits.some(e=>"Expired"===e.value)),d=t.allowed(e.balances,t);return a&&n&&r&&l&&o&&d&&c&&i&&!s}),r=a.filter(e=>{let a=!e.fraud,n="erc721Legacy"===e.category,r=e.balance>=1,l=0===e.jumps_count,o="claimed"!==e.status,i="minted"==e.status,c="mainnet"===e.network,s=t.allowed(e.balances,t);return!(a&&n&&r&&l&&o&&s&&c&&i)});ek(en?r:n)}return(0,n.jsxs)(E(),{loaded:V.loaded,children:[(0,n.jsxs)(o.m,{index:eN,onChange:eq,colorScheme:eP?"white":"black",children:[(0,n.jsx)(i.t,{children:["Tracked Metadata Projects","Metadata Project","Vaulted Projects","Vaults","Curated Collections"].map((e,t)=>(0,n.jsxs)(c.O,{isDisabled:!(0===t||2===t||4===t)&&!eg,fontWeight:eN===t?"bold":"normal",color:eN===t?eP?"white":"black":eP?"gray":"black",children:[e," ",eg&&(1===t||3===t)?"(: ".concat(eg,")"):""]},t))}),(0,n.jsxs)(s.n,{children:[(0,n.jsx)(d.x,{children:eu.length>0&&(0,n.jsx)(eS,{style:{backgroundColor:"var(--background-color)",color:eP?"white":"black",margin:"20px",borderRadius:"10px"},columns:[{field:"project_name",headerName:"Project Name",width:200,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),eB(e.value),eH(e.value),eq(1)},children:e.value})},{field:"protocol",headerName:"Protocol",width:200},{field:"total_assets_count",headerName:"Total Assets Count",width:200}],rows:eu.map((e,t)=>({id:t,project_name:e.project_name,protocol:e.protocol,total_assets_count:e.total_assets_count})),autoHeight:!0})}),(0,n.jsx)(d.x,{children:H&&H.length>0&&em.length>0&&(0,n.jsx)(eS,{style:{backgroundColor:"var(--background-color)",color:"var(--text-color)",margin:"20px",borderRadius:"10px"},columns:[{field:"asset_name",headerName:"Asset Name",width:200,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),eJ(e.value),eq(1)},children:e.value})},{field:"project_name",headerName:"Project Name",width:200},{field:"chain",headerName:"Chain",width:100},{field:"supply",headerName:"Supply",width:100},{field:"image",headerName:"Image",width:200,renderCell:e=>{var t;return(0,n.jsx)(S.xu,{position:"relative",zIndex:"docked",children:(0,n.jsx)(u.E,{src:null==e?void 0:null===(t=e.value)||void 0===t?void 0:t.toString(),alt:"Asset Image",boxSize:"64px",onClick:()=>{var t;eI(null==e?void 0:null===(t=e.value)||void 0===t?void 0:t.toString()),eT()}})})}},{field:"link",headerName:"Link",width:300,renderCell:e=>{var t,a;return(0,n.jsx)(h.r,{href:null==e?void 0:null===(t=e.value)||void 0===t?void 0:t.toString(),isExternal:!0,children:null==e?void 0:null===(a=e.value)||void 0===a?void 0:a.toString()})}}],rows:em.map((e,t)=>({id:e.id,created_at:e.created_at,asset_name:e.asset_name,project_name:e.project_name,chain:e.chain,supply:e.supply,link:e.link,image:e.image})),autoHeight:!0})}),(0,n.jsx)(d.x,{children:es.length>0&&(0,n.jsx)(eS,{style:{backgroundColor:"var(--background-color)",color:"var(--text-color)",margin:"20px",borderRadius:"10px"},columns:[{field:"project",headerName:"Project",width:200,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),eH(e.value),eB(e.value),eq(3)},children:e.value})},{field:"project_count",headerName:"Project Count",width:200}],rows:es.map((e,t)=>({id:t,project:e.project,project_count:e.project_count})),autoHeight:!0})}),(0,n.jsx)(d.x,{children:(null==ew?void 0:ew.length)>0||ei?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(m.k,{direction:"row",align:"center",children:[(0,n.jsx)(f.I,{type:"number",ml:5,value:et,onChange:e=>ea(Number(e.target.value)),placeholder:"Enter thread count",width:"100px"}),(0,n.jsx)(g.z,{margin:5,onClick:function(){let e=0,t=ew.reverse().filter((e,t,a)=>t===a.findIndex(t=>t.tokenid===e.tokenid&&"claimed"!==t.status&&"deleted"!==t.status)),a=t.length,n=Math.ceil(a/et),r=async function(l,o){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=l+o*n;if(c>=a)return;let s=t[c];if(s&&s.tokenid){console.log("Refreshing balance for vault",s.tokenid,"at index",c,"of",a,"vaults","thread #",o),ex("".concat(e," of ").concat(a," vaults * ").concat(et," threads"));try{await I.SZ.refreshBalance(s.tokenid),e+=1,setTimeout(()=>r(l+1,o),5e3)}catch(e){if(console.error("Error refreshing balance:",e),i<7){let e=1e3*Math.pow(2,i);console.log("Retrying in",e,"ms"),setTimeout(()=>r(l,o,i+1),e)}else console.log("Failed to refresh balance after 7 attempts, moving to next index"),setTimeout(()=>r(l+1,o),5e3)}}else setTimeout(()=>r(l+1,o),0);e>=a&&ex("complete")};for(let e=0;e<et;e++)e*n<a&&r(0,e)},children:(0,n.jsxs)("div",{children:["Refresh Internal Balances ",ev]})}),"|",(0,n.jsx)(g.z,{isDisabled:!ei,margin:5,onClick:()=>{!function(e){if(!ei)return alert("Target contract is not defined");let t=document.querySelectorAll(".MuiDataGrid-row.Mui-selected"),a=[];!function n(r){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],r>=t.length)return e$.log("Migratable vaults:",a.length),eD?eK(a):eY(a);let l=Array.from(t[r].children).find(t=>t.getAttribute("data-field")===e),o=l?l.getAttribute("data-value"):null,i=ew.find(e=>e.tokenid===o);i?(e$.log("Migrating vault:",i.tokenid),fetch("http://localhost:3001/jump/".concat(i.tokenid,"/").concat(ei,"/").concat("mainnet"==i.network?1:99999999999,"?testOnly=").concat(eD),{method:"GET",headers:{"content-type":"application/json","x-api-key":localStorage.apiKey}}).then(e=>e.json()).then(e=>{e.error?e$.log("Error migrating vault (".concat(r+1,"/").concat(t.length,"):"),e.msg):(e$.log("Successfully migrated vault (".concat(r+1,"/").concat(t.length,"):"),i.tokenid),a.push(e)),n(r+1)}).catch(e=>{alert("Error making API call:', ".concat(e)),n(r+1)})):n(r+1)}(0)}("tokenid")},children:(0,n.jsx)("div",{children:"Migrate"})}),(0,n.jsx)(g.z,{margin:5,onClick:()=>(function(e){if(!ei)return alert("Target contract is not defined");let t=document.querySelectorAll(".MuiDataGrid-row.Mui-selected"),a=[];!function n(r){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],r>=t.length){e$.log("UnJumped vaults:",a.length);return}let l=Array.from(t[r].children).find(t=>t.getAttribute("data-field")===e),o=l?l.getAttribute("data-value"):null,i=ew.find(e=>e.tokenid===o);i?(e$.log("UnJumping vault:",i.tokenid),fetch("http://localhost:3001/unjump/".concat(i.tokenid,"/").concat(ei,"/").concat("mainnet"==i.network?1:99999999999),{method:"GET",headers:{"content-type":"application/json","x-api-key":localStorage.apiKey}}).then(e=>e.json()).then(e=>{e.error?e$.log("Error unjumped vault (".concat(r+1,"/").concat(t.length,"):"),e.msg):(e$.log("Successfully unjumped vault (".concat(r+1,"/").concat(t.length,"):"),i.tokenid),a.push(e)),n(r+1)}).catch(e=>{alert("Error making API call:', ".concat(e)),n(r+1)})):n(r+1)}(0)})("tokenid"),children:"UnJump"}),(0,n.jsx)(g.z,{margin:5,onClick:()=>e1(),children:(0,n.jsxs)("div",{children:["Refresh Liveliness ",ej]})}),(0,n.jsx)(p.X,{ml:5,isChecked:eD,onChange:e=>{eU(e.target.checked)},children:"Test Only"}),(0,n.jsx)(v.P,{margin:5,placeholder:"Select contract",onChange:async e=>await e2(e),width:"350px",children:el&&el.map((e,t)=>(0,n.jsx)("option",{value:e.name,children:e.name},t))}),"|",(0,n.jsx)(f.I,{placeholder:"Search for Asset Name",onChange:e=>{let t=e.target.value.toLowerCase();ek(eC.filter(e=>e.asset_name.toLowerCase().includes(t)))},width:"300px",ml:5}),(0,n.jsx)(p.X,{ml:5,onChange:async e=>{er(e.target.checked)},children:"Show Unqualified Vaults"})]}),(0,n.jsxs)(m.k,{alignItems:"center",children:[(0,n.jsx)(g.z,{margin:5,onClick:()=>e0(),children:"Marketplace Refresh Selected Records"}),(0,n.jsx)(g.z,{margin:5,onClick:()=>(function(){let e;let t=document.querySelectorAll(".MuiDataGrid-row.Mui-selected");if(t.length>0){let a=Array.from(t).map(e=>{let t=Array.from(e.children).find(e=>"tokenid"===e.getAttribute("data-field"));return t?t.getAttribute("data-value"):null}).filter(e=>null!==e);e=ew.filter(e=>a.includes(e.tokenid))}else e=ew;let a=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(a),r=document.createElement("a");r.href=n,r.download="exported_records.json",r.click(),URL.revokeObjectURL(n)})(),children:"Export Selected Records"}),(0,n.jsx)(S.xu,{id:"migrationUpdates",marginLeft:5,padding:5,borderWidth:1,borderRadius:"lg",maxHeight:"200px",overflowY:"auto",children:(0,n.jsx)(x.x,{fontSize:"lg",fontWeight:"bold",children:eD?"TEST MODE: updates":"Updates"})}),(0,n.jsx)(g.z,{margin:5,onClick:async()=>{try{let e=await fetch("".concat(A.N0,"/vaults"),{method:"GET"});if(!e.ok)throw Error("Network response was not ok");let t=await e.json();ek(t),eb(t),ei&&await e2({target:{value:ei}}),e$.log("Vaults refreshed successfully")}catch(e){console.error("Error refreshing vaults:",e),e$.log("Error refreshing vaults: "+e.message)}},children:"Refresh Vaults"})]}),(0,n.jsx)(eS,{style:{backgroundColor:"var(--background-color)",color:"var(--text-color)",margin:"20px",borderRadius:"10px"},columns:[{field:"asset_name",headerName:"Asset Name",width:100,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),eJ(e.value)},style:{fontSize:"0.9em"},children:e.value})},{field:"project",headerName:"Project",width:100,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),eH(e.value)},style:{fontSize:"0.8em"},children:e.value})},{field:"asset_chain",headerName:"Chain",width:100,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),eF(e.value)},children:e.value})},{field:"network",headerName:"Network",width:50,renderCell:e=>(0,n.jsx)("span",{children:e.value})},{field:"balance",headerName:"Balance",width:100},{field:"balances",headerName:"Inside Balances",width:100,renderCell:e=>(0,n.jsx)("span",{children:Array.isArray(e.value)?e.value.length:0}),sortable:!0,sortComparator:(e,t)=>(Array.isArray(e)?e.length:0)-(Array.isArray(t)?t.length:0)},{field:"expired",headerName:"Expired",width:100,renderCell:e=>e.row.balances.some(e=>e.traits&&e.traits.some(e=>"Expired"===e.value))?"⏳":""},{field:"image",headerName:"Image",width:100,renderCell:e=>{var t;return(0,n.jsx)(S.xu,{position:"relative",zIndex:"docked",children:(0,n.jsx)(u.E,{src:null==e?void 0:null===(t=e.value)||void 0===t?void 0:t.toString(),alt:"Asset Image",boxSize:"64px",onClick:()=>{eI(null==e?void 0:e.value),eT()}})})}},{field:"tokenid",headerName:"Token ID",width:150,renderCell:e=>(0,n.jsx)(h.r,{href:"erc721Legacy"===e.row.category?"https://emblem.finance/nft?id=".concat(e.value):"https://emblem.finance/nft2?id=".concat(e.value),isExternal:!0,children:e.value})},{field:"category",headerName:"Category",width:150,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),eQ(e.value)},children:e.value})},{field:"status",headerName:"Status",width:150,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),eW(e.value)},children:e.value})},{field:"contract",headerName:"Contract",width:150,renderCell:e=>{var t,a;return(0,n.jsxs)(n.Fragment,{children:["erc721Legacy"!==e.row.category&&(0,n.jsx)(u.E,{src:null===(t=eX(e.value,e.row.network))||void 0===t?void 0:t.loadingImages[0],boxSize:"25px"}),(0,n.jsx)(h.r,{href:"https://etherscan.io/address/".concat(e.value),isExternal:!0,children:"erc721Legacy"===e.row.category?"Legacy":null===(a=eX(e.value,e.row.network))||void 0===a?void 0:a.name})]})}},{field:"fraud",headerName:"\uD83D\uDEA9",width:100,renderCell:e=>e.value?"\uD83D\uDEA9":""},{field:"jumps_count",headerName:"Jumps",width:150,renderCell:e=>(0,n.jsx)("span",{children:e.value})}],rows:ew.map((e,t)=>({id:e.tokenid,asset_name:e.asset_name,project:e.project,asset_chain:e.asset_chain,network:e.network,balance:e.balance,balances:e.balances,image:e.image,tokenid:e.tokenid,category:e.category,status:e.status,contract:e.contract,fraud:e.fraud,jumps_count:e.jumps_count})),autoHeight:!0,checkboxSelection:!0}),(0,n.jsx)(g.z,{margin:5,onClick:()=>e0(),children:"Marketplace Refresh Selected Records"})]}):null}),(0,n.jsx)(d.x,{children:H&&(0,n.jsx)(eS,{style:{backgroundColor:"var(--background-color)",color:"var(--text-color)",margin:"20px",borderRadius:"10px"},columns:[{field:"name",headerName:"Asset Name",width:200,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),eJ(e.value)},children:e.value})},{field:"description",headerName:"Description",width:200},{field:"addressChain",headerName:"Chain",width:100,renderCell:e=>(0,n.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),eF(e.value)},children:e.value})},{field:"balanceQty",headerName:"Balance Quantity",width:100},{field:"loadingImages",headerName:"Image",width:200,renderCell:e=>{var t;return(0,n.jsx)(S.xu,{position:"relative",zIndex:"docked",children:(0,n.jsx)(u.E,{src:null==e?void 0:null===(t=e.value)||void 0===t?void 0:t[0],alt:"Asset Image",boxSize:"64px",onClick:()=>{var t;eI(null==e?void 0:null===(t=e.value)||void 0===t?void 0:t[0]),eT()}})})}},{field:"balanceUrl",headerName:"Balance URL",width:400,renderCell:e=>(0,n.jsx)(h.r,{href:null==e?void 0:e.value.toString(),isExternal:!0,style:{fontSize:"8px"},children:null==e?void 0:e.value})},{field:"vaultCollectionType",headerName:"Collection Type",width:200}],rows:H.map((e,t)=>({id:e.id,created_at:e.created_at,name:e.name,description:e.description,addressChain:e.addressChain,balanceQty:e.balanceQty,balanceUrl:e.balanceUrl,loadingImages:e.loadingImages,vaultCollectionType:e.vaultCollectionType})),autoHeight:!0})})]})]}),(0,n.jsxs)(j.u_,{isOpen:e_,onClose:eA,children:[(0,n.jsx)(y.Z,{}),(0,n.jsxs)(w.h,{children:[(0,n.jsx)(k.x,{children:"Asset Image"}),(0,n.jsx)(C.o,{}),(0,n.jsx)(b.f,{children:(0,n.jsx)(u.E,{src:eR,alt:"Asset Image"})})]})]})]})}function z(){return(0,n.jsx)(P,{})}}},function(e){e.O(0,[4314,758,1527,1793,9233,8125,4745,8029,9205,8424,2888,9774,179],function(){return e(e.s=95208)}),_N_E=e.O()}]);