(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6696],{60990:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/newest",function(){return r(71982)}])},33862:function(e,s,r){"use strict";r.d(s,{Z:function(){return b}});var t=r(85893),n=r(67294),l=r(62850),a=r(6089);class i extends n.Component{render(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"sketchfab-embed-wrapper",children:(0,t.jsx)("iframe",{width:"100%",src:this.props.url,frameBorder:"0",allow:"autoplay; fullscreen; vr",allowFullScreen:!0})})})}}class c extends n.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("iframe",{width:"95%",frameBorder:"0",src:e,allowFullScreen:!0})})}}class o extends n.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("iframe",{height:"753px",src:e,seamless:!0})})}}class d extends n.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("iframe",{width:"95%",height:"100%",scrolling:"no",frameBorder:"no",allow:"autoplay",src:e})})}}class u extends n.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("iframe",{width:"95%",height:"256px",scrolling:"no",frameBorder:"no",allow:"autoplay",src:e})})}}class p extends n.Component{render(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("iframe",{src:this.props.url,frameBorder:"0",scrolling:"no",width:"580",height:"326",allowFullScreen:!0})})}}class h extends n.Component{render(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("iframe",{src:this.props.url,width:"800",height:"600",allowFullScreen:!0})})}}class m extends n.Component{render(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("iframe",{width:"230",height:"285",src:this.props.url,frameBorder:"0",scrolling:"no",allowTransparency:!0})})}}class x extends n.Component{render(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("iframe",{src:this.props.url,width:"100%",height:"400",allow:"encrypted-media"})})}}class f extends n.Component{render(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("iframe",{frameBorder:"0",scrolling:"no",src:this.props.url,width:"100%",height:"400",allow:"encrypted-media"})})}}class g extends n.Component{render(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("iframe",{className:"ytembed",src:this.props.url.split(" ")[0].trim().replace('"',"").replace("/watch?v=","/embed/"),width:"100%",height:"315",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}}class j extends n.Component{render(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("iframe",{src:this.props.url,width:"100%",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}}class w extends n.Component{render(){let e=this.props.url||"",s=e.replace("ipfs://","").split("?")[0].split("&")[0];return e.includes("ipfs://")&&(e="https://gateway.ipfs.io/ipfs/"+s,y(s)),e.includes("image-scale")&&(e+="&size=400"),(0,t.jsx)(t.Fragment,{children:e.includes("sketchfab.com/")?(0,t.jsx)(i,{url:e}):e.includes("shadertoy.com/")?(0,t.jsx)(c,{url:e}):e.includes("bandcamp.com/")?(0,t.jsx)(o,{url:e}):e.includes("soundcloud.com/")?(0,t.jsx)(d,{url:e}):e.includes("clyp.it/")?(0,t.jsx)(u,{url:e}):e.includes("sketchup.com/")?(0,t.jsx)(p,{url:e}):e.includes("clara.io/")?(0,t.jsx)(h,{url:e}):e.includes("myminifactory.com/")?(0,t.jsx)(m,{url:e}):e.includes("audius.co/")?(0,t.jsx)(x,{url:e}):e.includes("youtube.com")?(0,t.jsx)(g,{url:e}):e.includes("vimeo.com")?(0,t.jsx)(j,{url:e}):e.includes("ipfs.io")?(0,t.jsx)(a.E,{p:"20px",h:"100%",className:this.props.className+" "+s||"d-block w-100",src:e,width:"250px",maxWidth:"250px"}):e.includes("image-scaler.vercel")?(0,t.jsx)(a.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:e,width:"250px",height:"300px"}):e.includes("/dynamic/")||e.includes("arweave")||e.includes("https://s3.amazonaws.com/")||e.includes("googleusercontent.com")||e.includes("ipfs.io")||e.includes("framed/")||e.includes(".png")||e.includes(".jpg")||e.includes(".jpeg")||e.includes(".gif")||e.includes(".svg")||e.includes("data:image")?(0,t.jsx)(a.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:(0,l.yo)(e)?e:"https://raw.githubusercontent.com/EmblemCompany/Coval-Site/master/public/coval-logo.png",width:"250px",maxWidth:"250px"}):(0,t.jsx)(f,{url:e})})}}let y=async function(e){let s=await fetch("https://gateway.ipfs.io/ipfs/"+e,{method:"GET"}),r=await s.text();if(r.includes("data:image")){let s=document.querySelector("img."+e);s.src=r,console.log(r)}};var b=w},71114:function(e,s,r){"use strict";var t=r(85893);r(67294);var n=r(93717),l=r(71293),a=r(81136);s.Z=()=>(0,t.jsxs)(n.k,{pb:2,justify:"center",children:[(0,t.jsx)(l.x,{pr:2,children:"Refreshing "}),(0,t.jsx)(a.$,{})]})},71982:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return b}});var t=r(85893),n=r(45161),l=r(93717),a=r(32883),i=r(57747),c=r(71293),o=r(51343),d=r(70758),u=r.n(d),p=r(71114),h=r(11163),m=r(77044),x=r(67294),f=r(31238),g=r(58533),j=r(33862);function w(){let{query:e}=(0,h.useRouter)(),[s,r]=(0,x.useState)(Number(e.start)||0),[d,w]=(0,x.useState)("true"==e.reverse),{account:y,chainId:b}=(0,m.Ge)(),[v,S]=(0,x.useState)([]),[E,C]=(0,x.useState)({loaded:!1}),[N,F]=(0,x.useState)(!1),[k,T]=(0,x.useState)(e.address),[A,_]=(0,x.useState)(e.experimental),{colorMode:B}=(0,n.If)(),[O,W]=(0,x.useState)(!1),[Z,I]=(0,x.useState)(!0),[L,M]=(0,x.useState)(0),R=async()=>{console.log("getting vaults");try{let e=await fetch(f.HP+"/newest/?start="+L+"&size=20&reverse="+d,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",chainId:b.toString()}}),s=await e.json();s&&(s=s.filter(e=>e.live&&!e.claimedBy)),S(v.concat(s)),C({loaded:!0}),F(!1)}catch(e){}},V=async()=>{console.log(L,20,L+20),M(L+20),W(!0)},[Y,z]=(0,x.useState)("");(0,x.useEffect)(()=>{y&&Y!=y&&(z(y),C({loaded:!1}),R())},[y,Y]);let[G,H]=(0,x.useState)(b);return(0,x.useEffect)(()=>{b&&G!=b&&(H(b),C({loaded:!1}),R())},[b,G]),(0,x.useEffect)(()=>{y||E.loaded||(C({loaded:!1}),R())},[b,G]),(0,x.useEffect)(()=>{O&&(W(!1),R())},[O]),(0,t.jsxs)(u(),{loaded:E.loaded,children:[N?(0,t.jsx)(p.Z,{}):"",(0,t.jsx)(g.Z,{className:"infinite-scroll",scrollableTarget:"shannon-container",dataLength:v.length,next:V,hasMore:Z,loader:(0,t.jsx)(p.Z,{}),endMessage:(0,t.jsx)("p",{style:{textAlign:"center"},children:(0,t.jsx)("b",{children:"Yay! You have seen it all"})}),children:(0,t.jsx)(l.k,{w:"100%",justify:"center",flexWrap:"wrap",mt:10,children:v.length?v.map((e,s)=>{let r=location.pathname.split("/");r.pop(),console.log("vault",e);let n=location.origin+r.join("/")+"/nft?id="+(e.targetAsset?e.targetContract.tokenId:e.tokenId),l={flex:"1",minW:"200px",maxW:"200px",borderWidth:"1px",mx:"6",mb:"6",rounded:"lg",overflow:"hidden",borderColor:"claimed"==e.status?"green !important":"",cursor:"pointer"};return(0,t.jsx)(a.r,{href:n,className:"vaultLink",children:(0,t.jsxs)(i.xu,{className:"NFT newest",...l,onClick:function(){F(!0),location.href=n},children:[(0,t.jsxs)(c.x,{fontWeight:"semibold",textAlign:"center",mt:2,pl:2,isTruncated:!0,children:[e.targetAsset?e.targetAsset.name:e.name,!e.private&&e.totalValue>0?": ~$"+e.totalValue:null]}),(0,t.jsx)(o.K,{align:"center",children:(0,t.jsx)(j.Z,{className:"d-block w-100 NFT-newest-image",url:e.targetAsset?e.targetAsset.image:e.image})}),(0,t.jsx)(o.K,{align:"center",mt:3,children:"claimed"==e.status?(0,t.jsx)(c.x,{color:"green.500",children:"CLAIMED"}):null})]},s)})}):(0,t.jsxs)(c.x,{children:["YOU DON'T SEEM TO HAVE ANY VAULTS."," ",(0,t.jsx)(a.r,{color:"#638cd8",href:"../create",children:"CREATE ONE HERE!"})]})})})]})}var y=r(51704);function b(){return(0,t.jsx)(x.Suspense,{fallback:(0,t.jsx)("h1",{children:"Loading vaults..."}),children:(0,t.jsx)(y.Z,{fallback:(0,t.jsx)("h2",{children:"Oops! Something went wrong."}),children:(0,t.jsx)(w,{})})})}}},function(e){e.O(0,[758,932,9774,2888,179],function(){return e(e.s=60990)}),_N_E=e.O()}]);