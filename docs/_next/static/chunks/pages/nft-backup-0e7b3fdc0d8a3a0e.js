(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[649],{75169:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nft-backup",function(){return n(29806)}])},29806:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return es}});var a=n(85893),i=n(20967),s=n(45161),l=n(57747),r=n(93717),o=n(51343),c=n(93108),d=n(71293),u=n(32883),h=n(70959),m=n(44461),g=n(24124),p=n(84028),x=n(90889),f=n(33090),S=n(78590),j=n(34292),w=n(74153),y=n(7405),v=n(6089),b=n(28643),k=n(9008),C=n.n(k),T=n(77044),N=n(67294),O=n(11163),E=n(3124),A=n(70758),_=n.n(A),I=n(5152),H=n.n(I),q=n(68209),P=n(48120),F=n(82174),V=n(1386),M=n(11249),K=n(81354),Z=n.n(K),z=n(30724),U=n.n(z),W=n(10043),G=n.n(W),L=n(11216),R=n(95070),B=n(33353);class D extends N.Component{render(){let e=[{image:this.props.image,name:this.props.name,type:"nft"}];return console.log("items",e=(e=e.concat(this.props.items)).filter(e=>""!==e.image&&"nft"==e.type)),(0,a.jsx)(B.Z,{className:"p-3",children:(0,a.jsx)(R.Z,{children:e.map((e,t)=>(0,a.jsx)(R.Z.Item,{children:(0,a.jsxs)(o.K,{children:[(0,a.jsx)(l.xu,{children:(0,a.jsx)(L.Z,{className:"d-block w-100 NFT-image",url:e.image})}),(0,a.jsx)(l.xu,{children:(0,a.jsx)(R.Z.Caption,{children:(0,a.jsx)("h3",{children:e.name})})})]})},t))})})}}var J=n(59192),$=n(23681),X=n(91988),Y=n(15607),Q=n(99293);let ee=(e,t,n,a)=>new q.CH(e,t,n.getSigner(a).connectUnchecked());function et(e){let{account:t,library:n}=(0,T.Ge)(),[i,s]=(0,N.useState)(!1),[l,o]=(0,N.useState)(null),[d,u]=(0,N.useState)(null),[h,m]=(0,N.useState)(null);return(0,N.useEffect)(()=>{var a;!h&&e.handler&&m(ee((a=e.handler).address,a.abi,n,t))}),(0,N.useEffect)(()=>{var a;!d&&e.spending&&u(ee((a=e.spending).address,a.abi,n,t))}),(0,N.useEffect)(()=>{var n,a,i;d&&(n=e.handler,e.spending,(i=e.amount)>0?d.decimals().then(e=>{o(e),d.allowance(t,n.address).then(t=>{s(t>=i*10**e)})}):d.isApprovedForAll(t,n.address).then(e=>{s(e)}))}),t&&!i?(0,a.jsx)(r.k,{w:"100%",flexWrap:"wrap",mt:3,children:(0,a.jsx)(c.z,{onClick:function(){return e.amount>0?void d.approve(e.handler.address,1e6*10**l).then(t=>{e.watcher(t.hash,e=>{1===e.status&&s(!0)})}):void d.setApprovalForAll(e.handler.address,!0).then(t=>{e.watcher(t.hash,e=>{1===e.status&&s(!0)})})},backgroundColor:"#02b402",color:"black !important",fontWeight:"bold !important",width:"100%",children:e.label})}):(0,a.jsx)(a.Fragment,{children:"Approved"})}n(62368);let en=H()(()=>Promise.all([n.e(793),n.e(233),n.e(71),n.e(782)]).then(n.bind(n,55782)),{loadableGenerated:{webpack:()=>[55782]}}),ea=H()(()=>Promise.all([n.e(793),n.e(233),n.e(197)]).then(n.bind(n,66197)),{loadableGenerated:{webpack:()=>[66197]}});function ei(){let{account:e,chainId:t,library:n}=(0,T.Ge)(),{query:k}=(0,O.useRouter)(),[A,I]=(0,N.useState)("t"==k.cc),[H,K]=(0,N.useState)({to:[]}),[z,W]=(0,N.useState)(!1),[R,B]=(0,N.useState)(k.key),[ee,ei]=(0,N.useState)(k.offer||!1),[es,el]=(0,N.useState)("true"==k.debug),[er,eo]=(0,N.useState)(null),[ec,ed]=(0,N.useState)(k.framed||!0),[eu,eh]=(0,N.useState)(k.id),[em,eg]=(0,N.useState)(k.slideshowOnly||!1),[ep,ex]=(0,N.useState)(""),[ef,eS]=(0,N.useState)(""),[ej,ew]=(0,N.useState)(""),[ey,ev]=(0,N.useState)(""),[eb,ek]=(0,N.useState)(""),[eC,eT]=(0,N.useState)(""),[eN,eO]=(0,N.useState)(""),[eE,eA]=(0,N.useState)([]),[e_,eI]=(0,N.useState)(!1),[eH,eq]=(0,N.useState)([]),[eP,eF]=(0,N.useState)([]),[eV,eM]=(0,N.useState)([]),[eK,eZ]=(0,N.useState)(!1),[ez,eU]=(0,N.useState)(0),[eW,eG]=(0,N.useState)(null),[eL,eR]=(0,N.useState)(null),[eB,eD]=(0,N.useState)(null),[eJ,e$]=(0,N.useState)(""),[eX,eY]=(0,N.useState)(""),[eQ,e0]=(0,N.useState)({loaded:!1}),[e1,e7]=(0,N.useState)(!1),[e2,e3]=(0,N.useState)(!1),[e4,e8]=(0,N.useState)("claimed"),[e5,e9]=(0,N.useState)(!1),[e6,te]=(0,N.useState)(null),[tt,tn]=(0,N.useState)(""),[ta,ti]=(0,N.useState)(""),[ts,tl]=(0,N.useState)(""),[tr,to]=(0,N.useState)([]),[tc,td]=(0,N.useState)(!1),[tu,th]=(0,N.useState)(""),[tm,tg]=(0,N.useState)(!1),[tp,tx]=(0,N.useState)(""),[tf,tS]=(0,N.useState)(!1),[tj,tw]=(0,N.useState)(!1),[ty,tv]=(0,N.useState)(!1),[tb,tk]=(0,N.useState)(!1),[tC,tT]=(0,N.useState)(""),[tN,tO]=(0,N.useState)(!1),[tE,tA]=(0,N.useState)(!1),[t_,tI]=(0,N.useState)(!1),[tH,tq]=(0,N.useState)(null),[tP,tF]=(0,N.useState)(!1),[tV,tM]=(0,N.useState)(!1),[tK,tZ]=(0,N.useState)(null),[tz,tU]=(0,N.useState)(null),[tW,tG]=(0,N.useState)(null),[tL,tR]=(0,N.useState)(null),[tB,tD]=(0,N.useState)(!1),[tJ,t$]=(0,N.useState)(!1),[tX,tY]=(0,N.useState)(!1),[tQ,t0]=(0,N.useState)(!1),[t1,t7]=(0,N.useState)(null),[t2,t3]=(0,N.useState)({name:"",image:"",metadata:""}),[t4,t8]=(0,N.useState)({migrating:!1,name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),[t5,t9]=(0,N.useState)({name:"",image:"",metadata:""}),[t6,ne]=(0,N.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),[nt,nn]=(0,N.useState)(!1),[na,ni]=(0,N.useState)(!1),[ns,nl]=(0,N.useState)(!1),[nr,no]=(0,N.useState)(null),[nc,nd]=(0,N.useState)(null),[nu,nh]=(0,N.useState)(null),[nm,ng]=(0,N.useState)(null),[np,nx]=(0,N.useState)(!1),[nf,nS]=(0,N.useState)(!1),[nj,nw]=(0,N.useState)({}),ny=(0,V.cq)(F.q7.vaultHandler[t],F.q7.vaultHandlerAbi,!0),nv=(0,V.cq)(F.q7.vaultHandlerV8[t],F.q7.vaultHandlerV8Abi,!0),nb=(0,V.cq)(F.q7.emblemVault[t],F.q7.emblemAbi,!0);(0,V.cq)(F.q7.coval[t],F.q7.covalAbi,!0);let{isOpen:nk,onOpen:nC,onClose:nT}=(0,i.q)(),{isOpen:nN,onOpen:nO,onClose:nE}=(0,i.q)(),{isOpen:nA,onToggle:n_}=(0,i.q)(),{isOpen:nI,onToggle:nH}=(0,i.q)(),{isOpen:nq,onToggle:nP}=(0,i.q)(),{colorMode:nF}=(0,s.If)(),nV=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new q.CH(t,F.q7.erc1155Abi,n.getSigner(e).connectUnchecked())},nM=(e,n)=>{fetch(F._z+"/liveliness",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:e})}).then(async function(e){let t=await e.json();return tF(t.live),console.log("Liveliness check",t),n(t.live)})},nK=async()=>{let t=await fetch(F._z+"/meta/"+eu+"?experimental=true"+(A?"&_vercel_no_cache=1":""),{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",cc:A?"t":""}}),n=await t.json(),a=await M.SZ.generateMigrateReport(e,!0);(a=Object.keys(a).map(e=>({...a[e],tokenId:e})).find(e=>e.tokenId==eu))&&a.to&&a.to.length>0&&(n.move=a),nw(n),nZ(n),n.image_ipfs,n.collectionAddress&&(t0(!0),t7(n.collectionAddress)),n.name?(td(!1),tS(!1)):(e0({loaded:!0}),tS(!0))},nZ=e=>{if(ec&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+ec),e.ciphertextV2&&ev(e.ciphertextV2),nS(e.mintLocked&&0==e.mintLockBlock),ex(e.name),eT(e.image),eO(e.ownedImage||null),ek(e.description),eU(e.totalValue||0),e.values&&eA(eE.concat(e.values)),e.attributes&&eq(e.attributes.filter(e=>"key"===e.trait_type)),e.attributes&&eF(e.attributes),eM(e.addresses),eS(e.ipfs||null),ew(e.image_ipfs||null),e.targetAsset&&t3(e.targetAsset),e.targetContract&&t8(e.targetContract),e.move_targetContract&&ne(e.move_targetContract),e.move_targetAsset&&t9(e.move_targetAsset),"Migrated Vault"==e.name||e.targetContract&&e.targetContract[t]&&!e.targetContract.migrating)return location.href=location.origin+"/nft2?id="+eu,!1;tF(!1!=e.live),tZ(e.nonce),tG(e.signature),tR(e.to),eR(e.network),eG("mainnet"==e.network?1:"rinkeby"==e.network?4:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),e8(e.status),"claimed"===e4&&te(e.claimedBy),eZ(e.addresses.filter(e=>e.address.includes("private:")).length>0),e.sealed?e9(!0):e9(!1),e.move&&e.move.to&&e.move.to.length>0&&K(e.move),e0({loaded:!0})},nz=async(e,t,n)=>{let a=await fetch(F.N0+"/vault/balance/"+t,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),i=await a.json();return n(i.values.length>0?e.concat(i.values):e)},nU=async(e,t,n)=>{if(e_)return n(!1);eI(!0);let a=await fetch(F.N0+"/vault/balance/"+t+"?live=true&_vercel_no_cache=1",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),i=await a.json();return n(i.values.length>0?e.concat(i.values):e)},nW=async(e,t,n,a)=>{let i=await fetch(F.HP+"/vault/balance/"+t+"/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),s=await i.json();return a((console.log("response",i,s),s.balances.length>0)?e.concat(s.balances):e)},nG=()=>{localStorage.setItem(e+"_"+t+"_"+eu+"_mintPassword",tC)},nL=()=>{let n=localStorage.getItem(e+"_"+t+"_"+eu+"_mintPassword");n&&tb&&B(n)},nR=async(e,n,a)=>{var i=new Headers;i.append("chainid",t.toString()),i.append("Content-Type","application/json");var s=JSON.stringify({signature:e,tokenId:n});let l=await fetch(F.pU+"/sign",{method:"POST",headers:i,body:s,redirect:"follow"});return a(await l.json())};async function nB(e,t,n){let a=new X.ZP({network:"mainnet"}),i=new Y.ZP({enableOneKey:!0,network:"mainnet"}),{torusNodeEndpoints:s,torusIndexes:l}=await a.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:e}),{privKey:r}=await i.retrieveShares(s,l,"tor-us-signer-vercel",{verifier_id:e},t);return n({privateKey:r})}let nD=async(e,n,a)=>{var i=new Headers;i.append("chainId",t.toString()),i.append("service","evmetadata"),i.append("Content-Type","application/json");var s=JSON.stringify({signature:e});let l=await fetch(F.HP+"/embed/"+n,{method:"POST",headers:i,body:s,redirect:"follow"});return a(await l.json())},nJ=async()=>{let n;console.log("Contract states");try{t4[t]&&!t4.migrating?(console.log("Checking owner wth targetContract"),nb=nV(t4[t]),n=await nb.getOwnerOfSerial(t4.serialNumber),console.log("--------------------------- owner",n,na,e,F.q7.vaultHandlerV8[t])):n=tP||t4.migrating?await nb.ownerOf(eu):"0x0000000000000000000000000000000000000000",a()}catch(e){n="0x0000000000000000000000000000000000000000",a()}async function a(){let a=await nb.isApprovedForAll(e,F.q7.vaultHandler[t]),i=!!F.q7.vaultHandlerV8[t]&&await nb.isApprovedForAll(e,F.q7.vaultHandlerV8[t]);ni(a),nl(i),tq(n),e7(n===e||tL===e&&"0x0000000000000000000000000000000000000000"===n),nx(tL===e&&"0x0000000000000000000000000000000000000000"===n),nL(),tH&&!1==tP&&!tV&&(tM(!0),nM(eu,()=>{}))}};(0,N.useEffect)(()=>{console.log("mine?",e1),console.log("claiming?",e2),console.log("accepting?",tj),console.log("acceptable",tb),console.log("qualified",H),console.log("owner",tH)}),(0,N.useEffect)(()=>{if(e&&t&&eW&&es&&tH){let n="DEBUG Report for ".concat(eu,":\n\n");n+="Props:\n   owner: ".concat(tH,"\n   mine: ").concat(e1,"\n   created by: ").concat(tL,"\n   account: ").concat(e,"\n   vaultChainId: ").concat(eW,"\n   chainId: ").concat(t,"\n   sealed: ").concat(e5,"\n   approved: ").concat(na,"\n   live: ").concat(tP,"\n   mineUnMinted: ").concat(np,"\n   status: ").concat(e4,"\n   mintLockedForever: ").concat(nf,"\n")+"Can Unlock Before Mint: ".concat(eW===t&&np&&"claimed"!=e4&&!nf,"\n")+"Can Claim: ".concat("claimed"!==e4&&e&&eW===t&&e1&&!e5&&na&&tP,"\n")+"Can Migrate To: ".concat(JSON.stringify(H),"\n"),el(!1),eo(n)}},[e,t,eW,es,tH]);let n$=async a=>{n.getSigner(e).signMessage("Renew: "+eu).then(e=>{let n=eV.filter(e=>"NMC"==e.coin)[0].address;console.log("signature",e,a),fetch(F.HP+"/nmc/renew/"+n,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:eu,signature:e,name:a})}).then(async function(e){console.log("Requested Renew",await e.json())})})},nX=async()=>{let a;t4[t]&&(nb=nV(t4[t]),a=await nb.getSerial(t4.tokenId,0)),n.getSigner(e).signMessage("Claim: "+(t4[t]?a:eu)).then(e=>{e0({loaded:!1}),np&&"claimed"!=e4&&!nf&&nS(!0),nR(e,eu,e=>{nB(eu,e.token,async e=>{try{var t=Z().AES.decrypt(ey,e.privateKey);let n=JSON.parse(t.toString(Z().enc.Utf8));to(n.values),tn(n.phrase),eV.forEach(async e=>{"STX"==e.coin?e.key=await nY(e,n.phrase):e.key=window.phrasePathToKey(n.phrase,e.path),"BTC"==e.coin&&ti(e.key),"ETH"==e.coin&&tl(e.key)})}catch(e){alert(e),e0({loaded:!0})}e0({loaded:!0}),nO()})})})},nY=async(e,t)=>"contact emblem.team if you see this error",nQ=async a=>{n.getSigner(e).signMessage("HideAsset: "+eu).then(e=>{!function(e,n,a,i,s,l){fetch(F.HP+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({coin:n||null,address:a||null,name:i||null,signature:s||null})}).then(async function(t){console.log("-------",await t.json()),nz([],e,e=>(eA(e),l()))})}(eu,a.coin,a.address,a.name,e,()=>{console.log("Done hiding coin and getting new balances")})})},n0=async()=>{n.getSigner(e).signMessage("Embed: "+eu).then(e=>{nD(e,eu,e=>{eT(e.ownedImage)})})},n1=async()=>{t4[t]?nv.claim(t4[t],t4.tokenId).then(e=>{let{hash:t}=e;e3(!0),setTimeout(()=>{eD(t)},100)}).catch(e=>{alert(e.message),e3(!1)}):ny.claimOnChain(eu).then(e=>{let{hash:t}=e;e3(!0),setTimeout(()=>{eD(t)},100)}).catch(e=>{alert(e.message),e3(!1)})},n7=async()=>{if(!tm){tg(!0);var e="abcdefghijklmnopqrstuvwxyz",t="Decrypting",n=t.length,a=0,i=0,s="",l="";!function r(o){setTimeout(function(){--o?r(o):tg(!1),function(r){for(var o=0;o<n-i;o++){var c=Math.floor(e.length*Math.random()),d=e.charAt(c);s+=d}7==a&&i++,8==a&&(l+=t.charAt(i-1),a=0),th(l+s),s=""}(0),a+=1},5)}(8*n+1)}};function n2(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}return(0,N.useEffect)(()=>{nK()},[]),(0,N.useEffect)(()=>{(e&&t&&eW&&t==eW||k.noLayout&&"true"==k.noLayout||k.slideshowOnly&&"true"==k.slideshowOnly)&&nJ()}),t1&&(nb=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new q.CH(a||F.q7.emblemVault[t],F.q7.emblemAbi,n.getSigner(e).connectUnchecked())}(t1||null)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(C(),{children:[(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:site",content:"Emblem.Finance"}),(0,a.jsx)("meta",{name:"twitter:title",content:ep}),(0,a.jsx)("meta",{name:"twitter:description",content:n2(eb)}),(0,a.jsx)("meta",{name:"twitter:image",content:eC}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})]}),(0,a.jsx)(en,{isOpen:nk,onClose:nT,addrCoin:eJ,addrAddr:eX}),(0,a.jsx)(ea,{isOpen:nN,onClose:nE,mnemonic:tt,privKeyBTC:ta,privKeyETH:ts,privValues:tr,addresses:eV}),(0,a.jsxs)(_(),{loaded:eQ.loaded,children:[(0,a.jsx)(l.xu,{height:"40px"}),tc?(0,a.jsx)(E.Z,{}):"",!eQ.loaded||tf||em?eE.length>0&&em?(0,a.jsx)(o.K,{className:"NFT-content",align:"center",children:eE.length&&eE.filter(e=>"nft"==e.type).length>0?(0,a.jsx)(D,{name:ep,image:eE[0].image,items:eE.filter(e=>e.image!==eE[0].image).map(e=>({image:e.image,description:e.description,name:e.name,type:e.type})),properties:{duration:3e3,canSwipe:!1}}):(0,a.jsx)(L.Z,{className:"d-block w-100 NFT-image",url:eC})}):tf?(0,a.jsxs)(o.K,{align:"center",children:[(0,a.jsx)(v.E,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),(0,a.jsxs)(d.x,{children:["THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",(0,a.jsx)(u.r,{color:"#638cd8",href:"../create",children:"CREATE ONE HERE!"})]})]}):null:(0,a.jsx)(r.k,{width:"full",align:"center",justifyContent:"center",children:er?(0,a.jsx)(l.xu,{as:"pre",style:{color:"white",opacity:1},children:er}):(0,a.jsxs)(l.xu,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:eW!=t?"orange.500":"claimed"==e4?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390,children:[(0,a.jsxs)(l.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500",children:["Vault Network: ",M.zh[eW]]}),eW!=t?(0,a.jsxs)(l.xu,{style:{color:"white",backgroundColor:"red",textAlign:"center",fontWeight:"bold"},children:["NOTE: Please switch to ",M.zh[eW]," to interact"]}):null,(0,a.jsxs)(l.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center",children:[ep,!eK&&ez>0?": ~$"+ez.toLocaleString():null]}),(0,a.jsxs)(o.K,{className:"NFT-content",align:"center",children:[eE.length&&eE.filter(e=>"nft"==e.type).length>0?(0,a.jsx)(D,{name:ep,image:eC,items:eE.map(e=>({image:e.image,description:e.description,name:e.name,type:e.type})),properties:{duration:3e3,canSwipe:!1}}):(0,a.jsx)(L.Z,{className:"d-block w-100 NFT-image",url:eC}),e1&&eN?(0,a.jsx)(c.z,{onClick:()=>{n0()},children:"(OWNED) Show Full Embed"}):null]}),(0,a.jsx)(o.K,{align:"center",maxWidth:"400px",children:(0,a.jsx)(l.xu,{mt:"2",ml:"4",lineHeight:"tight",maxWidth:"400px",children:(0,a.jsxs)(o.K,{children:[(0,a.jsx)(d.x,{fontSize:"xs",children:eW==t?(0,a.jsxs)(u.r,{href:"./vaults?address="+tH,children:["Owner: ",tH]}):null}),(0,a.jsx)(d.x,{overflowWrap:"anywhere",mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md",children:(0,a.jsx)(U(),{plugins:[G()],children:n2(eb)})})]})})}),(0,a.jsxs)(l.xu,{p:"6",children:[(0,a.jsxs)(h.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(m.t,{mb:"1em",children:[(0,a.jsx)(g.O,{children:"Balances"}),(0,a.jsx)(g.O,{children:"Attributes"})]}),(0,a.jsxs)(p.n,{children:[(0,a.jsx)(x.x,{children:eK?(0,a.jsxs)(l.xu,{mb:5,children:[(0,a.jsx)(d.x,{pb:2,color:tu?"green.500":null,children:tu||"Contents hidden. Enter password to unlock."}),(0,a.jsx)(f.I,{type:"password",id:"vault-password",onChange:e=>(function(e){tp&&(e=tp),n7(),console.log(eV);let t=eV[0].address.replace("private:","");try{var n,a=Z().AES.decrypt(t,e);JSON.parse(a.toString(Z().enc.Utf8)),eZ(!1),tx(e),eM((n=e,eV.forEach(e=>{if(e.address.includes("private")){let t=e.address.replace("private:","");e.address=JSON.parse(Z().AES.decrypt(t,n).toString(Z().enc.Utf8))}}),eV));let i=eV.filter(e=>"ETH"===e.coin)[0].address,s=eV.filter(e=>"BTC"===e.coin)[0].address;console.log("SUCCESS",eV),nW([],i,s,e=>{eA(e)})}catch(e){console.log("WTF",e)}})(e.target.value),"aria-describedby":"password-helper-text"})]}):(0,a.jsx)(l.xu,{display:"flex",backgroundColor:"light"==nF?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content",children:(0,a.jsxs)(l.xu,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2",children:[(0,a.jsxs)(d.x,{as:"div",mt:2,fontWeight:"semibold",children:["Current Contents:  ",(0,a.jsx)("button",{onClick:()=>{nU([],eu,e=>{eI(!1),eA(e)})},children:" [Refresh Balances]"})]}),(0,a.jsxs)(d.x,{as:"p",color:"dark"==nF?"lightgreen":"forestgreen",children:["$",Number(ez.toFixed(4)).toLocaleString()]}),eE.length?eE.map(t=>(0,a.jsx)(o.K,{children:(0,a.jsx)(J.Z,{colorMode:nF,coin:t,mine:"claimed"===e4&&e6===e||e1,onRenew:n$,hideAsset:nQ})})):(0,a.jsx)(E.Z,{}),eH.length?eH.map(e=>(0,a.jsxs)(d.x,{children:["Data: ",e.attribute_key]})):eH.length||eE.length?null:(0,a.jsx)(d.x,{children:"Nothing in here! Fill 'er up!"})]})})}),(0,a.jsx)(x.x,{children:(0,a.jsx)($.Z,{colorMode:nF,attributes:eP})})]})]}),eK?null:(0,a.jsx)(l.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(S.h,{justifyContent:"space-between",spacing:6,children:(0,a.jsxs)(o.K,{children:[(0,a.jsx)(d.x,{children:"Deposit Addresses"}),(0,a.jsx)(r.k,{w:"340px",justify:"center",flexWrap:"wrap",children:eV&&eV.length>0?eV.map(e=>(0,a.jsx)(c.z,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",onClick:()=>{e$(e.coin),eY(e.address),nC()},children:"ETH"==e.coin?e.coin+"/EVM":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":"TAP"==e.coin?"TAPROOT":e.coin},e.address)):null})]})})}),(tN||R)&&tb?(0,a.jsxs)(l.xu,{children:[(0,a.jsx)(u.r,{href:location.protocol+"//"+location.host+"/nft?id="+eu+"&key="+(tC||R),children:"Copy Gift Link"}),(0,a.jsxs)(d.x,{children:["Password: ",tC||R]})]}):null,"claimed"!==e4&&e&&eW===t&&e1&&!e5&&na&&tP?(0,a.jsx)(l.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:()=>{n1()},isDisabled:e2,children:e2?"Claiming ...":"Unlock Vault (Get Private Keys)"})}):eW===t&&("claimed"==e4||nf)&&(e6===e||e1)?(0,a.jsx)(l.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:nX,children:"Get Keys"})}):null,(0,a.jsx)(o.K,{mt:5,children:(0,a.jsxs)(a.Fragment,{children:[e1&&eQ.loaded?(0,a.jsx)(et,{handler:{address:F.q7.vaultHandler[t],abi:F.q7.vaultHandlerAbi},spending:{address:F.q7.emblemVault[t],abi:F.q7.emblemAbi},amount:0,label:"Claim Step 1: Approve Vault Claiming",watcher:eD}):null,e&&eQ.loaded?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"nft_button",onClick:()=>{nP()},children:"Advanced Operations"}),(0,a.jsx)(r.k,{w:"100%",justify:"center",flexWrap:"wrap",children:(0,a.jsxs)(b.Z,{width:"100%",isOpen:nq,children:[eW===t&&np&&"claimed"!=e4&&!nf?(0,a.jsx)(l.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:nX,children:"Get Keys (Unlocking will prevent minting)"})}):null,null,e1||e6==e?(0,a.jsx)(Q.Z,{data:nj,filename:"EmblemVault-".concat(eu,".json")}):null,tP&&"claimed"!=e4||tL!=e||eW!=t||tJ||!(eE.length<1)?null:(0,a.jsx)(c.z,{width:"100%",mt:5,onClick:()=>{n.getSigner(e).signMessage("Delete: "+eu).then(e=>{console.log("sig",e),fetch(F.HP+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:eu,signature:e,chainId:t.toString()})}).then(async function(){location.href=location.href.split("/")[0]+"/vaults"})})},children:"Delete Vault "})]})})]}):null]})})]}),ef?(0,a.jsxs)(j.U,{align:"center",children:[(0,a.jsx)(u.r,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+ef,isExternal:!0,children:"View Metadata on IPFS "}),ej?(0,a.jsx)(u.r,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+ej,isExternal:!0,children:"View Image on IPFS "}):null]}):null,e5?(0,a.jsx)(l.xu,{display:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(d.x,{children:"*This vault is sealed forever."})}):null,(0,a.jsx)(o.K,{direction:"column",align:"center",children:"claimed"==e4?(0,a.jsx)(d.x,{color:"green.500",children:"CLAIMED"}):null}),eB?(0,a.jsxs)(w.b,{status:"info",children:[(0,a.jsx)(y.z,{}),tj?"Accepting Your Gift Vault":e2?"Claiming your Vault ...":ty?"Handling Approval Flow ...":t_?"Transfering Vault ...":tX?"Minting Vault":"Validating transaction"]}):null]})}),eB?(0,a.jsx)(P.Z,{hash:eB,onComplete:()=>{z?(W(!1),location.href=location.origin+"/nft2?id="+eu):!e2||tj||tE?tE?(nG(),tO(!0),tA(!1),eD(null)):tj?(tw(!1),nK(),eD(null)):ty?(tv(!1),nK(),eD(null),location.href=location.origin+"/nft?id="+eu):t_?(tI(!1),nK(),eD(null)):tX?nM(eu,()=>{tY(!1),tF(!0),location.href=location.origin+"/nft?id="+eu}):location.href=location.origin+"/nft?id="+eu:(eD(null),e8("claimed"),e3(!1),te(e),location.href=location.origin+"/nft?id="+eu)}}):null,(0,a.jsx)(l.xu,{height:"40px"})]})]})}function es(){return(0,a.jsx)(ei,{})}}},function(e){e.O(0,[586,527,510,295,984,888,774,179],function(){return e(e.s=75169)}),_N_E=e.O()}]);