(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[945],{4338:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nft2",function(){return n(2896)}])},2896:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return et}});var a=n(85893),s=n(20967),l=n(45161),i=n(57747),o=n(93717),r=n(51343),c=n(93108),d=n(71293),u=n(32883),h=n(70959),m=n(44461),g=n(24124),p=n(84028),f=n(90889),x=n(33090),S=n(34292),w=n(78590),j=n(74153),y=n(7405),b=n(2593),v=n(28643),k=n(9008),C=n.n(k),T=n(77044),_=n(67294),N=n(11163),I=n(3124),O=n(70758),E=n.n(O),A=n(5152),R=n.n(A),P=n(68209),M=n(48120),V=n(82174),q=n(1386),z=n(11249),H=n(81354),F=n.n(H),K=n(30724),B=n.n(K),L=n(10043),U=n.n(L),W=n(11216),G=n(59192),D=n(23681),J=n(91988),Z=n(15607),$=n(99293),Q=n(62368);let X=R()(()=>Promise.all([n.e(793),n.e(233),n.e(71),n.e(800)]).then(n.bind(n,55782)),{loadableGenerated:{webpack:()=>[55782]}}),Y=R()(()=>Promise.all([n.e(793),n.e(233),n.e(6)]).then(n.bind(n,66197)),{loadableGenerated:{webpack:()=>[66197]}});function ee(){let{account:e,chainId:t,library:n}=(0,T.Ge)(),{query:k}=(0,N.useRouter)(),[O,A]=(0,_.useState)(!1),[R,H]=(0,_.useState)(null),[K,L]=(0,_.useState)(null),[ee,et]=(0,_.useState)(null),[en,ea]=(0,_.useState)(0),[es,el]=(0,_.useState)(null),[ei,eo]=(0,_.useState)(!1),[er,ec]=(0,_.useState)(!1),[ed,eu]=(0,_.useState)(k.address||!1),[eh,em]=(0,_.useState)(k.key),[eg,ep]=(0,_.useState)("true"==k.debug),[ef,ex]=(0,_.useState)(null),[eS,ew]=(0,_.useState)(k.offer||!1),[ej,ey]=(0,_.useState)(k.framed||!0),[eb,ev]=(0,_.useState)(k.id),[ek,eC]=(0,_.useState)(),[eT,e_]=(0,_.useState)(k.slideshowOnly||!1),[eN,eI]=(0,_.useState)(k.legacy||!1),[eO,eE]=(0,_.useState)(""),[eA,eR]=(0,_.useState)(""),[eP,eM]=(0,_.useState)(""),[eV,eq]=(0,_.useState)(""),[ez,eH]=(0,_.useState)(""),[eF,eK]=(0,_.useState)(""),[eB,eL]=(0,_.useState)(""),[eU,eW]=(0,_.useState)(""),[eG,eD]=(0,_.useState)([]),[eJ,eZ]=(0,_.useState)([]),[e$,eQ]=(0,_.useState)(!1),[eX,eY]=(0,_.useState)([]),[e0,e1]=(0,_.useState)([]),[e5,e7]=(0,_.useState)([]),[e2,e3]=(0,_.useState)(!1),[e4,e8]=(0,_.useState)(0),[e9,e6]=(0,_.useState)(null),[te,tt]=(0,_.useState)(null),[tn,ta]=(0,_.useState)(null),[ts,tl]=(0,_.useState)(""),[ti,to]=(0,_.useState)(""),[tr,tc]=(0,_.useState)({loaded:!1}),[td,tu]=(0,_.useState)(!1),[th,tm]=(0,_.useState)(!1),[tg,tp]=(0,_.useState)(!1),[tf,tx]=(0,_.useState)("claimed"),[tS,tw]=(0,_.useState)(!1),[tj,ty]=(0,_.useState)(null),[tb,tv]=(0,_.useState)(""),[tk,tC]=(0,_.useState)(""),[tT,t_]=(0,_.useState)(""),[tN,tI]=(0,_.useState)([]),[tO,tE]=(0,_.useState)(!1),[tA,tR]=(0,_.useState)(""),[tP,tM]=(0,_.useState)(!1),[tV,tq]=(0,_.useState)(""),[tz,tH]=(0,_.useState)(!1),[tF,tK]=(0,_.useState)(!1),[tB,tL]=(0,_.useState)(!1),[tU,tW]=(0,_.useState)(!1),[tG,tD]=(0,_.useState)(!1),[tJ,tZ]=(0,_.useState)(""),[t$,tQ]=(0,_.useState)(!1),[tX,tY]=(0,_.useState)(!1),[t0,t1]=(0,_.useState)(!1),[t5,t7]=(0,_.useState)(null),[t2,t3]=(0,_.useState)(!1),[t4,t8]=(0,_.useState)(null),[t9,t6]=(0,_.useState)(null),[ne,nt]=(0,_.useState)(null),[nn,na]=(0,_.useState)(!1),[ns,nl]=(0,_.useState)(!1),[ni,no]=(0,_.useState)(!1),[nr,nc]=(0,_.useState)(null),[nd,nu]=(0,_.useState)({name:"",image:"",metadata:""}),[nh,nm]=(0,_.useState)({collectionType:""}),[ng,np]=(0,_.useState)(!1),[nf,nx]=(0,_.useState)({name:"",image:"",metadata:""}),[nS,nw]=(0,_.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),[nj,ny]=(0,_.useState)(!1),[nb,nv]=(0,_.useState)({}),[nk,nC]=(0,_.useState)({}),[nT,n_]=(0,_.useState)(null),nN=(0,q.cq)(V.q7.vaultHandlerV8[t],V.q7.vaultHandlerV8Abi,!0),nI=(0,q.cq)(V.q7.mintVaultQuote[t],V.q7.mintVaultQuoteAbi,!0),nO=(0,q.cq)(V.q7.emblemVault[t],V.q7.emblemAbi,!0),nE=(0,q.cq)(V.q7.coval[t],V.q7.covalAbi,!0),{isOpen:nA,onOpen:nR,onClose:nP}=(0,s.q)(),{isOpen:nM,onOpen:nV,onClose:nq}=(0,s.q)(),{isOpen:nz,onToggle:nH}=(0,s.q)(),{colorMode:nF}=(0,l.If)(),[nK,nB]=(0,_.useState)(""),[nL,nU]=(0,_.useState)(!0),nW=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new P.CH(t,"ERC1155"==nh.collectionType?V.q7.erc1155Abi:"ERC721a"==nh.collectionType?V.q7.erc721aAbi:V.q7.erc721Abi,n.getSigner(e).connectUnchecked())},nG=(e,n,a)=>(console.log("check liveliness next",n),fetch(V._z+"/liveliness-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:e})}).then(async function(e){let t=await e.json();t3(t.live),console.log("Liveliness check",t)}),a(!1)),nD=()=>{tc({loaded:!1}),n.getSigner(ed||e).signMessage("Curated Minting: "+eb).then(e=>{console.log("sig",e),fetch(V._z+"/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({method:"buyWithSignedPrice",tokenId:eb,signature:e,chainId:t.toString()})}).then(async function(e){let t=await e.json();nC(t),nN.buyWithSignedPrice(t._nftAddress,t._payment,t._price,t._to,t._tokenId,t._nonce,t._signature,t.serialNumber,1).then(e=>{let{hash:t}=e;setTimeout(()=>{ta(t),tc({loaded:!0}),na(!0),nl(!0)},100)}).catch(e=>{console.log("ERROR",e),na(!1),nl(!1),tc({loaded:!0})})})}).catch(e=>{console.log("ERROR",e),na(!1),nl(!1),tc({loaded:!0})})},nJ=()=>{tc({loaded:!1}),n.getSigner(ed||e).signMessage("Curated Minting: ".concat(eb.toString())).then(n=>{fetch(V._z+"/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({method:"buyWithQuote",tokenId:eb,signature:n,chainId:t.toString()})}).then(async function(n){let a=await n.json();if(a.err&&a.msg)alert(a.msg),tc({loaded:!0});else{nC(a);let n=(1==t?await nI.quoteExternalPrice(ed||e,a._price/1e6):b.O$.from(0)).mul(b.O$.from(10).pow(6));console.log("--------   ------",a._nftAddress,a._price,a._to,a._tokenId,a._nonce,a._signature,a.serialNumber,1,{value:n}),nN.buyWithQuote(a._nftAddress,a._price,a._to,a._tokenId,a._nonce,a._signature,a.serialNumber,1,{value:n}).then(e=>{let{hash:t}=e;setTimeout(()=>{ta(t),tc({loaded:!0}),na(!0),nl(!0)},100)}).catch(e=>{console.log("ERROR",e),na(!1),nl(!1),tc({loaded:!0})})}})}).catch(e=>{console.log("ERROR",e),na(!1),nl(!1),tc({loaded:!0})})},nZ=async()=>{console.log("getvault");let t=await fetch(V._z+"/meta/"+eb+"?experimental=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),n=await t.json(),a=await z.SZ.generateJumpReport(ed||e,!0);a=Object.keys(a).map(e=>({...a[e],tokenId:e})),nv(n),tK(!1),await (0,Q._o)(n),n$(n),tE(!1),tH(!1)},n$=e=>{e.collectionAddress&&(no(!0),nc(e.collectionAddress)),e.targetAsset||e.move_targetAsset||eN||(location.href=location.origin+"/nft?id="+eb),e.ciphertextV2&&eq(e.ciphertextV2),ny(e.mintLocked&&0==e.mintLockBlock),eE(e.name),eK(e.image),e.animation_url&&eL(e.animation_url),eW(e.ownedImage||null),eH(e.description),e8(e.totalValue||0),e.values&&eD(eG.concat(e.values)),e.attributes&&eY(e.attributes.filter(e=>"key"===e.trait_type)),e.attributes&&e1(e.attributes),e7(e.addresses),eR(e.ipfs||null),eM(e.image_ipfs||null),e.targetContract&&e.targetContract.tokenId==eb&&e.targetContract.serialNumber&&A(!0),e.targetAsset&&nu(e.targetAsset),e.targetContract&&(0,z.f_)().then(n=>{let a=n.find(n=>n[t]==e.targetContract[t]);a.tokenId=e.targetContract.tokenId,a.serialNumber=e.targetContract.serialNumber,e.targetContract&&nm(a)}),e.move_targetAsset&&nx(e.move_targetAsset),e.move_targetContract&&nw(e.move_targetContract),t3(!1!=e.live),eC(e.tokenId),t8(e.nonce),t6(e.signature),nt(e.to),tt(e.network),e6("mainnet"==e.network?1:"rinkeby"==e.network?4:"goerli"==e.network?5:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),e.live||(console.log("check liveliness start"),nG(eb,e.targetContract||e.move_targetContract,t=>{t3(t),setTimeout(()=>{nG(eb,e.targetContract||e.move_targetContract,e=>{t3(e)})},3e4)})),tx(e.status),"claimed"===tf&&ty(e.claimedBy),tc({loaded:!0}),e3(e.addresses.filter(e=>e.address.includes("private:")).length>0),e.sealed?tw(!0):tw(!1)},nQ=async(e,t,n)=>{if(e$)return n(!1);eQ(!0);let a=await fetch(V._z+"/allBackingIdsForTokenId/"+t,{method:"GET",headers:{"Content-Type":"application/json"}}),s=await a.json();return console.log("response",a,s),n(s)},nX=async(e,t,n)=>{var a;let s=await fetch(V.N0+"/vault/balance/"+t,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),l=await s.json();return n((console.log("response",s,l),(null===(a=l.values)||void 0===a?void 0:a.length)>0)?l.values:e)},nY=async(e,t,n)=>{if(e$)return n(!1);eQ(!0);let a=await fetch(V.N0+"/vault/balance/"+t+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});return n((await a.json()).values)},n0=async(e,t,n,a)=>{let s=await fetch(V.HP+"/vault/balance/"+t+"/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),l=await s.json();return a((console.log("response",s,l),l.balances.length>0)?e.concat(l.balances):e)},n1=()=>{localStorage.setItem((ed||e)+"_"+t+"_"+eb+"_mintPassword",tJ)},n5=()=>{let n=localStorage.getItem((ed||e)+"_"+t+"_"+eb+"_mintPassword");n&&tG&&em(n)},n7=async(e,n,a)=>{var s=new Headers;s.append("chainid",t.toString()),s.append("Content-Type","application/json");var l=JSON.stringify({signature:e,tokenId:n});let i=await fetch(V.pU+"/sign",{method:"POST",headers:s,body:l,redirect:"follow"});return a(await i.json())};async function n2(e,t,n){let a=new J.ZP({network:"mainnet"}),s=new Z.ZP({enableOneKey:!0,network:"mainnet"}),{torusNodeEndpoints:l,torusIndexes:i}=await a.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:e}),{privKey:o}=await s.retrieveShares(l,i,"tor-us-signer-vercel",{verifier_id:e},t);return n({privateKey:o})}let n3=async(e,n,a)=>{var s=new Headers;s.append("chainId",t.toString()),s.append("service","evmetadata"),s.append("Content-Type","application/json");var l=JSON.stringify({signature:e});let i=await fetch(V.HP+"/embed/"+n,{method:"POST",headers:s,body:l,redirect:"follow"});return a(await i.json())},n4=async()=>{let n;try{if(nh[t]){if(nh.allowedName&&nh.allowed){let e=nh.allowed(eG,nh,nB);np(e)}else np(!1);if(nO=nW(nh[t]),H(await nE.decimals()),el(250*Math.pow(10,R)),L(await nE.allowance(ed||e,V.q7.vaultHandlerV8[t]).then(e=>e.toString())),et(await nE.balanceOf(ed||e).then(e=>e.toString())),Number(K)>=Number(es)?eo(!0):eo(!1),nh.name){if("ERC1155"==nh.collectionType){let t=await nO.balanceOf(ed||e,nh.tokenId).then(e=>e.toString());n=Number(t)>0?ed||e:"0x0000000000000000000000000000000000000000",Number(t)>0&&ea(t)}else ea(1),n=await nO.ownerOf("ERC721a"==nh.collectionType?nh.tokenId:eb)}else n="0x0000000000000000000000000000000000000000"}else n=await nO.ownerOf(eb);a()}catch(e){n="0x0000000000000000000000000000000000000000",a()}async function a(){ec(!0),t7(n),tu(n===(ed||e)||ne===(ed||e)&&"0x0000000000000000000000000000000000000000"===n),tm(ne===(ed||e)&&"0x0000000000000000000000000000000000000000"===n),n5()}},n8=async a=>{n.getSigner(ed||e).signMessage("Renew: "+eb).then(e=>{let n=e5.filter(e=>"NMC"==e.coin)[0].address;console.log("signature",e,a),fetch(V.HP+"/nmc/renew/"+n,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:eb,signature:e,name:a})}).then(async function(e){console.log("Requested Renew",await e.json())})})},n9=async()=>{let a;nh[t]&&(nO=nW(nh[t]),a="ERC1155"==nh.collectionType?nh.serialNumber:"ERC721a"==nh.collectionType?eb:nh.tokenId),n.getSigner(ed||e).signMessage("Claim: "+(nh[t]?a:eb)).then(e=>{tc({loaded:!1}),th&&"claimed"!=tf&&!nj&&ny(!0),n7(e,eb,e=>{n2(eb,e.token,e=>{try{var t=F().AES.decrypt(eV,e.privateKey);let n=JSON.parse(t.toString(F().enc.Utf8));tI(n.values),tv(n.phrase),e5.forEach(async e=>{"STX"==e.coin?e.key=await n6(e,n.phrase):e.key=window.phrasePathToKey(n.phrase,e.path),"BTC"==e.coin&&tC(e.key),"ETH"==e.coin&&t_(e.key)})}catch(e){alert(e),tc({loaded:!0})}tc({loaded:!0}),nV()})})})},n6=async(e,t)=>"contact emblem with this error",ae=async a=>{n.getSigner(ed||e).signMessage("HideAsset: "+eb).then(e=>{!function(e,n,a,s,l,i){fetch(V.HP+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({coin:n||null,address:a||null,name:s||null,signature:l||null})}).then(async function(t){console.log("-------",await t.json()),nX([],e,e=>(eD(e),i()))})}(eb,a.coin,a.address,a.name,e,()=>{console.log("Done hiding coin and getting new balances")})})},at=async()=>{n.getSigner(ed||e).signMessage("Embed: "+eb).then(e=>{n3(e,eb,e=>{eK(e.ownedImage)})})},an=async()=>{nh[t]?nN.claim(nh[t],"ERC721a"==nh.collectionType?eb:nh.tokenId).then(e=>{let{hash:t}=e;tp(!0),setTimeout(()=>{ta(t)},100)}):nO.burn(eb).then(e=>{let{hash:t}=e;tp(!0),setTimeout(()=>{ta(t)},100)})},aa=async()=>{if(!tP){tM(!0);var e="abcdefghijklmnopqrstuvwxyz",t="Decrypting",n=t.length,a=0,s=0,l="",i="";!function o(r){setTimeout(function(){--r?o(r):tM(!1),function(o){for(var r=0;r<n-s;r++){var c=Math.floor(e.length*Math.random()),d=e.charAt(c);l+=d}7==a&&s++,8==a&&(i+=t.charAt(s-1),a=0),tR(i+l),l=""}(0),a+=1},5)}(8*n+1)}};(0,_.useEffect)(()=>{e2||e$||!tr.loaded||!nh.showBalance||t2?!e2&&!e$&&tr.loaded&&"ERC1155"==nh.collectionType&&t2&&O&&(console.log("Not balance check, but instead backing vaults"),nQ([],eb,e=>{eZ(e),console.log("backing vault info",e)})):nY([],eb,e=>{e&&eD(e)})}),(0,_.useEffect)(()=>{(!localStorage.getItem("offline")||"false"===localStorage.getItem("offline"))&&(ed||e)&&nZ()},[]),(0,_.useEffect)(()=>{nL&&(nU(!1),as())},[nL]),(0,_.useEffect)(()=>{((ed||e)&&t&&e9&&t==e9||k.noLayout&&"true"==k.noLayout||k.slideshowOnly&&"true"==k.slideshowOnly)&&n4()}),(0,_.useEffect)(()=>{if((ed||e)&&t&&e9&&eg&&t5){let n="DEBUG Report for ".concat(eb,":\n\n");n+="Props:\n   owner: ".concat(t5,"\n   mine: ").concat(td,"\n   created by: ").concat(ne,"\n   account: ").concat(ed||e,"\n   vaultChainId: ").concat(e9,"\n   chainId: ").concat(t,"\n   sealed: ").concat(tS,"\n   approved: ").concat(er,"\n   live: ").concat(t2,"\n   mineUnMinted: ").concat(th,"\n   status: ").concat(tf,"\n   mintLockedForever: ").concat(nj,"\n")+"Can Unlock Before Mint: ".concat(e9===t&&th&&"claimed"!=tf&&!nj,"\n")+"Can Curated Mint: ".concat(ng,"\n"),ep(!1),ex(n)}},[e,t,e9,eg,t5]);let as=async()=>{let e=await (0,Q.Nj)(eb);e&&e.addresses&&e.addresses.length>0?(nv(e),n$(e),tE(!1),tH(!1),tc({loaded:!0})):"true"===localStorage.getItem("offline")&&tK(!0)};function al(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}return nr&&(nO=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new P.CH(a||V.q7.emblemVault[t],V.q7.emblemAbi,n.getSigner(ed||e).connectUnchecked())}(nr||null)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(C(),{children:[(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:site",content:"Emblem.Finance"}),(0,a.jsx)("meta",{name:"twitter:title",content:eO}),(0,a.jsx)("meta",{name:"twitter:description",content:al(ez)}),(0,a.jsx)("meta",{name:"twitter:image",content:eF}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})]}),(0,a.jsx)(X,{isOpen:nA,onClose:nP,addrCoin:ts,addrAddr:ti}),(0,a.jsx)(Y,{isOpen:nM,onClose:nq,mnemonic:tb,privKeyBTC:tk,privKeyETH:tT,privValues:tN,addresses:e5}),(0,a.jsxs)(E(),{loaded:tr.loaded,children:[(0,a.jsx)(i.xu,{height:"40px"}),tO?(0,a.jsx)(I.Z,{}):"",tz||eT||tF?tz?(0,a.jsx)(r.K,{align:"center",children:(0,a.jsxs)(d.x,{children:["THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",(0,a.jsx)(u.r,{color:"#638cd8",href:"../create",children:"CREATE ONE HERE!"})]})}):tF?(0,a.jsx)(r.K,{align:"center",children:(0,a.jsx)(d.x,{children:"You are offline and this vault is not cached"})}):null:(0,a.jsx)(o.k,{width:"full",align:"center",justifyContent:"center",children:ef?(0,a.jsx)(i.xu,{as:"pre",style:{color:"white",opacity:1},children:ef}):(0,a.jsxs)(i.xu,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:e9!=t?"orange.500":"claimed"==tf?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390,children:[(0,a.jsxs)(i.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500",children:["Vault Network: ",z.zh[e9]]}),(0,a.jsxs)(i.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center",children:[eO,!e2&&e4>0?": ~$"+e4.toLocaleString():null]}),(0,a.jsxs)(r.K,{className:"NFT-content",align:"center",children:[(0,a.jsx)(W.Z,{className:"d-block NFT-image-v3",url:eB||eF}),td&&eU?(0,a.jsx)(c.z,{onClick:()=>{at()},children:"(OWNED) Show Full Embed"}):null]}),(0,a.jsx)(r.K,{align:"center",children:(0,a.jsx)(i.xu,{mt:"2",ml:"4",lineHeight:"tight",children:(0,a.jsxs)(r.K,{children:[e9==t?(0,a.jsx)(d.x,{fontSize:"xs",children:(0,a.jsxs)(u.r,{href:"./vaults?address="+t5,children:["Owner: ",t5]})}):null,(0,a.jsx)(d.x,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md",children:(0,a.jsx)(B(),{plugins:[U()],children:al(ez)})})]})})}),(0,a.jsxs)(i.xu,{p:"6",children:[!O||nT&&nT.showBalance?(0,a.jsxs)(h.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(m.t,{mb:"1em",children:[(0,a.jsx)(g.O,{children:"Balances"}),(0,a.jsx)(g.O,{children:"Attributes"})]}),(0,a.jsxs)(p.n,{children:[(0,a.jsx)(f.x,{children:e2?(0,a.jsxs)(i.xu,{mb:5,children:[(0,a.jsx)(d.x,{pb:2,color:tA?"green.500":null,children:tA||"Contents hidden. Enter password to unlock."}),(0,a.jsx)(x.I,{type:"password",id:"vault-password",onChange:e=>(function(e){tV&&(e=tV),aa(),console.log(e5);let t=e5[0].address.replace("private:","");try{var n,a=F().AES.decrypt(t,e);JSON.parse(a.toString(F().enc.Utf8)),e3(!1),tq(e),e7((n=e,e5.forEach(e=>{if(e.address.includes("private")){let t=e.address.replace("private:","");e.address=JSON.parse(F().AES.decrypt(t,n).toString(F().enc.Utf8))}}),e5));let s=e5.filter(e=>"ETH"===e.coin)[0].address,l=e5.filter(e=>"BTC"===e.coin)[0].address;n0([],s,l,e=>{eD(e)})}catch(e){console.log("err",e)}})(e.target.value),"aria-describedby":"password-helper-text"})]}):(0,a.jsx)(i.xu,{display:"flex",backgroundColor:"light"==nF?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content",children:(0,a.jsxs)(i.xu,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2",children:[(0,a.jsxs)(d.x,{as:"h4",mt:2,fontWeight:"semibold",children:["Current Contents:  ",(0,a.jsx)("button",{onClick:()=>{nY([],eb,e=>{eQ(!1),eD(e)})},children:" [Refresh Balances]"})]}),(0,a.jsxs)(d.x,{as:"p",color:"dark"==nF?"lightgreen":"forestgreen",children:["$",Number(e4.toFixed(4)).toLocaleString()]}),eG&&eG.length?eG.map(t=>(0,a.jsx)(r.K,{children:(0,a.jsx)(G.Z,{colorMode:nF,coin:t,mine:"claimed"===tf&&tj===(ed||e)||td,onRenew:n8,hideAsset:!nd.name&&ae})})):(0,a.jsx)(I.Z,{}),eX.length?eX.map(e=>(0,a.jsxs)(d.x,{children:["Data: ",e.attribute_key]})):eX||eG?null:(0,a.jsx)(d.x,{children:"Nothing in here! Fill 'er up!"})]})})}),(0,a.jsx)(f.x,{children:(0,a.jsx)(D.Z,{colorMode:nF,attributes:e0})})]})]}):null,O&&eJ.length>0?(0,a.jsxs)(h.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(m.t,{mb:"1em",children:[(0,a.jsx)(g.O,{children:"Backing Vaults"}),(0,a.jsx)(g.O,{children:"Offers"})]}),(0,a.jsx)(p.n,{children:(0,a.jsxs)(f.x,{children:[(0,a.jsxs)(d.x,{fontSize:".8em",children:["This vault is backed by ",eJ.length," ",nd.name," "]}),eJ.map(t=>(0,a.jsxs)(S.U,{width:"100%",children:[(0,a.jsxs)(d.x,{color:t.owner==(ed||e)?"green":"",fontSize:"small",width:"60%",children:[t.owner==(ed||e)?"My":""," Vault: ",(0,a.jsx)(u.r,{href:t.internalVault,target:"_blank",children:t.tokenId})]}),(0,a.jsx)(d.x,{fontSize:"small",float:"right",width:"30%",children:(0,a.jsx)(u.r,{href:t.explorer,target:"_blank",children:"Explorer"})})]}))]})})]}):null,!t2&&td?(0,a.jsx)(d.x,{className:"warning",color:"red",fontSize:"s",children:nK}):null,(O||e2||t2)&&(!nT||!nT.showBalance)?null:(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(w.h,{justifyContent:"space-between",spacing:6,children:(0,a.jsxs)(r.K,{children:[(0,a.jsx)(d.x,{children:"Deposit Addresses"}),(0,a.jsx)(o.k,{w:"340px",justify:"center",flexWrap:"wrap",children:e5.map(e=>(0,a.jsx)(c.z,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",onClick:()=>{tl(e.coin),to(e.address),nR()},children:"ETH"==e.coin?e.coin+"":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin},e.address))})]})})}),"claimed"!==tf&&t2&&(1===e9||137===e9)?(0,a.jsxs)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:[(0,a.jsx)(c.z,{className:"nft_button",width:td&&1==e9?"33%":137==e9?"100%":"50%",m:2.5,mb:5,onClick:()=>{window.open("https://"+(4==e9?"rinkeby.":5==e9?"testnets.":"")+"opensea.io/assets/"+(137==e9?"matic/":5==e9?"goerli/":"ethereum/")+(nr||(nh[t]?nh[t]:V.q7.emblemVault[e9]))+"/"+(nh?nh.tokenId:eb),"_blank")},children:"Opensea"}),1==e9?(0,a.jsx)(c.z,{className:"nft_button",width:"50%",m:5,onClick:()=>{window.open("https://"+(4==e9?"rinkeby.":5==e9?"goerli.":"")+"looksrare.org/collections/"+(137==e9?"matic/":"")+(nr||(nh?nh[t]:V.q7.emblemVault[e9]))+"/"+(nh?nh.tokenId:eb),"_blank")},children:"LooksRare"}):null,td&&1==e9?(0,a.jsx)(c.z,{className:"nft_button",width:"33%",m:2.5,mb:5,onClick:()=>{window.open("https://app.arcade.xyz/terms/asset/".concat(nh[e9]?nh[e9]:V.q7.emblemVault[e9],"/").concat(eb),"_blank")},children:"Arcade"}):null]}):null,t2||tU||!td||e9!=t||"claimed"===tf||nn?null:(0,a.jsx)(a.Fragment,{children:nh[e9]?(0,a.jsxs)(c.z,{width:"100%",mt:5,onClick:function(){return nh.purchaseMethod&&"buyWithQuote"==nh.purchaseMethod?nJ():nD()},isDisabled:!ng||nj,children:[nj?"Mint Locked - keys accessed before mint":ng?" Mint Vault":"Please load vault to mint"," "]}):null}),t2&&"claimed"!==tf&&(ed||e)&&e9===t&&td&&!tS&&er?(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:()=>{an()},isDisabled:tg,children:tg?"Claiming ...":"Unlock Vault (Get Private Keys)"})}):e9===t&&("claimed"==tf||nj)&&(tj===(ed||e)||td)?(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:n9,children:"Get Keys"})}):null,!O||td?(0,a.jsx)(r.K,{mt:5,children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"nft_button",onClick:()=>{nH()},children:"Advanced Operations"}),(0,a.jsx)(o.k,{w:"100%",justify:"center",flexWrap:"wrap",children:(0,a.jsxs)(v.Z,{width:"100%",isOpen:nz,children:[e9===t&&th&&"claimed"!=tf&&!nj?(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:n9,children:"Get Keys (Unlocking will prevent minting)"})}):null,td||tj==(ed||e)?(0,a.jsx)($.Z,{data:nb,filename:"EmblemVault-".concat(eb,".json")}):null,t2&&"claimed"!=tf||ne!=(ed||e)||e9!=t||nn||!(eG.length<1)?null:(0,a.jsx)(c.z,{width:"100%",mt:5,onClick:()=>{n.getSigner(ed||e).signMessage("Delete: "+eb).then(e=>{console.log("sig",e),fetch(V.HP+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:eb,signature:e,chainId:t.toString()})}).then(async function(){location.href=location.href.split("/")[0]+"/vaults"})})},children:"Delete Vault "})]})})]})}):null]}),!O&&eA?(0,a.jsxs)(S.U,{align:"center",children:[(0,a.jsx)(u.r,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+eA,isExternal:!0,children:"View Metadata on IPFS "}),eP?(0,a.jsx)(u.r,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+eP,isExternal:!0,children:"View Image on IPFS "}):null]}):null,tS?(0,a.jsx)(i.xu,{display:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(d.x,{children:"*This vault is sealed forever."})}):null,(0,a.jsx)(r.K,{direction:"column",align:"center",children:"claimed"==tf?(0,a.jsx)(d.x,{color:"green.500",children:"CLAIMED"}):null}),tn?(0,a.jsxs)(j.b,{status:"info",children:[(0,a.jsx)(y.z,{}),tB?"Accepting Your Gift Vault":tg?"Claiming your Vault ...":tU?"Handling Approval Flow ...":t0?"Transfering Vault ...":ns?"Minting Vault":"Waiting for Transaction ..."]}):null]})}),tn?(0,a.jsx)(M.Z,{hash:tn,onComplete:()=>{if(!tg||tB||tX)tX?(n1(),tQ(!0),tY(!1),ta(null)):tB?(tL(!1),nZ(),ta(null)):tU?(tW(!1),nZ(),ta(null)):t0?(t1(!1),nZ(),ta(null)):((ns||nn)&&(nl(!1),ta(null),na(!1)),location.href=location.origin+"/nft2?id="+(ek||eb));else{ta(null),tx("claimed"),tp(!1),ty(ed||e);let t=eJ.length>0?eJ.find(t=>t.owner==(ed||e)):{tokenId:ek||eb};location.href=location.origin+"/nft2?id="+t.tokenId}}}):null,(0,a.jsx)(i.xu,{height:"40px"})]})]})}function et(){return(0,a.jsx)(ee,{})}}},function(e){e.O(0,[586,527,510,984,888,774,179],function(){return e(e.s=4338)}),_N_E=e.O()}]);