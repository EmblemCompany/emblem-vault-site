_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[52],{EM35:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Z}));var a=n("q1tI"),r=n.n(a),o=n("o0o1"),c=n.n(o),i=n("HaE+"),s=n("XZ7F"),u=n("mf32"),l=n("BMxC"),p=n("Weur"),d=n("Yn+B"),f=n("eJLp"),g=n("sK1y"),m=n("pboS"),b=n("wCB1"),h=n("FpzS"),v=n("IP4Q"),O=n("LqLE"),w=n("bQFp"),S=n("wZsY"),j=n("8Kt/"),y=n.n(j),k=n("Z6YE"),x=n("nOHt"),C=n("Ute3"),T=n("a6RD"),N=n.n(T),E=n("8XlW"),I=n("zIq6"),_=n("N39q"),A=n("21eR"),F=n("iBPG"),M=n("NFKh"),H=n.n(M),V=n("IujW"),P=n.n(V),L=n("wH4i"),R=n.n(L),D=n("PLxQ"),G=n("zNBI"),J=n("fksj"),K=(n("Q/0U"),n("r9y0")),W=n("diTF"),B=n("PSLY"),U=n("FGWJ"),q=r.a.createElement,z=N()((function(){return Promise.all([n.e(13),n.e(16),n.e(28)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),X=N()((function(){return Promise.all([n.e(13),n.e(16),n.e(29)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}}),Y=N()((function(){return Promise.all([n.e(13),n.e(16),n.e(30)]).then(n.bind(null,"D3uo"))}),{loadableGenerated:{webpack:function(){return["D3uo"]},modules:["./OfferModal"]}});function $(){var e=Object(k.b)(),t=e.account,n=e.chainId,o=e.library,j=Object(x.useRouter)(),T=j.query,N=Object(a.useState)(!1),M=N[0],V=N[1],L=Object(a.useState)(null),$=L[0],Q=L[1],Z=Object(a.useState)(null),ee=Z[0],te=Z[1],ne=Object(a.useState)(null),ae=ne[0],re=ne[1],oe=Object(a.useState)(null),ce=oe[0],ie=oe[1],se=Object(a.useState)(!1),ue=se[0],le=se[1],pe=Object(a.useState)(!1),de=pe[0],fe=pe[1],ge=Object(a.useState)(T.useOldMint),me=(ge[0],ge[1],Object(a.useState)(T.key)),be=me[0],he=me[1],ve=Object(a.useState)(T.offer||!1),Oe=ve[0],we=(ve[1],Object(a.useState)(T.framed||!0)),Se=we[0],je=(we[1],Object(a.useState)(T.id)),ye=je[0],ke=(je[1],Object(a.useState)(T.experimental)),xe=(ke[0],ke[1],Object(a.useState)(T.noLayout)),Ce=(xe[0],xe[1],Object(a.useState)(T.slideshowOnly||!1)),Te=Ce[0],Ne=(Ce[1],Object(a.useState)("")),Ee=Ne[0],Ie=Ne[1],_e=Object(a.useState)(""),Ae=_e[0],Fe=_e[1],Me=Object(a.useState)(""),He=Me[0],Ve=Me[1],Pe=Object(a.useState)(""),Le=Pe[0],Re=Pe[1],De=Object(a.useState)(""),Ge=De[0],Je=De[1],Ke=Object(a.useState)(""),We=Ke[0],Be=Ke[1],Ue=Object(a.useState)(""),qe=Ue[0],ze=Ue[1],Xe=Object(a.useState)([]),Ye=Xe[0],$e=Xe[1],Qe=Object(a.useState)(!1),Ze=Qe[0],et=Qe[1],tt=Object(a.useState)([]),nt=tt[0],at=tt[1],rt=Object(a.useState)([]),ot=rt[0],ct=rt[1],it=Object(a.useState)([]),st=it[0],ut=it[1],lt=Object(a.useState)(!1),pt=lt[0],dt=lt[1],ft=Object(a.useState)(0),gt=ft[0],mt=ft[1],bt=Object(a.useState)(null),ht=bt[0],vt=bt[1],Ot=Object(a.useState)(null),wt=(Ot[0],Ot[1]),St=Object(a.useState)(null),jt=St[0],yt=St[1],kt=Object(a.useState)(""),xt=kt[0],Ct=kt[1],Tt=Object(a.useState)(""),Nt=Tt[0],Et=Tt[1],It=Object(a.useState)({loaded:!1}),_t=(It[0],It[1]),At=Object(a.useState)(!1),Ft=At[0],Mt=At[1],Ht=Object(a.useState)(!1),Vt=Ht[0],Pt=Ht[1],Lt=Object(a.useState)("claimed"),Rt=Lt[0],Dt=Lt[1],Gt=Object(a.useState)(!1),Jt=Gt[0],Kt=Gt[1],Wt=Object(a.useState)(null),Bt=Wt[0],Ut=Wt[1],qt=Object(a.useState)(""),zt=qt[0],Xt=qt[1],Yt=Object(a.useState)(""),$t=Yt[0],Qt=Yt[1],Zt=Object(a.useState)(""),en=Zt[0],tn=Zt[1],nn=Object(a.useState)([]),an=nn[0],rn=nn[1],on=Object(a.useState)(!1),cn=on[0],sn=on[1],un=Object(a.useState)(""),ln=un[0],pn=un[1],dn=Object(a.useState)(!1),fn=dn[0],gn=dn[1],mn=Object(a.useState)(""),bn=mn[0],hn=mn[1],vn=Object(a.useState)(!1),On=vn[0],wn=vn[1],Sn=Object(a.useState)(!1),jn=(Sn[0],Sn[1],Object(a.useState)(!1)),yn=jn[0],kn=jn[1],xn=Object(a.useState)(!1),Cn=xn[0],Tn=xn[1],Nn=Object(a.useState)(!1),En=Nn[0],In=(Nn[1],Object(a.useState)("")),_n=In[0],An=(In[1],Object(a.useState)(!1)),Fn=An[0],Mn=An[1],Hn=Object(a.useState)(!1),Vn=Hn[0],Pn=Hn[1],Ln=Object(a.useState)(null),Rn=(Ln[0],Ln[1],Object(a.useState)(!1)),Dn=Rn[0],Gn=Rn[1],Jn=Object(a.useState)(null),Kn=Jn[0],Wn=Jn[1],Bn=Object(a.useState)(!1),Un=Bn[0],qn=Bn[1],zn=Object(a.useState)(null),Xn=zn[0],Yn=zn[1],$n=Object(a.useState)(null),Qn=$n[0],Zn=$n[1],ea=Object(a.useState)(null),ta=ea[0],na=ea[1],aa=Object(a.useState)(!1),ra=aa[0],oa=aa[1],ca=Object(a.useState)(!1),ia=ca[0],sa=ca[1],ua=Object(a.useState)(!1),la=ua[0],pa=ua[1],da=Object(a.useState)(!1),fa=(da[0],da[1]),ga=Object(a.useState)(null),ma=ga[0],ba=ga[1],ha=Object(a.useState)({name:"",image:"",metadata:""}),va=ha[0],Oa=ha[1],wa=Object(a.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),Sa=wa[0],ja=wa[1],ya=Object(a.useState)(!1),ka=ya[0],xa=ya[1],Ca=Object(a.useState)({}),Ta=(Ca[0],Ca[1]),Na=Object(A.b)(_.p.vaultHandler[n],_.p.vaultHandlerAbi,!0),Ea=Object(A.b)(_.p.vaultHandlerV8[n],_.p.vaultHandlerV8Abi,!0),Ia=Object(A.b)(_.p.emblemVault[n],_.p.emblemAbi,!0),_a=Object(A.b)(_.p.coval[n],_.p.covalAbi,!0),Aa=Object(s.a)(),Fa=Aa.isOpen,Ma=Aa.onOpen,Ha=Aa.onClose,Va=Object(s.a)(),Pa=Va.isOpen,La=Va.onOpen,Ra=Va.onClose,Da=Object(s.a)(),Ga=Da.isOpen,Ja=Da.onOpen,Ka=Da.onClose,Wa=Object(s.a)(),Ba=(Wa.isOpen,Wa.onToggle,Object(s.a)()),Ua=(Ba.isOpen,Ba.onToggle,Object(u.c)().colorMode),qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new E.a(e,_.p.erc1155Abi,o.getSigner(t).connectUnchecked())},za=function(){console.log("Delayed Minting"),oa(!1),sa(!0),pa(!0),console.log("---------@@@@@------",_.p.vaultHandler[n]);var e=st.filter((function(e){return"ETH"==e.coin}))[0].address;Na.buyWithSignature(t,ye,e,Xn,Qn).then((function(e){var t=e.hash;setTimeout((function(){yt(t),sa(!1)}),100)})).catch((function(e){sa(!1)}))},Xa=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(_.g+"/vault/balance/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,console.log("responce",r,o),!(o.balances.length>0)){e.next=11;break}return e.abrupt("return",a(o.balances));case 11:return e.abrupt("return",a(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ya=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getvault"),e.next=3,fetch(_.g+"/v2/meta/"+ye+"?experimental=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).collectionAddress&&(fa(!0),ba(n.collectionAddress)),n.name?(console.log("--------------- states -",n),$a(n),sn(!1),wn(!1)):(_t({loaded:!0}),wn(!0));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$a=function(e){Se&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+Se),e.ciphertextV2&&(Re(e.ciphertextV2),console.log("ciphertextV2",e.ciphertextV2)),Ie(e.name),Be(e.image),ze(e.ownedImage||null),Je(e.description),mt(e.totalValue||0),e.values&&$e(Ye.concat(e.values)),e.attributes&&at(e.attributes.filter((function(e){return"key"===e.trait_type}))),e.attributes&&ct(e.attributes),ut(e.addresses),Fe(e.ipfs||null),Ve(e.image_ipfs||null),e.targetContract&&e.targetContract.tokenId==ye&&V(!0),e.targetAsset&&Oa(e.targetAsset),e.targetContract&&ja(e.targetContract),e.values&&e.targetAsset&&e.values.filter((function(t){return t.coin.toLowerCase()==e.targetContract.chain&&t.name==e.targetAsset.name&&t.project==e.targetContract.name})).length>0&&xa(!0),qn(0!=e.live),Yn(e.nonce),Zn(e.signature),na(e.to),wt(e.network),vt("mainnet"==e.network?1:"rinkeby"==e.network?4:"goerli"==e.network?5:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),e.live||(console.log("check liveliness start"),function(e,t,a){console.log("check liveliness next",t);var r=t.name?_.g+"/v2/liveliness-curated":_.g+"/liveliness";fetch(r,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,qn(n.live),console.log("Liveliness check",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a(!1)}(ye,e.targetContract,(function(e){qn(e)}))),Dt(e.status),"claimed"===Rt&&Ut(e.claimedBy),_t({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;dt(t),e.sealed?Kt(!0):Kt(!1)},Qa=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ze){e.next=2;break}return e.abrupt("return",a(!1));case 2:return et(!0),e.next=5,fetch(_.g+"/vault/balance/"+n+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 5:return r=e.sent,e.next=8,r.json();case 8:if(o=e.sent,console.log("responce",r,o),!(o.balances.length>0)){e.next=14;break}return e.abrupt("return",a(t.concat(o.balances)));case 14:return e.abrupt("return",a(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Za=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a,r){var o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(_.g+"/vault/balance/"+n+"/"+a,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(i=e.sent,console.log("responce",o,i),!(i.balances.length>0)){e.next=11;break}return e.abrupt("return",r(t.concat(i.balances)));case 11:return e.abrupt("return",r(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),er=function(){var e=localStorage.getItem(t+"_"+n+"_"+ye+"_mintPassword");e&&En&&he(e)},tr=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r){var o,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainid",n.toString()),o.append("Content-Type","application/json"),i=JSON.stringify({signature:t,tokenId:a}),e.next=6,fetch(_.n+"/sign",{method:"POST",headers:o,body:i,redirect:"follow"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt("return",r(u));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function nr(e,t,n){return ar.apply(this,arguments)}function ar(){return(ar=Object(i.a)(c.a.mark((function e(t,n,a){var r,o,i,s,u,l,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new B.a({network:"mainnet"}),o=new U.a({enableOneKey:!0,network:"mainnet"}),e.next=4,r.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:t});case 4:return i=e.sent,s=i.torusNodeEndpoints,u=i.torusIndexes,e.next=9,o.retrieveShares(s,u,"tor-us-signer-vercel",{verifier_id:t},n);case 9:return l=e.sent,p=l.privKey,e.abrupt("return",a({privateKey:p}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rr=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r){var o,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainId",n.toString()),o.append("service","evmetadata"),o.append("Content-Type","application/json"),i=JSON.stringify({signature:t}),e.next=7,fetch(_.g+"/embed/"+a,{method:"POST",headers:o,body:i,redirect:"follow"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt("return",r(u));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),or=function(){var e=Object(i.a)(c.a.mark((function e(){var a,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return(o=Object(i.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Sa[n]){e.next=10;break}return console.log("@@@@@@@@@@@@@------- checking approved start","me",t,"v8",_.p.vaultHandlerV8[n]),e.next=4,Ia.isApprovedForAll(t,_.p.vaultHandlerV8[n]);case 4:r=e.sent,fe(r),console.log("@@@@@@@@@@@@@------- checking approved end","approved",r,"acceptable",En,"mine",Ft),console.log("price",ce,"decimals",$,"allowance",ee,"balance",ae,"isCovalApproved",ue),e.next=14;break;case 10:return e.next=12,Ia.isApprovedForAll(t,_.p.vaultHandler[n]);case 12:r=e.sent,fe(r);case 14:Wn(a),Mt(a===t),er();case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(){return o.apply(this,arguments)},console.log("Contract states"),!1,e.prev=4,!Sa[n]){e.next=29;break}return Ia=qa(Sa[n]),e.t0=Q,e.next=10,_a.decimals();case 10:return e.t1=e.sent,(0,e.t0)(e.t1),ie(250*Math.pow(10,$)),e.t2=te,e.next=16,_a.allowance(t,_.p.vaultHandlerV8[n]).then((function(e){return e.toString()}));case 16:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=re,e.next=21,_a.balanceOf(t).then((function(e){return e.toString()}));case 21:return e.t5=e.sent,(0,e.t4)(e.t5),Number(ee)>=Number(ce)?le(!0):le(!1),e.next=26,Ia.getOwnerOfSerial(Sa.serialNumber);case 26:a=e.sent,e.next=32;break;case 29:return e.next=31,Ia.ownerOf(ye);case 31:a=e.sent;case 32:r(),e.next=39;break;case 35:e.prev=35,e.t6=e.catch(4),a="0x0000000000000000000000000000000000000000",r();case 39:case"end":return e.stop()}}),e,null,[[4,35]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log("mine?",Ft),console.log("claiming?",Vt),console.log("accepting?",yn),console.log("acceptable",En),console.log("-----",Un,ta,t,ht,n,Rt,ia,Le)}));var cr=function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Renew: "+ye).then((function(e){var t=st.filter((function(e){return"NMC"==e.coin}))[0].address;console.log("signature",e,a),fetch(_.g+"/nmc/renew/"+t,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:ye,signature:e,name:a})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("Requested Renew",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ir=function(){var e=Object(i.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Sa[n]&&(Ia=qa(Sa[n]),a=Sa.serialNumber),o.getSigner(t).signMessage("Claim: "+(Sa[n]?a:ye)).then((function(e){tr(e,ye,(function(e){nr(ye,e.token,(function(e){var t=H.a.AES.decrypt(Le,e.privateKey),n=JSON.parse(t.toString(H.a.enc.Utf8));rn(n.values),Xt(n.phrase),st.forEach(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("STX"!=t.coin){e.next=6;break}return e.next=3,sr(t,n.phrase);case 3:t.key=e.sent,e.next=7;break;case 6:t.key=window.phrasePathToKey(n.phrase,t.path);case 7:"BTC"==t.coin&&Qt(t.key),"ETH"==t.coin&&tn(t.key);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),La()}))}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sr=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)({secretKey:n,password:""});case 2:return a=e.sent,console.log("------ stacks account -",a.accounts[0]),r=a.accounts[0],t.key=r.stxPrivateKey,e.abrupt("return",t.key);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ur=function(){var e=Object(i.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("HideAsset: "+ye).then((function(e){console.log("----------------------------------------------------------------",e),console.log(n.name,n.coin,n.address),lr(ye,n.coin,n.address,n.name,e,(function(){console.log("Done hiding coin and getting new balances")}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function lr(e,t,a,r,o,s){fetch(_.g+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({coin:t||null,address:a||null,name:r||null,signature:o||null})}).then(function(){var t=Object(i.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log("-------",a),Xa([],e,(function(e){return $e(e),s()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var pr=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Embed: "+ye).then((function(e){rr(e,ye,(function(e){Be(e.ownedImage)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dr=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Sa[n]?Ea.claim(Sa[n],Sa.tokenId).then((function(e){var t=e.hash;Pt(!0),setTimeout((function(){yt(t)}),100)})):Ia.burn(ye).then((function(e){var t=e.hash;Pt(!0),setTimeout((function(){yt(t)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fr=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,r,o,i,s,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var c=0;c<r-i;c++){var l=Math.floor(t.length*Math.random()),p=t.charAt(l);s+=p}o==a-1&&i++,o==a&&(u+=n.charAt(i-1),o=0),pn(u+s),s=""},!fn){e.next=3;break}return e.abrupt("return");case 3:gn(!0),t="abcdefghijklmnopqrstuvwxyz",5,r=(n="Decrypting").length,o=0,i=0,s="",u="",function e(t){setTimeout((function(){--t?e(t):gn(!1),l(t),o+=1}),5)}(r*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function gr(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}function mr(e){bn&&(e=bn),fr(),console.log(st);var t=st[0].address.replace("private:","");try{var n=H.a.AES.decrypt(t,e);JSON.parse(n.toString(H.a.enc.Utf8)),dt(!1),hn(e),ut(function(e){return st.forEach((function(t){if(t.address.includes("private")){var n=t.address.replace("private:","");t.address=function(e,t){var n=H.a.AES.decrypt(e,t);return JSON.parse(n.toString(H.a.enc.Utf8))}(n,e)}})),st}(e));var a=st.filter((function(e){return"ETH"===e.coin}))[0].address,r=st.filter((function(e){return"BTC"===e.coin}))[0].address;console.log("SUCCESS",st),Za([],a,r,(function(e){$e(e)}))}catch(o){console.log("WTF",o)}}return Object(a.useEffect)((function(){console.log("----"),Ya()}),[]),Object(a.useEffect)((function(){(t&&n&&ht&&n==ht||T.noLayout&&"true"==T.noLayout||T.slideshowOnly&&"true"==T.slideshowOnly)&&or()})),ma&&(Ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new E.a(e||_.p.emblemVault[n],_.p.emblemAbi,o.getSigner(t).connectUnchecked())}(ma||null)),q(r.a.Fragment,null,q(y.a,null,q("meta",{name:"twitter:card",content:"summary_large_image"}),q("meta",{name:"twitter:site",content:"Emblem.Finance"}),q("meta",{name:"twitter:title",content:Ee}),q("meta",{name:"twitter:description",content:gr(Ge)}),q("meta",{name:"twitter:image",content:We}),q("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})),q(z,{isOpen:Fa,onClose:Ha,addrCoin:xt,addrAddr:Nt}),q(X,{isOpen:Pa,onClose:Ra,mnemonic:zt,privKeyBTC:$t,privKeyETH:en,privValues:an,addresses:st}),Oe?q(Y,{isOpen:Ga,onClose:Ka,tokenId:ye,mine:Ft}):null,q(l.a,{height:"40px"}),cn?q(C.a,null):"",On||Te?Ye.length>0&&Te?q(d.a,{className:"NFT-content",align:"center"},Ye.length&&Ye.filter((function(e){return"nft"==e.type})).length>0?q(G.a,{name:Ee,image:Ye[0].image,items:Ye.filter((function(e){return e.image!==Ye[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):q(D.b,{className:"d-block w-100 NFT-image",url:We})):On?q(d.a,{align:"center"},q(w.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),q(g.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",q(m.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):null:q(p.a,{width:"full",align:"center",justifyContent:"center"},q(l.a,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:ht!=n?"orange.500":"claimed"==Rt?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},q(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500"},"Vault Network: ",F.a[ht]),q(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center"},Ee,!pt&&gt>0?": ~$"+gt.toLocaleString():null),q(d.a,{className:"NFT-content",align:"center"},q(D.b,{className:"d-block w-100 NFT-image",url:We}),Ft&&qe?q(f.a,{onClick:function(){pr()}},"(OWNED) Show Full Embed"):null),q(d.a,{align:"center"},q(l.a,{mt:"2",ml:"4",lineHeight:"tight"},q(d.a,null,q(g.a,{fontSize:"xs"},M||ht!=n?null:q(m.a,{href:"./vaults?address="+Kn},"Owner: ",Kn)),q(g.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md"},q(P.a,{plugins:[R.a],children:gr(Ge)}))))),q(l.a,{p:"6"},M?null:q(b.f,{isFitted:!0,variant:"enclosed"},q(b.c,{mb:"1em"},q(b.a,null,"Balances"),q(b.a,null,"Attributes")),q(b.e,null,q(b.d,null,pt?q(l.a,{mb:5},q(g.a,{pb:2,color:ln?"green.500":null},ln||"Contents hidden. Enter password to unlock."),q(h.a,{type:"password",id:"vault-password",onChange:function(e){return mr(e.target.value)},"aria-describedby":"password-helper-text"})):q(l.a,{d:"flex",backgroundColor:"light"==Ua?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content"},q(l.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},q(g.a,{as:"h4",mt:2,fontWeight:"semibold"},"Current Contents:  ",q("button",{onClick:function(){Qa([],ye,(function(e){et(!1),$e(e)}))}}," [Refresh Balances]")),q(g.a,{as:"p",color:"dark"==Ua?"lightgreen":"forestgreen"},"$",Number(gt.toFixed(4)).toLocaleString()),Ye.length?Ye.map((function(e){return q(d.a,null,q(J.a,{colorMode:Ua,coin:e,mine:"claimed"===Rt&&Bt===t||Ft,onRenew:cr,hideAsset:!va.name&&ur}))})):q(C.a,null),nt.length?nt.map((function(e){return q(g.a,null,"Data: ",e.attribute_key)})):nt.length||Ye.length?null:q(g.a,null,"Nothing in here! Fill 'er up!")))),q(b.d,null,q(K.a,{colorMode:Ua,attributes:ot})))),M||pt?null:q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(v.a,{justifyContent:"space-between",spacing:6},q(d.a,null,q(g.a,null,"Deposit Addresses"),q(p.a,{w:"340px",justify:"center",flexWrap:"wrap"},st.map((function(e){return q(f.a,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",key:e.address,onClick:function(){Ct(e.coin),Et(e.address),Ma()}},"ETH"==e.coin?e.coin+"":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin)})))))),M||"claimed"!==Rt&&Un&&(1===ht||4===ht||5===ht||137===ht)?q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(f.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==ht?"rinkeby.":5==ht?"testnets.":"")+"opensea.io/assets/"+(137==ht?"matic/":5==ht?"goerli/":"")+(ma||(Sa[n]?Sa[n]:_.p.emblemVault[ht]))+"/"+(Sa?Sa.tokenId:ye),"_blank")}},"Opensea"),q(f.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==ht?"rinkeby.":5==ht?"goerli.":"")+"looksrare.org/collections/"+(137==ht?"matic/":"")+(ma||(Sa?Sa[n]:_.p.emblemVault[ht]))+"/"+(Sa?Sa.tokenId:ye),"_blank")}},"LooksRare"),Oe?q(f.a,{className:"",onClick:function(){Ja()}},Ft?"My Offers":"Make an Offer"," (NFT\xb2NFT)"):null):null,M||!Ft||En||de?null:q(r.a.Fragment,null,q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(f.a,{className:"nft_button",width:"100%",onClick:function(){if(!de)return Tn(!0),void(Sa.name?(Ia=qa(Sa[n])).setApprovalForAll(_.p.vaultHandlerV8[n],!0).then((function(e){var t=e.hash;setTimeout((function(){yt(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):Tn(!1)})):Ia.setApprovalForAll(_.p.vaultHandler[n],!0).then((function(e){var t=e.hash;setTimeout((function(){yt(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):Tn(!1)})))}},"Approve Claiming"))),!M&&(Fn||be)&&En?q(l.a,null,q(m.a,{href:location.protocol+"//"+location.host+"/nft?id="+ye+"&key="+(_n||be)},"Copy Gift Link"),q(g.a,null,"Password: ",_n||be)):null,!M&&Un&&"claimed"!==Rt&&t&&ht===n&&Ft&&!Jt&&de?q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(f.a,{width:"100%",onClick:function(){dr()},isDisabled:Vt},Vt?"Claiming ...":"Claim (Crack Open Vault)")):null,M||"claimed"!=Rt||Bt!==t||ht!==n?null:q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(f.a,{width:"100%",onClick:ir},"Get Keys")),ue||Cn||ta!=t?null:q(f.a,{width:"100%",mt:5,onClick:function(){Tn(!0);var e=Sa.name?_.p.vaultHandlerV8[n]:_.p.vaultHandler[n];_a.approve(e,"100000000000000").then((function(e){var t=e.hash;yt(t)})).catch((function(e){4001==(null===e||void 0===e?void 0:e.code)&&Tn(!1)}))},type:"submit"},"Approve Coval"),M||Un||Cn||!ue||ta!=t||ht!=n||"claimed"===Rt||ia?null:q(r.a.Fragment,null,Sa.name?q(f.a,{width:"100%",mt:5,onClick:function(){o.getSigner(t).signMessage("Curated Minting: "+ye).then((function(e){console.log("sig",e),fetch(_.g+"/v2/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:ye,signature:e,chainId:n.toString()})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("WTFFFFF"),console.log(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1),Ta(n),Ea.buyWithSignedPrice(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1).then((function(e){var t=e.hash;setTimeout((function(){yt(t),sa(!0),pa(!0)}),100)})).catch((function(e){console.log("ERROR",e),sa(!1),pa(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},isDisabled:!ka}," Mint Vault "):q(f.a,{width:"100%",mt:5,onClick:function(){o.getSigner(t).signMessage("Delayed Minting: "+ye).then((function(e){console.log("sig",e),fetch(_.g+"/lazyMint",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:ye,signature:e})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("data",n.data),Zn(n.data.signature),Yn(n.data.nonce),oa(!0),setTimeout((function(){za()}),500);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Mint Vault ")),Un&&"claimed"!=Rt||ta!=t||ht!=n||ia||!(Ye.length<1)?null:q(f.a,{width:"100%",mt:5,onClick:function(){o.getSigner(t).signMessage("Delete: "+ye).then((function(e){console.log("sig",e),fetch(_.g+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:ye,signature:e,chainId:n.toString()})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:e.sent,location.href=location.href.split("/")[0]+"/vaults";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Delete Vault "),ra?q(f.a,{isDisabled:!0,type:"submit"},"Verifying Signature ..."):null,ia?q(f.a,{isDisabled:!0,type:"submit"},"Minting Vault ..."):null),!M&&Ae?q(d.a,null,q(S.a,{align:"center"},q(m.a,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+Ae,isExternal:!0},"View Metadata on IPFS "),He?q(m.a,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+He,isExternal:!0},"View Image on IPFS "):null)):null,Jt?q(l.a,{d:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(g.a,null,"*This vault is sealed forever.")):null,q(d.a,{direction:"column",align:"center"},"claimed"==Rt?q(g.a,{color:"green.500"},"CLAIMED"):null),jt?q(O.a,{status:"info"},q(O.b,null),yn?"Accepting Your Gift Vault":Vt?"Claiming your Vault ...":Cn?"Handling Approval Flow ...":Dn?"Transfering Vault ...":la?"Minting Vault":"Generating Gift Link ..."):null)),jt?q(I.a,{hash:jt,onComplete:function(){var e;!Vt||yn||Vn?Vn?(localStorage.setItem(t+"_"+n+"_"+ye+"_mintPassword",_n),Mn(!0),Pn(!1),yt(null)):yn?(kn(!1),Ya(),yt(null)):Cn?(Tn(!1),Ya(),yt(null)):Dn?(Gn(!1),Ya(),yt(null)):la||ia?(console.log("GOD SAKES REDIRECT"),pa(!1),yt(null),sa(!1),location.href=location.origin+"/nft2?id="+ye):(location.href=location.origin+"/nft2?id="+ye,console.log("--- minting",la),console.log("--- claiming",Vt),console.log("--- accepting",yn),console.log("--- preTransfering",Vn),console.log("--- approving",Cn),console.log("Unknown state")):(yt(null),Dt("claimed"),Pt(!1),Ut(t),e=function(){location.href=location.origin+"/nft?id="+ye},fetch(_.g+"/web3/selfClaimLogs?chainId="+n.toString()+"_vercel_no_cache=1",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}).then(function(){var t=Object(i.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log("Log check",a),t.abrupt("return",e());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,q(l.a,{height:"40px"}))}var Q=r.a.createElement;function Z(){return Q($,null)}},RuSG:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nft2",function(){return n("EM35")}])}},[["RuSG",1,0,11,15,23,2,4,3,5,6,7,8,9,12,14,17,18,20,19,21,25]]]);