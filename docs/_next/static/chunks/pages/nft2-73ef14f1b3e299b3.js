(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6945],{4338:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nft2",function(){return n(49706)}])},49706:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return et}});var a=n(85893),s=n(7335),l=n(45161),i=n(57747),o=n(93717),r=n(51343),c=n(93108),d=n(71293),u=n(32883),h=n(36752),m=n(77458),g=n(35232),p=n(72047),x=n(37365),f=n(33090),S=n(34292),w=n(78590),b=n(74153),j=n(7405),y=n(6089),k=n(6731),v=n(8161),C=n(9008),T=n.n(C),_=n(77044),N=n(67294),O=n(11163),E=n(71114),I=n(70758),A=n.n(I),P=n(5152),R=n.n(P),H=n(77294),V=n(64541),q=n(31238),M=n(80902),z=n(62850),F=n(81354),K=n.n(F),W=n(30724),B=n.n(W),L=n(10043),G=n.n(L),U=n(33862),D=n(74174),J=n(35649),Z=n(18974),$=n(87070),Q=n(38299);let X=R()(()=>Promise.all([n.e(749),n.e(8159),n.e(6115),n.e(2108)]).then(n.bind(n,37414)),{loadableGenerated:{webpack:()=>[37414]}}),Y=R()(()=>Promise.all([n.e(749),n.e(8159),n.e(2955)]).then(n.bind(n,81817)),{loadableGenerated:{webpack:()=>[81817]}});function ee(){let{account:e,chainId:t,library:n}=(0,_.Ge)(),{query:C}=(0,O.useRouter)(),[I,P]=(0,N.useState)(!1),[R,F]=(0,N.useState)(null),[W,L]=(0,N.useState)(null),[ee,et]=(0,N.useState)(null),[en,ea]=(0,N.useState)(0),[es,el]=(0,N.useState)(null),[ei,eo]=(0,N.useState)(!1),[er,ec]=(0,N.useState)(!1),[ed,eu]=(0,N.useState)(C.key),[eh,em]=(0,N.useState)(C.offer||!1),[eg,ep]=(0,N.useState)(C.framed||!0),[ex,ef]=(0,N.useState)(C.id),[eS,ew]=(0,N.useState)(),[eb,ej]=(0,N.useState)(C.slideshowOnly||!1),[ey,ek]=(0,N.useState)(C.legacy||!1),[ev,eC]=(0,N.useState)(""),[eT,e_]=(0,N.useState)(""),[eN,eO]=(0,N.useState)(""),[eE,eI]=(0,N.useState)(""),[eA,eP]=(0,N.useState)(""),[eR,eH]=(0,N.useState)(""),[eV,eq]=(0,N.useState)(""),[eM,ez]=(0,N.useState)(""),[eF,eK]=(0,N.useState)([]),[eW,eB]=(0,N.useState)([]),[eL,eG]=(0,N.useState)(!1),[eU,eD]=(0,N.useState)([]),[eJ,eZ]=(0,N.useState)([]),[e$,eQ]=(0,N.useState)([]),[eX,eY]=(0,N.useState)(!1),[e0,e1]=(0,N.useState)(0),[e7,e5]=(0,N.useState)(null),[e3,e4]=(0,N.useState)(null),[e2,e8]=(0,N.useState)(null),[e9,e6]=(0,N.useState)(""),[te,tt]=(0,N.useState)(""),[tn,ta]=(0,N.useState)({loaded:!1}),[ts,tl]=(0,N.useState)(!1),[ti,to]=(0,N.useState)(!1),[tr,tc]=(0,N.useState)(!1),[td,tu]=(0,N.useState)("claimed"),[th,tm]=(0,N.useState)(!1),[tg,tp]=(0,N.useState)(null),[tx,tf]=(0,N.useState)(""),[tS,tw]=(0,N.useState)(""),[tb,tj]=(0,N.useState)(""),[ty,tk]=(0,N.useState)([]),[tv,tC]=(0,N.useState)(!1),[tT,t_]=(0,N.useState)(""),[tN,tO]=(0,N.useState)(!1),[tE,tI]=(0,N.useState)(""),[tA,tP]=(0,N.useState)(!1),[tR,tH]=(0,N.useState)(!1),[tV,tq]=(0,N.useState)(!1),[tM,tz]=(0,N.useState)(!1),[tF,tK]=(0,N.useState)(""),[tW,tB]=(0,N.useState)(!1),[tL,tG]=(0,N.useState)(!1),[tU,tD]=(0,N.useState)(!1),[tJ,tZ]=(0,N.useState)(null),[t$,tQ]=(0,N.useState)(!1),[tX,tY]=(0,N.useState)(null),[t0,t1]=(0,N.useState)(null),[t7,t5]=(0,N.useState)(null),[t3,t4]=(0,N.useState)(!1),[t2,t8]=(0,N.useState)(!1),[t9,t6]=(0,N.useState)(!1),[ne,nt]=(0,N.useState)(null),[nn,na]=(0,N.useState)({name:"",image:"",metadata:""}),[ns,nl]=(0,N.useState)({collectionType:""}),[ni,no]=(0,N.useState)(!1),[nr,nc]=(0,N.useState)({name:"",image:"",metadata:""}),[nd,nu]=(0,N.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),[nh,nm]=(0,N.useState)(!1),[ng,np]=(0,N.useState)({}),[nx,nf]=(0,N.useState)({}),[nS,nw]=(0,N.useState)(null),nb=(0,M.cq)(q.q7.vaultHandlerV8[t],q.q7.vaultHandlerV8Abi,!0),nj=(0,M.cq)(q.q7.mintVaultQuote[t],q.q7.mintVaultQuoteAbi,!0),ny=(0,M.cq)(q.q7.emblemVault[t],q.q7.emblemAbi,!0),nk=(0,M.cq)(q.q7.coval[t],q.q7.covalAbi,!0),{isOpen:nv,onOpen:nC,onClose:nT}=(0,s.q)(),{isOpen:n_,onOpen:nN,onClose:nO}=(0,s.q)(),{isOpen:nE,onToggle:nI}=(0,s.q)(),{colorMode:nA}=(0,l.If)(),[nP,nR]=(0,N.useState)(""),nH=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new H.CH(t,"ERC1155"==ns.collectionType?q.q7.erc1155Abi:"ERC721a"==ns.collectionType?q.q7.erc721aAbi:q.q7.erc721Abi,n.getSigner(e).connectUnchecked())},nV=(e,n,a)=>{console.log("check liveliness next",n);let s=n&&n.name?q._z+"/liveliness-curated":q.HP+"/liveliness";return fetch(s,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:e})}).then(async function(e){let t=await e.json();tQ(t.live),console.log("Liveliness check",t)}),a(!1)},nq=()=>{ta({loaded:!1}),n.getSigner(e).signMessage("Curated Minting: "+ex).then(e=>{console.log("sig",e),fetch(q._z+"/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({method:"buyWithSignedPrice",tokenId:ex,signature:e,chainId:t.toString()})}).then(async function(e){let t=await e.json();nf(t),nb.buyWithSignedPrice(t._nftAddress,t._payment,t._price,t._to,t._tokenId,t._nonce,t._signature,t.serialNumber,1).then(e=>{let{hash:t}=e;setTimeout(()=>{e8(t),ta({loaded:!0}),t4(!0),t8(!0)},100)}).catch(e=>{console.log("ERROR",e),t4(!1),t8(!1),ta({loaded:!0})})})}).catch(e=>{console.log("ERROR",e),t4(!1),t8(!1),ta({loaded:!0})})},nM=()=>{ta({loaded:!1}),n.getSigner(e).signMessage("Curated Minting: ".concat(ex.toString())).then(n=>{fetch(q._z+"/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({method:"buyWithQuote",tokenId:ex,signature:n,chainId:t.toString()})}).then(async function(t){let n=await t.json();n.err&&n.msg?(alert(n.msg),ta({loaded:!0})):(nf(n),nj.quoteExternalPrice(e,n._price/1e6).then(e=>{let t=e.mul(k.O$.from(10).pow(6));console.log("--------   ------",n._nftAddress,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1,{value:t}),nb.buyWithQuote(n._nftAddress,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1,{value:t}).then(e=>{let{hash:t}=e;setTimeout(()=>{e8(t),ta({loaded:!0}),t4(!0),t8(!0)},100)}).catch(e=>{console.log("ERROR",e),t4(!1),t8(!1),ta({loaded:!0})})}))})}).catch(e=>{console.log("ERROR",e),t4(!1),t8(!1),ta({loaded:!0})})},nz=async(e,t,n)=>{let a=await fetch(q.HP+"/vault/balance/"+t,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),s=await a.json();return n((console.log("response",a,s),s.balances.length>0)?s.balances:e)},nF=async()=>{console.log("getvault");let e=await fetch(q._z+"/meta/"+ex+"?experimental=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),t=await e.json();np(t),t.collectionAddress&&(t6(!0),nt(t.collectionAddress)),t.name?(console.log("--------------- states -",t),nK(t),tC(!1),tP(!1)):(ta({loaded:!0}),tP(!0))},nK=e=>{e.targetAsset||e.move_targetAsset||ey||(location.href=location.origin+"/nft?id="+ex),e.ciphertextV2&&eI(e.ciphertextV2),nm(e.mintLocked&&0==e.mintLockBlock),eC(e.name),eH(e.image),e.animation_url&&eq(e.animation_url),ez(e.ownedImage||null),eP(e.description),e1(e.totalValue||0),e.values&&eK(eF.concat(e.values)),e.attributes&&eD(e.attributes.filter(e=>"key"===e.trait_type)),e.attributes&&eZ(e.attributes),eQ(e.addresses),e_(e.ipfs||null),eO(e.image_ipfs||null),e.targetContract&&e.targetContract.tokenId==ex&&e.targetContract.serialNumber&&P(!0),e.targetAsset&&na(e.targetAsset),e.targetContract&&(0,z.f_)().then(n=>{let a=n.find(n=>n[t]==e.targetContract[t]);a.tokenId=e.targetContract.tokenId,a.serialNumber=e.targetContract.serialNumber,e.targetContract&&nl(a)}),e.move_targetAsset&&nc(e.move_targetAsset),e.move_targetContract&&nu(e.move_targetContract),tQ(!1!=e.live),ew(e.tokenId),tY(e.nonce),t1(e.signature),t5(e.to),e4(e.network),e5("mainnet"==e.network?1:"rinkeby"==e.network?4:"goerli"==e.network?5:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),e.live||(console.log("check liveliness start"),nV(ex,e.targetContract||e.move_targetContract,e=>{tQ(e)})),tu(e.status),"claimed"===td&&tp(e.claimedBy),ta({loaded:!0}),eY(e.addresses.filter(e=>e.address.includes("private:")).length>0),e.sealed?tm(!0):tm(!1)},nW=async(e,t,n)=>{if(eL)return n(!1);eG(!0);let a=await fetch(q._z+"/allBackingIdsForTokenId/"+t,{method:"GET",headers:{"Content-Type":"application/json"}}),s=await a.json();return console.log("response",a,s),n(s)},nB=async(e,t,n)=>{if(eL)return n(!1);eG(!0);let a=await fetch(q.HP+"/vault/balance/"+t+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),s=await a.json();return console.log("response",a,s),n(s.balances)},nL=async(e,t,n,a)=>{let s=await fetch(q.HP+"/vault/balance/"+t+"/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),l=await s.json();return a((console.log("response",s,l),l.balances.length>0)?e.concat(l.balances):e)},nG=()=>{localStorage.setItem(e+"_"+t+"_"+ex+"_mintPassword",tF)},nU=()=>{let n=localStorage.getItem(e+"_"+t+"_"+ex+"_mintPassword");n&&tM&&eu(n)},nD=async(e,n,a)=>{var s=new Headers;s.append("chainid",t.toString()),s.append("Content-Type","application/json");var l=JSON.stringify({signature:e,tokenId:n});let i=await fetch(q.pU+"/sign",{method:"POST",headers:s,body:l,redirect:"follow"}),o=await i.json();return a(o)};async function nJ(e,t,n){let a=new Z.ZP({network:"mainnet"}),s=new $.ZP({enableOneKey:!0,network:"mainnet"}),{torusNodeEndpoints:l,torusIndexes:i}=await a.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:e}),{privKey:o}=await s.retrieveShares(l,i,"tor-us-signer-vercel",{verifier_id:e},t);return n({privateKey:o})}let nZ=async(e,n,a)=>{var s=new Headers;s.append("chainId",t.toString()),s.append("service","evmetadata"),s.append("Content-Type","application/json");var l=JSON.stringify({signature:e});let i=await fetch(q.HP+"/embed/"+n,{method:"POST",headers:s,body:l,redirect:"follow"}),o=await i.json();return a(o)},n$=async()=>{let n;try{if(ns[t]){if(ns.allowedName&&ns.allowed&&eF&&eF.length>0){let e=ns.allowedName(eF[0].name,ns,nn,nR)&&ns.allowed(eF,ns,nR);no(e)}else no(!1);if(ny=nH(ns[t]),F(await nk.decimals()),el(250*Math.pow(10,R)),L(await nk.allowance(e,q.q7.vaultHandlerV8[t]).then(e=>e.toString())),et(await nk.balanceOf(e).then(e=>e.toString())),Number(W)>=Number(es)?eo(!0):eo(!1),ns.name){if("ERC1155"==ns.collectionType){let t=await ny.balanceOf(e,ns.tokenId).then(e=>e.toString());n=Number(t)>0?e:"0x0000000000000000000000000000000000000000",Number(t)>0&&ea(t)}else ea(1),n=await ny.ownerOf("ERC721a"==ns.collectionType?ns.tokenId:ex)}else n="0x0000000000000000000000000000000000000000"}else n=await ny.ownerOf(ex);a()}catch(e){n="0x0000000000000000000000000000000000000000",a()}async function a(){ec(!0),tZ(n),tl(n===e||t7===e&&"0x0000000000000000000000000000000000000000"===n),to(t7===e&&"0x0000000000000000000000000000000000000000"===n),nU()}},nQ=async a=>{n.getSigner(e).signMessage("Renew: "+ex).then(e=>{let n=e$.filter(e=>"NMC"==e.coin)[0].address;console.log("signature",e,a),fetch(q.HP+"/nmc/renew/"+n,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:ex,signature:e,name:a})}).then(async function(e){console.log("Requested Renew",await e.json())})})},nX=async()=>{let a;ns[t]&&(ny=nH(ns[t]),a="ERC1155"==ns.collectionType?ns.serialNumber:"ERC721a"==ns.collectionType?ex:ns.tokenId),n.getSigner(e).signMessage("Claim: "+(ns[t]?a:ex)).then(e=>{ta({loaded:!1}),ti&&"claimed"!=td&&!nh&&nm(!0),nD(e,ex,e=>{nJ(ex,e.token,e=>{try{var t=K().AES.decrypt(eE,e.privateKey);let n=JSON.parse(t.toString(K().enc.Utf8));tk(n.values),tf(n.phrase),e$.forEach(async e=>{"STX"==e.coin?e.key=await nY(e,n.phrase):e.key=window.phrasePathToKey(n.phrase,e.path),"BTC"==e.coin&&tw(e.key),"ETH"==e.coin&&tj(e.key)})}catch(e){alert(e),ta({loaded:!0})}ta({loaded:!0}),nN()})})})},nY=async(e,t)=>"contact emblem with this error",n0=async a=>{n.getSigner(e).signMessage("HideAsset: "+ex).then(e=>{!function(e,n,a,s,l,i){fetch(q.HP+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({coin:n||null,address:a||null,name:s||null,signature:l||null})}).then(async function(t){console.log("-------",await t.json()),nz([],e,e=>(eK(e),i()))})}(ex,a.coin,a.address,a.name,e,()=>{console.log("Done hiding coin and getting new balances")})})},n1=async()=>{n.getSigner(e).signMessage("Embed: "+ex).then(e=>{nZ(e,ex,e=>{eH(e.ownedImage)})})},n7=async()=>{ns[t]?nb.claim(ns[t],"ERC721a"==ns.collectionType?ex:ns.tokenId).then(e=>{let{hash:t}=e;tc(!0),setTimeout(()=>{e8(t)},100)}):ny.burn(ex).then(e=>{let{hash:t}=e;tc(!0),setTimeout(()=>{e8(t)},100)})},n5=async()=>{if(!tN){tO(!0);var e="abcdefghijklmnopqrstuvwxyz",t="Decrypting",n=t.length,a=0,s=0,l="",i="";!function o(r){setTimeout(function(){--r?o(r):tO(!1),function(o){for(var r=0;r<n-s;r++){var c=Math.floor(e.length*Math.random());l+=e.charAt(c)}7==a&&s++,8==a&&(i+=t.charAt(s-1),a=0),t_(i+l),l=""}(0),a+=1},5)}(8*n+1)}};function n3(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}return(0,N.useEffect)(()=>{eX||eL||!tn.loaded||!ns.showBalance||t$?!eX&&!eL&&tn.loaded&&"ERC1155"==ns.collectionType&&t$&&I&&(console.log("Not balance check, but instead backing vaults"),nW([],ex,e=>{eB(e),console.log("backing vault info",e)})):nB([],ex,e=>{e&&eK(e)})}),(0,N.useEffect)(()=>{e&&nF()},[]),(0,N.useEffect)(()=>{(e&&t&&e7&&t==e7||C.noLayout&&"true"==C.noLayout||C.slideshowOnly&&"true"==C.slideshowOnly)&&n$()}),ne&&(ny=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new H.CH(a||q.q7.emblemVault[t],q.q7.emblemAbi,n.getSigner(e).connectUnchecked())}(ne||null)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(T(),{children:[(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:site",content:"Emblem.Finance"}),(0,a.jsx)("meta",{name:"twitter:title",content:ev}),(0,a.jsx)("meta",{name:"twitter:description",content:n3(eA)}),(0,a.jsx)("meta",{name:"twitter:image",content:eR}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})]}),(0,a.jsx)(X,{isOpen:nv,onClose:nT,addrCoin:e9,addrAddr:te}),(0,a.jsx)(Y,{isOpen:n_,onClose:nO,mnemonic:tx,privKeyBTC:tS,privKeyETH:tb,privValues:ty,addresses:e$}),(0,a.jsxs)(A(),{loaded:tn.loaded,children:[(0,a.jsx)(i.xu,{height:"40px"}),tv?(0,a.jsx)(E.Z,{}):"",tA||eb?tA?(0,a.jsxs)(r.K,{align:"center",children:[(0,a.jsx)(y.E,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),(0,a.jsxs)(d.x,{children:["THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",(0,a.jsx)(u.r,{color:"#638cd8",href:"../create",children:"CREATE ONE HERE!"})]})]}):null:(0,a.jsx)(o.k,{width:"full",align:"center",justifyContent:"center",children:(0,a.jsxs)(i.xu,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:e7!=t?"orange.500":"claimed"==td?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390,children:[(0,a.jsxs)(i.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500",children:["Vault Network: ",z.zh[e7]]}),(0,a.jsxs)(i.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center",children:[ev,!eX&&e0>0?": ~$"+e0.toLocaleString():null]}),(0,a.jsxs)(r.K,{className:"NFT-content",align:"center",children:[(0,a.jsx)(U.Z,{className:"d-block NFT-image-v3",url:eV||eR}),ts&&eM?(0,a.jsx)(c.z,{onClick:()=>{n1()},children:"(OWNED) Show Full Embed"}):null]}),(0,a.jsx)(r.K,{align:"center",children:(0,a.jsx)(i.xu,{mt:"2",ml:"4",lineHeight:"tight",children:(0,a.jsxs)(r.K,{children:[ts&&e7==t?(0,a.jsx)(d.x,{fontSize:"xs",children:(0,a.jsxs)(u.r,{href:"./vaults?address="+tJ,children:["Owner: ",tJ]})}):null,(0,a.jsx)(d.x,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md",children:(0,a.jsx)(B(),{plugins:[G()],children:n3(eA)})})]})})}),(0,a.jsxs)(i.xu,{p:"6",children:[!I||nS&&nS.showBalance?(0,a.jsxs)(h.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(m.t,{mb:"1em",children:[(0,a.jsx)(g.O,{children:"Balances"}),(0,a.jsx)(g.O,{children:"Attributes"})]}),(0,a.jsxs)(p.n,{children:[(0,a.jsx)(x.x,{children:eX?(0,a.jsxs)(i.xu,{mb:5,children:[(0,a.jsx)(d.x,{pb:2,color:tT?"green.500":null,children:tT||"Contents hidden. Enter password to unlock."}),(0,a.jsx)(f.I,{type:"password",id:"vault-password",onChange:e=>(function(e){tE&&(e=tE),n5(),console.log(e$);let t=e$[0].address.replace("private:","");try{var n,a=K().AES.decrypt(t,e);JSON.parse(a.toString(K().enc.Utf8)),eY(!1),tI(e),eQ((n=e,e$.forEach(e=>{if(e.address.includes("private")){let t=e.address.replace("private:","");e.address=JSON.parse(K().AES.decrypt(t,n).toString(K().enc.Utf8))}}),e$));let s=e$.filter(e=>"ETH"===e.coin)[0].address,l=e$.filter(e=>"BTC"===e.coin)[0].address;nL([],s,l,e=>{eK(e)})}catch(e){console.log("err",e)}})(e.target.value),"aria-describedby":"password-helper-text"})]}):(0,a.jsx)(i.xu,{display:"flex",backgroundColor:"light"==nA?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content",children:(0,a.jsxs)(i.xu,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2",children:[(0,a.jsxs)(d.x,{as:"h4",mt:2,fontWeight:"semibold",children:["Current Contents:  ",(0,a.jsx)("button",{onClick:()=>{nB([],ex,e=>{eG(!1),eK(e)})},children:" [Refresh Balances]"})]}),(0,a.jsxs)(d.x,{as:"p",color:"dark"==nA?"lightgreen":"forestgreen",children:["$",Number(e0.toFixed(4)).toLocaleString()]}),eF.length?eF.map(t=>(0,a.jsx)(r.K,{children:(0,a.jsx)(D.Z,{colorMode:nA,coin:t,mine:"claimed"===td&&tg===e||ts,onRenew:nQ,hideAsset:!nn.name&&n0})})):(0,a.jsx)(E.Z,{}),eU.length?eU.map(e=>(0,a.jsxs)(d.x,{children:["Data: ",e.attribute_key]})):eU.length||eF.length?null:(0,a.jsx)(d.x,{children:"Nothing in here! Fill 'er up!"})]})})}),(0,a.jsx)(x.x,{children:(0,a.jsx)(J.Z,{colorMode:nA,attributes:eJ})})]})]}):null,I&&eW.length>0?(0,a.jsxs)(h.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(m.t,{mb:"1em",children:[(0,a.jsx)(g.O,{children:"Backing Vaults"}),(0,a.jsx)(g.O,{children:"Offers"})]}),(0,a.jsx)(p.n,{children:(0,a.jsxs)(x.x,{children:[(0,a.jsxs)(d.x,{fontSize:".8em",children:["This vault is backed by ",eW.length," ",nn.name," "]}),eW.map(t=>(0,a.jsxs)(S.U,{width:"100%",children:[(0,a.jsxs)(d.x,{color:t.owner==e?"green":"",fontSize:"small",width:"60%",children:[t.owner==e?"My":""," Vault: ",(0,a.jsx)(u.r,{href:t.internalVault,target:"_blank",children:t.tokenId})]}),(0,a.jsx)(d.x,{fontSize:"small",float:"right",width:"30%",children:(0,a.jsx)(u.r,{href:t.explorer,target:"_blank",children:"Explorer"})})]}))]})})]}):null,!t$&&ts?(0,a.jsx)(d.x,{className:"warning",color:"red",fontSize:"s",children:nP}):null,(I||eX||t$)&&(!nS||!nS.showBalance)?null:(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(w.h,{justifyContent:"space-between",spacing:6,children:(0,a.jsxs)(r.K,{children:[(0,a.jsx)(d.x,{children:"Deposit Addresses"}),(0,a.jsx)(o.k,{w:"340px",justify:"center",flexWrap:"wrap",children:e$.map(e=>(0,a.jsx)(c.z,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",onClick:()=>{e6(e.coin),tt(e.address),nC()},children:"ETH"==e.coin?e.coin+"":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin},e.address))})]})})}),"claimed"!==td&&t$&&(1===e7||137===e7)?(0,a.jsxs)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:[(0,a.jsx)(c.z,{className:"nft_button",width:ts&&1==e7?"33%":137==e7?"100%":"50%",m:2.5,mb:5,onClick:()=>{window.open("https://"+(4==e7?"rinkeby.":5==e7?"testnets.":"")+"opensea.io/assets/"+(137==e7?"matic/":5==e7?"goerli/":"ethereum/")+(ne||(ns[t]?ns[t]:q.q7.emblemVault[e7]))+"/"+(ns?ns.tokenId:ex),"_blank")},children:"Opensea"}),1==e7?(0,a.jsx)(c.z,{className:"nft_button",width:"50%",m:5,onClick:()=>{window.open("https://"+(4==e7?"rinkeby.":5==e7?"goerli.":"")+"looksrare.org/collections/"+(137==e7?"matic/":"")+(ne||(ns?ns[t]:q.q7.emblemVault[e7]))+"/"+(ns?ns.tokenId:ex),"_blank")},children:"LooksRare"}):null,ts&&1==e7?(0,a.jsx)(c.z,{className:"nft_button",width:"33%",m:2.5,mb:5,onClick:()=>{window.open("https://app.arcade.xyz/terms/asset/".concat(ns[e7]?ns[e7]:q.q7.emblemVault[e7],"/").concat(ex),"_blank")},children:"Arcade"}):null]}):null,t$||tV||!ts||e7!=t||"claimed"===td||t3?null:(0,a.jsx)(a.Fragment,{children:ns[e7]?(0,a.jsxs)(c.z,{width:"100%",mt:5,onClick:function(){return ns.purchaseMethod&&"buyWithQuote"==ns.purchaseMethod?nM():nq()},isDisabled:!ni||nh,children:[nh?"Mint Locked - keys accessed before mint":ni?" Mint Vault":"Please load vault to mint"," "]}):null}),t$&&"claimed"!==td&&e&&e7===t&&ts&&!th&&er?(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:()=>{n7()},isDisabled:tr,children:tr?"Claiming ...":"Unlock Vault (Get Private Keys)"})}):e7===t&&("claimed"==td||nh)&&(tg===e||ts)?(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:nX,children:"Get Keys"})}):null,!I||ts?(0,a.jsx)(r.K,{mt:5,children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"nft_button",onClick:()=>{nI()},children:"Advanced Operations"}),(0,a.jsx)(o.k,{w:"100%",justify:"center",flexWrap:"wrap",children:(0,a.jsxs)(v.Z,{width:"100%",isOpen:nE,children:[e7===t&&ti&&"claimed"!=td&&!nh?(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:nX,children:"Get Keys (Unlocking will prevent minting)"})}):null,ts||tg==e?(0,a.jsx)(Q.Z,{data:ng,filename:"EmblemVault-".concat(ex,".json")}):null,t$&&"claimed"!=td||t7!=e||e7!=t||t3||!(eF.length<1)?null:(0,a.jsx)(c.z,{width:"100%",mt:5,onClick:()=>{n.getSigner(e).signMessage("Delete: "+ex).then(e=>{console.log("sig",e),fetch(q.HP+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:ex,signature:e,chainId:t.toString()})}).then(async function(){location.href=location.href.split("/")[0]+"/vaults"})})},children:"Delete Vault "})]})})]})}):null]}),!I&&eT?(0,a.jsxs)(S.U,{align:"center",children:[(0,a.jsx)(u.r,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+eT,isExternal:!0,children:"View Metadata on IPFS "}),eN?(0,a.jsx)(u.r,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+eN,isExternal:!0,children:"View Image on IPFS "}):null]}):null,th?(0,a.jsx)(i.xu,{display:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(d.x,{children:"*This vault is sealed forever."})}):null,(0,a.jsx)(r.K,{direction:"column",align:"center",children:"claimed"==td?(0,a.jsx)(d.x,{color:"green.500",children:"CLAIMED"}):null}),e2?(0,a.jsxs)(b.b,{status:"info",children:[(0,a.jsx)(j.z,{}),tR?"Accepting Your Gift Vault":tr?"Claiming your Vault ...":tV?"Handling Approval Flow ...":tU?"Transfering Vault ...":t2?"Minting Vault":"Waiting for Transaction ..."]}):null]})}),e2?(0,a.jsx)(V.Z,{hash:e2,onComplete:()=>{if(!tr||tR||tL)tL?(nG(),tB(!0),tG(!1),e8(null)):tR?(tH(!1),nF(),e8(null)):tV?(tq(!1),nF(),e8(null)):tU?(tD(!1),nF(),e8(null)):((t2||t3)&&(t8(!1),e8(null),t4(!1)),location.href=location.origin+"/nft2?id="+(eS||ex));else{e8(null),tu("claimed"),tc(!1),tp(e);let t=eW.length>0?eW.find(t=>t.owner==e):{tokenId:eS||ex};location.href=location.origin+"/nft2?id="+t.tokenId}}}):null,(0,a.jsx)(i.xu,{height:"40px"})]})]})}function et(){return(0,a.jsx)(ee,{})}}},function(e){e.O(0,[3714,758,7119,3216,3363,4250,7951,9774,2888,179],function(){return e(e.s=4338)}),_N_E=e.O()}]);