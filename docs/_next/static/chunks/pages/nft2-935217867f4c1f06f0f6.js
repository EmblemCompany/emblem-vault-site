_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[52],{EM35:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return te}));var a=n("q1tI"),r=n.n(a),o=n("o0o1"),c=n.n(o),i=n("HaE+"),s=n("XZ7F"),l=n("mf32"),u=n("BMxC"),d=n("Weur"),f=n("Yn+B"),p=n("eJLp"),g=n("sK1y"),m=n("pboS"),b=n("wCB1"),h=n("FpzS"),v=n("IP4Q"),w=n("MKZ1"),O=n("jgTY"),j=n("LqLE"),S=n("bQFp"),y=n("wZsY"),k=n("8Kt/"),x=n.n(k),C=n("Z6YE"),T=n("nOHt"),N=n("Ute3"),E=n("a6RD"),I=n.n(E),_=n("iBPG"),A=n("8XlW"),F=n("zIq6"),M=n("N39q"),H=n("21eR"),V=n("NFKh"),P=n.n(V),L=n("IujW"),D=n.n(L),R=n("wH4i"),G=n.n(R),J=n("PLxQ"),K=n("zNBI"),W=n("fksj"),B=(n("Q/0U"),n("r9y0")),U=n("diTF"),q=n("PSLY"),z=n("FGWJ"),X=r.a.createElement,Y=I()((function(){return Promise.all([n.e(16),n.e(18),n.e(30)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),$=I()((function(){return Promise.all([n.e(16),n.e(18),n.e(31)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}}),Q=I()((function(){return Promise.all([n.e(16),n.e(18),n.e(32)]).then(n.bind(null,"D3uo"))}),{loadableGenerated:{webpack:function(){return["D3uo"]},modules:["./OfferModal"]}});function Z(){var e=Object(C.b)(),t=e.account,n=e.chainId,o=e.library,k=Object(T.useRouter)(),E=k.query,I=Object(a.useState)(null),V=I[0],L=I[1],R=Object(a.useState)(null),Z=R[0],ee=R[1],te=Object(a.useState)(null),ne=te[0],ae=te[1],re=Object(a.useState)(null),oe=re[0],ce=re[1],ie=Object(a.useState)(!1),se=ie[0],le=ie[1],ue=Object(a.useState)(!1),de=ue[0],fe=ue[1],pe=Object(a.useState)(E.useOldMint),ge=(pe[0],pe[1],Object(a.useState)(E.key)),me=ge[0],be=ge[1],he=Object(a.useState)(E.offer||!1),ve=he[0],we=(he[1],Object(a.useState)(E.framed||!0)),Oe=we[0],je=(we[1],Object(a.useState)(E.id)),Se=je[0],ye=(je[1],Object(a.useState)(E.experimental)),ke=(ye[0],ye[1],Object(a.useState)(E.noLayout)),xe=(ke[0],ke[1],Object(a.useState)(E.slideshowOnly||!1)),Ce=xe[0],Te=(xe[1],Object(a.useState)("")),Ne=Te[0],Ee=Te[1],Ie=Object(a.useState)(""),_e=Ie[0],Ae=Ie[1],Fe=Object(a.useState)(""),Me=Fe[0],He=Fe[1],Ve=Object(a.useState)(""),Pe=Ve[0],Le=Ve[1],De=Object(a.useState)(""),Re=De[0],Ge=De[1],Je=Object(a.useState)(""),Ke=Je[0],We=Je[1],Be=Object(a.useState)(""),Ue=Be[0],qe=Be[1],ze=Object(a.useState)([]),Xe=ze[0],Ye=ze[1],$e=Object(a.useState)(!1),Qe=$e[0],Ze=$e[1],et=Object(a.useState)([]),tt=et[0],nt=et[1],at=Object(a.useState)([]),rt=at[0],ot=at[1],ct=Object(a.useState)([]),it=ct[0],st=ct[1],lt=Object(a.useState)(!1),ut=lt[0],dt=lt[1],ft=Object(a.useState)(0),pt=ft[0],gt=ft[1],mt=Object(a.useState)(null),bt=mt[0],ht=mt[1],vt=Object(a.useState)(null),wt=(vt[0],vt[1]),Ot=Object(a.useState)(null),jt=Ot[0],St=Ot[1],yt=Object(a.useState)(""),kt=yt[0],xt=yt[1],Ct=Object(a.useState)(""),Tt=Ct[0],Nt=Ct[1],Et=Object(a.useState)({loaded:!1}),It=(Et[0],Et[1]),_t=Object(a.useState)(!1),At=_t[0],Ft=_t[1],Mt=Object(a.useState)(!1),Ht=Mt[0],Vt=Mt[1],Pt=Object(a.useState)("claimed"),Lt=Pt[0],Dt=Pt[1],Rt=Object(a.useState)(!1),Gt=Rt[0],Jt=Rt[1],Kt=Object(a.useState)(null),Wt=Kt[0],Bt=Kt[1],Ut=Object(a.useState)(""),qt=Ut[0],zt=Ut[1],Xt=Object(a.useState)(""),Yt=Xt[0],$t=Xt[1],Qt=Object(a.useState)(""),Zt=Qt[0],en=Qt[1],tn=Object(a.useState)([]),nn=tn[0],an=tn[1],rn=Object(a.useState)(!1),on=rn[0],cn=rn[1],sn=Object(a.useState)(""),ln=sn[0],un=sn[1],dn=Object(a.useState)(!1),fn=dn[0],pn=dn[1],gn=Object(a.useState)(""),mn=gn[0],bn=gn[1],hn=Object(a.useState)(!1),vn=hn[0],wn=hn[1],On=Object(a.useState)(!1),jn=(On[0],On[1],Object(a.useState)(!1)),Sn=jn[0],yn=jn[1],kn=Object(a.useState)(!1),xn=kn[0],Cn=kn[1],Tn=Object(a.useState)(!1),Nn=Tn[0],En=(Tn[1],Object(a.useState)("")),In=En[0],_n=(En[1],Object(a.useState)(!1)),An=_n[0],Fn=_n[1],Mn=Object(a.useState)(!1),Hn=Mn[0],Vn=Mn[1],Pn=Object(a.useState)(null),Ln=Pn[0],Dn=Pn[1],Rn=Object(a.useState)(!1),Gn=Rn[0],Jn=Rn[1],Kn=Object(a.useState)(null),Wn=Kn[0],Bn=Kn[1],Un=Object(a.useState)(!1),qn=Un[0],zn=Un[1],Xn=Object(a.useState)(null),Yn=Xn[0],$n=Xn[1],Qn=Object(a.useState)(null),Zn=Qn[0],ea=Qn[1],ta=Object(a.useState)(null),na=ta[0],aa=ta[1],ra=Object(a.useState)(!1),oa=ra[0],ca=ra[1],ia=Object(a.useState)(!1),sa=ia[0],la=ia[1],ua=Object(a.useState)(!1),da=ua[0],fa=ua[1],pa=Object(a.useState)(!1),ga=(pa[0],pa[1]),ma=Object(a.useState)(null),ba=ma[0],ha=ma[1],va=Object(a.useState)({name:"",image:"",metadata:""}),wa=(va[0],va[1]),Oa=Object(a.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),ja=Oa[0],Sa=Oa[1],ya=Object(a.useState)(!1),ka=ya[0],xa=ya[1],Ca=Object(a.useState)({}),Ta=(Ca[0],Ca[1]),Na=Object(H.b)(M.o.vaultHandler[n],M.o.vaultHandlerAbi,!0),Ea=Object(H.b)(M.o.vaultHandlerV8[n],M.o.vaultHandlerV8Abi,!0),Ia=Object(H.b)(M.o.emblemVault[n],M.o.emblemAbi,!0),_a=Object(H.b)(M.o.coval[n],M.o.covalAbi,!0),Aa=Object(s.a)(),Fa=Aa.isOpen,Ma=Aa.onOpen,Ha=Aa.onClose,Va=Object(s.a)(),Pa=Va.isOpen,La=Va.onOpen,Da=Va.onClose,Ra=Object(s.a)(),Ga=Ra.isOpen,Ja=Ra.onOpen,Ka=Ra.onClose,Wa=Object(s.a)(),Ba=Wa.isOpen,Ua=Wa.onToggle,qa=Object(s.a)(),za=(qa.isOpen,qa.onToggle,Object(l.c)().colorMode),Xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new A.a(e,M.o.erc1155Abi,o.getSigner(t).connectUnchecked())},Ya=function(){console.log("Delayed Minting"),ca(!1),la(!0),fa(!0),console.log("---------@@@@@------",M.o.vaultHandler[n]);var e=it.filter((function(e){return"ETH"==e.coin}))[0].address;Na.buyWithSignature(t,Se,e,Yn,Zn).then((function(e){var t=e.hash;setTimeout((function(){St(t),la(!1)}),100)})).catch((function(e){la(!1)}))},$a=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(M.g+"/vault/balance/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,console.log("responce",r,o),!(o.balances.length>0)){e.next=11;break}return e.abrupt("return",a(t.concat(o.balances)));case 11:return e.abrupt("return",a(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Qa=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getvault"),e.next=3,fetch(M.g+"/v2/meta/"+Se+"?experimental=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).collectionAddress&&(ga(!0),ha(n.collectionAddress)),n.name?(console.log("--------------- states -",n),Za(n),cn(!1),wn(!1)):(It({loaded:!0}),wn(!0));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Za=function(e){Oe&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+Oe),e.ciphertextV2&&(Le(e.ciphertextV2),console.log("ciphertextV2",e.ciphertextV2)),Ee(e.name),We(e.image),qe(e.ownedImage||null),Ge(e.description),gt(e.totalValue||0),e.values&&Ye(Xe.concat(e.values)),e.attributes&&nt(e.attributes.filter((function(e){return"key"===e.trait_type}))),e.attributes&&ot(e.attributes),st(e.addresses),Ae(e.ipfs||null),He(e.image_ipfs||null),e.targetAsset&&wa(e.targetAsset),e.targetContract&&Sa(e.targetContract),e.values&&e.targetAsset&&e.values.filter((function(t){return t.coin.toLowerCase()==e.targetContract.chain&&t.name==e.targetAsset.name&&t.project==e.targetContract.name})).length>0&&xa(!0),zn(0!=e.live),$n(e.nonce),ea(e.signature),aa(e.to),wt(e.network),ht("mainnet"==e.network?1:"rinkeby"==e.network?4:"goerli"==e.network?5:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),e.live||(console.log("check liveliness start"),function(e,t,a){console.log("check liveliness next",t);var r=t.name?M.g+"/v2/liveliness-curated":M.g+"/liveliness";fetch(r,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,zn(n.live),console.log("Liveliness check",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a(!1)}(Se,e.targetContract,(function(e){zn(e)}))),Dt(e.status),"claimed"===Lt&&Bt(e.claimedBy),It({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;dt(t),e.sealed?Jt(!0):Jt(!1)},er=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qe){e.next=2;break}return e.abrupt("return",a(!1));case 2:return Ze(!0),e.next=5,fetch(M.g+"/vault/balance/"+n+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 5:return r=e.sent,e.next=8,r.json();case 8:if(o=e.sent,console.log("responce",r,o),!(o.balances.length>0)){e.next=14;break}return e.abrupt("return",a(t.concat(o.balances)));case 14:return e.abrupt("return",a(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),tr=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a,r){var o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(M.g+"/vault/balance/"+n+"/"+a,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(i=e.sent,console.log("responce",o,i),!(i.balances.length>0)){e.next=11;break}return e.abrupt("return",r(t.concat(i.balances)));case 11:return e.abrupt("return",r(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),nr=function(){var e=localStorage.getItem(t+"_"+n+"_"+Se+"_mintPassword");e&&Nn&&be(e)},ar=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r){var o,i,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainid",n.toString()),o.append("Content-Type","application/json"),i=JSON.stringify({signature:t,tokenId:a}),e.next=6,fetch("https://tor-us-signer-vert.vercel.app/sign",{method:"POST",headers:o,body:i,redirect:"follow"});case 6:return s=e.sent,e.next=9,s.json();case 9:return l=e.sent,e.abrupt("return",r(l));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function rr(e,t,n){return or.apply(this,arguments)}function or(){return(or=Object(i.a)(c.a.mark((function e(t,n,a){var r,o,i,s,l,u,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new q.a({network:"https://rpc.ankr.com/eth_ropsten",proxyAddress:"0x6258c9d6c12ed3edda59a1a6527e469517744aa7"}),o=new z.a({enableOneKey:!0,network:"testnet"}),e.next=4,r.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:t});case 4:return i=e.sent,s=i.torusNodeEndpoints,l=i.torusIndexes,e.next=9,o.retrieveShares(s,l,"tor-us-signer-vercel",{verifier_id:t},n);case 9:return u=e.sent,d=u.privKey,e.abrupt("return",a({privateKey:d}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cr=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r){var o,i,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainId",n.toString()),o.append("service","evmetadata"),o.append("Content-Type","application/json"),i=JSON.stringify({signature:t}),e.next=7,fetch(M.g+"/embed/"+a,{method:"POST",headers:o,body:i,redirect:"follow"});case 7:return s=e.sent,e.next=10,s.json();case 10:return l=e.sent,e.abrupt("return",r(l));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ir=function(){var e=Object(i.a)(c.a.mark((function e(){var a,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return(o=Object(i.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ja[n]){e.next=10;break}return console.log("@@@@@@@@@@@@@------- checking approved start","me",t,"v8",M.o.vaultHandlerV8[n]),e.next=4,Ia.isApprovedForAll(t,M.o.vaultHandlerV8[n]);case 4:r=e.sent,fe(r),console.log("@@@@@@@@@@@@@------- checking approved end","approved",r,"acceptable",Nn,"mine",At),console.log("price",oe,"decimals",V,"allowance",Z,"balance",ne,"isCovalApproved",se),e.next=14;break;case 10:return e.next=12,Ia.isApprovedForAll(t,M.o.vaultHandler[n]);case 12:r=e.sent,fe(r);case 14:Bn(a),Ft(a===t),nr();case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(){return o.apply(this,arguments)},console.log("Contract states"),!1,e.prev=4,!ja[n]){e.next=29;break}return Ia=Xa(ja[n]),e.t0=L,e.next=10,_a.decimals();case 10:return e.t1=e.sent,(0,e.t0)(e.t1),ce(250*Math.pow(10,V)),e.t2=ee,e.next=16,_a.allowance(t,M.o.vaultHandlerV8[n]).then((function(e){return e.toString()}));case 16:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=ae,e.next=21,_a.balanceOf(t).then((function(e){return e.toString()}));case 21:return e.t5=e.sent,(0,e.t4)(e.t5),Number(Z)>=Number(oe)?le(!0):le(!1),e.next=26,Ia.getOwnerOfSerial(ja.serialNumber);case 26:a=e.sent,e.next=32;break;case 29:return e.next=31,Ia.ownerOf(Se);case 31:a=e.sent;case 32:r(),e.next=39;break;case 35:e.prev=35,e.t6=e.catch(4),a="0x0000000000000000000000000000000000000000",r();case 39:case"end":return e.stop()}}),e,null,[[4,35]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log("mine?",At),console.log("claiming?",Ht),console.log("accepting?",Sn),console.log("acceptable",Nn),console.log("-----",qn,na,t,bt,n,Lt,sa,Pe)}));var sr=function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Renew: "+Se).then((function(e){var t=it.filter((function(e){return"NMC"==e.coin}))[0].address;console.log("signature",e,a),fetch(M.g+"/nmc/renew/"+t,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:Se,signature:e,name:a})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("Requested Renew",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lr=function(){var e=Object(i.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ja[n]&&(Ia=Xa(ja[n]),a=ja.serialNumber),o.getSigner(t).signMessage("Claim: "+(ja[n]?a:Se)).then((function(e){ar(e,Se,(function(e){rr(Se,e.token,(function(e){var t=P.a.AES.decrypt(Pe,e.privateKey),n=JSON.parse(t.toString(P.a.enc.Utf8));an(n.values),zt(n.phrase),it.forEach(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("STX"!=t.coin){e.next=6;break}return e.next=3,ur(t,n.phrase);case 3:t.key=e.sent,e.next=7;break;case 6:t.key=window.phrasePathToKey(n.phrase,t.path);case 7:"BTC"==t.coin&&$t(t.key),"ETH"==t.coin&&en(t.key);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),La()}))}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ur=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.a)({secretKey:n,password:""});case 2:return a=e.sent,console.log("------ stacks account -",a.accounts[0]),r=a.accounts[0],t.key=r.stxPrivateKey,e.abrupt("return",t.key);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),dr=function(){var e=Object(i.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("HideAsset: "+Se).then((function(e){console.log("----------------------------------------------------------------",e),console.log(n.name,n.coin,n.address),fr(Se,n.coin,n.address,n.name,e,(function(){console.log("Done hiding coin and getting new balances")}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function fr(e,t,a,r,o,s){fetch(M.g+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({coin:t||null,address:a||null,name:r||null,signature:o||null})}).then(function(){var t=Object(i.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log("-------",a),$a([],e,(function(e){return Ye(e),s()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var pr=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Embed: "+Se).then((function(e){cr(e,Se,(function(e){We(e.ownedImage)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gr=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ja[n]?Ea.claim(ja[n],ja.tokenId).then((function(e){var t=e.hash;Vt(!0),setTimeout((function(){St(t)}),100)})):Ia.burn(Se).then((function(e){var t=e.hash;Vt(!0),setTimeout((function(){St(t)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mr=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,r,o,i,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e){for(var c=0;c<r-i;c++){var u=Math.floor(t.length*Math.random()),d=t.charAt(u);s+=d}o==a-1&&i++,o==a&&(l+=n.charAt(i-1),o=0),un(l+s),s=""},!fn){e.next=3;break}return e.abrupt("return");case 3:pn(!0),t="abcdefghijklmnopqrstuvwxyz",5,r=(n="Decrypting").length,o=0,i=0,s="",l="",function e(t){setTimeout((function(){--t?e(t):pn(!1),u(t),o+=1}),5)}(r*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function br(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}function hr(e){mn&&(e=mn),mr(),console.log(it);var t=it[0].address.replace("private:","");try{var n=P.a.AES.decrypt(t,e);JSON.parse(n.toString(P.a.enc.Utf8)),dt(!1),bn(e),st(function(e){return it.forEach((function(t){if(t.address.includes("private")){var n=t.address.replace("private:","");t.address=function(e,t){var n=P.a.AES.decrypt(e,t);return JSON.parse(n.toString(P.a.enc.Utf8))}(n,e)}})),it}(e));var a=it.filter((function(e){return"ETH"===e.coin}))[0].address,r=it.filter((function(e){return"BTC"===e.coin}))[0].address;console.log("SUCCESS",it),tr([],a,r,(function(e){Ye(e)}))}catch(o){console.log("WTF",o)}}return Object(a.useEffect)((function(){console.log("----"),Qa()}),[]),Object(a.useEffect)((function(){(t&&n&&bt&&n==bt||E.noLayout&&"true"==E.noLayout||E.slideshowOnly&&"true"==E.slideshowOnly)&&ir()})),ba&&(Ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new A.a(e||M.o.emblemVault[n],M.o.emblemAbi,o.getSigner(t).connectUnchecked())}(ba||null)),X(r.a.Fragment,null,X(x.a,null,X("meta",{name:"twitter:card",content:"summary_large_image"}),X("meta",{name:"twitter:site",content:"Emblem.Finance"}),X("meta",{name:"twitter:title",content:Ne}),X("meta",{name:"twitter:description",content:br(Re)}),X("meta",{name:"twitter:image",content:Ke}),X("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})),X(Y,{isOpen:Fa,onClose:Ha,addrCoin:kt,addrAddr:Tt}),X($,{isOpen:Pa,onClose:Da,mnemonic:qt,privKeyBTC:Yt,privKeyETH:Zt,privValues:nn,addresses:it}),ve?X(Q,{isOpen:Ga,onClose:Ka,tokenId:Se,mine:At}):null,X(u.a,{height:"40px"}),on?X(N.a,null):"",vn||Ce?Xe.length>0&&Ce?X(f.a,{className:"NFT-content",align:"center"},Xe.length&&Xe.filter((function(e){return"nft"==e.type})).length>0?X(K.a,{name:Ne,image:Xe[0].image,items:Xe.filter((function(e){return e.image!==Xe[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):X(J.b,{className:"d-block w-100 NFT-image",url:Ke})):vn?X(f.a,{align:"center"},X(S.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),X(g.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",X(m.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):null:X(d.a,{width:"full",align:"center",justifyContent:"center"},X(u.a,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:bt!=n?"orange.500":"claimed"==Lt?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},X(u.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500"},"Vault Network: ",_.a[bt]),X(u.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center"},Ne,!ut&&pt>0?": ~$"+pt.toLocaleString():null),X(f.a,{className:"NFT-content",align:"center"},X(J.b,{className:"d-block w-100 NFT-image",url:Ke}),At&&Ue?X(p.a,{onClick:function(){pr()}},"(OWNED) Show Full Embed"):null),X(f.a,{align:"center"},X(u.a,{mt:"2",ml:"4",lineHeight:"tight"},X(f.a,null,X(g.a,{fontSize:"xs"},bt==n?X(m.a,{href:"./vaults?address="+Wn},"Owner: ",Wn):null),X(g.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md"},X(D.a,{plugins:[G.a],children:br(Re)}))))),X(u.a,{p:"6"},X(b.f,{isFitted:!0,variant:"enclosed"},X(b.c,{mb:"1em"},X(b.a,null,"Balances"),X(b.a,null,"Attributes")),X(b.e,null,X(b.d,null,ut?X(u.a,{mb:5},X(g.a,{pb:2,color:ln?"green.500":null},ln||"Contents hidden. Enter password to unlock."),X(h.a,{type:"password",id:"vault-password",onChange:function(e){return hr(e.target.value)},"aria-describedby":"password-helper-text"})):X(u.a,{d:"flex",backgroundColor:"light"==za?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content"},X(u.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},X(g.a,{as:"h4",mt:2,fontWeight:"semibold"},"Current Contents:  ",X("button",{onClick:function(){er([],Se,(function(e){Ze(!1),Ye(e)}))}}," [Refresh Balances]")),X(g.a,{as:"p",color:"dark"==za?"lightgreen":"forestgreen"},"$",Number(pt.toFixed(4)).toLocaleString()),Xe.length?Xe.map((function(e){return X(f.a,null,X(W.a,{colorMode:za,coin:e,mine:"claimed"===Lt&&Wt===t||At,onRenew:sr,hideAsset:dr}))})):X(N.a,null),tt.length?tt.map((function(e){return X(g.a,null,"Data: ",e.attribute_key)})):tt.length||Xe.length?null:X(g.a,null,"Nothing in here! Fill 'er up!")))),X(b.d,null,X(B.a,{colorMode:za,attributes:rt})))),ut?null:X(u.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(v.a,{justifyContent:"space-between",spacing:6},X(f.a,null,X(g.a,null,"Deposit Addresses"),X(d.a,{w:"340px",justify:"center",flexWrap:"wrap"},it.map((function(e){return X(p.a,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",key:e.address,onClick:function(){xt(e.coin),Nt(e.address),Ma()}},"ETH"==e.coin?e.coin+"":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin)})))))),"claimed"===Lt||!qn||1!==bt&&4!==bt&&5!==bt&&137!==bt?null:X(u.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(p.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==bt?"rinkeby.":5==bt?"testnets.":"")+"opensea.io/assets/"+(137==bt?"matic/":5==bt?"goerli/":"")+(ba||(ja[n]?ja[n]:M.o.emblemVault[bt]))+"/"+(ja?ja.tokenId:Se),"_blank")}},"Opensea"),X(p.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==bt?"rinkeby.":5==bt?"goerli.":"")+"looksrare.org/collections/"+(137==bt?"matic/":"")+(ba||(ja?ja[n]:M.o.emblemVault[bt]))+"/"+(ja?ja.tokenId:Se),"_blank")}},"LooksRare"),ve?X(p.a,{className:"",onClick:function(){Ja()}},At?"My Offers":"Make an Offer"," (NFT\xb2NFT)"):null),qn&&"claimed"!==Lt&&At&&!Nn?X(r.a.Fragment,null,X(u.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",width:"100%"},X(f.a,{direction:"column",align:"center",width:"100%"},X(p.a,{className:"nft_button",width:"100%",onClick:Ua},"Transfer Vault"),X(w.a,{isOpen:Ba},X(u.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},X(O.a,{htmlFor:"owner-address"},"Address"),X(h.a,{mt:1,type:"text",id:"transferAddress",value:Ln||"",onChange:function(e){console.log("Transfer to",e.target.value),Dn(e.target.value)},autoComplete:"off"})),X(u.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},X(p.a,{isDisabled:!Object(_.k)(Ln),onClick:function(){Ua(),Jn(!0),Ia.transferFrom(t,Ln,Se).then((function(e){var t=e.hash;St(t)})).catch((function(e){}))}},"Transfer Now")))))):null,!At||Nn||de?null:X(r.a.Fragment,null,X(u.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(p.a,{className:"nft_button",width:"100%",onClick:function(){if(!de)return Cn(!0),void(ja.name?(Ia=Xa(ja[n])).setApprovalForAll(M.o.vaultHandlerV8[n],!0).then((function(e){var t=e.hash;setTimeout((function(){St(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):Cn(!1)})):Ia.setApprovalForAll(M.o.vaultHandler[n],!0).then((function(e){var t=e.hash;setTimeout((function(){St(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):Cn(!1)})))}},"Approve Claiming"))),(An||me)&&Nn?X(u.a,null,X(m.a,{href:location.protocol+"//"+location.host+"/nft?id="+Se+"&key="+(In||me)},"Copy Gift Link"),X(g.a,null,"Password: ",In||me)):null,qn&&"claimed"!==Lt&&t&&bt===n&&At&&!Gt?X(u.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(p.a,{width:"100%",onClick:function(){gr()},isDisabled:Ht},Ht?"Claiming ...":"Claim (Crack Open Vault)")):null,"claimed"==Lt&&Wt===t&&bt===n?X(u.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(p.a,{width:"100%",onClick:lr},"Get Keys")):null,se||xn||na!=t?null:X(p.a,{width:"100%",mt:5,onClick:function(){Cn(!0);var e=ja.name?M.o.vaultHandlerV8[n]:M.o.vaultHandler[n];_a.approve(e,"100000000000000").then((function(e){var t=e.hash;St(t)})).catch((function(e){4001==(null===e||void 0===e?void 0:e.code)&&Cn(!1)}))},type:"submit"},"Approve Coval"),qn||xn||!se||na!=t||bt!=n||"claimed"===Lt||sa?null:X(r.a.Fragment,null,ja.name?X(p.a,{width:"100%",mt:5,onClick:function(){o.getSigner(t).signMessage("Curated Minting: "+Se).then((function(e){console.log("sig",e),fetch(M.g+"/v2/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:Se,signature:e,chainId:n.toString()})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("WTFFFFF"),console.log(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1),Ta(n),Ea.buyWithSignedPrice(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1).then((function(e){var t=e.hash;setTimeout((function(){St(t),la(!0),fa(!0)}),100)})).catch((function(e){console.log("ERROR",e),la(!1),fa(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},isDisabled:!ka}," Mint Vault "):X(p.a,{width:"100%",mt:5,onClick:function(){o.getSigner(t).signMessage("Delayed Minting: "+Se).then((function(e){console.log("sig",e),fetch(M.g+"/lazyMint",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:Se,signature:e})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("data",n.data),ea(n.data.signature),$n(n.data.nonce),ca(!0),setTimeout((function(){Ya()}),500);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Mint Vault ")),qn&&"claimed"!=Lt||na!=t||bt!=n||sa||!(Xe.length<1)?null:X(p.a,{width:"100%",mt:5,onClick:function(){o.getSigner(t).signMessage("Delete: "+Se).then((function(e){console.log("sig",e),fetch(M.g+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:Se,signature:e,chainId:n.toString()})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:e.sent,location.href=location.href.split("/")[0]+"/vaults";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Delete Vault "),oa?X(p.a,{isDisabled:!0,type:"submit"},"Verifying Signature ..."):null,sa?X(p.a,{isDisabled:!0,type:"submit"},"Minting Vault ..."):null),_e?X(f.a,null,X(y.a,{align:"center"},X(m.a,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+_e,isExternal:!0},"View Metadata on IPFS "),Me?X(m.a,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+Me,isExternal:!0},"View Image on IPFS "):null)):null,Gt?X(u.a,{d:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(g.a,null,"*This vault is sealed forever.")):null,X(f.a,{direction:"column",align:"center"},"claimed"==Lt?X(g.a,{color:"green.500"},"CLAIMED"):null),jt?X(j.a,{status:"info"},X(j.b,null),Sn?"Accepting Your Gift Vault":Ht?"Claiming your Vault ...":xn?"Handling Approval Flow ...":Gn?"Transfering Vault ...":da?"Minting Vault":"Generating Gift Link ..."):null)),jt?X(F.a,{hash:jt,onComplete:function(){var e;!Ht||Sn||Hn?Hn?(localStorage.setItem(t+"_"+n+"_"+Se+"_mintPassword",In),Fn(!0),Vn(!1),St(null)):Sn?(yn(!1),Qa(),St(null)):xn?(Cn(!1),Qa(),St(null)):Gn?(Jn(!1),Qa(),St(null)):da?(console.log("GOD SAKES REDIRECT"),fa(!1),St(null),la(!1),location.href=location.origin+"/nft?id="+Se):(console.log("minting",da),console.log("claiming",Ht),console.log("accepting",Sn),console.log("preTransfering",Hn),console.log("approving",xn),console.log("Unknown state")):(St(null),Dt("claimed"),Vt(!1),Bt(t),e=function(){location.href=location.origin+"/nft?id="+Se},fetch(M.g+"/web3/selfClaimLogs?chainId="+n.toString()+"_vercel_no_cache=1",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}).then(function(){var t=Object(i.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log("Log check",a),t.abrupt("return",e());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,X(u.a,{height:"40px"}))}var ee=r.a.createElement;function te(){return ee(Z,null)}},RuSG:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nft2",function(){return n("EM35")}])}},[["RuSG",1,0,12,14,25,2,3,4,5,6,8,7,9,11,13,15,17,19,21,20,22,26]]]);