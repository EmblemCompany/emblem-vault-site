_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[52],{EM35:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return te}));var a=n("q1tI"),r=n.n(a),o=n("o0o1"),i=n.n(o),c=n("HaE+"),s=n("XZ7F"),u=n("mf32"),l=n("BMxC"),d=n("Weur"),p=n("Yn+B"),f=n("eJLp"),m=n("sK1y"),b=n("pboS"),g=n("wCB1"),h=n("FpzS"),v=n("IP4Q"),O=n("LqLE"),w=n("bQFp"),S=n("wZsY"),j=n("8Kt/"),y=n.n(j),k=n("Z6YE"),x=n("nOHt"),C=n("Ute3"),T=n("Y1ui"),N=n.n(T),E=n("a6RD"),I=n.n(E),_=n("8XlW"),A=n("zIq6"),F=n("N39q"),M=n("21eR"),H=n("iBPG"),V=n("NFKh"),P=n.n(V),L=n("IujW"),R=n.n(L),D=n("wH4i"),G=n.n(D),K=n("PLxQ"),J=n("zNBI"),W=n("fksj"),B=n("r9y0"),U=n("diTF"),q=n("PSLY"),X=n("FGWJ"),z=r.a.createElement,Y=I()((function(){return Promise.all([n.e(13),n.e(16),n.e(28)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),$=I()((function(){return Promise.all([n.e(13),n.e(16),n.e(29)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}}),Q=I()((function(){return Promise.all([n.e(13),n.e(16),n.e(30)]).then(n.bind(null,"D3uo"))}),{loadableGenerated:{webpack:function(){return["D3uo"]},modules:["./OfferModal"]}});function Z(){var e=Object(k.b)(),t=e.account,n=e.chainId,o=e.library,j=Object(x.useRouter)(),T=j.query,E=Object(a.useState)(!1),I=E[0],V=E[1],L=Object(a.useState)(null),D=L[0],Z=L[1],ee=Object(a.useState)(null),te=ee[0],ne=ee[1],ae=Object(a.useState)(null),re=(ae[0],ae[1]),oe=Object(a.useState)(null),ie=oe[0],ce=oe[1],se=Object(a.useState)(!1),ue=se[0],le=se[1],de=Object(a.useState)(!1),pe=de[0],fe=de[1],me=Object(a.useState)(T.useOldMint),be=(me[0],me[1],Object(a.useState)(T.key)),ge=(be[0],be[1]),he=Object(a.useState)(T.offer||!1),ve=he[0],Oe=(he[1],Object(a.useState)(T.framed||!0)),we=Oe[0],Se=(Oe[1],Object(a.useState)(T.id)),je=Se[0],ye=(Se[1],Object(a.useState)(T.experimental)),ke=(ye[0],ye[1],Object(a.useState)(T.noLayout)),xe=(ke[0],ke[1],Object(a.useState)(T.slideshowOnly||!1)),Ce=xe[0],Te=(xe[1],Object(a.useState)("")),Ne=Te[0],Ee=Te[1],Ie=Object(a.useState)(""),_e=Ie[0],Ae=Ie[1],Fe=Object(a.useState)(""),Me=Fe[0],He=Fe[1],Ve=Object(a.useState)(""),Pe=Ve[0],Le=Ve[1],Re=Object(a.useState)(""),De=Re[0],Ge=Re[1],Ke=Object(a.useState)(""),Je=Ke[0],We=Ke[1],Be=Object(a.useState)(""),Ue=Be[0],qe=Be[1],Xe=Object(a.useState)([]),ze=Xe[0],Ye=Xe[1],$e=Object(a.useState)(!1),Qe=$e[0],Ze=$e[1],et=Object(a.useState)([]),tt=et[0],nt=et[1],at=Object(a.useState)([]),rt=at[0],ot=at[1],it=Object(a.useState)([]),ct=it[0],st=it[1],ut=Object(a.useState)(!1),lt=ut[0],dt=ut[1],pt=Object(a.useState)(0),ft=pt[0],mt=pt[1],bt=Object(a.useState)(null),gt=bt[0],ht=bt[1],vt=Object(a.useState)(null),Ot=(vt[0],vt[1]),wt=Object(a.useState)(null),St=wt[0],jt=wt[1],yt=Object(a.useState)(""),kt=yt[0],xt=yt[1],Ct=Object(a.useState)(""),Tt=Ct[0],Nt=Ct[1],Et=Object(a.useState)({loaded:!1}),It=Et[0],_t=Et[1],At=Object(a.useState)(!1),Ft=At[0],Mt=At[1],Ht=Object(a.useState)(!1),Vt=Ht[0],Pt=Ht[1],Lt=Object(a.useState)(!1),Rt=Lt[0],Dt=Lt[1],Gt=Object(a.useState)("claimed"),Kt=Gt[0],Jt=Gt[1],Wt=Object(a.useState)(!1),Bt=Wt[0],Ut=Wt[1],qt=Object(a.useState)(null),Xt=qt[0],zt=qt[1],Yt=Object(a.useState)(""),$t=Yt[0],Qt=Yt[1],Zt=Object(a.useState)(""),en=Zt[0],tn=Zt[1],nn=Object(a.useState)(""),an=nn[0],rn=nn[1],on=Object(a.useState)([]),cn=on[0],sn=on[1],un=Object(a.useState)(!1),ln=un[0],dn=un[1],pn=Object(a.useState)(""),fn=pn[0],mn=pn[1],bn=Object(a.useState)(!1),gn=bn[0],hn=bn[1],vn=Object(a.useState)(""),On=vn[0],wn=vn[1],Sn=Object(a.useState)(!1),jn=Sn[0],yn=Sn[1],kn=Object(a.useState)(!1),xn=(kn[0],kn[1],Object(a.useState)(!1)),Cn=xn[0],Tn=xn[1],Nn=Object(a.useState)(!1),En=Nn[0],In=Nn[1],_n=Object(a.useState)(!1),An=_n[0],Fn=(_n[1],Object(a.useState)("")),Mn=Fn[0],Hn=(Fn[1],Object(a.useState)(!1)),Vn=(Hn[0],Hn[1]),Pn=Object(a.useState)(!1),Ln=Pn[0],Rn=Pn[1],Dn=Object(a.useState)(null),Gn=(Dn[0],Dn[1],Object(a.useState)(!1)),Kn=Gn[0],Jn=Gn[1],Wn=Object(a.useState)(null),Bn=Wn[0],Un=Wn[1],qn=Object(a.useState)(!1),Xn=qn[0],zn=qn[1],Yn=Object(a.useState)(null),$n=(Yn[0],Yn[1]),Qn=Object(a.useState)(null),Zn=(Qn[0],Qn[1]),ea=Object(a.useState)(null),ta=ea[0],na=ea[1],aa=Object(a.useState)(!1),ra=aa[0],oa=(aa[1],Object(a.useState)(!1)),ia=oa[0],ca=oa[1],sa=Object(a.useState)(!1),ua=sa[0],la=sa[1],da=Object(a.useState)(!1),pa=(da[0],da[1]),fa=Object(a.useState)(null),ma=fa[0],ba=fa[1],ga=Object(a.useState)({name:"",image:"",metadata:""}),ha=ga[0],va=ga[1],Oa=Object(a.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),wa=Oa[0],Sa=Oa[1],ja=Object(a.useState)(!1),ya=ja[0],ka=ja[1],xa=Object(a.useState)(!1),Ca=xa[0],Ta=xa[1],Na=Object(a.useState)({}),Ea=(Na[0],Na[1]),Ia=(Object(M.b)(F.p.vaultHandler[n],F.p.vaultHandlerAbi,!0),Object(M.b)(F.p.vaultHandlerV8[n],F.p.vaultHandlerV8Abi,!0)),_a=Object(M.b)(F.p.emblemVault[n],F.p.emblemAbi,!0),Aa=Object(M.b)(F.p.coval[n],F.p.covalAbi,!0),Fa=Object(s.a)(),Ma=Fa.isOpen,Ha=Fa.onOpen,Va=Fa.onClose,Pa=Object(s.a)(),La=Pa.isOpen,Ra=Pa.onOpen,Da=Pa.onClose,Ga=Object(s.a)(),Ka=Ga.isOpen,Ja=Ga.onOpen,Wa=Ga.onClose,Ba=Object(s.a)(),Ua=(Ba.isOpen,Ba.onToggle,Object(s.a)()),qa=(Ua.isOpen,Ua.onToggle,Object(u.c)().colorMode),Xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new _.a(e,F.p.erc1155Abi,o.getSigner(t).connectUnchecked())},za=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/vault/balance/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,console.log("responce",r,o),!(o.balances.length>0)){e.next=11;break}return e.abrupt("return",a(o.balances));case 11:return e.abrupt("return",a(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ya=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getvault"),e.next=3,fetch(F.g+"/v2/meta/"+je+"?experimental=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).collectionAddress&&(pa(!0),ba(n.collectionAddress)),n.name?(console.log("--------------- states -",n),$a(n),dn(!1),yn(!1)):(_t({loaded:!0}),yn(!0));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$a=function(e){e.targetAsset||(location.href=location.origin+"/nft?id="+je),we&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+we),e.ciphertextV2&&Le(e.ciphertextV2),Ta(e.mintLocked&&0==e.mintLockBlock),Ee(e.name),We(e.image),qe(e.ownedImage||null),Ge(e.description),mt(e.totalValue||0),e.values&&Ye(ze.concat(e.values)),e.attributes&&nt(e.attributes.filter((function(e){return"key"===e.trait_type}))),e.attributes&&ot(e.attributes),st(e.addresses),Ae(e.ipfs||null),He(e.image_ipfs||null),e.targetContract&&e.targetContract.tokenId==je&&V(!0),e.targetAsset&&va(e.targetAsset),e.targetContract&&Sa(e.targetContract),e.values&&e.targetAsset&&e.values.filter((function(t){return t.coin.toLowerCase()==e.targetContract.chain&&t.name==e.targetAsset.name&&t.project==e.targetContract.name})).length>0&&ka(!0),zn(0!=e.live),$n(e.nonce),Zn(e.signature),na(e.to),Ot(e.network),ht("mainnet"==e.network?1:"rinkeby"==e.network?4:"goerli"==e.network?5:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),e.live||(console.log("check liveliness start"),function(e,t,a){console.log("check liveliness next",t);var r=t&&t.name?F.g+"/v2/liveliness-curated":F.g+"/liveliness";fetch(r,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,zn(n.live),console.log("Liveliness check",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a(!1)}(je,e.targetContract,(function(e){zn(e)}))),Jt(e.status),"claimed"===Kt&&zt(e.claimedBy),_t({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;dt(t),e.sealed?Ut(!0):Ut(!1)},Qa=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qe){e.next=2;break}return e.abrupt("return",a(!1));case 2:return Ze(!0),e.next=5,fetch(F.g+"/vault/balance/"+n+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 5:return r=e.sent,e.next=8,r.json();case 8:if(o=e.sent,console.log("responce",r,o),!(o.balances.length>0)){e.next=14;break}return e.abrupt("return",a(t.concat(o.balances)));case 14:return e.abrupt("return",a(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Za=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a,r){var o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/vault/balance/"+n+"/"+a,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(c=e.sent,console.log("responce",o,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt("return",r(t.concat(c.balances)));case 11:return e.abrupt("return",r(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),er=function(){var e=localStorage.getItem(t+"_"+n+"_"+je+"_mintPassword");e&&An&&ge(e)},tr=function(){var e=Object(c.a)(i.a.mark((function e(t,a,r){var o,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainid",n.toString()),o.append("Content-Type","application/json"),c=JSON.stringify({signature:t,tokenId:a}),e.next=6,fetch(F.n+"/sign",{method:"POST",headers:o,body:c,redirect:"follow"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt("return",r(u));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function nr(e,t,n){return ar.apply(this,arguments)}function ar(){return(ar=Object(c.a)(i.a.mark((function e(t,n,a){var r,o,c,s,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new q.a({network:"mainnet"}),o=new X.a({enableOneKey:!0,network:"mainnet"}),e.next=4,r.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:t});case 4:return c=e.sent,s=c.torusNodeEndpoints,u=c.torusIndexes,e.next=9,o.retrieveShares(s,u,"tor-us-signer-vercel",{verifier_id:t},n);case 9:return l=e.sent,d=l.privKey,e.abrupt("return",a({privateKey:d}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rr=function(){var e=Object(c.a)(i.a.mark((function e(t,a,r){var o,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainId",n.toString()),o.append("service","evmetadata"),o.append("Content-Type","application/json"),c=JSON.stringify({signature:t}),e.next=7,fetch(F.g+"/embed/"+a,{method:"POST",headers:o,body:c,redirect:"follow"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt("return",r(u));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),or=function(){var e=Object(c.a)(i.a.mark((function e(){var a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return(o=Object(c.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wa[n]){e.next=7;break}return e.next=3,_a.isApprovedForAll(t,F.p.vaultHandlerV8[n]);case 3:r=e.sent,fe(r),e.next=11;break;case 7:return e.next=9,_a.isApprovedForAll(t,F.p.vaultHandler[n]);case 9:r=e.sent,fe(r);case 11:Un(a),Mt(a===t||ta===t&&"0x0000000000000000000000000000000000000000"===a),Pt(ta===t&&"0x0000000000000000000000000000000000000000"===a),er();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(){return o.apply(this,arguments)},e.prev=2,!wa[n]){e.next=27;break}return _a=Xa(wa[n]),e.t0=Z,e.next=8,Aa.decimals();case 8:return e.t1=e.sent,(0,e.t0)(e.t1),ce(250*Math.pow(10,D)),e.t2=ne,e.next=14,Aa.allowance(t,F.p.vaultHandlerV8[n]).then((function(e){return e.toString()}));case 14:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=re,e.next=19,Aa.balanceOf(t).then((function(e){return e.toString()}));case 19:return e.t5=e.sent,(0,e.t4)(e.t5),Number(te)>=Number(ie)?le(!0):le(!1),e.next=24,_a.getOwnerOfSerial(wa.serialNumber);case 24:a=e.sent,e.next=30;break;case 27:return e.next=29,_a.ownerOf(je);case 29:a=e.sent;case 30:r(),e.next=37;break;case 33:e.prev=33,e.t6=e.catch(2),a="0x0000000000000000000000000000000000000000",r();case 37:case"end":return e.stop()}}),e,null,[[2,33]])})));return function(){return e.apply(this,arguments)}}(),ir=function(){var e=Object(c.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Renew: "+je).then((function(e){var t=ct.filter((function(e){return"NMC"==e.coin}))[0].address;console.log("signature",e,a),fetch(F.g+"/nmc/renew/"+t,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:je,signature:e,name:a})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("Requested Renew",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cr=function(){var e=Object(c.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wa[n]&&(_a=Xa(wa[n]),a=wa.serialNumber),o.getSigner(t).signMessage("Claim: "+(wa[n]?a:je)).then((function(e){_t({loaded:!1}),Vt&&"claimed"!=Kt&&!Ca&&Ta(!0),tr(e,je,(function(e){nr(je,e.token,(function(e){var t=P.a.AES.decrypt(Pe,e.privateKey),n=JSON.parse(t.toString(P.a.enc.Utf8));sn(n.values),Qt(n.phrase),ct.forEach(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("STX"!=t.coin){e.next=6;break}return e.next=3,sr(t,n.phrase);case 3:t.key=e.sent,e.next=7;break;case 6:t.key=window.phrasePathToKey(n.phrase,t.path);case 7:"BTC"==t.coin&&tn(t.key),"ETH"==t.coin&&rn(t.key);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_t({loaded:!0}),Ra()}))}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sr=function(){var e=Object(c.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.a)({secretKey:n,password:""});case 2:return a=e.sent,console.log("------ stacks account -",a.accounts[0]),r=a.accounts[0],t.key=r.stxPrivateKey,e.abrupt("return",t.key);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ur=function(){var e=Object(c.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("HideAsset: "+je).then((function(e){console.log("----------------------------------------------------------------",e),console.log(n.name,n.coin,n.address),lr(je,n.coin,n.address,n.name,e,(function(){console.log("Done hiding coin and getting new balances")}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function lr(e,t,a,r,o,s){fetch(F.g+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({coin:t||null,address:a||null,name:r||null,signature:o||null})}).then(function(){var t=Object(c.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log("-------",a),za([],e,(function(e){return Ye(e),s()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var dr=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Embed: "+je).then((function(e){rr(e,je,(function(e){We(e.ownedImage)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pr=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wa[n]?Ia.claim(wa[n],wa.tokenId).then((function(e){var t=e.hash;Dt(!0),setTimeout((function(){jt(t)}),100)})):_a.burn(je).then((function(e){var t=e.hash;Dt(!0),setTimeout((function(){jt(t)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fr=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,r,o,c,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var i=0;i<r-c;i++){var l=Math.floor(t.length*Math.random()),d=t.charAt(l);s+=d}o==a-1&&c++,o==a&&(u+=n.charAt(c-1),o=0),mn(u+s),s=""},!gn){e.next=3;break}return e.abrupt("return");case 3:hn(!0),t="abcdefghijklmnopqrstuvwxyz",5,r=(n="Decrypting").length,o=0,c=0,s="",u="",function e(t){setTimeout((function(){--t?e(t):hn(!1),l(t),o+=1}),5)}(r*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function mr(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}function br(e){On&&(e=On),fr(),console.log(ct);var t=ct[0].address.replace("private:","");try{var n=P.a.AES.decrypt(t,e);JSON.parse(n.toString(P.a.enc.Utf8)),dt(!1),wn(e),st(function(e){return ct.forEach((function(t){if(t.address.includes("private")){var n=t.address.replace("private:","");t.address=function(e,t){var n=P.a.AES.decrypt(e,t);return JSON.parse(n.toString(P.a.enc.Utf8))}(n,e)}})),ct}(e));var a=ct.filter((function(e){return"ETH"===e.coin}))[0].address,r=ct.filter((function(e){return"BTC"===e.coin}))[0].address;console.log("SUCCESS",ct),Za([],a,r,(function(e){Ye(e)}))}catch(o){console.log("WTF",o)}}return Object(a.useEffect)((function(){console.log("----"),Ya()}),[]),Object(a.useEffect)((function(){(t&&n&&gt&&n==gt||T.noLayout&&"true"==T.noLayout||T.slideshowOnly&&"true"==T.slideshowOnly)&&or()})),ma&&(_a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new _.a(e||F.p.emblemVault[n],F.p.emblemAbi,o.getSigner(t).connectUnchecked())}(ma||null)),z(r.a.Fragment,null,z(y.a,null,z("meta",{name:"twitter:card",content:"summary_large_image"}),z("meta",{name:"twitter:site",content:"Emblem.Finance"}),z("meta",{name:"twitter:title",content:Ne}),z("meta",{name:"twitter:description",content:mr(De)}),z("meta",{name:"twitter:image",content:Je}),z("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})),z(Y,{isOpen:Ma,onClose:Va,addrCoin:kt,addrAddr:Tt}),z($,{isOpen:La,onClose:Da,mnemonic:$t,privKeyBTC:en,privKeyETH:an,privValues:cn,addresses:ct}),ve?z(Q,{isOpen:Ka,onClose:Wa,tokenId:je,mine:Ft}):null,z(N.a,{loaded:It.loaded},z(l.a,{height:"40px"}),ln?z(C.a,null):"",jn||Ce?ze.length>0&&Ce?z(p.a,{className:"NFT-content",align:"center"},ze.length&&ze.filter((function(e){return"nft"==e.type})).length>0?z(J.a,{name:Ne,image:ze[0].image,items:ze.filter((function(e){return e.image!==ze[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):z(K.b,{className:"d-block w-100 NFT-image",url:Je})):jn?z(p.a,{align:"center"},z(w.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),z(m.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",z(b.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):null:z(d.a,{width:"full",align:"center",justifyContent:"center"},z(l.a,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:gt!=n?"orange.500":"claimed"==Kt?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},z(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500"},"Vault Network: ",H.a[gt]),z(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center"},Ne,!lt&&ft>0?": ~$"+ft.toLocaleString():null),z(p.a,{className:"NFT-content",align:"center"},z(K.b,{className:"d-block w-100 NFT-image",url:Je}),Ft&&Ue?z(f.a,{onClick:function(){dr()}},"(OWNED) Show Full Embed"):null),z(p.a,{align:"center"},z(l.a,{mt:"2",ml:"4",lineHeight:"tight"},z(p.a,null,z(m.a,{fontSize:"xs"},I||gt!=n?null:z(b.a,{href:"./vaults?address="+Bn},"Owner: ",Bn)),z(m.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md"},z(R.a,{plugins:[G.a],children:mr(De)}))))),z(l.a,{p:"6"},I?null:z(g.f,{isFitted:!0,variant:"enclosed"},z(g.c,{mb:"1em"},z(g.a,null,"Balances"),z(g.a,null,"Attributes")),z(g.e,null,z(g.d,null,lt?z(l.a,{mb:5},z(m.a,{pb:2,color:fn?"green.500":null},fn||"Contents hidden. Enter password to unlock."),z(h.a,{type:"password",id:"vault-password",onChange:function(e){return br(e.target.value)},"aria-describedby":"password-helper-text"})):z(l.a,{d:"flex",backgroundColor:"light"==qa?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content"},z(l.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},z(m.a,{as:"h4",mt:2,fontWeight:"semibold"},"Current Contents:  ",z("button",{onClick:function(){Qa([],je,(function(e){Ze(!1),Ye(e)}))}}," [Refresh Balances]")),z(m.a,{as:"p",color:"dark"==qa?"lightgreen":"forestgreen"},"$",Number(ft.toFixed(4)).toLocaleString()),ze.length?ze.map((function(e){return z(p.a,null,z(W.a,{colorMode:qa,coin:e,mine:"claimed"===Kt&&Xt===t||Ft,onRenew:ir,hideAsset:!ha.name&&ur}))})):z(C.a,null),tt.length?tt.map((function(e){return z(m.a,null,"Data: ",e.attribute_key)})):tt.length||ze.length?null:z(m.a,null,"Nothing in here! Fill 'er up!")))),z(g.d,null,z(B.a,{colorMode:qa,attributes:rt})))),I||lt?null:z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},z(v.a,{justifyContent:"space-between",spacing:6},z(p.a,null,z(m.a,null,"Deposit Addresses"),z(d.a,{w:"340px",justify:"center",flexWrap:"wrap"},ct.map((function(e){return z(f.a,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",key:e.address,onClick:function(){xt(e.coin),Nt(e.address),Ha()}},"ETH"==e.coin?e.coin+"":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin)})))))),I||"claimed"!==Kt&&Xn&&(1===gt||4===gt||5===gt||137===gt)?z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},z(f.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==gt?"rinkeby.":5==gt?"testnets.":"")+"opensea.io/assets/"+(137==gt?"matic/":5==gt?"goerli/":"")+(ma||(wa[n]?wa[n]:F.p.emblemVault[gt]))+"/"+(wa?wa.tokenId:je),"_blank")}},"Opensea"),z(f.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==gt?"rinkeby.":5==gt?"goerli.":"")+"looksrare.org/collections/"+(137==gt?"matic/":"")+(ma||(wa?wa[n]:F.p.emblemVault[gt]))+"/"+(wa?wa.tokenId:je),"_blank")}},"LooksRare"),ve?z(f.a,{className:"",onClick:function(){Ja()}},Ft?"My Offers":"Make an Offer"," (NFT\xb2NFT)"):null):null,I||!Ft||An||pe?null:z(r.a.Fragment,null,z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},z(f.a,{className:"nft_button",width:"100%",onClick:function(){if(!pe)return In(!0),void(wa.name?(_a=Xa(wa[n])).setApprovalForAll(F.p.vaultHandlerV8[n],!0).then((function(e){var t=e.hash;setTimeout((function(){jt(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):In(!1)})):_a.setApprovalForAll(F.p.vaultHandler[n],!0).then((function(e){var t=e.hash;setTimeout((function(){jt(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):In(!1)})))}},"Approve Claiming"))),!I&&Xn&&"claimed"!==Kt&&t&&gt===n&&Ft&&!Bt&&pe?z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},z(f.a,{width:"100%",onClick:function(){pr()},isDisabled:Rt},Rt?"Claiming ...":"Claim (Crack Open Vault)")):null,ue||En||ta!=t?null:z(f.a,{width:"100%",mt:5,onClick:function(){In(!0);var e=wa.name?F.p.vaultHandlerV8[n]:F.p.vaultHandler[n];Aa.approve(e,"100000000000000").then((function(e){var t=e.hash;jt(t)})).catch((function(e){4001==(null===e||void 0===e?void 0:e.code)&&In(!1)}))},type:"submit"},"Approve Coval"),I||Xn||En||!ue||ta!=t||gt!=n||"claimed"===Kt||ia?null:z(r.a.Fragment,null,wa.name?z(f.a,{width:"100%",mt:5,onClick:function(){o.getSigner(t).signMessage("Curated Minting: "+je).then((function(e){console.log("sig",e),fetch(F.g+"/v2/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:je,signature:e,chainId:n.toString()})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("WTFFFFF"),console.log(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1),Ea(n),Ia.buyWithSignedPrice(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1).then((function(e){var t=e.hash;setTimeout((function(){jt(t),ca(!0),la(!0)}),100)})).catch((function(e){console.log("ERROR",e),ca(!1),la(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},isDisabled:!ya||Ca},Ca?"Mint Locked - keys accessed before mint":ya?" Mint Vault":"Please load vault to mint"," "):null),Xn&&"claimed"!=Kt||ta!=t||gt!=n||ia||!(ze.length<1)?null:z(f.a,{width:"100%",mt:5,onClick:function(){o.getSigner(t).signMessage("Delete: "+je).then((function(e){console.log("sig",e),fetch(F.g+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:je,signature:e,chainId:n.toString()})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:e.sent,location.href=location.href.split("/")[0]+"/vaults";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Delete Vault "),!I&&gt===n&&"claimed"==Kt&&Xt===t||Vt&&"claimed"!=Kt?z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},z(f.a,{width:"100%",onClick:cr},Vt&&"claimed"!=Kt&&!Ca?"Get Keys (Unlocking will prevent minting)":"Get Keys")):null,ra?z(f.a,{isDisabled:!0,type:"submit"},"Verifying Signature ..."):null,ia?z(f.a,{isDisabled:!0,type:"submit"},"Minting Vault ..."):null),!I&&_e?z(S.a,{align:"center"},z(b.a,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+_e,isExternal:!0},"View Metadata on IPFS "),Me?z(b.a,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+Me,isExternal:!0},"View Image on IPFS "):null):null,Bt?z(l.a,{d:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4"},z(m.a,null,"*This vault is sealed forever.")):null,z(p.a,{direction:"column",align:"center"},"claimed"==Kt?z(m.a,{color:"green.500"},"CLAIMED"):null),St?z(O.a,{status:"info"},z(O.b,null),Cn?"Accepting Your Gift Vault":Rt?"Claiming your Vault ...":En?"Handling Approval Flow ...":Kn?"Transfering Vault ...":ua?"Minting Vault":"Generating Gift Link ..."):null)),St?z(A.a,{hash:St,onComplete:function(){!Rt||Cn||Ln?Ln?(localStorage.setItem(t+"_"+n+"_"+je+"_mintPassword",Mn),Vn(!0),Rn(!1),jt(null)):Cn?(Tn(!1),Ya(),jt(null)):En?(In(!1),Ya(),jt(null)):Kn?(Jn(!1),Ya(),jt(null)):ua||ia?(console.log("GOD SAKES REDIRECT"),la(!1),jt(null),ca(!1),location.href=location.origin+"/nft2?id="+je):(location.href=location.origin+"/nft2?id="+je,console.log("--- minting",ua),console.log("--- claiming",Rt),console.log("--- accepting",Cn),console.log("--- preTransfering",Ln),console.log("--- approving",En),console.log("Unknown state")):(jt(null),Jt("claimed"),Dt(!1),zt(t),location.href=location.origin+"/nft?id="+je)}}):null,z(l.a,{height:"40px"})))}var ee=r.a.createElement;function te(){return ee(Z,null)}},RuSG:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nft2",function(){return n("EM35")}])}},[["RuSG",1,0,11,15,23,2,4,3,5,6,7,8,9,10,12,14,17,18,19,20,25]]]);