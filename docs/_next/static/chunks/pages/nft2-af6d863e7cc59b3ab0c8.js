_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[54],{EM35:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ne}));var a=n("q1tI"),r=n.n(a),o=n("o0o1"),c=n.n(o),i=n("HaE+"),s=n("XZ7F"),l=n("mf32"),u=n("BMxC"),d=n("Weur"),f=n("Yn+B"),p=n("eJLp"),b=n("sK1y"),m=n("pboS"),h=n("wCB1"),g=n("FpzS"),v=n("IP4Q"),O=n("MKZ1"),w=n("LqLE"),j=n("bQFp"),S=n("wZsY"),k=n("8Kt/"),y=n.n(k),x=n("Z6YE"),C=n("nOHt"),T=n("Ute3"),I=n("Y1ui"),N=n.n(I),E=n("a6RD"),_=n.n(E),A=n("8XlW"),F=n("zIq6"),R=n("N39q"),M=n("21eR"),q=n("iBPG"),L=n("NFKh"),P=n.n(L),V=n("IujW"),H=n.n(V),B=n("wH4i"),G=n.n(B),J=n("PLxQ"),K=n("fksj"),W=n("r9y0"),D=n("diTF"),U=n("PSLY"),X=n("FGWJ"),z=n("XXjs"),Y=r.a.createElement,Q=_()((function(){return Promise.all([n.e(15),n.e(18),n.e(30)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),Z=_()((function(){return Promise.all([n.e(15),n.e(18),n.e(31)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}}),$=_()((function(){return Promise.all([n.e(15),n.e(26),n.e(34)]).then(n.bind(null,"D3uo"))}),{loadableGenerated:{webpack:function(){return["D3uo"]},modules:["./OfferModal"]}});function ee(){var e=Object(x.b)(),t=e.account,n=e.chainId,o=e.library,k=Object(C.useRouter)(),I=k.query,E=Object(a.useState)(!1),_=E[0],L=E[1],V=Object(a.useState)(null),B=V[0],ee=V[1],te=Object(a.useState)(null),ne=te[0],ae=te[1],re=Object(a.useState)(null),oe=(re[0],re[1]),ce=Object(a.useState)(0),ie=(ce[0],ce[1]),se=Object(a.useState)(null),le=se[0],ue=se[1],de=Object(a.useState)(!1),fe=de[0],pe=de[1],be=Object(a.useState)(!1),me=be[0],he=be[1],ge=Object(a.useState)(I.key),ve=(ge[0],ge[1]),Oe=Object(a.useState)(I.offer||!1),we=Oe[0],je=(Oe[1],Object(a.useState)(I.framed||!0)),Se=je[0],ke=(je[1],Object(a.useState)(I.id)),ye=ke[0],xe=(ke[1],Object(a.useState)(I.slideshowOnly||!1)),Ce=xe[0],Te=(xe[1],Object(a.useState)("")),Ie=Te[0],Ne=Te[1],Ee=Object(a.useState)(""),_e=Ee[0],Ae=Ee[1],Fe=Object(a.useState)(""),Re=Fe[0],Me=Fe[1],qe=Object(a.useState)(""),Le=qe[0],Pe=qe[1],Ve=Object(a.useState)(""),He=Ve[0],Be=Ve[1],Ge=Object(a.useState)(""),Je=Ge[0],Ke=Ge[1],We=Object(a.useState)(""),De=We[0],Ue=We[1],Xe=Object(a.useState)([]),ze=Xe[0],Ye=Xe[1],Qe=Object(a.useState)(!1),Ze=Qe[0],$e=Qe[1],et=Object(a.useState)([]),tt=et[0],nt=et[1],at=Object(a.useState)([]),rt=at[0],ot=at[1],ct=Object(a.useState)([]),it=ct[0],st=ct[1],lt=Object(a.useState)(!1),ut=lt[0],dt=lt[1],ft=Object(a.useState)(0),pt=ft[0],bt=ft[1],mt=Object(a.useState)(null),ht=mt[0],gt=mt[1],vt=Object(a.useState)(null),Ot=(vt[0],vt[1]),wt=Object(a.useState)(null),jt=wt[0],St=wt[1],kt=Object(a.useState)(""),yt=kt[0],xt=kt[1],Ct=Object(a.useState)(""),Tt=Ct[0],It=Ct[1],Nt=Object(a.useState)({loaded:!1}),Et=Nt[0],_t=Nt[1],At=Object(a.useState)(!1),Ft=At[0],Rt=At[1],Mt=Object(a.useState)(!1),qt=Mt[0],Lt=Mt[1],Pt=Object(a.useState)(!1),Vt=Pt[0],Ht=Pt[1],Bt=Object(a.useState)("claimed"),Gt=Bt[0],Jt=Bt[1],Kt=Object(a.useState)(!1),Wt=Kt[0],Dt=Kt[1],Ut=Object(a.useState)(null),Xt=Ut[0],zt=Ut[1],Yt=Object(a.useState)(""),Qt=Yt[0],Zt=Yt[1],$t=Object(a.useState)(""),en=$t[0],tn=$t[1],nn=Object(a.useState)(""),an=nn[0],rn=nn[1],on=Object(a.useState)([]),cn=on[0],sn=on[1],ln=Object(a.useState)(!1),un=ln[0],dn=ln[1],fn=Object(a.useState)(""),pn=fn[0],bn=fn[1],mn=Object(a.useState)(!1),hn=mn[0],gn=mn[1],vn=Object(a.useState)(""),On=vn[0],wn=vn[1],jn=Object(a.useState)(!1),Sn=jn[0],kn=jn[1],yn=Object(a.useState)(!1),xn=yn[0],Cn=yn[1],Tn=Object(a.useState)(!1),In=Tn[0],Nn=Tn[1],En=Object(a.useState)(!1),_n=En[0],An=(En[1],Object(a.useState)("")),Fn=An[0],Rn=(An[1],Object(a.useState)(!1)),Mn=(Rn[0],Rn[1]),qn=Object(a.useState)(!1),Ln=qn[0],Pn=qn[1],Vn=Object(a.useState)(!1),Hn=Vn[0],Bn=Vn[1],Gn=Object(a.useState)(null),Jn=Gn[0],Kn=Gn[1],Wn=Object(a.useState)(!1),Dn=Wn[0],Un=Wn[1],Xn=Object(a.useState)(null),zn=(Xn[0],Xn[1]),Yn=Object(a.useState)(null),Qn=(Yn[0],Yn[1]),Zn=Object(a.useState)(null),$n=Zn[0],ea=Zn[1],ta=Object(a.useState)(!1),na=ta[0],aa=ta[1],ra=Object(a.useState)(!1),oa=ra[0],ca=ra[1],ia=Object(a.useState)(!1),sa=(ia[0],ia[1]),la=Object(a.useState)(null),ua=la[0],da=la[1],fa=Object(a.useState)({name:"",image:"",metadata:""}),pa=fa[0],ba=fa[1],ma=Object(a.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),ha=ma[0],ga=ma[1],va=Object(a.useState)(!1),Oa=va[0],wa=va[1],ja=Object(a.useState)({name:"",image:"",metadata:""}),Sa=(ja[0],ja[1]),ka=Object(a.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),ya=(ka[0],ka[1]),xa=Object(a.useState)(!1),Ca=xa[0],Ta=xa[1],Ia=Object(a.useState)({}),Na=Ia[0],Ea=Ia[1],_a=Object(a.useState)({}),Aa=(_a[0],_a[1]),Fa=Object(M.b)(R.q.vaultHandlerV8[n],R.q.vaultHandlerV8Abi,!0),Ra=Object(M.b)(R.q.emblemVault[n],R.q.emblemAbi,!0),Ma=Object(M.b)(R.q.coval[n],R.q.covalAbi,!0),qa=Object(s.a)(),La=qa.isOpen,Pa=qa.onOpen,Va=qa.onClose,Ha=Object(s.a)(),Ba=Ha.isOpen,Ga=Ha.onOpen,Ja=Ha.onClose,Ka=Object(s.a)(),Wa=Ka.isOpen,Da=Ka.onOpen,Ua=Ka.onClose,Xa=Object(s.a)(),za=Xa.isOpen,Ya=Xa.onToggle,Qa=Object(l.c)().colorMode,Za=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new A.a(e,R.q.erc1155Abi,o.getSigner(t).connectUnchecked())},$a=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(R.g+"/vault/balance/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,console.log("response",r,o),!(o.balances.length>0)){e.next=11;break}return e.abrupt("return",a(o.balances));case 11:return e.abrupt("return",a(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),er=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getvault"),e.next=3,fetch(R.h+"/meta/"+ye+"?experimental=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,Ea(n),n.collectionAddress&&(sa(!0),da(n.collectionAddress)),n.name?(console.log("--------------- states -",n),tr(n),dn(!1),kn(!1)):(_t({loaded:!0}),kn(!0));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tr=function(e){e.targetAsset||e.move_targetAsset||(location.href=location.origin+"/nft?id="+ye),Se&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+Se),e.ciphertextV2&&Pe(e.ciphertextV2),Ta(e.mintLocked&&0==e.mintLockBlock),Ne(e.name),Ke(e.image),Ue(e.ownedImage||null),Be(e.description),bt(e.totalValue||0),e.values&&Ye(ze.concat(e.values)),e.attributes&&nt(e.attributes.filter((function(e){return"key"===e.trait_type}))),e.attributes&&ot(e.attributes),st(e.addresses),Ae(e.ipfs||null),Me(e.image_ipfs||null),e.targetContract&&e.targetContract.tokenId==ye&&L(!0),e.targetAsset&&ba(e.targetAsset),e.targetContract&&ga(e.targetContract),e.move_targetAsset&&Sa(e.move_targetAsset),e.move_targetContract&&ya(e.move_targetContract),e.values&&e.targetAsset&&e.values.filter((function(t){return t.coin.toLowerCase()==e.targetContract.chain&&t.name==e.targetAsset.name&&t.project==e.targetContract.name})).length>0&&wa(!0),Un(0!=e.live),zn(e.nonce),Qn(e.signature),ea(e.to),Ot(e.network),gt("mainnet"==e.network?1:"rinkeby"==e.network?4:"goerli"==e.network?5:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),e.live||(console.log("check liveliness start"),function(e,t,a){console.log("check liveliness next",t);var r=t&&t.name?R.h+"/liveliness-curated":R.g+"/liveliness";fetch(r,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,Un(n.live),console.log("Liveliness check",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a(!1)}(ye,e.targetContract||e.move_targetContract,(function(e){Un(e)}))),Jt(e.status),"claimed"===Gt&&zt(e.claimedBy),_t({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;dt(t),e.sealed?Dt(!0):Dt(!1)},nr=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ze){e.next=2;break}return e.abrupt("return",a(!1));case 2:return $e(!0),e.next=5,fetch(R.g+"/vault/balance/"+n+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 5:return r=e.sent,e.next=8,r.json();case 8:if(o=e.sent,console.log("response",r,o),!(o.balances.length>0)){e.next=14;break}return e.abrupt("return",a(t.concat(o.balances)));case 14:return e.abrupt("return",a(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ar=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a,r){var o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(R.g+"/vault/balance/"+n+"/"+a,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(i=e.sent,console.log("response",o,i),!(i.balances.length>0)){e.next=11;break}return e.abrupt("return",r(t.concat(i.balances)));case 11:return e.abrupt("return",r(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),rr=function(){var e=localStorage.getItem(t+"_"+n+"_"+ye+"_mintPassword");e&&_n&&ve(e)},or=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r){var o,i,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainid",n.toString()),o.append("Content-Type","application/json"),i=JSON.stringify({signature:t,tokenId:a}),e.next=6,fetch(R.o+"/sign",{method:"POST",headers:o,body:i,redirect:"follow"});case 6:return s=e.sent,e.next=9,s.json();case 9:return l=e.sent,e.abrupt("return",r(l));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function cr(e,t,n){return ir.apply(this,arguments)}function ir(){return(ir=Object(i.a)(c.a.mark((function e(t,n,a){var r,o,i,s,l,u,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new U.a({network:"mainnet"}),o=new X.a({enableOneKey:!0,network:"mainnet"}),e.next=4,r.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:t});case 4:return i=e.sent,s=i.torusNodeEndpoints,l=i.torusIndexes,e.next=9,o.retrieveShares(s,l,"tor-us-signer-vercel",{verifier_id:t},n);case 9:return u=e.sent,d=u.privKey,e.abrupt("return",a({privateKey:d}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sr=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r){var o,i,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainId",n.toString()),o.append("service","evmetadata"),o.append("Content-Type","application/json"),i=JSON.stringify({signature:t}),e.next=7,fetch(R.g+"/embed/"+a,{method:"POST",headers:o,body:i,redirect:"follow"});case 7:return s=e.sent,e.next=10,s.json();case 10:return l=e.sent,e.abrupt("return",r(l));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),lr=function(){var e=Object(i.a)(c.a.mark((function e(){var a,r,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(){return(s=Object(i.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ha[n]){e.next=7;break}return e.next=3,Ra.isApprovedForAll(t,R.q.vaultHandlerV8[n]);case 3:r=e.sent,he(r),e.next=11;break;case 7:return e.next=9,Ra.isApprovedForAll(t,R.q.vaultHandler[n]);case 9:r=e.sent,he(r);case 11:Kn(a),Rt(a===t||$n===t&&"0x0000000000000000000000000000000000000000"===a),Lt($n===t&&"0x0000000000000000000000000000000000000000"===a),rr();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)},o=function(){return s.apply(this,arguments)},e.prev=2,!ha[n]){e.next=29;break}return Ra=Za(ha[n]),e.t0=ee,e.next=8,Ma.decimals();case 8:return e.t1=e.sent,(0,e.t0)(e.t1),ue(250*Math.pow(10,B)),e.t2=ae,e.next=14,Ma.allowance(t,R.q.vaultHandlerV8[n]).then((function(e){return e.toString()}));case 14:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=oe,e.next=19,Ma.balanceOf(t).then((function(e){return e.toString()}));case 19:return e.t5=e.sent,(0,e.t4)(e.t5),Number(ne)>=Number(le)?pe(!0):pe(!1),e.next=24,Ra.balanceOf(t,ha.tokenId).then((function(e){return e.toString()}));case 24:r=e.sent,a=Number(r)>0?t:"0x0000000000000000000000000000000000000000",Number(r)>0&&ie(r),e.next=32;break;case 29:return e.next=31,Ra.ownerOf(ye);case 31:a=e.sent;case 32:o(),e.next=39;break;case 35:e.prev=35,e.t6=e.catch(2),a="0x0000000000000000000000000000000000000000",o();case 39:case"end":return e.stop()}}),e,null,[[2,35]])})));return function(){return e.apply(this,arguments)}}(),ur=function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Renew: "+ye).then((function(e){var t=it.filter((function(e){return"NMC"==e.coin}))[0].address;console.log("signature",e,a),fetch(R.g+"/nmc/renew/"+t,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:ye,signature:e,name:a})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("Requested Renew",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dr=function(){var e=Object(i.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ha[n]&&(Ra=Za(ha[n]),a=ha.serialNumber),o.getSigner(t).signMessage("Claim: "+(ha[n]?a:ye)).then((function(e){_t({loaded:!1}),qt&&"claimed"!=Gt&&!Ca&&Ta(!0),or(e,ye,(function(e){cr(ye,e.token,(function(e){try{var t=P.a.AES.decrypt(Le,e.privateKey),n=JSON.parse(t.toString(P.a.enc.Utf8));sn(n.values),Zt(n.phrase),it.forEach(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("STX"!=t.coin){e.next=6;break}return e.next=3,fr(t,n.phrase);case 3:t.key=e.sent,e.next=7;break;case 6:t.key=window.phrasePathToKey(n.phrase,t.path);case 7:"BTC"==t.coin&&tn(t.key),"ETH"==t.coin&&rn(t.key);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(a){alert(a),setTimeout((function(){location.href=location.href}),2e3)}_t({loaded:!0}),Ga()}))}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fr=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)({secretKey:n,password:""});case 2:return a=e.sent,console.log("------ stacks account -",a.accounts[0]),r=a.accounts[0],t.key=r.stxPrivateKey,e.abrupt("return",t.key);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pr=function(){var e=Object(i.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("HideAsset: "+ye).then((function(e){br(ye,n.coin,n.address,n.name,e,(function(){console.log("Done hiding coin and getting new balances")}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function br(e,t,a,r,o,s){fetch(R.g+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({coin:t||null,address:a||null,name:r||null,signature:o||null})}).then(function(){var t=Object(i.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log("-------",a),$a([],e,(function(e){return Ye(e),s()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var mr=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Embed: "+ye).then((function(e){sr(e,ye,(function(e){Ke(e.ownedImage)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),hr=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ha[n]?Fa.claim(ha[n],ha.tokenId).then((function(e){var t=e.hash;Ht(!0),setTimeout((function(){St(t)}),100)})):Ra.burn(ye).then((function(e){var t=e.hash;Ht(!0),setTimeout((function(){St(t)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gr=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,r,o,i,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e){for(var c=0;c<r-i;c++){var u=Math.floor(t.length*Math.random()),d=t.charAt(u);s+=d}o==a-1&&i++,o==a&&(l+=n.charAt(i-1),o=0),bn(l+s),s=""},!hn){e.next=3;break}return e.abrupt("return");case 3:gn(!0),t="abcdefghijklmnopqrstuvwxyz",5,r=(n="Decrypting").length,o=0,i=0,s="",l="",function e(t){setTimeout((function(){--t?e(t):gn(!1),u(t),o+=1}),5)}(r*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function vr(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}function Or(e){On&&(e=On),gr(),console.log(it);var t=it[0].address.replace("private:","");try{var n=P.a.AES.decrypt(t,e);JSON.parse(n.toString(P.a.enc.Utf8)),dt(!1),wn(e),st(function(e){return it.forEach((function(t){if(t.address.includes("private")){var n=t.address.replace("private:","");t.address=function(e,t){var n=P.a.AES.decrypt(e,t);return JSON.parse(n.toString(P.a.enc.Utf8))}(n,e)}})),it}(e));var a=it.filter((function(e){return"ETH"===e.coin}))[0].address,r=it.filter((function(e){return"BTC"===e.coin}))[0].address;console.log("SUCCESS",it),ar([],a,r,(function(e){Ye(e)}))}catch(o){console.log("WTF",o)}}return Object(a.useEffect)((function(){er()}),[]),Object(a.useEffect)((function(){(t&&n&&ht&&n==ht||I.noLayout&&"true"==I.noLayout||I.slideshowOnly&&"true"==I.slideshowOnly)&&lr()})),ua&&(Ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new A.a(e||R.q.emblemVault[n],R.q.emblemAbi,o.getSigner(t).connectUnchecked())}(ua||null)),Y(r.a.Fragment,null,Y(y.a,null,Y("meta",{name:"twitter:card",content:"summary_large_image"}),Y("meta",{name:"twitter:site",content:"Emblem.Finance"}),Y("meta",{name:"twitter:title",content:Ie}),Y("meta",{name:"twitter:description",content:vr(He)}),Y("meta",{name:"twitter:image",content:Je}),Y("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})),Y(Q,{isOpen:La,onClose:Va,addrCoin:yt,addrAddr:Tt}),Y(Z,{isOpen:Ba,onClose:Ja,mnemonic:Qt,privKeyBTC:en,privKeyETH:an,privValues:cn,addresses:it}),we?Y($,{isOpen:Wa,onClose:Ua,tokenId:ye,mine:Ft}):null,Y(N.a,{loaded:Et.loaded},Y(u.a,{height:"40px"}),un?Y(T.a,null):"",Sn||Ce?Sn?Y(f.a,{align:"center"},Y(j.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),Y(b.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",Y(m.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):null:Y(d.a,{width:"full",align:"center",justifyContent:"center"},Y(u.a,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:ht!=n?"orange.500":"claimed"==Gt?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},Y(u.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500"},"Vault Network: ",q.a[ht]),Y(u.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center"},Ie,!ut&&pt>0?": ~$"+pt.toLocaleString():null),Y(f.a,{className:"NFT-content",align:"center"},Y(J.b,{className:"d-block w-100 NFT-image",url:Je}),Ft&&De?Y(p.a,{onClick:function(){mr()}},"(OWNED) Show Full Embed"):null),Y(f.a,{align:"center"},Y(u.a,{mt:"2",ml:"4",lineHeight:"tight"},Y(f.a,null,Ft&&ht==n?Y(b.a,{fontSize:"xs"},Y(m.a,{href:"./vaults?address="+Jn},"Owner: ",Jn)):null,Y(b.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md"},Y(H.a,{plugins:[G.a],children:vr(He)}))))),Y(u.a,{p:"6"},_?null:Y(h.f,{isFitted:!0,variant:"enclosed"},Y(h.c,{mb:"1em"},Y(h.a,null,"Balances"),Y(h.a,null,"Attributes")),Y(h.e,null,Y(h.d,null,ut?Y(u.a,{mb:5},Y(b.a,{pb:2,color:pn?"green.500":null},pn||"Contents hidden. Enter password to unlock."),Y(g.a,{type:"password",id:"vault-password",onChange:function(e){return Or(e.target.value)},"aria-describedby":"password-helper-text"})):Y(u.a,{d:"flex",backgroundColor:"light"==Qa?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content"},Y(u.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},Y(b.a,{as:"h4",mt:2,fontWeight:"semibold"},"Current Contents:  ",Y("button",{onClick:function(){nr([],ye,(function(e){$e(!1),Ye(e)}))}}," [Refresh Balances]")),Y(b.a,{as:"p",color:"dark"==Qa?"lightgreen":"forestgreen"},"$",Number(pt.toFixed(4)).toLocaleString()),ze.length?ze.map((function(e){return Y(f.a,null,Y(K.a,{colorMode:Qa,coin:e,mine:"claimed"===Gt&&Xt===t||Ft,onRenew:ur,hideAsset:!pa.name&&pr}))})):Y(T.a,null),tt.length?tt.map((function(e){return Y(b.a,null,"Data: ",e.attribute_key)})):tt.length||ze.length?null:Y(b.a,null,"Nothing in here! Fill 'er up!")))),Y(h.d,null,Y(W.a,{colorMode:Qa,attributes:rt})))),_||ut?null:Y(u.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(v.a,{justifyContent:"space-between",spacing:6},Y(f.a,null,Y(b.a,null,"Deposit Addresses"),Y(d.a,{w:"340px",justify:"center",flexWrap:"wrap"},it.map((function(e){return Y(p.a,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",key:e.address,onClick:function(){xt(e.coin),It(e.address),Pa()}},"ETH"==e.coin?e.coin+"":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin)})))))),"claimed"===Gt||!Dn||1!==ht&&137!==ht?null:Y(u.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(p.a,{className:"nft_button",width:Ft&&1==ht?"33%":137==ht?"100%":"50%",m:2.5,mb:5,onClick:function(){window.open("https://"+(4==ht?"rinkeby.":5==ht?"testnets.":"")+"opensea.io/assets/"+(137==ht?"matic/":5==ht?"goerli/":"ethereum/")+(ua||(ha[n]?ha[n]:R.q.emblemVault[ht]))+"/"+(ha?ha.tokenId:ye),"_blank")}},"Opensea"),1==ht?Y(p.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==ht?"rinkeby.":5==ht?"goerli.":"")+"looksrare.org/collections/"+(137==ht?"matic/":"")+(ua||(ha?ha[n]:R.q.emblemVault[ht]))+"/"+(ha?ha.tokenId:ye),"_blank")}},"LooksRare"):null,Ft&&1==ht?Y(p.a,{className:"nft_button",width:"33%",m:2.5,mb:5,onClick:function(){window.open("https://app.arcade.xyz/terms/asset/".concat(ha[ht]?ha[ht]:R.q.emblemVault[ht],"/").concat(ye),"_blank")}},"Arcade"):null,we?Y(p.a,{className:"",onClick:function(){Da()}},Ft?"My Offers":"Make an Offer"," (NFT\xb2NFT)"):null),!Ft||_n||me?null:Y(r.a.Fragment,null,Y(u.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(p.a,{backgroundColor:"#02b402",color:"black !important",fontWeight:"bold !important",className:"nft_button",width:"100%",onClick:function(){return Nn(!0),void(ha.name?(Ra=Za(ha[n])).setApprovalForAll(R.q.vaultHandlerV8[n],!0).then((function(e){var t=e.hash;setTimeout((function(){St(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):Nn(!1)})):Ra.setApprovalForAll(R.q.vaultHandler[n],!0).then((function(e){var t=e.hash;setTimeout((function(){St(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):Nn(!1)})))}}," Approve Claiming"))),!fe&&me&&!In&&Ft?Y(p.a,{width:"100%",mt:5,onClick:function(){Nn(!0);var e=ha.name?R.q.vaultHandlerV8[n]:R.q.vaultHandler[n];Ma.approve(e,"100000000000000").then((function(e){var t=e.hash;St(t)})).catch((function(e){4001==(null===e||void 0===e?void 0:e.code)&&Nn(!1)}))},type:"submit",backgroundColor:"#02b402",color:"black !important",fontWeight:"bold !important",className:"nft_button"},"Approve Spending Coval"):null,Dn||In||!fe||!Ft||ht!=n||"claimed"===Gt||na?null:Y(r.a.Fragment,null,ha.name?Y(p.a,{width:"100%",mt:5,onClick:function(){_t({loaded:!1}),o.getSigner(t).signMessage("Curated Minting: "+ye).then((function(e){console.log("sig",e),fetch(R.g+"/v2/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:ye,signature:e,chainId:n.toString()})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,Aa(n),Fa.buyWithSignedPrice(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1).then((function(e){var t=e.hash;setTimeout((function(){St(t),_t({loaded:!0}),aa(!0),ca(!0)}),100)})).catch((function(e){console.log("ERROR",e),aa(!1),ca(!1),_t({loaded:!0})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log("ERROR",e),aa(!1),ca(!1),_t({loaded:!0})}))},isDisabled:!Oa||Ca},Ca?"Mint Locked - keys accessed before mint":Oa?" Mint Vault":"Please load vault to mint"," "):null),Dn&&"claimed"!==Gt&&t&&ht===n&&Ft&&!Wt&&me?Y(u.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(p.a,{width:"100%",onClick:function(){hr()},isDisabled:Vt},Vt?"Claiming ...":"Unlock Vault (Get Private Keys)")):ht!==n||"claimed"!=Gt&&!Ca||Xt!==t&&!Ft?null:Y(u.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(p.a,{width:"100%",onClick:dr},"Get Keys")),!_||Ft?Y(f.a,{mt:5},Y(r.a.Fragment,null,Y("button",{className:"nft_button",onClick:function(){Ya()}},"Advanced Operations"),Y(d.a,{w:"100%",justify:"center",flexWrap:"wrap"},Y(O.a,{width:"100%",isOpen:za},ht===n&&qt&&"claimed"!=Gt&&!Ca?Y(u.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(p.a,{width:"100%",onClick:dr},"Get Keys (Unlocking will prevent minting)")):null,Ft||Xt==t?Y(z.a,{data:Na,filename:"EmblemVault-".concat(ye,".json")}):null,Dn&&"claimed"!=Gt||$n!=t||ht!=n||na||!(ze.length<1)?null:Y(p.a,{width:"100%",mt:5,onClick:function(){o.getSigner(t).signMessage("Delete: "+ye).then((function(e){console.log("sig",e),fetch(R.g+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:ye,signature:e,chainId:n.toString()})}).then(Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:location.href=location.href.split("/")[0]+"/vaults";case 1:case"end":return e.stop()}}),e)}))))}))}},"Delete Vault "))))):null),_e?Y(S.a,{align:"center"},Y(m.a,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+_e,isExternal:!0},"View Metadata on IPFS "),Re?Y(m.a,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+Re,isExternal:!0},"View Image on IPFS "):null):null,Wt?Y(u.a,{d:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(b.a,null,"*This vault is sealed forever.")):null,Y(f.a,{direction:"column",align:"center"},"claimed"==Gt?Y(b.a,{color:"green.500"},"CLAIMED"):null),jt?Y(w.a,{status:"info"},Y(w.b,null),xn?"Accepting Your Gift Vault":Vt?"Claiming your Vault ...":In?"Handling Approval Flow ...":Hn?"Transfering Vault ...":oa?"Minting Vault":"Generating Gift Link ..."):null)),jt?Y(F.a,{hash:jt,onComplete:function(){!Vt||xn||Ln?Ln?(localStorage.setItem(t+"_"+n+"_"+ye+"_mintPassword",Fn),Mn(!0),Pn(!1),St(null)):xn?(Cn(!1),er(),St(null)):In?(Nn(!1),er(),St(null)):Hn?(Bn(!1),er(),St(null)):oa||na?(ca(!1),St(null),aa(!1),location.href=location.origin+"/nft2?id="+ye):location.href=location.origin+"/nft2?id="+ye:(St(null),Jt("claimed"),Ht(!1),zt(t),location.href=location.origin+"/nft?id="+ye)}}):null,Y(u.a,{height:"40px"})))}var te=r.a.createElement;function ne(){return te(ee,null)}},OQ2h:function(e,t,n){"use strict";var a=n("pVnL"),r=n.n(a),o=n("8OQS"),c=n.n(o),i=n("qKvR"),s=n("q1tI"),l=n("w0db"),u=n("eJLp"),d=n("BMxC"),f=Object(s.forwardRef)((function(e,t){var n=e.icon,a=e.isRound,o=e["aria-label"],s=c()(e,["icon","isRound","aria-label"]),f=(s.isFullWidth,s.leftIcon,s.rightIcon,s.loadingText,c()(s,["isFullWidth","leftIcon","rightIcon","loadingText"]));return Object(i.d)(u.a,r()({p:"0",borderRadius:a?"full":"md",ref:t,"aria-label":o},f),"string"===typeof n?Object(i.d)(l.a,{name:n,focusable:"false",color:"currentColor","aria-hidden":!0}):Object(i.d)(d.a,{as:n,"aria-hidden":!0,focusable:"false",color:"currentColor"}))}));f.displayName="IconButton",f.defaultProps=u.a.defaultProps,t.a=f},RuSG:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nft2",function(){return n("EM35")}])},XXjs:function(e,t,n){"use strict";var a=n("BMxC"),r=n("eJLp"),o=n("q1tI"),c=n.n(o),i=c.a.createElement;t.a=function(e){var t=e.data,n=e.filename;return i(c.a.Fragment,null,i(a.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},i(r.a,{id:"downloadLink",width:"100%",onClick:function(e){e.preventDefault();var a=JSON.stringify(t,null,2),r=new Blob([a],{type:"application/json"}),o=URL.createObjectURL(r),c=document.createElement("a");c.href=o,c.download=n,document.body.appendChild(c),c.click(),document.body.removeChild(c)}},"Backup Vault")))}},zIq6:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("ODXe"),r=n("q1tI"),o=n.n(r),c=n("IP4Q"),i=n("eJLp"),s=n("yI6m"),l=n("OQ2h"),u=n("Z6YE"),d=n("zmG3"),f=n("iBPG"),p=o.a.createElement;function b(e){var t=e.hash,n=e.onComplete,o=Object(u.b)(),b=o.library,m=o.chainId,h=Object(d.i)(),g=Object(a.a)(h,2)[1].removeTransaction,v=Object(r.useState)(),O=v[0],w=v[1];return Object(r.useEffect)((function(){if(b){var e=!0;return b.waitForTransaction(t).then((function(t){e&&(n&&n(),w(1===t.status))})),function(){e=!1}}}),[b,t]),p(c.a,{spacing:0},p(i.a,{as:"a",variantColor:"boolean"===typeof O?O?"green":"red":"blue",leftIcon:"boolean"===typeof O?O?"check-circle":"warning":function(){return p(s.a,{size:"sm",mr:"0.5rem",ml:"-0.25rem"})},rightIcon:"external-link",style:{borderTopRightRadius:0,borderBottomRightRadius:0},href:Object(f.g)(f.c.Transaction,[m,t]),target:"_blank",rel:"noopener noreferrer"},Object(f.m)(t,2)),p(l.a,{icon:"close",variantColor:"boolean"===typeof O?O?"green":"red":"blue","aria-label":"Close",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},borderLeft:"1px solid white",onClick:function(){g(m,t)}}))}}},[["RuSG",1,0,11,14,22,2,4,3,5,6,7,8,9,10,12,13,16,17,19,20,21,24]]]);