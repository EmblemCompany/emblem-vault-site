_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[52],{EM35:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ne}));var a=n("q1tI"),r=n.n(a),o=n("o0o1"),i=n.n(o),c=n("HaE+"),s=n("XZ7F"),u=n("mf32"),l=n("BMxC"),d=n("Weur"),p=n("Yn+B"),f=n("eJLp"),m=n("sK1y"),b=n("pboS"),g=n("wCB1"),h=n("FpzS"),v=n("IP4Q"),O=n("LqLE"),w=n("bQFp"),j=n("wZsY"),S=n("8Kt/"),y=n.n(S),k=n("Z6YE"),x=n("nOHt"),C=n("Ute3"),T=n("Y1ui"),N=n.n(T),E=n("a6RD"),I=n.n(E),_=n("8XlW"),A=n("zIq6"),F=n("N39q"),M=n("21eR"),H=n("iBPG"),V=n("NFKh"),L=n.n(V),P=n("IujW"),R=n.n(P),D=n("wH4i"),G=n.n(D),J=n("PLxQ"),B=n("zNBI"),K=n("fksj"),W=n("r9y0"),U=n("diTF"),X=n("PSLY"),q=n("FGWJ"),z=n("XXjs"),Y=r.a.createElement,$=I()((function(){return Promise.all([n.e(13),n.e(16),n.e(28)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),Q=I()((function(){return Promise.all([n.e(13),n.e(16),n.e(29)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}}),Z=I()((function(){return Promise.all([n.e(13),n.e(16),n.e(30)]).then(n.bind(null,"D3uo"))}),{loadableGenerated:{webpack:function(){return["D3uo"]},modules:["./OfferModal"]}});function ee(){var e=Object(k.b)(),t=e.account,n=e.chainId,o=e.library,S=Object(x.useRouter)(),T=S.query,E=Object(a.useState)(!1),I=E[0],V=E[1],P=Object(a.useState)(null),D=P[0],ee=P[1],te=Object(a.useState)(null),ne=te[0],ae=te[1],re=Object(a.useState)(null),oe=(re[0],re[1]),ie=Object(a.useState)(null),ce=ie[0],se=ie[1],ue=Object(a.useState)(!1),le=ue[0],de=ue[1],pe=Object(a.useState)(!1),fe=pe[0],me=pe[1],be=Object(a.useState)(T.useOldMint),ge=(be[0],be[1],Object(a.useState)(T.key)),he=(ge[0],ge[1]),ve=Object(a.useState)(T.offer||!1),Oe=ve[0],we=(ve[1],Object(a.useState)(T.framed||!0)),je=we[0],Se=(we[1],Object(a.useState)(T.id)),ye=Se[0],ke=(Se[1],Object(a.useState)(T.experimental)),xe=(ke[0],ke[1],Object(a.useState)(T.noLayout)),Ce=(xe[0],xe[1],Object(a.useState)(T.slideshowOnly||!1)),Te=Ce[0],Ne=(Ce[1],Object(a.useState)("")),Ee=Ne[0],Ie=Ne[1],_e=Object(a.useState)(""),Ae=_e[0],Fe=_e[1],Me=Object(a.useState)(""),He=Me[0],Ve=Me[1],Le=Object(a.useState)(""),Pe=Le[0],Re=Le[1],De=Object(a.useState)(""),Ge=De[0],Je=De[1],Be=Object(a.useState)(""),Ke=Be[0],We=Be[1],Ue=Object(a.useState)(""),Xe=Ue[0],qe=Ue[1],ze=Object(a.useState)([]),Ye=ze[0],$e=ze[1],Qe=Object(a.useState)(!1),Ze=Qe[0],et=Qe[1],tt=Object(a.useState)([]),nt=tt[0],at=tt[1],rt=Object(a.useState)([]),ot=rt[0],it=rt[1],ct=Object(a.useState)([]),st=ct[0],ut=ct[1],lt=Object(a.useState)(!1),dt=lt[0],pt=lt[1],ft=Object(a.useState)(0),mt=ft[0],bt=ft[1],gt=Object(a.useState)(null),ht=gt[0],vt=gt[1],Ot=Object(a.useState)(null),wt=(Ot[0],Ot[1]),jt=Object(a.useState)(null),St=jt[0],yt=jt[1],kt=Object(a.useState)(""),xt=kt[0],Ct=kt[1],Tt=Object(a.useState)(""),Nt=Tt[0],Et=Tt[1],It=Object(a.useState)({loaded:!1}),_t=It[0],At=It[1],Ft=Object(a.useState)(!1),Mt=Ft[0],Ht=Ft[1],Vt=Object(a.useState)(!1),Lt=Vt[0],Pt=Vt[1],Rt=Object(a.useState)(!1),Dt=Rt[0],Gt=Rt[1],Jt=Object(a.useState)("claimed"),Bt=Jt[0],Kt=Jt[1],Wt=Object(a.useState)(!1),Ut=Wt[0],Xt=Wt[1],qt=Object(a.useState)(null),zt=qt[0],Yt=qt[1],$t=Object(a.useState)(""),Qt=$t[0],Zt=$t[1],en=Object(a.useState)(""),tn=en[0],nn=en[1],an=Object(a.useState)(""),rn=an[0],on=an[1],cn=Object(a.useState)([]),sn=cn[0],un=cn[1],ln=Object(a.useState)(!1),dn=ln[0],pn=ln[1],fn=Object(a.useState)(""),mn=fn[0],bn=fn[1],gn=Object(a.useState)(!1),hn=gn[0],vn=gn[1],On=Object(a.useState)(""),wn=On[0],jn=On[1],Sn=Object(a.useState)(!1),yn=Sn[0],kn=Sn[1],xn=Object(a.useState)(!1),Cn=(xn[0],xn[1],Object(a.useState)(!1)),Tn=Cn[0],Nn=Cn[1],En=Object(a.useState)(!1),In=En[0],_n=En[1],An=Object(a.useState)(!1),Fn=An[0],Mn=(An[1],Object(a.useState)("")),Hn=Mn[0],Vn=(Mn[1],Object(a.useState)(!1)),Ln=(Vn[0],Vn[1]),Pn=Object(a.useState)(!1),Rn=Pn[0],Dn=Pn[1],Gn=Object(a.useState)(null),Jn=(Gn[0],Gn[1],Object(a.useState)(!1)),Bn=Jn[0],Kn=Jn[1],Wn=Object(a.useState)(null),Un=Wn[0],Xn=Wn[1],qn=Object(a.useState)(!1),zn=qn[0],Yn=qn[1],$n=Object(a.useState)(null),Qn=($n[0],$n[1]),Zn=Object(a.useState)(null),ea=(Zn[0],Zn[1]),ta=Object(a.useState)(null),na=ta[0],aa=ta[1],ra=Object(a.useState)(!1),oa=ra[0],ia=(ra[1],Object(a.useState)(!1)),ca=ia[0],sa=ia[1],ua=Object(a.useState)(!1),la=ua[0],da=ua[1],pa=Object(a.useState)(!1),fa=(pa[0],pa[1]),ma=Object(a.useState)(null),ba=ma[0],ga=ma[1],ha=Object(a.useState)({name:"",image:"",metadata:""}),va=ha[0],Oa=ha[1],wa=Object(a.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),ja=wa[0],Sa=wa[1],ya=Object(a.useState)(!1),ka=ya[0],xa=ya[1],Ca=Object(a.useState)(!1),Ta=Ca[0],Na=Ca[1],Ea=Object(a.useState)({}),Ia=Ea[0],_a=Ea[1],Aa=Object(a.useState)({}),Fa=(Aa[0],Aa[1]),Ma=(Object(M.b)(F.p.vaultHandler[n],F.p.vaultHandlerAbi,!0),Object(M.b)(F.p.vaultHandlerV8[n],F.p.vaultHandlerV8Abi,!0)),Ha=Object(M.b)(F.p.emblemVault[n],F.p.emblemAbi,!0),Va=Object(M.b)(F.p.coval[n],F.p.covalAbi,!0),La=Object(s.a)(),Pa=La.isOpen,Ra=La.onOpen,Da=La.onClose,Ga=Object(s.a)(),Ja=Ga.isOpen,Ba=Ga.onOpen,Ka=Ga.onClose,Wa=Object(s.a)(),Ua=Wa.isOpen,Xa=Wa.onOpen,qa=Wa.onClose,za=Object(s.a)(),Ya=(za.isOpen,za.onToggle,Object(s.a)()),$a=(Ya.isOpen,Ya.onToggle,Object(u.c)().colorMode),Qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new _.a(e,F.p.erc1155Abi,o.getSigner(t).connectUnchecked())},Za=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/vault/balance/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,console.log("responce",r,o),!(o.balances.length>0)){e.next=11;break}return e.abrupt("return",a(o.balances));case 11:return e.abrupt("return",a(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),er=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getvault"),e.next=3,fetch(F.g+"/v2/meta/"+ye+"?experimental=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,_a(n),n.collectionAddress&&(fa(!0),ga(n.collectionAddress)),n.name?(console.log("--------------- states -",n),tr(n),pn(!1),kn(!1)):(At({loaded:!0}),kn(!0));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tr=function(e){e.targetAsset||(location.href=location.origin+"/nft?id="+ye),je&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+je),e.ciphertextV2&&Re(e.ciphertextV2),Na(e.mintLocked&&0==e.mintLockBlock),Ie(e.name),We(e.image),qe(e.ownedImage||null),Je(e.description),bt(e.totalValue||0),e.values&&$e(Ye.concat(e.values)),e.attributes&&at(e.attributes.filter((function(e){return"key"===e.trait_type}))),e.attributes&&it(e.attributes),ut(e.addresses),Fe(e.ipfs||null),Ve(e.image_ipfs||null),e.targetContract&&e.targetContract.tokenId==ye&&V(!0),e.targetAsset&&Oa(e.targetAsset),e.targetContract&&Sa(e.targetContract),e.values&&e.targetAsset&&e.values.filter((function(t){return t.coin.toLowerCase()==e.targetContract.chain&&t.name==e.targetAsset.name&&t.project==e.targetContract.name})).length>0&&xa(!0),Yn(0!=e.live),Qn(e.nonce),ea(e.signature),aa(e.to),wt(e.network),vt("mainnet"==e.network?1:"rinkeby"==e.network?4:"goerli"==e.network?5:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),e.live||(console.log("check liveliness start"),function(e,t,a){console.log("check liveliness next",t);var r=t&&t.name?F.g+"/v2/liveliness-curated":F.g+"/liveliness";fetch(r,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,Yn(n.live),console.log("Liveliness check",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a(!1)}(ye,e.targetContract,(function(e){Yn(e)}))),Kt(e.status),"claimed"===Bt&&Yt(e.claimedBy),At({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;pt(t),e.sealed?Xt(!0):Xt(!1)},nr=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ze){e.next=2;break}return e.abrupt("return",a(!1));case 2:return et(!0),e.next=5,fetch(F.g+"/vault/balance/"+n+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 5:return r=e.sent,e.next=8,r.json();case 8:if(o=e.sent,console.log("responce",r,o),!(o.balances.length>0)){e.next=14;break}return e.abrupt("return",a(t.concat(o.balances)));case 14:return e.abrupt("return",a(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ar=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a,r){var o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/vault/balance/"+n+"/"+a,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(c=e.sent,console.log("responce",o,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt("return",r(t.concat(c.balances)));case 11:return e.abrupt("return",r(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),rr=function(){var e=localStorage.getItem(t+"_"+n+"_"+ye+"_mintPassword");e&&Fn&&he(e)},or=function(){var e=Object(c.a)(i.a.mark((function e(t,a,r){var o,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainid",n.toString()),o.append("Content-Type","application/json"),c=JSON.stringify({signature:t,tokenId:a}),e.next=6,fetch(F.n+"/sign",{method:"POST",headers:o,body:c,redirect:"follow"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt("return",r(u));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function ir(e,t,n){return cr.apply(this,arguments)}function cr(){return(cr=Object(c.a)(i.a.mark((function e(t,n,a){var r,o,c,s,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new X.a({network:"mainnet"}),o=new q.a({enableOneKey:!0,network:"mainnet"}),e.next=4,r.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:t});case 4:return c=e.sent,s=c.torusNodeEndpoints,u=c.torusIndexes,e.next=9,o.retrieveShares(s,u,"tor-us-signer-vercel",{verifier_id:t},n);case 9:return l=e.sent,d=l.privKey,e.abrupt("return",a({privateKey:d}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sr=function(){var e=Object(c.a)(i.a.mark((function e(t,a,r){var o,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainId",n.toString()),o.append("service","evmetadata"),o.append("Content-Type","application/json"),c=JSON.stringify({signature:t}),e.next=7,fetch(F.g+"/embed/"+a,{method:"POST",headers:o,body:c,redirect:"follow"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt("return",r(u));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ur=function(){var e=Object(c.a)(i.a.mark((function e(){var a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return(o=Object(c.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ja[n]){e.next=7;break}return e.next=3,Ha.isApprovedForAll(t,F.p.vaultHandlerV8[n]);case 3:r=e.sent,me(r),e.next=11;break;case 7:return e.next=9,Ha.isApprovedForAll(t,F.p.vaultHandler[n]);case 9:r=e.sent,me(r);case 11:Xn(a),Ht(a===t||na===t&&"0x0000000000000000000000000000000000000000"===a),Pt(na===t&&"0x0000000000000000000000000000000000000000"===a),rr();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(){return o.apply(this,arguments)},e.prev=2,!ja[n]){e.next=27;break}return Ha=Qa(ja[n]),e.t0=ee,e.next=8,Va.decimals();case 8:return e.t1=e.sent,(0,e.t0)(e.t1),se(250*Math.pow(10,D)),e.t2=ae,e.next=14,Va.allowance(t,F.p.vaultHandlerV8[n]).then((function(e){return e.toString()}));case 14:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=oe,e.next=19,Va.balanceOf(t).then((function(e){return e.toString()}));case 19:return e.t5=e.sent,(0,e.t4)(e.t5),Number(ne)>=Number(ce)?de(!0):de(!1),e.next=24,Ha.getOwnerOfSerial(ja.serialNumber);case 24:a=e.sent,e.next=30;break;case 27:return e.next=29,Ha.ownerOf(ye);case 29:a=e.sent;case 30:r(),e.next=37;break;case 33:e.prev=33,e.t6=e.catch(2),a="0x0000000000000000000000000000000000000000",r();case 37:case"end":return e.stop()}}),e,null,[[2,33]])})));return function(){return e.apply(this,arguments)}}(),lr=function(){var e=Object(c.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Renew: "+ye).then((function(e){var t=st.filter((function(e){return"NMC"==e.coin}))[0].address;console.log("signature",e,a),fetch(F.g+"/nmc/renew/"+t,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:ye,signature:e,name:a})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("Requested Renew",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dr=function(){var e=Object(c.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ja[n]&&(Ha=Qa(ja[n]),a=ja.serialNumber),o.getSigner(t).signMessage("Claim: "+(ja[n]?a:ye)).then((function(e){At({loaded:!1}),Lt&&"claimed"!=Bt&&!Ta&&Na(!0),or(e,ye,(function(e){ir(ye,e.token,(function(e){var t=L.a.AES.decrypt(Pe,e.privateKey),n=JSON.parse(t.toString(L.a.enc.Utf8));un(n.values),Zt(n.phrase),st.forEach(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("STX"!=t.coin){e.next=6;break}return e.next=3,pr(t,n.phrase);case 3:t.key=e.sent,e.next=7;break;case 6:t.key=window.phrasePathToKey(n.phrase,t.path);case 7:"BTC"==t.coin&&nn(t.key),"ETH"==t.coin&&on(t.key);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),At({loaded:!0}),Ba()}))}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pr=function(){var e=Object(c.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.a)({secretKey:n,password:""});case 2:return a=e.sent,console.log("------ stacks account -",a.accounts[0]),r=a.accounts[0],t.key=r.stxPrivateKey,e.abrupt("return",t.key);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fr=function(){var e=Object(c.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("HideAsset: "+ye).then((function(e){console.log("----------------------------------------------------------------",e),console.log(n.name,n.coin,n.address),mr(ye,n.coin,n.address,n.name,e,(function(){console.log("Done hiding coin and getting new balances")}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function mr(e,t,a,r,o,s){fetch(F.g+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({coin:t||null,address:a||null,name:r||null,signature:o||null})}).then(function(){var t=Object(c.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log("-------",a),Za([],e,(function(e){return $e(e),s()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var br=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Embed: "+ye).then((function(e){sr(e,ye,(function(e){We(e.ownedImage)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gr=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ja[n]?Ma.claim(ja[n],ja.tokenId).then((function(e){var t=e.hash;Gt(!0),setTimeout((function(){yt(t)}),100)})):Ha.burn(ye).then((function(e){var t=e.hash;Gt(!0),setTimeout((function(){yt(t)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),hr=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,r,o,c,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var i=0;i<r-c;i++){var l=Math.floor(t.length*Math.random()),d=t.charAt(l);s+=d}o==a-1&&c++,o==a&&(u+=n.charAt(c-1),o=0),bn(u+s),s=""},!hn){e.next=3;break}return e.abrupt("return");case 3:vn(!0),t="abcdefghijklmnopqrstuvwxyz",5,r=(n="Decrypting").length,o=0,c=0,s="",u="",function e(t){setTimeout((function(){--t?e(t):vn(!1),l(t),o+=1}),5)}(r*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function vr(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}function Or(e){wn&&(e=wn),hr(),console.log(st);var t=st[0].address.replace("private:","");try{var n=L.a.AES.decrypt(t,e);JSON.parse(n.toString(L.a.enc.Utf8)),pt(!1),jn(e),ut(function(e){return st.forEach((function(t){if(t.address.includes("private")){var n=t.address.replace("private:","");t.address=function(e,t){var n=L.a.AES.decrypt(e,t);return JSON.parse(n.toString(L.a.enc.Utf8))}(n,e)}})),st}(e));var a=st.filter((function(e){return"ETH"===e.coin}))[0].address,r=st.filter((function(e){return"BTC"===e.coin}))[0].address;console.log("SUCCESS",st),ar([],a,r,(function(e){$e(e)}))}catch(o){console.log("WTF",o)}}return Object(a.useEffect)((function(){console.log("----"),er()}),[]),Object(a.useEffect)((function(){(t&&n&&ht&&n==ht||T.noLayout&&"true"==T.noLayout||T.slideshowOnly&&"true"==T.slideshowOnly)&&ur()})),ba&&(Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new _.a(e||F.p.emblemVault[n],F.p.emblemAbi,o.getSigner(t).connectUnchecked())}(ba||null)),Y(r.a.Fragment,null,Y(y.a,null,Y("meta",{name:"twitter:card",content:"summary_large_image"}),Y("meta",{name:"twitter:site",content:"Emblem.Finance"}),Y("meta",{name:"twitter:title",content:Ee}),Y("meta",{name:"twitter:description",content:vr(Ge)}),Y("meta",{name:"twitter:image",content:Ke}),Y("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})),Y($,{isOpen:Pa,onClose:Da,addrCoin:xt,addrAddr:Nt}),Y(Q,{isOpen:Ja,onClose:Ka,mnemonic:Qt,privKeyBTC:tn,privKeyETH:rn,privValues:sn,addresses:st}),Oe?Y(Z,{isOpen:Ua,onClose:qa,tokenId:ye,mine:Mt}):null,Y(N.a,{loaded:_t.loaded},Y(l.a,{height:"40px"}),dn?Y(C.a,null):"",yn||Te?Ye.length>0&&Te?Y(p.a,{className:"NFT-content",align:"center"},Ye.length&&Ye.filter((function(e){return"nft"==e.type})).length>0?Y(B.a,{name:Ee,image:Ye[0].image,items:Ye.filter((function(e){return e.image!==Ye[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):Y(J.b,{className:"d-block w-100 NFT-image",url:Ke})):yn?Y(p.a,{align:"center"},Y(w.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),Y(m.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",Y(b.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):null:Y(d.a,{width:"full",align:"center",justifyContent:"center"},Y(l.a,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:ht!=n?"orange.500":"claimed"==Bt?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},Y(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500"},"Vault Network: ",H.a[ht]),Y(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center"},Ee,!dt&&mt>0?": ~$"+mt.toLocaleString():null),Y(p.a,{className:"NFT-content",align:"center"},Y(J.b,{className:"d-block w-100 NFT-image",url:Ke}),Mt&&Xe?Y(f.a,{onClick:function(){br()}},"(OWNED) Show Full Embed"):null),Y(p.a,{align:"center"},Y(l.a,{mt:"2",ml:"4",lineHeight:"tight"},Y(p.a,null,Y(m.a,{fontSize:"xs"},I||ht!=n?null:Y(b.a,{href:"./vaults?address="+Un},"Owner: ",Un)),Y(m.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md"},Y(R.a,{plugins:[G.a],children:vr(Ge)}))))),Y(l.a,{p:"6"},I?null:Y(g.f,{isFitted:!0,variant:"enclosed"},Y(g.c,{mb:"1em"},Y(g.a,null,"Balances"),Y(g.a,null,"Attributes")),Y(g.e,null,Y(g.d,null,dt?Y(l.a,{mb:5},Y(m.a,{pb:2,color:mn?"green.500":null},mn||"Contents hidden. Enter password to unlock."),Y(h.a,{type:"password",id:"vault-password",onChange:function(e){return Or(e.target.value)},"aria-describedby":"password-helper-text"})):Y(l.a,{d:"flex",backgroundColor:"light"==$a?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content"},Y(l.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},Y(m.a,{as:"h4",mt:2,fontWeight:"semibold"},"Current Contents:  ",Y("button",{onClick:function(){nr([],ye,(function(e){et(!1),$e(e)}))}}," [Refresh Balances]")),Y(m.a,{as:"p",color:"dark"==$a?"lightgreen":"forestgreen"},"$",Number(mt.toFixed(4)).toLocaleString()),Ye.length?Ye.map((function(e){return Y(p.a,null,Y(K.a,{colorMode:$a,coin:e,mine:"claimed"===Bt&&zt===t||Mt,onRenew:lr,hideAsset:!va.name&&fr}))})):Y(C.a,null),nt.length?nt.map((function(e){return Y(m.a,null,"Data: ",e.attribute_key)})):nt.length||Ye.length?null:Y(m.a,null,"Nothing in here! Fill 'er up!")))),Y(g.d,null,Y(W.a,{colorMode:$a,attributes:ot})))),I||dt?null:Y(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(v.a,{justifyContent:"space-between",spacing:6},Y(p.a,null,Y(m.a,null,"Deposit Addresses"),Y(d.a,{w:"340px",justify:"center",flexWrap:"wrap"},st.map((function(e){return Y(f.a,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",key:e.address,onClick:function(){Ct(e.coin),Et(e.address),Ra()}},"ETH"==e.coin?e.coin+"":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin)})))))),I||"claimed"!==Bt&&zn&&(1===ht||4===ht||5===ht||137===ht)?Y(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(f.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==ht?"rinkeby.":5==ht?"testnets.":"")+"opensea.io/assets/"+(137==ht?"matic/":5==ht?"goerli/":"")+(ba||(ja[n]?ja[n]:F.p.emblemVault[ht]))+"/"+(ja?ja.tokenId:ye),"_blank")}},"Opensea"),Y(f.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==ht?"rinkeby.":5==ht?"goerli.":"")+"looksrare.org/collections/"+(137==ht?"matic/":"")+(ba||(ja?ja[n]:F.p.emblemVault[ht]))+"/"+(ja?ja.tokenId:ye),"_blank")}},"LooksRare"),Oe?Y(f.a,{className:"",onClick:function(){Xa()}},Mt?"My Offers":"Make an Offer"," (NFT\xb2NFT)"):null):null,I||!Mt||Fn||fe?null:Y(r.a.Fragment,null,Y(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(f.a,{className:"nft_button",width:"100%",onClick:function(){if(!fe)return _n(!0),void(ja.name?(Ha=Qa(ja[n])).setApprovalForAll(F.p.vaultHandlerV8[n],!0).then((function(e){var t=e.hash;setTimeout((function(){yt(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):_n(!1)})):Ha.setApprovalForAll(F.p.vaultHandler[n],!0).then((function(e){var t=e.hash;setTimeout((function(){yt(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):_n(!1)})))}},"Approve Claiming"))),!I&&zn&&"claimed"!==Bt&&t&&ht===n&&Mt&&!Ut&&fe?Y(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(f.a,{width:"100%",onClick:function(){gr()},isDisabled:Dt},Dt?"Claiming ...":"Claim (Crack Open Vault)")):null,le||In||na!=t?null:Y(f.a,{width:"100%",mt:5,onClick:function(){_n(!0);var e=ja.name?F.p.vaultHandlerV8[n]:F.p.vaultHandler[n];Va.approve(e,"100000000000000").then((function(e){var t=e.hash;yt(t)})).catch((function(e){4001==(null===e||void 0===e?void 0:e.code)&&_n(!1)}))},type:"submit"},"Approve Coval"),I||zn||In||!le||na!=t||ht!=n||"claimed"===Bt||ca?null:Y(r.a.Fragment,null,ja.name?Y(f.a,{width:"100%",mt:5,onClick:function(){o.getSigner(t).signMessage("Curated Minting: "+ye).then((function(e){console.log("sig",e),fetch(F.g+"/v2/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:ye,signature:e,chainId:n.toString()})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("WTFFFFF"),console.log(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1),Fa(n),Ma.buyWithSignedPrice(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1).then((function(e){var t=e.hash;setTimeout((function(){yt(t),sa(!0),da(!0)}),100)})).catch((function(e){console.log("ERROR",e),sa(!1),da(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},isDisabled:!ka||Ta},Ta?"Mint Locked - keys accessed before mint":ka?" Mint Vault":"Please load vault to mint"," "):null),!I&&ht===n&&"claimed"==Bt&&zt===t||Lt&&"claimed"!=Bt?Y(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(f.a,{width:"100%",onClick:dr},Lt&&"claimed"!=Bt&&!Ta?"Get Keys (Unlocking will prevent minting)":"Get Keys")):null,Mt?Y(z.a,{data:Ia,filename:"EmblemVault-".concat(ye,".json")}):null,zn&&"claimed"!=Bt||na!=t||ht!=n||ca||!(Ye.length<1)?null:Y(f.a,{width:"100%",mt:5,onClick:function(){o.getSigner(t).signMessage("Delete: "+ye).then((function(e){console.log("sig",e),fetch(F.g+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:ye,signature:e,chainId:n.toString()})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:e.sent,location.href=location.href.split("/")[0]+"/vaults";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Delete Vault "),oa?Y(f.a,{isDisabled:!0,type:"submit"},"Verifying Signature ..."):null,ca?Y(f.a,{isDisabled:!0,type:"submit"},"Minting Vault ..."):null),!I&&Ae?Y(j.a,{align:"center"},Y(b.a,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+Ae,isExternal:!0},"View Metadata on IPFS "),He?Y(b.a,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+He,isExternal:!0},"View Image on IPFS "):null):null,Ut?Y(l.a,{d:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4"},Y(m.a,null,"*This vault is sealed forever.")):null,Y(p.a,{direction:"column",align:"center"},"claimed"==Bt?Y(m.a,{color:"green.500"},"CLAIMED"):null),St?Y(O.a,{status:"info"},Y(O.b,null),Tn?"Accepting Your Gift Vault":Dt?"Claiming your Vault ...":In?"Handling Approval Flow ...":Bn?"Transfering Vault ...":la?"Minting Vault":"Generating Gift Link ..."):null)),St?Y(A.a,{hash:St,onComplete:function(){!Dt||Tn||Rn?Rn?(localStorage.setItem(t+"_"+n+"_"+ye+"_mintPassword",Hn),Ln(!0),Dn(!1),yt(null)):Tn?(Nn(!1),er(),yt(null)):In?(_n(!1),er(),yt(null)):Bn?(Kn(!1),er(),yt(null)):la||ca?(console.log("GOD SAKES REDIRECT"),da(!1),yt(null),sa(!1),location.href=location.origin+"/nft2?id="+ye):(location.href=location.origin+"/nft2?id="+ye,console.log("--- minting",la),console.log("--- claiming",Dt),console.log("--- accepting",Tn),console.log("--- preTransfering",Rn),console.log("--- approving",In),console.log("Unknown state")):(yt(null),Kt("claimed"),Gt(!1),Yt(t),location.href=location.origin+"/nft?id="+ye)}}):null,Y(l.a,{height:"40px"})))}var te=r.a.createElement;function ne(){return te(ee,null)}},RuSG:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nft2",function(){return n("EM35")}])},XXjs:function(e,t,n){"use strict";var a=n("BMxC"),r=n("eJLp"),o=n("q1tI"),i=n.n(o),c=i.a.createElement;t.a=function(e){var t=e.data,n=e.filename;return c(i.a.Fragment,null,c(a.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},c(r.a,{id:"downloadLink",width:"100%",onClick:function(e){e.preventDefault();var a=JSON.stringify(t,null,2),r=new Blob([a],{type:"application/json"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i)}},"Backup Vault")))}}},[["RuSG",1,0,11,15,23,2,4,3,5,6,7,8,9,10,12,14,17,18,19,20,25]]]);