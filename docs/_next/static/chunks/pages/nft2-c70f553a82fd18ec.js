(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6945],{4338:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nft2",function(){return n(49706)}])},49706:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return et}});var a=n(85893),l=n(7335),s=n(45161),i=n(57747),o=n(93717),r=n(51343),c=n(93108),d=n(71293),u=n(32883),h=n(36752),m=n(77458),g=n(35232),p=n(72047),f=n(37365),x=n(33090),S=n(34292),w=n(78590),j=n(74153),b=n(7405),y=n(2593),k=n(8161),v=n(9008),C=n.n(v),T=n(77044),_=n(67294),I=n(11163),N=n(71114),O=n(70758),E=n.n(O),A=n(5152),P=n.n(A),R=n(77294),M=n(64541),H=n(31238),V=n(80902),q=n(62850),z=n(81354),F=n.n(z),K=n(30724),B=n.n(K),L=n(10043),U=n.n(L),W=n(33862),G=n(74174),D=n(35649),J=n(18974),Z=n(87070),$=n(38299),Q=n(10063);let X=P()(()=>Promise.all([n.e(1793),n.e(8159),n.e(6115),n.e(2108)]).then(n.bind(n,37414)),{loadableGenerated:{webpack:()=>[37414]}}),Y=P()(()=>Promise.all([n.e(1793),n.e(8159),n.e(2955)]).then(n.bind(n,81817)),{loadableGenerated:{webpack:()=>[81817]}});function ee(){let{account:e,chainId:t,library:n}=(0,T.Ge)(),{query:v}=(0,I.useRouter)(),[O,A]=(0,_.useState)(!1),[P,z]=(0,_.useState)(null),[K,L]=(0,_.useState)(null),[ee,et]=(0,_.useState)(null),[en,ea]=(0,_.useState)(0),[el,es]=(0,_.useState)(null),[ei,eo]=(0,_.useState)(!1),[er,ec]=(0,_.useState)(!1),[ed,eu]=(0,_.useState)(v.key),[eh,em]=(0,_.useState)("true"==v.debug),[eg,ep]=(0,_.useState)(null),[ef,ex]=(0,_.useState)(v.offer||!1),[eS,ew]=(0,_.useState)(v.framed||!0),[ej,eb]=(0,_.useState)(v.id),[ey,ek]=(0,_.useState)(),[ev,eC]=(0,_.useState)(v.slideshowOnly||!1),[eT,e_]=(0,_.useState)(v.legacy||!1),[eI,eN]=(0,_.useState)(""),[eO,eE]=(0,_.useState)(""),[eA,eP]=(0,_.useState)(""),[eR,eM]=(0,_.useState)(""),[eH,eV]=(0,_.useState)(""),[eq,ez]=(0,_.useState)(""),[eF,eK]=(0,_.useState)(""),[eB,eL]=(0,_.useState)(""),[eU,eW]=(0,_.useState)([]),[eG,eD]=(0,_.useState)([]),[eJ,eZ]=(0,_.useState)(!1),[e$,eQ]=(0,_.useState)([]),[eX,eY]=(0,_.useState)([]),[e0,e1]=(0,_.useState)([]),[e7,e3]=(0,_.useState)(!1),[e5,e4]=(0,_.useState)(0),[e2,e8]=(0,_.useState)(null),[e9,e6]=(0,_.useState)(null),[te,tt]=(0,_.useState)(null),[tn,ta]=(0,_.useState)(""),[tl,ts]=(0,_.useState)(""),[ti,to]=(0,_.useState)({loaded:!1}),[tr,tc]=(0,_.useState)(!1),[td,tu]=(0,_.useState)(!1),[th,tm]=(0,_.useState)(!1),[tg,tp]=(0,_.useState)("claimed"),[tf,tx]=(0,_.useState)(!1),[tS,tw]=(0,_.useState)(null),[tj,tb]=(0,_.useState)(""),[ty,tk]=(0,_.useState)(""),[tv,tC]=(0,_.useState)(""),[tT,t_]=(0,_.useState)([]),[tI,tN]=(0,_.useState)(!1),[tO,tE]=(0,_.useState)(""),[tA,tP]=(0,_.useState)(!1),[tR,tM]=(0,_.useState)(""),[tH,tV]=(0,_.useState)(!1),[tq,tz]=(0,_.useState)(!1),[tF,tK]=(0,_.useState)(!1),[tB,tL]=(0,_.useState)(!1),[tU,tW]=(0,_.useState)(!1),[tG,tD]=(0,_.useState)(""),[tJ,tZ]=(0,_.useState)(!1),[t$,tQ]=(0,_.useState)(!1),[tX,tY]=(0,_.useState)(!1),[t0,t1]=(0,_.useState)(null),[t7,t3]=(0,_.useState)(!1),[t5,t4]=(0,_.useState)(null),[t2,t8]=(0,_.useState)(null),[t9,t6]=(0,_.useState)(null),[ne,nt]=(0,_.useState)(!1),[nn,na]=(0,_.useState)(!1),[nl,ns]=(0,_.useState)(!1),[ni,no]=(0,_.useState)(null),[nr,nc]=(0,_.useState)({name:"",image:"",metadata:""}),[nd,nu]=(0,_.useState)({collectionType:""}),[nh,nm]=(0,_.useState)(!1),[ng,np]=(0,_.useState)({name:"",image:"",metadata:""}),[nf,nx]=(0,_.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),[nS,nw]=(0,_.useState)(!1),[nj,nb]=(0,_.useState)({}),[ny,nk]=(0,_.useState)({}),[nv,nC]=(0,_.useState)(null),nT=(0,V.cq)(H.q7.vaultHandlerV8[t],H.q7.vaultHandlerV8Abi,!0),n_=(0,V.cq)(H.q7.mintVaultQuote[t],H.q7.mintVaultQuoteAbi,!0),nI=(0,V.cq)(H.q7.emblemVault[t],H.q7.emblemAbi,!0),nN=(0,V.cq)(H.q7.coval[t],H.q7.covalAbi,!0),{isOpen:nO,onOpen:nE,onClose:nA}=(0,l.q)(),{isOpen:nP,onOpen:nR,onClose:nM}=(0,l.q)(),{isOpen:nH,onToggle:nV}=(0,l.q)(),{colorMode:nq}=(0,s.If)(),[nz,nF]=(0,_.useState)(""),[nK,nB]=(0,_.useState)(!0),nL=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new R.CH(t,"ERC1155"==nd.collectionType?H.q7.erc1155Abi:"ERC721a"==nd.collectionType?H.q7.erc721aAbi:H.q7.erc721Abi,n.getSigner(e).connectUnchecked())},nU=(e,n,a)=>{console.log("check liveliness next",n);let l=n&&n.name?H._z+"/liveliness-curated":H.HP+"/liveliness";return fetch(l,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:e})}).then(async function(e){let t=await e.json();t3(t.live),console.log("Liveliness check",t)}),a(!1)},nW=()=>{to({loaded:!1}),n.getSigner(e).signMessage("Curated Minting: "+ej).then(e=>{console.log("sig",e),fetch(H._z+"/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({method:"buyWithSignedPrice",tokenId:ej,signature:e,chainId:t.toString()})}).then(async function(e){let t=await e.json();nk(t),nT.buyWithSignedPrice(t._nftAddress,t._payment,t._price,t._to,t._tokenId,t._nonce,t._signature,t.serialNumber,1).then(e=>{let{hash:t}=e;setTimeout(()=>{tt(t),to({loaded:!0}),nt(!0),na(!0)},100)}).catch(e=>{console.log("ERROR",e),nt(!1),na(!1),to({loaded:!0})})})}).catch(e=>{console.log("ERROR",e),nt(!1),na(!1),to({loaded:!0})})},nG=()=>{to({loaded:!1}),n.getSigner(e).signMessage("Curated Minting: ".concat(ej.toString())).then(n=>{fetch(H._z+"/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({method:"buyWithQuote",tokenId:ej,signature:n,chainId:t.toString()})}).then(async function(t){let n=await t.json();n.err&&n.msg?(alert(n.msg),to({loaded:!0})):(nk(n),n_.quoteExternalPrice(e,n._price/1e6).then(e=>{let t=e.mul(y.O$.from(10).pow(6));console.log("--------   ------",n._nftAddress,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1,{value:t}),nT.buyWithQuote(n._nftAddress,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1,{value:t}).then(e=>{let{hash:t}=e;setTimeout(()=>{tt(t),to({loaded:!0}),nt(!0),na(!0)},100)}).catch(e=>{console.log("ERROR",e),nt(!1),na(!1),to({loaded:!0})})}))})}).catch(e=>{console.log("ERROR",e),nt(!1),na(!1),to({loaded:!0})})},nD=async(e,t,n)=>{let a=await fetch(H.HP+"/vault/balance/"+t,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),l=await a.json();return n((console.log("response",a,l),l.balances.length>0)?l.balances:e)},nJ=async()=>{console.log("getvault");let t=await fetch(H._z+"/meta/"+ej+"?experimental=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),n=await t.json(),a=await q.SZ.generateJumpReport(e,!0);a=Object.keys(a).map(e=>({...a[e],tokenId:e})),nb(n),tz(!1),await (0,Q._o)(n),nZ(n),tN(!1),tV(!1)},nZ=e=>{e.collectionAddress&&(ns(!0),no(e.collectionAddress)),e.targetAsset||e.move_targetAsset||eT||(location.href=location.origin+"/nft?id="+ej),e.ciphertextV2&&eM(e.ciphertextV2),nw(e.mintLocked&&0==e.mintLockBlock),eN(e.name),ez(e.image),e.animation_url&&eK(e.animation_url),eL(e.ownedImage||null),eV(e.description),e4(e.totalValue||0),e.values&&eW(eU.concat(e.values)),e.attributes&&eQ(e.attributes.filter(e=>"key"===e.trait_type)),e.attributes&&eY(e.attributes),e1(e.addresses),eE(e.ipfs||null),eP(e.image_ipfs||null),e.targetContract&&e.targetContract.tokenId==ej&&e.targetContract.serialNumber&&A(!0),e.targetAsset&&nc(e.targetAsset),e.targetContract&&(0,q.f_)().then(n=>{let a=n.find(n=>n[t]==e.targetContract[t]);a.tokenId=e.targetContract.tokenId,a.serialNumber=e.targetContract.serialNumber,e.targetContract&&nu(a)}),e.move_targetAsset&&np(e.move_targetAsset),e.move_targetContract&&nx(e.move_targetContract),t3(!1!=e.live),ek(e.tokenId),t4(e.nonce),t8(e.signature),t6(e.to),e6(e.network),e8("mainnet"==e.network?1:"rinkeby"==e.network?4:"goerli"==e.network?5:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),e.live||(console.log("check liveliness start"),nU(ej,e.targetContract||e.move_targetContract,t=>{t3(t),setTimeout(()=>{nU(ej,e.targetContract||e.move_targetContract,e=>{t3(e)})},3e4)})),tp(e.status),"claimed"===tg&&tw(e.claimedBy),to({loaded:!0}),e3(e.addresses.filter(e=>e.address.includes("private:")).length>0),e.sealed?tx(!0):tx(!1)},n$=async(e,t,n)=>{if(eJ)return n(!1);eZ(!0);let a=await fetch(H._z+"/allBackingIdsForTokenId/"+t,{method:"GET",headers:{"Content-Type":"application/json"}}),l=await a.json();return console.log("response",a,l),n(l)},nQ=async(e,t,n)=>{if(eJ)return n(!1);eZ(!0);let a=await fetch(H.HP+"/vault/balance/"+t+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),l=await a.json();return console.log("response",a,l),n(l.balances)},nX=async(e,t,n,a)=>{let l=await fetch(H.HP+"/vault/balance/"+t+"/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),s=await l.json();return a((console.log("response",l,s),s.balances.length>0)?e.concat(s.balances):e)},nY=()=>{localStorage.setItem(e+"_"+t+"_"+ej+"_mintPassword",tG)},n0=()=>{let n=localStorage.getItem(e+"_"+t+"_"+ej+"_mintPassword");n&&tU&&eu(n)},n1=async(e,n,a)=>{var l=new Headers;l.append("chainid",t.toString()),l.append("Content-Type","application/json");var s=JSON.stringify({signature:e,tokenId:n});let i=await fetch(H.pU+"/sign",{method:"POST",headers:l,body:s,redirect:"follow"}),o=await i.json();return a(o)};async function n7(e,t,n){let a=new J.ZP({network:"mainnet"}),l=new Z.ZP({enableOneKey:!0,network:"mainnet"}),{torusNodeEndpoints:s,torusIndexes:i}=await a.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:e}),{privKey:o}=await l.retrieveShares(s,i,"tor-us-signer-vercel",{verifier_id:e},t);return n({privateKey:o})}let n3=async(e,n,a)=>{var l=new Headers;l.append("chainId",t.toString()),l.append("service","evmetadata"),l.append("Content-Type","application/json");var s=JSON.stringify({signature:e});let i=await fetch(H.HP+"/embed/"+n,{method:"POST",headers:l,body:s,redirect:"follow"}),o=await i.json();return a(o)},n5=async()=>{let n;try{if(nd[t]){if(nd.allowedName&&nd.allowed){let e=nd.allowedName(eU&&eU.length>0?eU[0].name:"",nd,nr,nF)&&nd.allowed(eU,nd,nF);nm(e)}else nm(!1);if(nI=nL(nd[t]),z(await nN.decimals()),es(250*Math.pow(10,P)),L(await nN.allowance(e,H.q7.vaultHandlerV8[t]).then(e=>e.toString())),et(await nN.balanceOf(e).then(e=>e.toString())),Number(K)>=Number(el)?eo(!0):eo(!1),nd.name){if("ERC1155"==nd.collectionType){let t=await nI.balanceOf(e,nd.tokenId).then(e=>e.toString());n=Number(t)>0?e:"0x0000000000000000000000000000000000000000",Number(t)>0&&ea(t)}else ea(1),n=await nI.ownerOf("ERC721a"==nd.collectionType?nd.tokenId:ej)}else n="0x0000000000000000000000000000000000000000"}else n=await nI.ownerOf(ej);a()}catch(e){n="0x0000000000000000000000000000000000000000",a()}async function a(){ec(!0),t1(n),tc(n===e||t9===e&&"0x0000000000000000000000000000000000000000"===n),tu(t9===e&&"0x0000000000000000000000000000000000000000"===n),n0()}},n4=async a=>{n.getSigner(e).signMessage("Renew: "+ej).then(e=>{let n=e0.filter(e=>"NMC"==e.coin)[0].address;console.log("signature",e,a),fetch(H.HP+"/nmc/renew/"+n,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:ej,signature:e,name:a})}).then(async function(e){console.log("Requested Renew",await e.json())})})},n2=async()=>{let a;nd[t]&&(nI=nL(nd[t]),a="ERC1155"==nd.collectionType?nd.serialNumber:"ERC721a"==nd.collectionType?ej:nd.tokenId),n.getSigner(e).signMessage("Claim: "+(nd[t]?a:ej)).then(e=>{to({loaded:!1}),td&&"claimed"!=tg&&!nS&&nw(!0),n1(e,ej,e=>{n7(ej,e.token,e=>{try{var t=F().AES.decrypt(eR,e.privateKey);let n=JSON.parse(t.toString(F().enc.Utf8));t_(n.values),tb(n.phrase),e0.forEach(async e=>{"STX"==e.coin?e.key=await n8(e,n.phrase):e.key=window.phrasePathToKey(n.phrase,e.path),"BTC"==e.coin&&tk(e.key),"ETH"==e.coin&&tC(e.key)})}catch(e){alert(e),to({loaded:!0})}to({loaded:!0}),nR()})})})},n8=async(e,t)=>"contact emblem with this error",n9=async a=>{n.getSigner(e).signMessage("HideAsset: "+ej).then(e=>{!function(e,n,a,l,s,i){fetch(H.HP+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({coin:n||null,address:a||null,name:l||null,signature:s||null})}).then(async function(t){console.log("-------",await t.json()),nD([],e,e=>(eW(e),i()))})}(ej,a.coin,a.address,a.name,e,()=>{console.log("Done hiding coin and getting new balances")})})},n6=async()=>{n.getSigner(e).signMessage("Embed: "+ej).then(e=>{n3(e,ej,e=>{ez(e.ownedImage)})})},ae=async()=>{nd[t]?nT.claim(nd[t],"ERC721a"==nd.collectionType?ej:nd.tokenId).then(e=>{let{hash:t}=e;tm(!0),setTimeout(()=>{tt(t)},100)}):nI.burn(ej).then(e=>{let{hash:t}=e;tm(!0),setTimeout(()=>{tt(t)},100)})},at=async()=>{if(!tA){tP(!0);var e="abcdefghijklmnopqrstuvwxyz",t="Decrypting",n=t.length,a=0,l=0,s="",i="";!function o(r){setTimeout(function(){--r?o(r):tP(!1),function(o){for(var r=0;r<n-l;r++){var c=Math.floor(e.length*Math.random());s+=e.charAt(c)}7==a&&l++,8==a&&(i+=t.charAt(l-1),a=0),tE(i+s),s=""}(0),a+=1},5)}(8*n+1)}};(0,_.useEffect)(()=>{e7||eJ||!ti.loaded||!nd.showBalance||t7?!e7&&!eJ&&ti.loaded&&"ERC1155"==nd.collectionType&&t7&&O&&(console.log("Not balance check, but instead backing vaults"),n$([],ej,e=>{eD(e),console.log("backing vault info",e)})):nQ([],ej,e=>{e&&eW(e)})}),(0,_.useEffect)(()=>{(!localStorage.getItem("offline")||"false"===localStorage.getItem("offline"))&&e&&nJ()},[]),(0,_.useEffect)(()=>{nK&&(nB(!1),an())},[nK]),(0,_.useEffect)(()=>{(e&&t&&e2&&t==e2||v.noLayout&&"true"==v.noLayout||v.slideshowOnly&&"true"==v.slideshowOnly)&&n5()}),(0,_.useEffect)(()=>{if(e&&t&&e2&&eh&&t0){let n="DEBUG Report for ".concat(ej,":\n\n");n+="Props:\n   owner: ".concat(t0,"\n   mine: ").concat(tr,"\n   created by: ").concat(t9,"\n   account: ").concat(e,"\n   vaultChainId: ").concat(e2,"\n   chainId: ").concat(t,"\n   sealed: ").concat(tf,"\n   approved: ").concat(er,"\n   live: ").concat(t7,"\n   mineUnMinted: ").concat(td,"\n   status: ").concat(tg,"\n   mintLockedForever: ").concat(nS,"\n")+"Can Unlock Before Mint: ".concat(e2===t&&td&&"claimed"!=tg&&!nS,"\n")+"Can Curated Mint: ".concat(nh,"\n"),em(!1),ep(n)}},[e,t,e2,eh,t0]);let an=async()=>{let e=await (0,Q.Nj)(ej);e&&e.addresses&&e.addresses.length>0?(nb(e),nZ(e),tN(!1),tV(!1),to({loaded:!0})):"true"===localStorage.getItem("offline")&&tz(!0)};function aa(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}return ni&&(nI=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new R.CH(a||H.q7.emblemVault[t],H.q7.emblemAbi,n.getSigner(e).connectUnchecked())}(ni||null)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(C(),{children:[(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:site",content:"Emblem.Finance"}),(0,a.jsx)("meta",{name:"twitter:title",content:eI}),(0,a.jsx)("meta",{name:"twitter:description",content:aa(eH)}),(0,a.jsx)("meta",{name:"twitter:image",content:eq}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})]}),(0,a.jsx)(X,{isOpen:nO,onClose:nA,addrCoin:tn,addrAddr:tl}),(0,a.jsx)(Y,{isOpen:nP,onClose:nM,mnemonic:tj,privKeyBTC:ty,privKeyETH:tv,privValues:tT,addresses:e0}),(0,a.jsxs)(E(),{loaded:ti.loaded,children:[(0,a.jsx)(i.xu,{height:"40px"}),tI?(0,a.jsx)(N.Z,{}):"",tH||ev||tq?tH?(0,a.jsx)(r.K,{align:"center",children:(0,a.jsxs)(d.x,{children:["THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",(0,a.jsx)(u.r,{color:"#638cd8",href:"../create",children:"CREATE ONE HERE!"})]})}):tq?(0,a.jsx)(r.K,{align:"center",children:(0,a.jsx)(d.x,{children:"You are offline and this vault is not cached"})}):null:(0,a.jsx)(o.k,{width:"full",align:"center",justifyContent:"center",children:eg?(0,a.jsx)(i.xu,{as:"pre",style:{color:"white",opacity:1},children:eg}):(0,a.jsxs)(i.xu,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:e2!=t?"orange.500":"claimed"==tg?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390,children:[(0,a.jsxs)(i.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500",children:["Vault Network: ",q.zh[e2]]}),(0,a.jsxs)(i.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center",children:[eI,!e7&&e5>0?": ~$"+e5.toLocaleString():null]}),(0,a.jsxs)(r.K,{className:"NFT-content",align:"center",children:[(0,a.jsx)(W.Z,{className:"d-block NFT-image-v3",url:eF||eq}),tr&&eB?(0,a.jsx)(c.z,{onClick:()=>{n6()},children:"(OWNED) Show Full Embed"}):null]}),(0,a.jsx)(r.K,{align:"center",children:(0,a.jsx)(i.xu,{mt:"2",ml:"4",lineHeight:"tight",children:(0,a.jsxs)(r.K,{children:[tr&&e2==t?(0,a.jsx)(d.x,{fontSize:"xs",children:(0,a.jsxs)(u.r,{href:"./vaults?address="+t0,children:["Owner: ",t0]})}):null,(0,a.jsx)(d.x,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md",children:(0,a.jsx)(B(),{plugins:[U()],children:aa(eH)})})]})})}),(0,a.jsxs)(i.xu,{p:"6",children:[!O||nv&&nv.showBalance?(0,a.jsxs)(h.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(m.t,{mb:"1em",children:[(0,a.jsx)(g.O,{children:"Balances"}),(0,a.jsx)(g.O,{children:"Attributes"})]}),(0,a.jsxs)(p.n,{children:[(0,a.jsx)(f.x,{children:e7?(0,a.jsxs)(i.xu,{mb:5,children:[(0,a.jsx)(d.x,{pb:2,color:tO?"green.500":null,children:tO||"Contents hidden. Enter password to unlock."}),(0,a.jsx)(x.I,{type:"password",id:"vault-password",onChange:e=>(function(e){tR&&(e=tR),at(),console.log(e0);let t=e0[0].address.replace("private:","");try{var n,a=F().AES.decrypt(t,e);JSON.parse(a.toString(F().enc.Utf8)),e3(!1),tM(e),e1((n=e,e0.forEach(e=>{if(e.address.includes("private")){let t=e.address.replace("private:","");e.address=JSON.parse(F().AES.decrypt(t,n).toString(F().enc.Utf8))}}),e0));let l=e0.filter(e=>"ETH"===e.coin)[0].address,s=e0.filter(e=>"BTC"===e.coin)[0].address;nX([],l,s,e=>{eW(e)})}catch(e){console.log("err",e)}})(e.target.value),"aria-describedby":"password-helper-text"})]}):(0,a.jsx)(i.xu,{display:"flex",backgroundColor:"light"==nq?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content",children:(0,a.jsxs)(i.xu,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2",children:[(0,a.jsxs)(d.x,{as:"h4",mt:2,fontWeight:"semibold",children:["Current Contents:  ",(0,a.jsx)("button",{onClick:()=>{nQ([],ej,e=>{eZ(!1),eW(e)})},children:" [Refresh Balances]"})]}),(0,a.jsxs)(d.x,{as:"p",color:"dark"==nq?"lightgreen":"forestgreen",children:["$",Number(e5.toFixed(4)).toLocaleString()]}),eU.length?eU.map(t=>(0,a.jsx)(r.K,{children:(0,a.jsx)(G.Z,{colorMode:nq,coin:t,mine:"claimed"===tg&&tS===e||tr,onRenew:n4,hideAsset:!nr.name&&n9})})):(0,a.jsx)(N.Z,{}),e$.length?e$.map(e=>(0,a.jsxs)(d.x,{children:["Data: ",e.attribute_key]})):e$.length||eU.length?null:(0,a.jsx)(d.x,{children:"Nothing in here! Fill 'er up!"})]})})}),(0,a.jsx)(f.x,{children:(0,a.jsx)(D.Z,{colorMode:nq,attributes:eX})})]})]}):null,O&&eG.length>0?(0,a.jsxs)(h.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(m.t,{mb:"1em",children:[(0,a.jsx)(g.O,{children:"Backing Vaults"}),(0,a.jsx)(g.O,{children:"Offers"})]}),(0,a.jsx)(p.n,{children:(0,a.jsxs)(f.x,{children:[(0,a.jsxs)(d.x,{fontSize:".8em",children:["This vault is backed by ",eG.length," ",nr.name," "]}),eG.map(t=>(0,a.jsxs)(S.U,{width:"100%",children:[(0,a.jsxs)(d.x,{color:t.owner==e?"green":"",fontSize:"small",width:"60%",children:[t.owner==e?"My":""," Vault: ",(0,a.jsx)(u.r,{href:t.internalVault,target:"_blank",children:t.tokenId})]}),(0,a.jsx)(d.x,{fontSize:"small",float:"right",width:"30%",children:(0,a.jsx)(u.r,{href:t.explorer,target:"_blank",children:"Explorer"})})]}))]})})]}):null,!t7&&tr?(0,a.jsx)(d.x,{className:"warning",color:"red",fontSize:"s",children:nz}):null,(O||e7||t7)&&(!nv||!nv.showBalance)?null:(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(w.h,{justifyContent:"space-between",spacing:6,children:(0,a.jsxs)(r.K,{children:[(0,a.jsx)(d.x,{children:"Deposit Addresses"}),(0,a.jsx)(o.k,{w:"340px",justify:"center",flexWrap:"wrap",children:e0.map(e=>(0,a.jsx)(c.z,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",onClick:()=>{ta(e.coin),ts(e.address),nE()},children:"ETH"==e.coin?e.coin+"":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin},e.address))})]})})}),"claimed"!==tg&&t7&&(1===e2||137===e2)?(0,a.jsxs)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:[(0,a.jsx)(c.z,{className:"nft_button",width:tr&&1==e2?"33%":137==e2?"100%":"50%",m:2.5,mb:5,onClick:()=>{window.open("https://"+(4==e2?"rinkeby.":5==e2?"testnets.":"")+"opensea.io/assets/"+(137==e2?"matic/":5==e2?"goerli/":"ethereum/")+(ni||(nd[t]?nd[t]:H.q7.emblemVault[e2]))+"/"+(nd?nd.tokenId:ej),"_blank")},children:"Opensea"}),1==e2?(0,a.jsx)(c.z,{className:"nft_button",width:"50%",m:5,onClick:()=>{window.open("https://"+(4==e2?"rinkeby.":5==e2?"goerli.":"")+"looksrare.org/collections/"+(137==e2?"matic/":"")+(ni||(nd?nd[t]:H.q7.emblemVault[e2]))+"/"+(nd?nd.tokenId:ej),"_blank")},children:"LooksRare"}):null,tr&&1==e2?(0,a.jsx)(c.z,{className:"nft_button",width:"33%",m:2.5,mb:5,onClick:()=>{window.open("https://app.arcade.xyz/terms/asset/".concat(nd[e2]?nd[e2]:H.q7.emblemVault[e2],"/").concat(ej),"_blank")},children:"Arcade"}):null]}):null,t7||tB||!tr||e2!=t||"claimed"===tg||ne?null:(0,a.jsx)(a.Fragment,{children:nd[e2]?(0,a.jsxs)(c.z,{width:"100%",mt:5,onClick:function(){return nd.purchaseMethod&&"buyWithQuote"==nd.purchaseMethod?nG():nW()},isDisabled:!nh||nS,children:[nS?"Mint Locked - keys accessed before mint":nh?" Mint Vault":"Please load vault to mint"," "]}):null}),t7&&"claimed"!==tg&&e&&e2===t&&tr&&!tf&&er?(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:()=>{ae()},isDisabled:th,children:th?"Claiming ...":"Unlock Vault (Get Private Keys)"})}):e2===t&&("claimed"==tg||nS)&&(tS===e||tr)?(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:n2,children:"Get Keys"})}):null,!O||tr?(0,a.jsx)(r.K,{mt:5,children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"nft_button",onClick:()=>{nV()},children:"Advanced Operations"}),(0,a.jsx)(o.k,{w:"100%",justify:"center",flexWrap:"wrap",children:(0,a.jsxs)(k.Z,{width:"100%",isOpen:nH,children:[e2===t&&td&&"claimed"!=tg&&!nS?(0,a.jsx)(i.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:n2,children:"Get Keys (Unlocking will prevent minting)"})}):null,tr||tS==e?(0,a.jsx)($.Z,{data:nj,filename:"EmblemVault-".concat(ej,".json")}):null,t7&&"claimed"!=tg||t9!=e||e2!=t||ne||!(eU.length<1)?null:(0,a.jsx)(c.z,{width:"100%",mt:5,onClick:()=>{n.getSigner(e).signMessage("Delete: "+ej).then(e=>{console.log("sig",e),fetch(H.HP+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:ej,signature:e,chainId:t.toString()})}).then(async function(){location.href=location.href.split("/")[0]+"/vaults"})})},children:"Delete Vault "})]})})]})}):null]}),!O&&eO?(0,a.jsxs)(S.U,{align:"center",children:[(0,a.jsx)(u.r,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+eO,isExternal:!0,children:"View Metadata on IPFS "}),eA?(0,a.jsx)(u.r,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+eA,isExternal:!0,children:"View Image on IPFS "}):null]}):null,tf?(0,a.jsx)(i.xu,{display:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(d.x,{children:"*This vault is sealed forever."})}):null,(0,a.jsx)(r.K,{direction:"column",align:"center",children:"claimed"==tg?(0,a.jsx)(d.x,{color:"green.500",children:"CLAIMED"}):null}),te?(0,a.jsxs)(j.b,{status:"info",children:[(0,a.jsx)(b.z,{}),tF?"Accepting Your Gift Vault":th?"Claiming your Vault ...":tB?"Handling Approval Flow ...":tX?"Transfering Vault ...":nn?"Minting Vault":"Waiting for Transaction ..."]}):null]})}),te?(0,a.jsx)(M.Z,{hash:te,onComplete:()=>{if(!th||tF||t$)t$?(nY(),tZ(!0),tQ(!1),tt(null)):tF?(tK(!1),nJ(),tt(null)):tB?(tL(!1),nJ(),tt(null)):tX?(tY(!1),nJ(),tt(null)):((nn||ne)&&(na(!1),tt(null),nt(!1)),location.href=location.origin+"/nft2?id="+(ey||ej));else{tt(null),tp("claimed"),tm(!1),tw(e);let t=eG.length>0?eG.find(t=>t.owner==e):{tokenId:ey||ej};location.href=location.origin+"/nft2?id="+t.tokenId}}}):null,(0,a.jsx)(i.xu,{height:"40px"})]})]})}function et(){return(0,a.jsx)(ee,{})}}},function(e){e.O(0,[3714,758,7119,3216,3363,4250,3211,9774,2888,179],function(){return e(e.s=4338)}),_N_E=e.O()}]);