(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6945],{4338:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nft2",function(){return n(49706)}])},10063:function(e,t,n){"use strict";n.d(t,{Lj:function(){return r},Nj:function(){return o},ZO:function(){return s},_o:function(){return i},pk:function(){return l}});let a=async()=>"indexedDB"in window?new Promise((e,t)=>{let n=indexedDB.open("MyDatabase",1);n.onerror=e=>{console.error("Database error:",e.target.error),t(e.target.error)},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains("vaults")||t.createObjectStore("vaults",{keyPath:"tokenId"})}}):(console.error("IndexedDB is not supported by this browser."),null),r=async()=>new Promise((e,t)=>{let n=indexedDB.deleteDatabase("MyDatabase");n.onerror=e=>{console.error("Database error:",e.target.error),t(e.target.error)},n.onsuccess=()=>{e(!0)}}),s=async(e,t)=>{console.log("getVaults - start");let n=await a();if(!n)throw console.error("Failed to open database"),Error("Failed to open database");let r=n.transaction(["vaults"],"readonly"),s=r.objectStore("vaults"),o=s.getAll();return new Promise((n,a)=>{o.onsuccess=()=>{console.log("All vaults successfully retrieved from store");let a=o.result.filter(t=>{var n,a;return e===(null===(n=t.ownership)||void 0===n?void 0:n.status)||e===(null===(a=t.ownershipInfo)||void 0===a?void 0:a.status)}).filter(n=>{var a,r,s;return"claimed"==e?t===(null===(a=n.ownership)||void 0===a?void 0:a.claimedBy)||t===n.ownershipInfo.claimedBy:"unminted"==e?t===(null===(r=n.ownership)||void 0===r?void 0:r.createdBy)||t===n.ownershipInfo.createdBy:t===(null===(s=n.ownership)||void 0===s?void 0:s.owner)||t===n.ownershipInfo.owner});n(a)},o.onerror=e=>{console.error("Error retrieving vaults from store:",e.target.error),a(e.target.error)}})},o=async e=>{console.log("getVaults - start");let t=await a();if(!t)throw console.error("Failed to open database"),Error("Failed to open database");let n=t.transaction(["vaults"],"readonly"),r=n.objectStore("vaults"),s=r.get(e);return new Promise((e,t)=>{s.onsuccess=()=>{console.log("All vaults successfully retrieved from store"),e(s.result)},s.onerror=e=>{console.error("Error retrieving vaults from store:",e.target.error),t(e.target.error)}})},l=async e=>{console.log("useDB - start");let t=await a();if(!t)throw console.error("Failed to open database"),Error("Failed to open database");let n=t.transaction(["vaults"],"readwrite"),r=n.objectStore("vaults");return new Promise((a,s)=>{e.forEach((e,t)=>{if(console.log("Processing item ".concat(t),e),!e.tokenId){console.error("Item missing tokenId:",e);return}let n=r.get(e.tokenId);n.onsuccess=()=>{console.log("Got vault ".concat(e.tokenId," from store")),n.result||(console.error("Item missing tokenId:",e),a(c(r,e,t,s))),n&&n.result&&!n.result.addresses&&a(c(r,e,t,s))},n.onerror=n=>{console.error("Item missing tokenId:",e),a(c(r,e,t,s))}}),n.oncomplete=()=>{console.log("Transaction complete"),t.close(),a(!0)},n.onerror=e=>{console.error("Transaction error:",e.target.error),t.close(),s(e.target.error)}})},i=async e=>{console.log("useDB - start");let t=await a();if(!t)throw console.error("Failed to open database"),Error("Failed to open database");let n=t.transaction(["vaults"],"readwrite"),r=n.objectStore("vaults");return new Promise((a,s)=>{let o=r.put(e);o.onsuccess=()=>{console.log("Item ".concat(e.tokenId," successfully put into store"))},o.onerror=e=>{console.error("Error putting item ".concat(index," into store:"),e.target.error),s(e.target.error)},n.oncomplete=()=>{console.log("Transaction complete"),t.close(),a(!0)},n.onerror=e=>{console.error("Transaction error:",e.target.error),t.close(),s(e.target.error)}})};function c(e,t,n,a){let r=e.put(t);return r.onsuccess=()=>{console.log("Item ".concat(n," successfully put into store"))},r.onerror=e=>{console.error("Error putting item ".concat(n," into store:"),e.target.error),a(e.target.error)},r}},49706:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return et}});var a=n(85893),r=n(7335),s=n(45161),o=n(57747),l=n(93717),i=n(51343),c=n(93108),d=n(71293),u=n(32883),h=n(36752),g=n(77458),m=n(35232),p=n(72047),f=n(37365),x=n(33090),w=n(34292),S=n(78590),b=n(74153),y=n(7405),j=n(6731),v=n(8161),k=n(9008),C=n.n(k),T=n(77044),I=n(67294),_=n(11163),E=n(71114),N=n(70758),O=n.n(N),A=n(5152),P=n.n(A),R=n(77294),V=n(64541),F=n(31238),H=n(80902),M=n(62850),q=n(81354),z=n.n(q),B=n(30724),D=n.n(B),K=n(10043),L=n.n(K),W=n(33862),G=n(74174),U=n(35649),J=n(18974),Z=n(87070),$=n(38299),Q=n(10063);let X=P()(()=>Promise.all([n.e(749),n.e(8159),n.e(6115),n.e(2108)]).then(n.bind(n,37414)),{loadableGenerated:{webpack:()=>[37414]}}),Y=P()(()=>Promise.all([n.e(749),n.e(8159),n.e(2955)]).then(n.bind(n,81817)),{loadableGenerated:{webpack:()=>[81817]}});function ee(){let{account:e,chainId:t,library:n}=(0,T.Ge)(),{query:k}=(0,_.useRouter)(),[N,A]=(0,I.useState)(!1),[P,q]=(0,I.useState)(null),[B,K]=(0,I.useState)(null),[ee,et]=(0,I.useState)(null),[en,ea]=(0,I.useState)(0),[er,es]=(0,I.useState)(null),[eo,el]=(0,I.useState)(!1),[ei,ec]=(0,I.useState)(!1),[ed,eu]=(0,I.useState)(k.key),[eh,eg]=(0,I.useState)(k.offer||!1),[em,ep]=(0,I.useState)(k.framed||!0),[ef,ex]=(0,I.useState)(k.id),[ew,eS]=(0,I.useState)(),[eb,ey]=(0,I.useState)(k.slideshowOnly||!1),[ej,ev]=(0,I.useState)(k.legacy||!1),[ek,eC]=(0,I.useState)(""),[eT,eI]=(0,I.useState)(""),[e_,eE]=(0,I.useState)(""),[eN,eO]=(0,I.useState)(""),[eA,eP]=(0,I.useState)(""),[eR,eV]=(0,I.useState)(""),[eF,eH]=(0,I.useState)(""),[eM,eq]=(0,I.useState)(""),[ez,eB]=(0,I.useState)([]),[eD,eK]=(0,I.useState)([]),[eL,eW]=(0,I.useState)(!1),[eG,eU]=(0,I.useState)([]),[eJ,eZ]=(0,I.useState)([]),[e$,eQ]=(0,I.useState)([]),[eX,eY]=(0,I.useState)(!1),[e0,e1]=(0,I.useState)(0),[e7,e5]=(0,I.useState)(null),[e3,e4]=(0,I.useState)(null),[e2,e8]=(0,I.useState)(null),[e9,e6]=(0,I.useState)(""),[te,tt]=(0,I.useState)(""),[tn,ta]=(0,I.useState)({loaded:!1}),[tr,ts]=(0,I.useState)(!1),[to,tl]=(0,I.useState)(!1),[ti,tc]=(0,I.useState)(!1),[td,tu]=(0,I.useState)("claimed"),[th,tg]=(0,I.useState)(!1),[tm,tp]=(0,I.useState)(null),[tf,tx]=(0,I.useState)(""),[tw,tS]=(0,I.useState)(""),[tb,ty]=(0,I.useState)(""),[tj,tv]=(0,I.useState)([]),[tk,tC]=(0,I.useState)(!1),[tT,tI]=(0,I.useState)(""),[t_,tE]=(0,I.useState)(!1),[tN,tO]=(0,I.useState)(""),[tA,tP]=(0,I.useState)(!1),[tR,tV]=(0,I.useState)(!1),[tF,tH]=(0,I.useState)(!1),[tM,tq]=(0,I.useState)(!1),[tz,tB]=(0,I.useState)(!1),[tD,tK]=(0,I.useState)(""),[tL,tW]=(0,I.useState)(!1),[tG,tU]=(0,I.useState)(!1),[tJ,tZ]=(0,I.useState)(!1),[t$,tQ]=(0,I.useState)(null),[tX,tY]=(0,I.useState)(!1),[t0,t1]=(0,I.useState)(null),[t7,t5]=(0,I.useState)(null),[t3,t4]=(0,I.useState)(null),[t2,t8]=(0,I.useState)(!1),[t9,t6]=(0,I.useState)(!1),[ne,nt]=(0,I.useState)(!1),[nn,na]=(0,I.useState)(null),[nr,ns]=(0,I.useState)({name:"",image:"",metadata:""}),[no,nl]=(0,I.useState)({collectionType:""}),[ni,nc]=(0,I.useState)(!1),[nd,nu]=(0,I.useState)({name:"",image:"",metadata:""}),[nh,ng]=(0,I.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),[nm,np]=(0,I.useState)(!1),[nf,nx]=(0,I.useState)({}),[nw,nS]=(0,I.useState)({}),[nb,ny]=(0,I.useState)(null),nj=(0,H.cq)(F.q7.vaultHandlerV8[t],F.q7.vaultHandlerV8Abi,!0),nv=(0,H.cq)(F.q7.mintVaultQuote[t],F.q7.mintVaultQuoteAbi,!0),nk=(0,H.cq)(F.q7.emblemVault[t],F.q7.emblemAbi,!0),nC=(0,H.cq)(F.q7.coval[t],F.q7.covalAbi,!0),{isOpen:nT,onOpen:nI,onClose:n_}=(0,r.q)(),{isOpen:nE,onOpen:nN,onClose:nO}=(0,r.q)(),{isOpen:nA,onToggle:nP}=(0,r.q)(),{colorMode:nR}=(0,s.If)(),[nV,nF]=(0,I.useState)(""),[nH,nM]=(0,I.useState)(!0),nq=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new R.CH(t,"ERC1155"==no.collectionType?F.q7.erc1155Abi:"ERC721a"==no.collectionType?F.q7.erc721aAbi:F.q7.erc721Abi,n.getSigner(e).connectUnchecked())},nz=(e,n,a)=>{console.log("check liveliness next",n);let r=n&&n.name?F._z+"/liveliness-curated":F.HP+"/liveliness";return fetch(r,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:e})}).then(async function(e){let t=await e.json();tY(t.live),console.log("Liveliness check",t)}),a(!1)},nB=()=>{ta({loaded:!1}),n.getSigner(e).signMessage("Curated Minting: "+ef).then(e=>{console.log("sig",e),fetch(F._z+"/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({method:"buyWithSignedPrice",tokenId:ef,signature:e,chainId:t.toString()})}).then(async function(e){let t=await e.json();nS(t),nj.buyWithSignedPrice(t._nftAddress,t._payment,t._price,t._to,t._tokenId,t._nonce,t._signature,t.serialNumber,1).then(e=>{let{hash:t}=e;setTimeout(()=>{e8(t),ta({loaded:!0}),t8(!0),t6(!0)},100)}).catch(e=>{console.log("ERROR",e),t8(!1),t6(!1),ta({loaded:!0})})})}).catch(e=>{console.log("ERROR",e),t8(!1),t6(!1),ta({loaded:!0})})},nD=()=>{ta({loaded:!1}),n.getSigner(e).signMessage("Curated Minting: ".concat(ef.toString())).then(n=>{fetch(F._z+"/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({method:"buyWithQuote",tokenId:ef,signature:n,chainId:t.toString()})}).then(async function(t){let n=await t.json();n.err&&n.msg?(alert(n.msg),ta({loaded:!0})):(nS(n),nv.quoteExternalPrice(e,n._price/1e6).then(e=>{let t=e.mul(j.O$.from(10).pow(6));console.log("--------   ------",n._nftAddress,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1,{value:t}),nj.buyWithQuote(n._nftAddress,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1,{value:t}).then(e=>{let{hash:t}=e;setTimeout(()=>{e8(t),ta({loaded:!0}),t8(!0),t6(!0)},100)}).catch(e=>{console.log("ERROR",e),t8(!1),t6(!1),ta({loaded:!0})})}))})}).catch(e=>{console.log("ERROR",e),t8(!1),t6(!1),ta({loaded:!0})})},nK=async(e,t,n)=>{let a=await fetch(F.HP+"/vault/balance/"+t,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),r=await a.json();return n((console.log("response",a,r),r.balances.length>0)?r.balances:e)},nL=async()=>{console.log("getvault");let e=await fetch(F._z+"/meta/"+ef+"?experimental=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),t=await e.json();nx(t),tV(!1),await (0,Q._o)(t),nW(t),tC(!1),tP(!1)},nW=e=>{e.collectionAddress&&(nt(!0),na(e.collectionAddress)),e.targetAsset||e.move_targetAsset||ej||(location.href=location.origin+"/nft?id="+ef),e.ciphertextV2&&eO(e.ciphertextV2),np(e.mintLocked&&0==e.mintLockBlock),eC(e.name),eV(e.image),e.animation_url&&eH(e.animation_url),eq(e.ownedImage||null),eP(e.description),e1(e.totalValue||0),e.values&&eB(ez.concat(e.values)),e.attributes&&eU(e.attributes.filter(e=>"key"===e.trait_type)),e.attributes&&eZ(e.attributes),eQ(e.addresses),eI(e.ipfs||null),eE(e.image_ipfs||null),e.targetContract&&e.targetContract.tokenId==ef&&e.targetContract.serialNumber&&A(!0),e.targetAsset&&ns(e.targetAsset),e.targetContract&&(0,M.f_)().then(n=>{let a=n.find(n=>n[t]==e.targetContract[t]);a.tokenId=e.targetContract.tokenId,a.serialNumber=e.targetContract.serialNumber,e.targetContract&&nl(a)}),e.move_targetAsset&&nu(e.move_targetAsset),e.move_targetContract&&ng(e.move_targetContract),tY(!1!=e.live),eS(e.tokenId),t1(e.nonce),t5(e.signature),t4(e.to),e4(e.network),e5("mainnet"==e.network?1:"rinkeby"==e.network?4:"goerli"==e.network?5:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),e.live||(console.log("check liveliness start"),nz(ef,e.targetContract||e.move_targetContract,e=>{tY(e)})),tu(e.status),"claimed"===td&&tp(e.claimedBy),ta({loaded:!0}),eY(e.addresses.filter(e=>e.address.includes("private:")).length>0),e.sealed?tg(!0):tg(!1)},nG=async(e,t,n)=>{if(eL)return n(!1);eW(!0);let a=await fetch(F._z+"/allBackingIdsForTokenId/"+t,{method:"GET",headers:{"Content-Type":"application/json"}}),r=await a.json();return console.log("response",a,r),n(r)},nU=async(e,t,n)=>{if(eL)return n(!1);eW(!0);let a=await fetch(F.HP+"/vault/balance/"+t+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),r=await a.json();return console.log("response",a,r),n(r.balances)},nJ=async(e,t,n,a)=>{let r=await fetch(F.HP+"/vault/balance/"+t+"/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}),s=await r.json();return a((console.log("response",r,s),s.balances.length>0)?e.concat(s.balances):e)},nZ=()=>{localStorage.setItem(e+"_"+t+"_"+ef+"_mintPassword",tD)},n$=()=>{let n=localStorage.getItem(e+"_"+t+"_"+ef+"_mintPassword");n&&tz&&eu(n)},nQ=async(e,n,a)=>{var r=new Headers;r.append("chainid",t.toString()),r.append("Content-Type","application/json");var s=JSON.stringify({signature:e,tokenId:n});let o=await fetch(F.pU+"/sign",{method:"POST",headers:r,body:s,redirect:"follow"}),l=await o.json();return a(l)};async function nX(e,t,n){let a=new J.ZP({network:"mainnet"}),r=new Z.ZP({enableOneKey:!0,network:"mainnet"}),{torusNodeEndpoints:s,torusIndexes:o}=await a.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:e}),{privKey:l}=await r.retrieveShares(s,o,"tor-us-signer-vercel",{verifier_id:e},t);return n({privateKey:l})}let nY=async(e,n,a)=>{var r=new Headers;r.append("chainId",t.toString()),r.append("service","evmetadata"),r.append("Content-Type","application/json");var s=JSON.stringify({signature:e});let o=await fetch(F.HP+"/embed/"+n,{method:"POST",headers:r,body:s,redirect:"follow"}),l=await o.json();return a(l)},n0=async()=>{let n;try{if(no[t]){if(no.allowedName&&no.allowed&&ez&&ez.length>0){let e=no.allowedName(ez[0].name,no,nr,nF)&&no.allowed(ez,no,nF);nc(e)}else nc(!1);if(nk=nq(no[t]),q(await nC.decimals()),es(250*Math.pow(10,P)),K(await nC.allowance(e,F.q7.vaultHandlerV8[t]).then(e=>e.toString())),et(await nC.balanceOf(e).then(e=>e.toString())),Number(B)>=Number(er)?el(!0):el(!1),no.name){if("ERC1155"==no.collectionType){let t=await nk.balanceOf(e,no.tokenId).then(e=>e.toString());n=Number(t)>0?e:"0x0000000000000000000000000000000000000000",Number(t)>0&&ea(t)}else ea(1),n=await nk.ownerOf("ERC721a"==no.collectionType?no.tokenId:ef)}else n="0x0000000000000000000000000000000000000000"}else n=await nk.ownerOf(ef);a()}catch(e){n="0x0000000000000000000000000000000000000000",a()}async function a(){ec(!0),tQ(n),ts(n===e||t3===e&&"0x0000000000000000000000000000000000000000"===n),tl(t3===e&&"0x0000000000000000000000000000000000000000"===n),n$()}},n1=async a=>{n.getSigner(e).signMessage("Renew: "+ef).then(e=>{let n=e$.filter(e=>"NMC"==e.coin)[0].address;console.log("signature",e,a),fetch(F.HP+"/nmc/renew/"+n,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({tokenId:ef,signature:e,name:a})}).then(async function(e){console.log("Requested Renew",await e.json())})})},n7=async()=>{let a;no[t]&&(nk=nq(no[t]),a="ERC1155"==no.collectionType?no.serialNumber:"ERC721a"==no.collectionType?ef:no.tokenId),n.getSigner(e).signMessage("Claim: "+(no[t]?a:ef)).then(e=>{ta({loaded:!1}),to&&"claimed"!=td&&!nm&&np(!0),nQ(e,ef,e=>{nX(ef,e.token,e=>{try{var t=z().AES.decrypt(eN,e.privateKey);let n=JSON.parse(t.toString(z().enc.Utf8));tv(n.values),tx(n.phrase),e$.forEach(async e=>{"STX"==e.coin?e.key=await n5(e,n.phrase):e.key=window.phrasePathToKey(n.phrase,e.path),"BTC"==e.coin&&tS(e.key),"ETH"==e.coin&&ty(e.key)})}catch(e){alert(e),ta({loaded:!0})}ta({loaded:!0}),nN()})})})},n5=async(e,t)=>"contact emblem with this error",n3=async a=>{n.getSigner(e).signMessage("HideAsset: "+ef).then(e=>{!function(e,n,a,r,s,o){fetch(F.HP+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:t.toString()},body:JSON.stringify({coin:n||null,address:a||null,name:r||null,signature:s||null})}).then(async function(t){console.log("-------",await t.json()),nK([],e,e=>(eB(e),o()))})}(ef,a.coin,a.address,a.name,e,()=>{console.log("Done hiding coin and getting new balances")})})},n4=async()=>{n.getSigner(e).signMessage("Embed: "+ef).then(e=>{nY(e,ef,e=>{eV(e.ownedImage)})})},n2=async()=>{no[t]?nj.claim(no[t],"ERC721a"==no.collectionType?ef:no.tokenId).then(e=>{let{hash:t}=e;tc(!0),setTimeout(()=>{e8(t)},100)}):nk.burn(ef).then(e=>{let{hash:t}=e;tc(!0),setTimeout(()=>{e8(t)},100)})},n8=async()=>{if(!t_){tE(!0);var e="abcdefghijklmnopqrstuvwxyz",t="Decrypting",n=t.length,a=0,r=0,s="",o="";!function l(i){setTimeout(function(){--i?l(i):tE(!1),function(l){for(var i=0;i<n-r;i++){var c=Math.floor(e.length*Math.random());s+=e.charAt(c)}7==a&&r++,8==a&&(o+=t.charAt(r-1),a=0),tI(o+s),s=""}(0),a+=1},5)}(8*n+1)}};(0,I.useEffect)(()=>{eX||eL||!tn.loaded||!no.showBalance||tX?!eX&&!eL&&tn.loaded&&"ERC1155"==no.collectionType&&tX&&N&&(console.log("Not balance check, but instead backing vaults"),nG([],ef,e=>{eK(e),console.log("backing vault info",e)})):nU([],ef,e=>{e&&eB(e)})}),(0,I.useEffect)(()=>{(!localStorage.getItem("offline")||"false"===localStorage.getItem("offline"))&&e&&nL()},[]),(0,I.useEffect)(()=>{nH&&(nM(!1),n9())},[nH]),(0,I.useEffect)(()=>{(e&&t&&e7&&t==e7||k.noLayout&&"true"==k.noLayout||k.slideshowOnly&&"true"==k.slideshowOnly)&&n0()});let n9=async()=>{let e=await (0,Q.Nj)(ef);e&&e.addresses&&e.addresses.length>0?(nx(e),nW(e),tC(!1),tP(!1),ta({loaded:!0})):"true"===localStorage.getItem("offline")&&tV(!0)};function n6(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}return nn&&(nk=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new R.CH(a||F.q7.emblemVault[t],F.q7.emblemAbi,n.getSigner(e).connectUnchecked())}(nn||null)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(C(),{children:[(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:site",content:"Emblem.Finance"}),(0,a.jsx)("meta",{name:"twitter:title",content:ek}),(0,a.jsx)("meta",{name:"twitter:description",content:n6(eA)}),(0,a.jsx)("meta",{name:"twitter:image",content:eR}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})]}),(0,a.jsx)(X,{isOpen:nT,onClose:n_,addrCoin:e9,addrAddr:te}),(0,a.jsx)(Y,{isOpen:nE,onClose:nO,mnemonic:tf,privKeyBTC:tw,privKeyETH:tb,privValues:tj,addresses:e$}),(0,a.jsxs)(O(),{loaded:tn.loaded,children:[(0,a.jsx)(o.xu,{height:"40px"}),tk?(0,a.jsx)(E.Z,{}):"",tA||eb||tR?tA?(0,a.jsx)(i.K,{align:"center",children:(0,a.jsxs)(d.x,{children:["THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",(0,a.jsx)(u.r,{color:"#638cd8",href:"../create",children:"CREATE ONE HERE!"})]})}):tR?(0,a.jsx)(i.K,{align:"center",children:(0,a.jsx)(d.x,{children:"You are offline and this vault is not cached"})}):null:(0,a.jsx)(l.k,{width:"full",align:"center",justifyContent:"center",children:(0,a.jsxs)(o.xu,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:e7!=t?"orange.500":"claimed"==td?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390,children:[(0,a.jsxs)(o.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500",children:["Vault Network: ",M.zh[e7]]}),(0,a.jsxs)(o.xu,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center",children:[ek,!eX&&e0>0?": ~$"+e0.toLocaleString():null]}),(0,a.jsxs)(i.K,{className:"NFT-content",align:"center",children:[(0,a.jsx)(W.Z,{className:"d-block NFT-image-v3",url:eF||eR}),tr&&eM?(0,a.jsx)(c.z,{onClick:()=>{n4()},children:"(OWNED) Show Full Embed"}):null]}),(0,a.jsx)(i.K,{align:"center",children:(0,a.jsx)(o.xu,{mt:"2",ml:"4",lineHeight:"tight",children:(0,a.jsxs)(i.K,{children:[tr&&e7==t?(0,a.jsx)(d.x,{fontSize:"xs",children:(0,a.jsxs)(u.r,{href:"./vaults?address="+t$,children:["Owner: ",t$]})}):null,(0,a.jsx)(d.x,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md",children:(0,a.jsx)(D(),{plugins:[L()],children:n6(eA)})})]})})}),(0,a.jsxs)(o.xu,{p:"6",children:[!N||nb&&nb.showBalance?(0,a.jsxs)(h.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(g.t,{mb:"1em",children:[(0,a.jsx)(m.O,{children:"Balances"}),(0,a.jsx)(m.O,{children:"Attributes"})]}),(0,a.jsxs)(p.n,{children:[(0,a.jsx)(f.x,{children:eX?(0,a.jsxs)(o.xu,{mb:5,children:[(0,a.jsx)(d.x,{pb:2,color:tT?"green.500":null,children:tT||"Contents hidden. Enter password to unlock."}),(0,a.jsx)(x.I,{type:"password",id:"vault-password",onChange:e=>(function(e){tN&&(e=tN),n8(),console.log(e$);let t=e$[0].address.replace("private:","");try{var n,a=z().AES.decrypt(t,e);JSON.parse(a.toString(z().enc.Utf8)),eY(!1),tO(e),eQ((n=e,e$.forEach(e=>{if(e.address.includes("private")){let t=e.address.replace("private:","");e.address=JSON.parse(z().AES.decrypt(t,n).toString(z().enc.Utf8))}}),e$));let r=e$.filter(e=>"ETH"===e.coin)[0].address,s=e$.filter(e=>"BTC"===e.coin)[0].address;nJ([],r,s,e=>{eB(e)})}catch(e){console.log("err",e)}})(e.target.value),"aria-describedby":"password-helper-text"})]}):(0,a.jsx)(o.xu,{display:"flex",backgroundColor:"light"==nR?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content",children:(0,a.jsxs)(o.xu,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2",children:[(0,a.jsxs)(d.x,{as:"h4",mt:2,fontWeight:"semibold",children:["Current Contents:  ",(0,a.jsx)("button",{onClick:()=>{nU([],ef,e=>{eW(!1),eB(e)})},children:" [Refresh Balances]"})]}),(0,a.jsxs)(d.x,{as:"p",color:"dark"==nR?"lightgreen":"forestgreen",children:["$",Number(e0.toFixed(4)).toLocaleString()]}),ez.length?ez.map(t=>(0,a.jsx)(i.K,{children:(0,a.jsx)(G.Z,{colorMode:nR,coin:t,mine:"claimed"===td&&tm===e||tr,onRenew:n1,hideAsset:!nr.name&&n3})})):(0,a.jsx)(E.Z,{}),eG.length?eG.map(e=>(0,a.jsxs)(d.x,{children:["Data: ",e.attribute_key]})):eG.length||ez.length?null:(0,a.jsx)(d.x,{children:"Nothing in here! Fill 'er up!"})]})})}),(0,a.jsx)(f.x,{children:(0,a.jsx)(U.Z,{colorMode:nR,attributes:eJ})})]})]}):null,N&&eD.length>0?(0,a.jsxs)(h.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(g.t,{mb:"1em",children:[(0,a.jsx)(m.O,{children:"Backing Vaults"}),(0,a.jsx)(m.O,{children:"Offers"})]}),(0,a.jsx)(p.n,{children:(0,a.jsxs)(f.x,{children:[(0,a.jsxs)(d.x,{fontSize:".8em",children:["This vault is backed by ",eD.length," ",nr.name," "]}),eD.map(t=>(0,a.jsxs)(w.U,{width:"100%",children:[(0,a.jsxs)(d.x,{color:t.owner==e?"green":"",fontSize:"small",width:"60%",children:[t.owner==e?"My":""," Vault: ",(0,a.jsx)(u.r,{href:t.internalVault,target:"_blank",children:t.tokenId})]}),(0,a.jsx)(d.x,{fontSize:"small",float:"right",width:"30%",children:(0,a.jsx)(u.r,{href:t.explorer,target:"_blank",children:"Explorer"})})]}))]})})]}):null,!tX&&tr?(0,a.jsx)(d.x,{className:"warning",color:"red",fontSize:"s",children:nV}):null,(N||eX||tX)&&(!nb||!nb.showBalance)?null:(0,a.jsx)(o.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(S.h,{justifyContent:"space-between",spacing:6,children:(0,a.jsxs)(i.K,{children:[(0,a.jsx)(d.x,{children:"Deposit Addresses"}),(0,a.jsx)(l.k,{w:"340px",justify:"center",flexWrap:"wrap",children:e$.map(e=>(0,a.jsx)(c.z,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",onClick:()=>{e6(e.coin),tt(e.address),nI()},children:"ETH"==e.coin?e.coin+"":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin},e.address))})]})})}),"claimed"!==td&&tX&&(1===e7||137===e7)?(0,a.jsxs)(o.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:[(0,a.jsx)(c.z,{className:"nft_button",width:tr&&1==e7?"33%":137==e7?"100%":"50%",m:2.5,mb:5,onClick:()=>{window.open("https://"+(4==e7?"rinkeby.":5==e7?"testnets.":"")+"opensea.io/assets/"+(137==e7?"matic/":5==e7?"goerli/":"ethereum/")+(nn||(no[t]?no[t]:F.q7.emblemVault[e7]))+"/"+(no?no.tokenId:ef),"_blank")},children:"Opensea"}),1==e7?(0,a.jsx)(c.z,{className:"nft_button",width:"50%",m:5,onClick:()=>{window.open("https://"+(4==e7?"rinkeby.":5==e7?"goerli.":"")+"looksrare.org/collections/"+(137==e7?"matic/":"")+(nn||(no?no[t]:F.q7.emblemVault[e7]))+"/"+(no?no.tokenId:ef),"_blank")},children:"LooksRare"}):null,tr&&1==e7?(0,a.jsx)(c.z,{className:"nft_button",width:"33%",m:2.5,mb:5,onClick:()=>{window.open("https://app.arcade.xyz/terms/asset/".concat(no[e7]?no[e7]:F.q7.emblemVault[e7],"/").concat(ef),"_blank")},children:"Arcade"}):null]}):null,tX||tM||!tr||e7!=t||"claimed"===td||t2?null:(0,a.jsx)(a.Fragment,{children:no[e7]?(0,a.jsxs)(c.z,{width:"100%",mt:5,onClick:function(){return no.purchaseMethod&&"buyWithQuote"==no.purchaseMethod?nD():nB()},isDisabled:!ni||nm,children:[nm?"Mint Locked - keys accessed before mint":ni?" Mint Vault":"Please load vault to mint"," "]}):null}),tX&&"claimed"!==td&&e&&e7===t&&tr&&!th&&ei?(0,a.jsx)(o.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:()=>{n2()},isDisabled:ti,children:ti?"Claiming ...":"Unlock Vault (Get Private Keys)"})}):e7===t&&("claimed"==td||nm)&&(tm===e||tr)?(0,a.jsx)(o.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:n7,children:"Get Keys"})}):null,!N||tr?(0,a.jsx)(i.K,{mt:5,children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"nft_button",onClick:()=>{nP()},children:"Advanced Operations"}),(0,a.jsx)(l.k,{w:"100%",justify:"center",flexWrap:"wrap",children:(0,a.jsxs)(v.Z,{width:"100%",isOpen:nA,children:[e7===t&&to&&"claimed"!=td&&!nm?(0,a.jsx)(o.xu,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(c.z,{width:"100%",onClick:n7,children:"Get Keys (Unlocking will prevent minting)"})}):null,tr||tm==e?(0,a.jsx)($.Z,{data:nf,filename:"EmblemVault-".concat(ef,".json")}):null,tX&&"claimed"!=td||t3!=e||e7!=t||t2||!(ez.length<1)?null:(0,a.jsx)(c.z,{width:"100%",mt:5,onClick:()=>{n.getSigner(e).signMessage("Delete: "+ef).then(e=>{console.log("sig",e),fetch(F.HP+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:ef,signature:e,chainId:t.toString()})}).then(async function(){location.href=location.href.split("/")[0]+"/vaults"})})},children:"Delete Vault "})]})})]})}):null]}),!N&&eT?(0,a.jsxs)(w.U,{align:"center",children:[(0,a.jsx)(u.r,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+eT,isExternal:!0,children:"View Metadata on IPFS "}),e_?(0,a.jsx)(u.r,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+e_,isExternal:!0,children:"View Image on IPFS "}):null]}):null,th?(0,a.jsx)(o.xu,{display:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4",children:(0,a.jsx)(d.x,{children:"*This vault is sealed forever."})}):null,(0,a.jsx)(i.K,{direction:"column",align:"center",children:"claimed"==td?(0,a.jsx)(d.x,{color:"green.500",children:"CLAIMED"}):null}),e2?(0,a.jsxs)(b.b,{status:"info",children:[(0,a.jsx)(y.z,{}),tF?"Accepting Your Gift Vault":ti?"Claiming your Vault ...":tM?"Handling Approval Flow ...":tJ?"Transfering Vault ...":t9?"Minting Vault":"Waiting for Transaction ..."]}):null]})}),e2?(0,a.jsx)(V.Z,{hash:e2,onComplete:()=>{if(!ti||tF||tG)tG?(nZ(),tW(!0),tU(!1),e8(null)):tF?(tH(!1),nL(),e8(null)):tM?(tq(!1),nL(),e8(null)):tJ?(tZ(!1),nL(),e8(null)):((t9||t2)&&(t6(!1),e8(null),t8(!1)),location.href=location.origin+"/nft2?id="+(ew||ef));else{e8(null),tu("claimed"),tc(!1),tp(e);let t=eD.length>0?eD.find(t=>t.owner==e):{tokenId:ew||ef};location.href=location.origin+"/nft2?id="+t.tokenId}}}):null,(0,a.jsx)(o.xu,{height:"40px"})]})]})}function et(){return(0,a.jsx)(ee,{})}}},function(e){e.O(0,[3714,758,7119,3216,3363,4250,7951,9774,2888,179],function(){return e(e.s=4338)}),_N_E=e.O()}]);