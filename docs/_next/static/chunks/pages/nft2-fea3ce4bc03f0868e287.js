_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[54],{EM35:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return re}));var a=n("q1tI"),r=n.n(a),o=n("o0o1"),c=n.n(o),i=n("HaE+"),s=n("XZ7F"),u=n("mf32"),l=n("BMxC"),d=n("Weur"),f=n("Yn+B"),p=n("eJLp"),b=n("sK1y"),m=n("pboS"),h=n("wCB1"),g=n("FpzS"),v=n("IP4Q"),w=n("MKZ1"),O=n("LqLE"),j=n("bQFp"),S=n("4218"),k=n("wZsY"),y=n("8Kt/"),x=n.n(y),C=n("Z6YE"),T=n("nOHt"),E=n("Ute3"),N=n("Y1ui"),_=n.n(N),I=n("a6RD"),A=n.n(I),M=n("8XlW"),R=n("zIq6"),F=n("N39q"),V=n("21eR"),P=n("iBPG"),H=n("NFKh"),L=n.n(H),W=n("IujW"),J=n.n(W),B=n("wH4i"),G=n.n(B),K=n("PLxQ"),D=n("fksj"),U=n("r9y0"),X=n("diTF"),q=n("PSLY"),Y=n("FGWJ"),z=n("XXjs"),Q=n("Gp8X"),Z=r.a.createElement,$=A()((function(){return Promise.all([n.e(13),n.e(16),n.e(29)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),ee=A()((function(){return Promise.all([n.e(13),n.e(16),n.e(30)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}}),te=A()((function(){return Promise.all([n.e(13),n.e(16),n.e(31)]).then(n.bind(null,"D3uo"))}),{loadableGenerated:{webpack:function(){return["D3uo"]},modules:["./OfferModal"]}});function ne(){var e=Object(C.b)(),t=e.account,n=e.chainId,o=e.library,y=Object(T.useRouter)(),N=y.query,I=Object(a.useState)(!1),A=I[0],H=I[1],W=Object(a.useState)(null),B=W[0],ne=W[1],ae=Object(a.useState)(null),re=ae[0],oe=ae[1],ce=Object(a.useState)(null),ie=(ce[0],ce[1]),se=Object(a.useState)(0),ue=(se[0],se[1]),le=Object(a.useState)(null),de=le[0],fe=le[1],pe=Object(a.useState)(!1),be=(pe[0],pe[1]),me=Object(a.useState)(!1),he=me[0],ge=me[1],ve=Object(a.useState)(N.key),we=(ve[0],ve[1]),Oe=Object(a.useState)(N.offer||!1),je=Oe[0],Se=(Oe[1],Object(a.useState)(N.framed||!0)),ke=Se[0],ye=(Se[1],Object(a.useState)(N.id)),xe=ye[0],Ce=(ye[1],Object(a.useState)(N.slideshowOnly||!1)),Te=Ce[0],Ee=(Ce[1],Object(a.useState)(N.legacy||!1)),Ne=Ee[0],_e=(Ee[1],Object(a.useState)("")),Ie=_e[0],Ae=_e[1],Me=Object(a.useState)(""),Re=Me[0],Fe=Me[1],Ve=Object(a.useState)(""),Pe=Ve[0],He=Ve[1],Le=Object(a.useState)(""),We=Le[0],Je=Le[1],Be=Object(a.useState)(""),Ge=Be[0],Ke=Be[1],De=Object(a.useState)(""),Ue=De[0],Xe=De[1],qe=Object(a.useState)(""),Ye=qe[0],ze=qe[1],Qe=Object(a.useState)([]),Ze=Qe[0],$e=Qe[1],et=Object(a.useState)(!1),tt=et[0],nt=et[1],at=Object(a.useState)([]),rt=at[0],ot=at[1],ct=Object(a.useState)([]),it=ct[0],st=ct[1],ut=Object(a.useState)([]),lt=ut[0],dt=ut[1],ft=Object(a.useState)(!1),pt=ft[0],bt=ft[1],mt=Object(a.useState)(0),ht=mt[0],gt=mt[1],vt=Object(a.useState)(null),wt=vt[0],Ot=vt[1],jt=Object(a.useState)(null),St=(jt[0],jt[1]),kt=Object(a.useState)(null),yt=kt[0],xt=kt[1],Ct=Object(a.useState)(""),Tt=Ct[0],Et=Ct[1],Nt=Object(a.useState)(""),_t=Nt[0],It=Nt[1],At=Object(a.useState)({loaded:!1}),Mt=At[0],Rt=At[1],Ft=Object(a.useState)(!1),Vt=Ft[0],Pt=Ft[1],Ht=Object(a.useState)(!1),Lt=Ht[0],Wt=Ht[1],Jt=Object(a.useState)(!1),Bt=Jt[0],Gt=Jt[1],Kt=Object(a.useState)("claimed"),Dt=Kt[0],Ut=Kt[1],Xt=Object(a.useState)(!1),qt=Xt[0],Yt=Xt[1],zt=Object(a.useState)(null),Qt=zt[0],Zt=zt[1],$t=Object(a.useState)(""),en=$t[0],tn=$t[1],nn=Object(a.useState)(""),an=nn[0],rn=nn[1],on=Object(a.useState)(""),cn=on[0],sn=on[1],un=Object(a.useState)([]),ln=un[0],dn=un[1],fn=Object(a.useState)(!1),pn=fn[0],bn=fn[1],mn=Object(a.useState)(""),hn=mn[0],gn=mn[1],vn=Object(a.useState)(!1),wn=vn[0],On=vn[1],jn=Object(a.useState)(""),Sn=jn[0],kn=jn[1],yn=Object(a.useState)(!1),xn=yn[0],Cn=yn[1],Tn=Object(a.useState)(!1),En=Tn[0],Nn=Tn[1],_n=Object(a.useState)(!1),In=_n[0],An=_n[1],Mn=Object(a.useState)(!1),Rn=Mn[0],Fn=(Mn[1],Object(a.useState)("")),Vn=Fn[0],Pn=(Fn[1],Object(a.useState)(!1)),Hn=(Pn[0],Pn[1]),Ln=Object(a.useState)(!1),Wn=Ln[0],Jn=Ln[1],Bn=Object(a.useState)(!1),Gn=Bn[0],Kn=Bn[1],Dn=Object(a.useState)(null),Un=Dn[0],Xn=Dn[1],qn=Object(a.useState)(!1),Yn=qn[0],zn=qn[1],Qn=Object(a.useState)(null),Zn=(Qn[0],Qn[1]),$n=Object(a.useState)(null),ea=($n[0],$n[1]),ta=Object(a.useState)(null),na=ta[0],aa=ta[1],ra=Object(a.useState)(!1),oa=ra[0],ca=ra[1],ia=Object(a.useState)(!1),sa=ia[0],ua=ia[1],la=Object(a.useState)(!1),da=(la[0],la[1]),fa=Object(a.useState)(null),pa=fa[0],ba=fa[1],ma=Object(a.useState)({name:"",image:"",metadata:""}),ha=ma[0],ga=ma[1],va=Object(a.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""},collectionType:""}),wa=va[0],Oa=va[1],ja=Object(a.useState)(!1),Sa=ja[0],ka=ja[1],ya=Object(a.useState)({name:"",image:"",metadata:""}),xa=(ya[0],ya[1]),Ca=Object(a.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),Ta=(Ca[0],Ca[1]),Ea=Object(a.useState)(!1),Na=Ea[0],_a=Ea[1],Ia=Object(a.useState)({}),Aa=Ia[0],Ma=Ia[1],Ra=Object(a.useState)({}),Fa=(Ra[0],Ra[1]),Va=Object(a.useState)(null),Pa=Va[0],Ha=Va[1],La=Object(V.b)(F.r.vaultHandlerV8[n],F.r.vaultHandlerV8Abi,!0),Wa=Object(V.b)(F.r.mintVaultQuote[n],F.r.mintVaultQuoteAbi,!0),Ja=Object(V.b)(F.r.emblemVault[n],F.r.emblemAbi,!0),Ba=Object(V.b)(F.r.coval[n],F.r.covalAbi,!0),Ga=Object(s.a)(),Ka=Ga.isOpen,Da=Ga.onOpen,Ua=Ga.onClose,Xa=Object(s.a)(),qa=Xa.isOpen,Ya=Xa.onOpen,za=Xa.onClose,Qa=Object(s.a)(),Za=Qa.isOpen,$a=Qa.onOpen,er=Qa.onClose,tr=Object(s.a)(),nr=tr.isOpen,ar=tr.onToggle,rr=Object(u.c)().colorMode,or=Object(a.useState)("ONLY SEND ONE NFT TO THIS VAULT"),cr=or[0],ir=or[1],sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=F.t.filter((function(t){return t[n]==e}));if(a.length>0)return Ha(a[0]),new M.a(e,"ERC1155"==a[0].collectionType?F.r.erc1155Abi:"ERC721a"==a[0].collectionType?F.r.erc721aAbi:F.r.erc721Abi,o.getSigner(t).connectUnchecked())};var ur=function(){Rt({loaded:!1}),o.getSigner(t).signMessage("Curated Minting: "+xe).then((function(e){console.log("sig",e),fetch(F.h+"/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({method:"buyWithSignedPrice",tokenId:xe,signature:e,chainId:n.toString()})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,alert(0),Fa(n),La.buyWithSignedPrice(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._nonce,n._signature,n.serialNumber,1).then((function(e){var t=e.hash;setTimeout((function(){xt(t),Rt({loaded:!0}),ca(!0),ua(!0)}),100)})).catch((function(e){console.log("ERROR",e),ca(!1),ua(!1),Rt({loaded:!0})}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log("ERROR",e),ca(!1),ua(!1),Rt({loaded:!0})}))},lr=function(){Rt({loaded:!1}),o.getSigner(t).signMessage("Curated Minting: ".concat(xe.toString())).then((function(e){fetch(F.h+"/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({method:"buyWithQuote",tokenId:xe,signature:e,chainId:n.toString()})}).then(function(){var e=Object(i.a)(c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:(a=e.sent).err&&a.msg?alert(a.msg):(Fa(a),Wa.quoteExternalPrice(t,a._price/1e6).then((function(e){var t=e.mul(S.a.from(10).pow(6));console.log("--------   ------",a._nftAddress,a._price,a._to,a._tokenId,a._nonce,a._signature,a.serialNumber,1,{value:t}),La.buyWithQuote(a._nftAddress,a._price,a._to,a._tokenId,a._nonce,a._signature,a.serialNumber,1,{value:t}).then((function(e){var t=e.hash;setTimeout((function(){xt(t),Rt({loaded:!0}),ca(!0),ua(!0)}),100)})).catch((function(e){console.log("ERROR",e),ca(!1),ua(!1),Rt({loaded:!0})}))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log("ERROR",e),ca(!1),ua(!1),Rt({loaded:!0})}))},dr=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/vault/balance/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,console.log("response",r,o),!(o.balances.length>0)){e.next=11;break}return e.abrupt("return",a(o.balances));case 11:return e.abrupt("return",a(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),fr=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getvault"),e.next=3,fetch(F.h+"/meta/"+xe+"?experimental=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,Ma(n),n.collectionAddress&&(da(!0),ba(n.collectionAddress)),n.name?(console.log("--------------- states -",n),pr(n),bn(!1),Cn(!1)):(Rt({loaded:!0}),Cn(!0)),!pt&&!tt&&br([],xe,(function(e){e&&$e(e)}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pr=function(e){e.targetAsset||e.move_targetAsset||Ne||(location.href=location.origin+"/nft?id="+xe),ke&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+ke),e.ciphertextV2&&Je(e.ciphertextV2),_a(e.mintLocked&&0==e.mintLockBlock),Ae(e.name),Xe(e.image),ze(e.ownedImage||null),Ke(e.description),gt(e.totalValue||0),e.values&&$e(Ze.concat(e.values)),e.attributes&&ot(e.attributes.filter((function(e){return"key"===e.trait_type}))),e.attributes&&st(e.attributes),dt(e.addresses),Fe(e.ipfs||null),He(e.image_ipfs||null),e.targetContract&&e.targetContract.tokenId==xe&&e.targetContract.serialNumber&&H(!0),e.targetAsset&&ga(e.targetAsset),e.targetContract&&Oa(e.targetContract),e.move_targetAsset&&xa(e.move_targetAsset),e.move_targetContract&&Ta(e.move_targetContract),zn(0!=e.live),Zn(e.nonce),ea(e.signature),aa(e.to),St(e.network),Ot("mainnet"==e.network?1:"rinkeby"==e.network?4:"goerli"==e.network?5:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),e.live||(console.log("check liveliness start"),function(e,t,a){console.log("check liveliness next",t);var r=t&&t.name?F.h+"/liveliness-curated":F.g+"/liveliness";fetch(r,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,zn(n.live),console.log("Liveliness check",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a(!1)}(xe,e.targetContract||e.move_targetContract,(function(e){zn(e)}))),Ut(e.status),"claimed"===Dt&&Zt(e.claimedBy),Rt({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;bt(t),e.sealed?Yt(!0):Yt(!1)},br=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!tt){e.next=2;break}return e.abrupt("return",a(!1));case 2:return nt(!0),e.next=5,fetch(F.g+"/vault/balance/"+n+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 5:return r=e.sent,e.next=8,r.json();case 8:if(o=e.sent,console.log("response",r,o),!(o.balances.length>0)){e.next=14;break}return e.abrupt("return",a(t.concat(o.balances)));case 14:return e.abrupt("return",a(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),mr=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a,r){var o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/vault/balance/"+n+"/"+a,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(i=e.sent,console.log("response",o,i),!(i.balances.length>0)){e.next=11;break}return e.abrupt("return",r(t.concat(i.balances)));case 11:return e.abrupt("return",r(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),hr=function(){var e=localStorage.getItem(t+"_"+n+"_"+xe+"_mintPassword");e&&Rn&&we(e)},gr=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r){var o,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainid",n.toString()),o.append("Content-Type","application/json"),i=JSON.stringify({signature:t,tokenId:a}),e.next=6,fetch(F.p+"/sign",{method:"POST",headers:o,body:i,redirect:"follow"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt("return",r(u));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function vr(e,t,n){return wr.apply(this,arguments)}function wr(){return(wr=Object(i.a)(c.a.mark((function e(t,n,a){var r,o,i,s,u,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new q.a({network:"mainnet"}),o=new Y.a({enableOneKey:!0,network:"mainnet"}),e.next=4,r.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:t});case 4:return i=e.sent,s=i.torusNodeEndpoints,u=i.torusIndexes,e.next=9,o.retrieveShares(s,u,"tor-us-signer-vercel",{verifier_id:t},n);case 9:return l=e.sent,d=l.privKey,e.abrupt("return",a({privateKey:d}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Or=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r){var o,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainId",n.toString()),o.append("service","evmetadata"),o.append("Content-Type","application/json"),i=JSON.stringify({signature:t}),e.next=7,fetch(F.g+"/embed/"+a,{method:"POST",headers:o,body:i,redirect:"follow"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt("return",r(u));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),jr=function(){var e=Object(i.a)(c.a.mark((function e(){var a,r,o,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(){return(u=Object(i.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wa[n]){e.next=7;break}return e.next=3,Ja.isApprovedForAll(t,F.r.vaultHandlerV8[n]);case 3:r=e.sent,ge(r),e.next=11;break;case 7:return e.next=9,Ja.isApprovedForAll(t,F.r.vaultHandler[n]);case 9:r=e.sent,ge(r);case 11:Xn(a),Pt(a===t||na===t&&"0x0000000000000000000000000000000000000000"===a),Wt(na===t&&"0x0000000000000000000000000000000000000000"===a),hr();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(){return u.apply(this,arguments)},e.prev=2,!wa[n]){e.next=42;break}return(r=F.t.filter((function(e){return e[n]==wa[n]}))).length>0&&r[0].allowedName&&r[0].allowed&&Ze&&Ze.length>0?ka(r[0].allowedName(Ze[0].name,ir)&&r[0].allowed(Ze[0],ir)):ka(!1),Ja=sr(wa[n]),e.t0=ne,e.next=10,Ba.decimals();case 10:return e.t1=e.sent,(0,e.t0)(e.t1),fe(250*Math.pow(10,B)),e.t2=oe,e.next=16,Ba.allowance(t,F.r.vaultHandlerV8[n]).then((function(e){return e.toString()}));case 16:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=ie,e.next=21,Ba.balanceOf(t).then((function(e){return e.toString()}));case 21:if(e.t5=e.sent,(0,e.t4)(e.t5),Number(re)>=Number(de)?be(!0):be(!1),!(r.length>0)){e.next=39;break}if("ERC1155"!=r[0].collectionType){e.next=33;break}return e.next=28,Ja.balanceOf(t,wa.tokenId).then((function(e){return e.toString()}));case 28:o=e.sent,a=Number(o)>0?t:"0x0000000000000000000000000000000000000000",Number(o)>0&&ue(o),e.next=37;break;case 33:return ue(1),e.next=36,Ja.ownerOf("ERC721a"==r[0].collectionType?wa.tokenId:xe);case 36:a=e.sent;case 37:e.next=40;break;case 39:a="0x0000000000000000000000000000000000000000";case 40:e.next=45;break;case 42:return e.next=44,Ja.ownerOf(xe);case 44:a=e.sent;case 45:s(),e.next=52;break;case 48:e.prev=48,e.t6=e.catch(2),a="0x0000000000000000000000000000000000000000",s();case 52:case"end":return e.stop()}}),e,null,[[2,48]])})));return function(){return e.apply(this,arguments)}}(),Sr=function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Renew: "+xe).then((function(e){var t=lt.filter((function(e){return"NMC"==e.coin}))[0].address;console.log("signature",e,a),fetch(F.g+"/nmc/renew/"+t,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:xe,signature:e,name:a})}).then(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("Requested Renew",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kr=function(){var e=Object(i.a)(c.a.mark((function e(){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wa[n]&&(r=F.t.filter((function(e){return e[n]==wa[n]})),Ja=sr(wa[n]),a="ERC1155"==r[0].collectionType?wa.serialNumber:"ERC721a"==r[0].collectionType?xe:wa.tokenId),o.getSigner(t).signMessage("Claim: "+(wa[n]?a:xe)).then((function(e){Rt({loaded:!1}),Lt&&"claimed"!=Dt&&!Na&&_a(!0),gr(e,xe,(function(e){vr(xe,e.token,(function(e){try{var t=L.a.AES.decrypt(We,e.privateKey),n=JSON.parse(t.toString(L.a.enc.Utf8));dn(n.values),tn(n.phrase),lt.forEach(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("STX"!=t.coin){e.next=6;break}return e.next=3,yr(t,n.phrase);case 3:t.key=e.sent,e.next=7;break;case 6:t.key=window.phrasePathToKey(n.phrase,t.path);case 7:"BTC"==t.coin&&rn(t.key),"ETH"==t.coin&&sn(t.key);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(a){alert(a),setTimeout((function(){location.href=location.href}),2e3)}Rt({loaded:!0}),Ya()}))}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),yr=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.a)({secretKey:n,password:""});case 2:return a=e.sent,console.log("------ stacks account -",a.accounts[0]),r=a.accounts[0],t.key=r.stxPrivateKey,e.abrupt("return",t.key);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),xr=function(){var e=Object(i.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("HideAsset: "+xe).then((function(e){Cr(xe,n.coin,n.address,n.name,e,(function(){console.log("Done hiding coin and getting new balances")}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Cr(e,t,a,r,o,s){fetch(F.g+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({coin:t||null,address:a||null,name:r||null,signature:o||null})}).then(function(){var t=Object(i.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log("-------",a),dr([],e,(function(e){return $e(e),s()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var Tr=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Embed: "+xe).then((function(e){Or(e,xe,(function(e){Xe(e.ownedImage)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Er=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=F.t.filter((function(e){return e[n]==wa[n]})),wa[n]?La.claim(wa[n],"ERC721a"==t[0].collectionType?xe:wa.tokenId).then((function(e){var t=e.hash;Gt(!0),setTimeout((function(){xt(t)}),100)})):Ja.burn(xe).then((function(e){var t=e.hash;Gt(!0),setTimeout((function(){xt(t)}),100)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nr=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,r,o,i,s,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var c=0;c<r-i;c++){var l=Math.floor(t.length*Math.random()),d=t.charAt(l);s+=d}o==a-1&&i++,o==a&&(u+=n.charAt(i-1),o=0),gn(u+s),s=""},!wn){e.next=3;break}return e.abrupt("return");case 3:On(!0),t="abcdefghijklmnopqrstuvwxyz",5,r=(n="Decrypting").length,o=0,i=0,s="",u="",function e(t){setTimeout((function(){--t?e(t):On(!1),l(t),o+=1}),5)}(r*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function _r(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}function Ir(e){Sn&&(e=Sn),Nr(),console.log(lt);var t=lt[0].address.replace("private:","");try{var n=L.a.AES.decrypt(t,e);JSON.parse(n.toString(L.a.enc.Utf8)),bt(!1),kn(e),dt(function(e){return lt.forEach((function(t){if(t.address.includes("private")){var n=t.address.replace("private:","");t.address=function(e,t){var n=L.a.AES.decrypt(e,t);return JSON.parse(n.toString(L.a.enc.Utf8))}(n,e)}})),lt}(e));var a=lt.filter((function(e){return"ETH"===e.coin}))[0].address,r=lt.filter((function(e){return"BTC"===e.coin}))[0].address;console.log("SUCCESS",lt),mr([],a,r,(function(e){$e(e)}))}catch(o){console.log("WTF",o)}}return Object(a.useEffect)((function(){fr()}),[]),Object(a.useEffect)((function(){(t&&n&&wt&&n==wt||N.noLayout&&"true"==N.noLayout||N.slideshowOnly&&"true"==N.slideshowOnly)&&jr()})),pa&&(Ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new M.a(e||F.r.emblemVault[n],F.r.emblemAbi,o.getSigner(t).connectUnchecked())}(pa||null)),Z(r.a.Fragment,null,Z(x.a,null,Z("meta",{name:"twitter:card",content:"summary_large_image"}),Z("meta",{name:"twitter:site",content:"Emblem.Finance"}),Z("meta",{name:"twitter:title",content:Ie}),Z("meta",{name:"twitter:description",content:_r(Ge)}),Z("meta",{name:"twitter:image",content:Ue}),Z("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})),Z($,{isOpen:Ka,onClose:Ua,addrCoin:Tt,addrAddr:_t}),Z(ee,{isOpen:qa,onClose:za,mnemonic:en,privKeyBTC:an,privKeyETH:cn,privValues:ln,addresses:lt}),je?Z(te,{isOpen:Za,onClose:er,tokenId:xe,mine:Vt}):null,Z(_.a,{loaded:Mt.loaded},Z(l.a,{height:"40px"}),pn?Z(E.a,null):"",xn||Te?xn?Z(f.a,{align:"center"},Z(j.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),Z(b.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",Z(m.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):null:Z(d.a,{width:"full",align:"center",justifyContent:"center"},Z(l.a,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:wt!=n?"orange.500":"claimed"==Dt?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},Z(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500"},"Vault Network: ",P.a[wt]),Z(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center"},Ie,!pt&&ht>0?": ~$"+ht.toLocaleString():null),Z(f.a,{className:"NFT-content",align:"center"},Z(K.b,{className:"d-block w-100 NFT-image",url:Ue}),Vt&&Ye?Z(p.a,{onClick:function(){Tr()}},"(OWNED) Show Full Embed"):null),Z(f.a,{align:"center"},Z(l.a,{mt:"2",ml:"4",lineHeight:"tight"},Z(f.a,null,!Yn&&Vt?Z(b.a,{className:"warning",color:"red",fontSize:"s"},cr):null,Vt&&wt==n?Z(b.a,{fontSize:"xs"},Z(m.a,{href:"./vaults?address="+Un},"Owner: ",Un)):null,Z(b.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md"},Z(J.a,{plugins:[G.a],children:_r(Ge)}))))),Z(l.a,{p:"6"},!A&&!Yn||Pa&&Pa.showBalance?Z(h.f,{isFitted:!0,variant:"enclosed"},Z(h.c,{mb:"1em"},Z(h.a,null,"Balances"),Z(h.a,null,"Attributes")),Z(h.e,null,Z(h.d,null,pt?Z(l.a,{mb:5},Z(b.a,{pb:2,color:hn?"green.500":null},hn||"Contents hidden. Enter password to unlock."),Z(g.a,{type:"password",id:"vault-password",onChange:function(e){return Ir(e.target.value)},"aria-describedby":"password-helper-text"})):Z(l.a,{d:"flex",backgroundColor:"light"==rr?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content"},Z(l.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},Z(b.a,{as:"h4",mt:2,fontWeight:"semibold"},"Current Contents:  ",Z("button",{onClick:function(){br([],xe,(function(e){nt(!1),$e(e)}))}}," [Refresh Balances]")),Z(b.a,{as:"p",color:"dark"==rr?"lightgreen":"forestgreen"},"$",Number(ht.toFixed(4)).toLocaleString()),Ze.length?Ze.map((function(e){return Z(f.a,null,Z(D.a,{colorMode:rr,coin:e,mine:"claimed"===Dt&&Qt===t||Vt,onRenew:Sr,hideAsset:!ha.name&&xr}))})):Z(E.a,null),rt.length?rt.map((function(e){return Z(b.a,null,"Data: ",e.attribute_key)})):rt.length||Ze.length?null:Z(b.a,null,"Nothing in here! Fill 'er up!")))),Z(h.d,null,Z(U.a,{colorMode:rr,attributes:it})))):null,!A&&!pt&&!Yn||Pa&&Pa.showBalance?Z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Z(v.a,{justifyContent:"space-between",spacing:6},Z(f.a,null,Z(b.a,null,"Deposit Addresses"),Z(d.a,{w:"340px",justify:"center",flexWrap:"wrap"},lt.map((function(e){return Z(p.a,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",key:e.address,onClick:function(){Et(e.coin),It(e.address),Da()}},"ETH"==e.coin?e.coin+"":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin)})))))):null,"claimed"===Dt||!Yn||1!==wt&&137!==wt?null:Z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Z(p.a,{className:"nft_button",width:Vt&&1==wt?"33%":137==wt?"100%":"50%",m:2.5,mb:5,onClick:function(){window.open("https://"+(4==wt?"rinkeby.":5==wt?"testnets.":"")+"opensea.io/assets/"+(137==wt?"matic/":5==wt?"goerli/":"ethereum/")+(pa||(wa[n]?wa[n]:F.r.emblemVault[wt]))+"/"+(wa?wa.tokenId:xe),"_blank")}},"Opensea"),1==wt?Z(p.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==wt?"rinkeby.":5==wt?"goerli.":"")+"looksrare.org/collections/"+(137==wt?"matic/":"")+(pa||(wa?wa[n]:F.r.emblemVault[wt]))+"/"+(wa?wa.tokenId:xe),"_blank")}},"LooksRare"):null,Vt&&1==wt?Z(p.a,{className:"nft_button",width:"33%",m:2.5,mb:5,onClick:function(){window.open("https://app.arcade.xyz/terms/asset/".concat(wa[wt]?wa[wt]:F.r.emblemVault[wt],"/").concat(xe),"_blank")}},"Arcade"):null,je?Z(p.a,{className:"",onClick:function(){$a()}},Vt?"My Offers":"Make an Offer"," (NFT\xb2NFT)"):null),Vt?Z(Q.a,{handler:{address:wa[n]?F.r.vaultHandlerV8[n]:F.r.vaultHandler[n],abi:wa[n]?F.r.vaultHandlerV8Abi:F.r.vaultHandlerAbi},spending:{address:wa[n]?wa[n]:F.r.emblemVault[n],abi:wa[n]?F.r.erc1155Abi:F.r.emblemAbi},amount:0,label:"Approve Creating / Burning Vaults",watcher:xt}):null,Yn||In||!Vt||wt!=n||"claimed"===Dt||oa?null:Z(r.a.Fragment,null,wa.name?Z(p.a,{width:"100%",mt:5,onClick:function(){var e=F.t.filter((function(e){return e[n]==wa[n]}))[0];return e.purchaseMethod&&"buyWithQuote"==e.purchaseMethod?lr():ur()},isDisabled:!Sa||Na},Na?"Mint Locked - keys accessed before mint":Sa?" Mint Vault":"Please load vault to mint"," "):null),Yn&&"claimed"!==Dt&&t&&wt===n&&Vt&&!qt&&he?Z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Z(p.a,{width:"100%",onClick:function(){Er()},isDisabled:Bt},Bt?"Claiming ...":"Unlock Vault (Get Private Keys)")):wt!==n||"claimed"!=Dt&&!Na||Qt!==t&&!Vt?null:Z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Z(p.a,{width:"100%",onClick:kr},"Get Keys")),!A||Vt?Z(f.a,{mt:5},Z(r.a.Fragment,null,Z("button",{className:"nft_button",onClick:function(){ar()}},"Advanced Operations"),Z(d.a,{w:"100%",justify:"center",flexWrap:"wrap"},Z(w.a,{width:"100%",isOpen:nr},wt===n&&Lt&&"claimed"!=Dt&&!Na?Z(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},Z(p.a,{width:"100%",onClick:kr},"Get Keys (Unlocking will prevent minting)")):null,Vt||Qt==t?Z(z.a,{data:Aa,filename:"EmblemVault-".concat(xe,".json")}):null,Yn&&"claimed"!=Dt||na!=t||wt!=n||oa||!(Ze.length<1)?null:Z(p.a,{width:"100%",mt:5,onClick:function(){o.getSigner(t).signMessage("Delete: "+xe).then((function(e){console.log("sig",e),fetch(F.g+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:xe,signature:e,chainId:n.toString()})}).then(Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:location.href=location.href.split("/")[0]+"/vaults";case 1:case"end":return e.stop()}}),e)}))))}))}},"Delete Vault "))))):null),Re?Z(k.a,{align:"center"},Z(m.a,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+Re,isExternal:!0},"View Metadata on IPFS "),Pe?Z(m.a,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+Pe,isExternal:!0},"View Image on IPFS "):null):null,qt?Z(l.a,{d:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4"},Z(b.a,null,"*This vault is sealed forever.")):null,Z(f.a,{direction:"column",align:"center"},"claimed"==Dt?Z(b.a,{color:"green.500"},"CLAIMED"):null),yt?Z(O.a,{status:"info"},Z(O.b,null),En?"Accepting Your Gift Vault":Bt?"Claiming your Vault ...":In?"Handling Approval Flow ...":Gn?"Transfering Vault ...":sa?"Minting Vault":"Waiting for Transaction ..."):null)),yt?Z(R.a,{hash:yt,onComplete:function(){!Bt||En||Wn?Wn?(localStorage.setItem(t+"_"+n+"_"+xe+"_mintPassword",Vn),Hn(!0),Jn(!1),xt(null)):En?(Nn(!1),fr(),xt(null)):In?(An(!1),fr(),xt(null)):Gn?(Kn(!1),fr(),xt(null)):sa||oa?(ua(!1),xt(null),ca(!1),location.href=location.origin+"/nft2?id="+xe):location.href=location.origin+"/nft2?id="+xe:(xt(null),Ut("claimed"),Gt(!1),Zt(t),location.href=location.origin+"/nft2?id="+xe)}}):null,Z(l.a,{height:"40px"})))}var ae=r.a.createElement;function re(){return ae(ne,null)}},Gp8X:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("q1tI"),r=n.n(a),o=n("Weur"),c=n("eJLp"),i=n("8XlW"),s=n("Z6YE"),u=r.a.createElement,l=function(e,t,n,a){return new i.a(e,t,n.getSigner(a).connectUnchecked())};function d(e){var t=Object(s.b)(),n=t.account,r=t.library,i=Object(a.useState)(!1),d=i[0],f=i[1],p=Object(a.useState)(null),b=p[0],m=p[1],h=Object(a.useState)(null),g=h[0],v=h[1],w=Object(a.useState)(null),O=w[0],j=w[1];return Object(a.useEffect)((function(){!O&&e.handler&&function(e){var t=l(e.address,e.abi,r,n);j(t)}(e.handler)})),Object(a.useEffect)((function(){!g&&e.spending&&function(e){var t=l(e.address,e.abi,r,n);v(t)}(e.spending)})),Object(a.useEffect)((function(){var t,a;g&&(t=e.handler,e.spending,(a=e.amount)>0?g.decimals().then((function(e){m(e),g.allowance(n,t.address).then((function(t){f(t>=a*Math.pow(10,e))}))})):g.isApprovedForAll(n,t.address).then((function(e){f(e)})))})),n&&!d?u(o.a,{w:"100%",flexWrap:"wrap",mt:3},u(c.a,{onClick:function(){return e.amount>0?void g.approve(e.handler.address,1e6*Math.pow(10,b)).then((function(t){e.watcher(t.hash,(function(e){1===e.status&&f(!0)}))})):void g.setApprovalForAll(e.handler.address,!0).then((function(t){e.watcher(t.hash,(function(e){1===e.status&&f(!0)}))}))},backgroundColor:"#02b402",color:"black !important",fontWeight:"bold !important",width:"100%"},e.label)):null}},RuSG:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nft2",function(){return n("EM35")}])},XXjs:function(e,t,n){"use strict";var a=n("BMxC"),r=n("eJLp"),o=n("q1tI"),c=n.n(o),i=c.a.createElement;t.a=function(e){var t=e.data,n=e.filename;return i(c.a.Fragment,null,i(a.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},i(r.a,{id:"downloadLink",width:"100%",onClick:function(e){e.preventDefault();var a=JSON.stringify(t,null,2),r=new Blob([a],{type:"application/json"}),o=URL.createObjectURL(r),c=document.createElement("a");c.href=o,c.download=n,document.body.appendChild(c),c.click(),document.body.removeChild(c)}},"Backup Vault")))}}},[["RuSG",1,0,15,17,24,2,3,4,5,6,7,8,9,10,11,12,14,18,19,20,21,22,23,26]]]);