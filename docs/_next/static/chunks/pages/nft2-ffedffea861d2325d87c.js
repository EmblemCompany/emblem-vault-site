_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[50],{EM35:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ee}));var a=n("q1tI"),r=n.n(a),o=n("o0o1"),i=n.n(o),c=n("HaE+"),s=n("XZ7F"),u=n("mf32"),l=n("BMxC"),f=n("Weur"),d=n("Yn+B"),p=n("eJLp"),m=n("sK1y"),g=n("pboS"),b=n("wCB1"),h=n("FpzS"),v=n("IP4Q"),w=n("MKZ1"),O=n("jgTY"),S=n("LqLE"),j=n("bQFp"),y=n("wZsY"),k=n("S5RI"),x=n.n(k),C=n("8Kt/"),T=n.n(C),N=n("Z6YE"),_=n("nOHt"),A=n("Ute3"),E=n("a6RD"),I=n.n(E),M=n("iBPG"),F=n("8XlW"),V=n("zIq6"),H=n("N39q"),L=n("21eR"),P=n("NFKh"),D=n.n(P),G=n("IujW"),J=n.n(G),R=n("wH4i"),B=n.n(R),W=n("PLxQ"),K=n("zNBI"),U=n("fksj"),z=(n("Q/0U"),n("r9y0")),q=r.a.createElement,X=I()((function(){return Promise.all([n.e(16),n.e(18)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),Y=I()((function(){return Promise.all([n.e(16),n.e(18)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}}),Z=I()((function(){return Promise.all([n.e(16),n.e(18)]).then(n.bind(null,"D3uo"))}),{loadableGenerated:{webpack:function(){return["D3uo"]},modules:["./OfferModal"]}});function $(){var e=Object(N.b)(),t=e.account,n=e.chainId,o=e.library,k=Object(_.useRouter)(),C=k.query,E=Object(a.useState)(!1),I=E[0],P=E[1],G=Object(a.useState)(C.useOldMint),R=G[0],$=(G[1],Object(a.useState)(C.key)),Q=($[0],$[1]),ee=Object(a.useState)(C.offer||!1),te=ee[0],ne=(ee[1],Object(a.useState)(C.framed||!0)),ae=ne[0],re=(ne[1],Object(a.useState)(C.id)),oe=re[0],ie=(re[1],Object(a.useState)(C.experimental)),ce=(ie[0],ie[1],Object(a.useState)(C.noLayout)),se=(ce[0],ce[1],Object(a.useState)(C.slideshowOnly||!1)),ue=se[0],le=(se[1],Object(a.useState)("")),fe=le[0],de=le[1],pe=Object(a.useState)(""),me=pe[0],ge=pe[1],be=Object(a.useState)(""),he=be[0],ve=be[1],we=Object(a.useState)(""),Oe=we[0],Se=we[1],je=Object(a.useState)(""),ye=je[0],ke=je[1],xe=Object(a.useState)(""),Ce=xe[0],Te=xe[1],Ne=Object(a.useState)(""),_e=Ne[0],Ae=Ne[1],Ee=Object(a.useState)([]),Ie=Ee[0],Me=Ee[1],Fe=Object(a.useState)(!1),Ve=Fe[0],He=Fe[1],Le=Object(a.useState)([]),Pe=Le[0],De=Le[1],Ge=Object(a.useState)([]),Je=Ge[0],Re=Ge[1],Be=Object(a.useState)([]),We=Be[0],Ke=Be[1],Ue=Object(a.useState)(!1),ze=Ue[0],qe=Ue[1],Xe=Object(a.useState)(0),Ye=Xe[0],Ze=Xe[1],$e=Object(a.useState)(null),Qe=$e[0],et=$e[1],tt=Object(a.useState)(null),nt=(tt[0],tt[1]),at=Object(a.useState)(null),rt=at[0],ot=at[1],it=Object(a.useState)(""),ct=it[0],st=it[1],ut=Object(a.useState)(""),lt=ut[0],ft=ut[1],dt=Object(a.useState)({loaded:!1}),pt=(dt[0],dt[1]),mt=Object(a.useState)(!1),gt=mt[0],bt=mt[1],ht=Object(a.useState)(!1),vt=ht[0],wt=ht[1],Ot=Object(a.useState)("claimed"),St=Ot[0],jt=Ot[1],yt=Object(a.useState)(!1),kt=yt[0],xt=yt[1],Ct=Object(a.useState)(null),Tt=Ct[0],Nt=Ct[1],_t=Object(a.useState)(""),At=_t[0],Et=_t[1],It=Object(a.useState)(""),Mt=It[0],Ft=It[1],Vt=Object(a.useState)(""),Ht=Vt[0],Lt=Vt[1],Pt=Object(a.useState)([]),Dt=Pt[0],Gt=Pt[1],Jt=Object(a.useState)(!1),Rt=Jt[0],Bt=Jt[1],Wt=Object(a.useState)(""),Kt=Wt[0],Ut=Wt[1],zt=Object(a.useState)(!1),qt=zt[0],Xt=zt[1],Yt=Object(a.useState)(""),Zt=Yt[0],$t=Yt[1],Qt=Object(a.useState)(!1),en=Qt[0],tn=Qt[1],nn=Object(a.useState)(!1),an=(nn[0],nn[1],Object(a.useState)(!1)),rn=an[0],on=an[1],cn=Object(a.useState)(!1),sn=cn[0],un=cn[1],ln=Object(a.useState)(!1),fn=ln[0],dn=(ln[1],Object(a.useState)("")),pn=dn[0],mn=(dn[1],Object(a.useState)(!1)),gn=(mn[0],mn[1]),bn=Object(a.useState)(!1),hn=bn[0],vn=bn[1],wn=Object(a.useState)(null),On=wn[0],Sn=wn[1],jn=Object(a.useState)(!1),yn=jn[0],kn=jn[1],xn=Object(a.useState)(null),Cn=xn[0],Tn=xn[1],Nn=Object(a.useState)(function(){return Fa.apply(this,arguments)}()),_n=Nn[0],An=(Nn[1],Object(a.useState)(!1)),En=An[0],In=An[1],Mn=Object(a.useState)(null),Fn=Mn[0],Vn=Mn[1],Hn=Object(a.useState)(null),Ln=Hn[0],Pn=Hn[1],Dn=Object(a.useState)(null),Gn=Dn[0],Jn=Dn[1],Rn=Object(a.useState)(!1),Bn=Rn[0],Wn=Rn[1],Kn=Object(a.useState)(!1),Un=Kn[0],zn=Kn[1],qn=Object(a.useState)(!1),Xn=qn[0],Yn=qn[1],Zn=Object(a.useState)(!1),$n=(Zn[0],Zn[1]),Qn=Object(a.useState)(null),ea=Qn[0],ta=Qn[1],na=Object(a.useState)({name:"",image:"",metadata:""}),aa=(na[0],na[1]),ra=Object(a.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),oa=ra[0],ia=ra[1],ca=Object(a.useState)(!1),sa=ca[0],ua=ca[1],la=Object(a.useState)({}),fa=(la[0],la[1]),da=Object(L.b)(H.o.vaultHandler[n],H.o.vaultHandlerAbi,!0),pa=Object(L.b)(H.o.vaultHandlerV8[n],H.o.vaultHandlerV8Abi,!0),ma=Object(L.b)(H.o.emblemVault[n],H.o.emblemAbi,!0),ga=Object(s.a)(),ba=ga.isOpen,ha=ga.onOpen,va=ga.onClose,wa=Object(s.a)(),Oa=wa.isOpen,Sa=wa.onOpen,ja=wa.onClose,ya=Object(s.a)(),ka=ya.isOpen,xa=ya.onOpen,Ca=ya.onClose,Ta=Object(s.a)(),Na=Ta.isOpen,_a=Ta.onToggle,Aa=Object(s.a)(),Ea=Aa.isOpen,Ia=Aa.onToggle,Ma=Object(u.c)().colorMode;function Fa(){return(Fa=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new x.a({baseUrl:"".concat(window.location.origin,"/serviceworker"),enableLogging:!0,network:"testnet"}),e.next=3,t.init({skipSw:!0,skipInit:!0,skipPrefetch:!0});case 3:return console.log("Initialized Torus"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new F.a(e,H.o.erc1155Abi,o.getSigner(t).connectUnchecked())},Ha=function(e,t){return fetch(H.g+"/v2/liveliness-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,In(n.live),console.log("Liveliness check",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t()},La=function(){console.log("Delayed Minting"),Wn(!1),zn(!0),Yn(!0);var e=We.filter((function(e){return"ETH"==e.coin}))[0].address;da.buyWithSignature(t,oe,e,Fn,Ln).then((function(e){var t=e.hash;setTimeout((function(){ot(t),zn(!1)}),100)})).catch((function(e){zn(!1)}))},Pa=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H.g+"/vault/balance/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,console.log("responce",r,o),!(o.balances.length>0)){e.next=11;break}return e.abrupt("return",a(t.concat(o.balances)));case 11:return e.abrupt("return",a(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Da=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getvault"),e.next=3,fetch(H.g+"/v2/meta/"+oe+"?experimental=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).collectionAddress&&($n(!0),ta(n.collectionAddress)),n.name?(console.log("---------------",n),Ga(n),Bt(!1),tn(!1)):(pt({loaded:!0}),tn(!0));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ga=function(e){ae&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+ae),e.ciphertextV2&&(Se(e.ciphertextV2),console.log("ciphertextV2",e.ciphertextV2)),de(e.name),Te(e.image),Ae(e.ownedImage||null),ke(e.description),Ze(e.totalValue||0),e.values&&Me(Ie.concat(e.values)),e.attributes&&De(e.attributes.filter((function(e){return"key"===e.trait_type}))),e.attributes&&Re(e.attributes),Ke(e.addresses),ge(e.ipfs||null),ve(e.image_ipfs||null),e.targetAsset&&aa(e.targetAsset),e.targetContract&&ia(e.targetContract),e.values&&e.targetAsset&&e.values.filter((function(t){return t.coin.toLowerCase()==e.targetContract.chain&&t.name==e.targetAsset.name&&t.project==e.targetContract.name})).length>0&&ua(!0),In(0!=e.live),e.live||Ha(oe,(function(){In(!0)})),Vn(e.nonce),Pn(e.signature),Jn(e.to),nt(e.network),et("mainnet"==e.network?1:"rinkeby"==e.network?4:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),jt(e.status),"claimed"===St&&Nt(e.claimedBy),pt({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;qe(t),e.sealed?xt(!0):xt(!1)},Ja=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ve){e.next=2;break}return e.abrupt("return",a(!1));case 2:return He(!0),e.next=5,fetch(H.g+"/vault/balance/"+n+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 5:return r=e.sent,e.next=8,r.json();case 8:if(o=e.sent,console.log("responce",r,o),!(o.balances.length>0)){e.next=14;break}return e.abrupt("return",a(t.concat(o.balances)));case 14:return e.abrupt("return",a(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ra=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a,r){var o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H.g+"/vault/balance/"+n+"/"+a,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(c=e.sent,console.log("responce",o,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt("return",r(t.concat(c.balances)));case 11:return e.abrupt("return",r(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ba=function(){var e=localStorage.getItem(t+"_"+n+"_"+oe+"_mintPassword");e&&fn&&Q(e)},Wa=function(){var e=Object(c.a)(i.a.mark((function e(t,a,r){var o,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainid",n.toString()),o.append("Content-Type","application/json"),c=JSON.stringify({signature:t,tokenId:a}),e.next=6,fetch("https://tor-us-signer.vercel.app/sign",{method:"POST",headers:o,body:c,redirect:"follow"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt("return",r(u));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ka=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,e.next=3,_n;case 3:return e.next=5,e.sent.getTorusKey("tor-us-signer-vercel",t,{verifier_id:t},n).catch((function(e){r=e.message}));case 5:if(o=e.sent,!r){e.next=11;break}return console.log("error",r),e.abrupt("return",a(!1));case 11:return e.abrupt("return",a(o));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ua=function(){var e=Object(c.a)(i.a.mark((function e(t,a,r,o){var c,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append("chainId",n.toString()),c.append("service","evmetadata"),c.append("Content-Type","application/json"),s=JSON.stringify({signature:t,coin:r}),e.next=7,fetch(H.g+"/address/"+a,{method:"POST",headers:c,body:s,redirect:"follow"});case 7:return u=e.sent,e.next=10,u.json();case 10:return l=e.sent,e.abrupt("return",o(l));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),za=function(){var e=Object(c.a)(i.a.mark((function e(t,a,r){var o,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("chainId",n.toString()),o.append("service","evmetadata"),o.append("Content-Type","application/json"),c=JSON.stringify({signature:t}),e.next=7,fetch(H.g+"/embed/"+a,{method:"POST",headers:o,body:c,redirect:"follow"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt("return",r(u));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),qa=function(){var e=Object(c.a)(i.a.mark((function e(){var a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return(o=Object(c.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oa[n]){e.next=6;break}return e.next=3,ma.isApprovedForAll(t,H.o.vaultHandlerV8[n]);case 3:r=e.sent,e.next=9;break;case 6:return e.next=8,ma.isApprovedForAll(t,H.o.vaultHandler[n]);case 8:r=e.sent;case 9:P(r),Tn(a),bt(a===t),Ba();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(){return o.apply(this,arguments)},console.log("Contract states"),!1,e.prev=4,!oa[n]){e.next=13;break}return ma=Va(oa[n]),e.next=9,ma.getOwnerOfSerial(oa.serialNumber);case 9:a=e.sent,console.log("--------------------------- owner",a,I,t,H.o.vaultHandlerV8[n]),e.next=16;break;case 13:return e.next=15,ma.ownerOf(oe);case 15:a=e.sent;case 16:r(),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),a="0x0000000000000000000000000000000000000000",r();case 23:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log("mine?",gt),console.log("claiming?",vt),console.log("accepting?",rn),console.log("acceptable",fn)}));var Xa=function(e){return console.log(e,We.filter((function(t){return t.coin==e})).length>0),We.filter((function(t){return t.coin==e})).length>0},Ya=function(){var e=Object(c.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Renew: "+oe).then((function(e){var t=We.filter((function(e){return"NMC"==e.coin}))[0].address;console.log("signature",e,a),fetch(H.g+"/nmc/renew/"+t,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:oe,signature:e,name:a})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("Requested Renew",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Za=function(){var e=Object(c.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oa[n]){e.next=5;break}return ma=Va(oa[n]),e.next=4,ma.getSerial(oa.tokenId,0);case 4:a=e.sent;case 5:o.getSigner(t).signMessage("Claim: "+(oa[n]?a:oe)).then((function(e){Wa(e,oe,(function(e){Ka(oe,e.token,(function(e){var t=D.a.AES.decrypt(Oe,e.privateKey),n=JSON.parse(t.toString(D.a.enc.Utf8));Gt(n.values),Et(n.phrase),We.forEach((function(e){e.key=window.phrasePathToKey(n.phrase,e.path),"BTC"==e.coin&&Ft(e.key),"ETH"==e.coin&&Lt(e.key)})),Sa()}))}))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$a=function(){var e=Object(c.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("HideAsset: "+oe).then((function(e){console.log("----------------------------------------------------------------",e),console.log(n.name,n.coin,n.address),Qa(oe,n.coin,n.address,n.name,e,(function(){console.log("Done hiding coin and getting new balances")}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Qa(e,t,a,r,o,s){fetch(H.g+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({coin:t||null,address:a||null,name:r||null,signature:o||null})}).then(function(){var t=Object(c.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log("-------",a),Pa([],e,(function(e){return Me(e),s()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var er=function(){var e=Object(c.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Address: "+oe).then((function(e){Ua(e,oe,n,(function(e){Da()}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tr=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Embed: "+oe).then((function(e){za(e,oe,(function(e){Te(e.ownedImage)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nr=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oa[n]?pa.claim(oa[n],oa.tokenId).then((function(e){var t=e.hash;wt(!0),setTimeout((function(){ot(t)}),100)})):ma.burn(oe).then((function(e){var t=e.hash;wt(!0),setTimeout((function(){ot(t)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ar=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,r,o,c,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var i=0;i<r-c;i++){var l=Math.floor(t.length*Math.random()),f=t.charAt(l);s+=f}o==a-1&&c++,o==a&&(u+=n.charAt(c-1),o=0),Ut(u+s),s=""},!qt){e.next=3;break}return e.abrupt("return");case 3:Xt(!0),t="abcdefghijklmnopqrstuvwxyz",5,r=(n="Decrypting").length,o=0,c=0,s="",u="",function e(t){setTimeout((function(){--t?e(t):Xt(!1),l(t),o+=1}),5)}(r*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function rr(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}function or(e){Zt&&(e=Zt),ar(),console.log(We);var t=We[0].address.replace("private:","");try{var n=D.a.AES.decrypt(t,e);JSON.parse(n.toString(D.a.enc.Utf8)),qe(!1),$t(e),Ke(function(e){return We.forEach((function(t){if(t.address.includes("private")){var n=t.address.replace("private:","");t.address=function(e,t){var n=D.a.AES.decrypt(e,t);return JSON.parse(n.toString(D.a.enc.Utf8))}(n,e)}})),We}(e));var a=We.filter((function(e){return"ETH"===e.coin}))[0].address,r=We.filter((function(e){return"BTC"===e.coin}))[0].address;console.log("SUCCESS",We),Ra([],a,r,(function(e){Me(e)}))}catch(o){console.log("WTF",o)}}return Object(a.useEffect)((function(){console.log("----"),Da()}),[]),Object(a.useEffect)((function(){(t&&n&&Qe&&n==Qe||C.noLayout&&"true"==C.noLayout||C.slideshowOnly&&"true"==C.slideshowOnly)&&qa()})),ea&&(ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new F.a(e||H.o.emblemVault[n],H.o.emblemAbi,o.getSigner(t).connectUnchecked())}(ea||null)),q(r.a.Fragment,null,q(T.a,null,q("meta",{name:"twitter:card",content:"summary_large_image"}),q("meta",{name:"twitter:site",content:"Emblem.Finance"}),q("meta",{name:"twitter:title",content:fe}),q("meta",{name:"twitter:description",content:rr(ye)}),q("meta",{name:"twitter:image",content:Ce}),q("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})),q(X,{isOpen:ba,onClose:va,addrCoin:ct,addrAddr:lt}),q(Y,{isOpen:Oa,onClose:ja,mnemonic:At,privKeyBTC:Mt,privKeyETH:Ht,privValues:Dt,addresses:We}),te?q(Z,{isOpen:ka,onClose:Ca,tokenId:oe,mine:gt}):null,q(l.a,{height:"40px"}),Rt?q(A.a,null):"",en||ue?Ie.length>0&&ue?q(d.a,{className:"NFT-content",align:"center"},Ie.length&&Ie.filter((function(e){return"nft"==e.type})).length>0?q(K.a,{name:fe,image:Ie[0].image,items:Ie.filter((function(e){return e.image!==Ie[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):q(W.b,{className:"d-block w-100 NFT-image",url:Ce})):en?q(d.a,{align:"center"},q(j.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),q(m.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",q(g.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):null:q(f.a,{width:"full",align:"center",justifyContent:"center"},q(l.a,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:Qe!=n?"orange.500":"claimed"==St?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},q(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500"},"Vault Network: ",M.a[Qe]),q(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center"},fe,!ze&&Ye>0?": ~$"+Ye.toLocaleString():null),q(d.a,{className:"NFT-content",align:"center"},q(W.b,{className:"d-block w-100 NFT-image",url:Ce}),gt&&_e?q(p.a,{onClick:function(){tr()}},"(OWNED) Show Full Embed"):null),q(d.a,{align:"center"},q(l.a,{mt:"2",ml:"4",lineHeight:"tight"},q(d.a,null,q(m.a,{fontSize:"xs"},Qe==n?q(g.a,{href:"./vaults?address="+Cn},"Owner: ",Cn):null),q(m.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md"},q(J.a,{plugins:[B.a],children:rr(ye)}))))),q(l.a,{p:"6"},q(b.f,{isFitted:!0,variant:"enclosed"},q(b.c,{mb:"1em"},q(b.a,null,"Balances"),q(b.a,null,"Attributes")),q(b.e,null,q(b.d,null,ze?q(l.a,{mb:5},q(m.a,{pb:2,color:Kt?"green.500":null},Kt||"Contents hidden. Enter password to unlock."),q(h.a,{type:"password",id:"vault-password",onChange:function(e){return or(e.target.value)},"aria-describedby":"password-helper-text"})):q(l.a,{d:"flex",backgroundColor:"light"==Ma?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content"},q(l.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},q(m.a,{as:"h4",mt:2,fontWeight:"semibold"},"Current Contents:  ",q("button",{onClick:function(){Ja([],oe,(function(e){He(!1),Me(e)}))}}," [Refresh Balances]")),q(m.a,{as:"p",color:"dark"==Ma?"lightgreen":"forestgreen"},"$",Number(Ye.toFixed(4)).toLocaleString()),Ie.length?Ie.map((function(e){return q(d.a,null,q(U.a,{colorMode:Ma,coin:e,mine:"claimed"===St&&Tt===t||gt,onRenew:Ya,hideAsset:$a}))})):q(A.a,null),Pe.length?Pe.map((function(e){return q(m.a,null,"Data: ",e.attribute_key)})):Pe.length||Ie.length?null:q(m.a,null,"Nothing in here! Fill 'er up!")))),q(b.d,null,q(z.a,{colorMode:Ma,attributes:Je})))),ze?null:q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(v.a,{justifyContent:"space-between",spacing:6},q(d.a,null,q(m.a,null,"Deposit Addresses"),q(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},We.map((function(e){return q(p.a,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",key:e.address,onClick:function(){st(e.coin),ft(e.address),ha()}},"ETH"==e.coin?e.coin+"":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin)}))),(gt||"claimed"===St)&&We.length<10?q(r.a.Fragment,null,q("button",{className:"nft_button",onClick:function(){Ia()}},"Manage Addresses"),q(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},q(w.a,{isOpen:Ea},Xa("DOGE")?null:q(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){er("DOGE")}},"Add DOGE"),Xa("DGB")?null:q(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){er("DGB")}},"Add Digibyte"),Xa("NMC")?null:q(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){er("NMC")}},"Add Namecoin"),Xa("LTC")?null:q(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){er("LTC")}},"Add Litecoin"),Xa("MONA")?null:q(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){er("MONA")}},"Add Mona"),Xa("TEZOS")?null:q(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){er("TEZOS")}},"Add Tezos"),Xa("SOLANA")?null:q(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){er("SOLANA")}},"Add Solana")))):null))),"claimed"===St||!En||1!==Qe&&4!==Qe&&137!==Qe?null:q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(p.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==Qe?"rinkeby.":"")+"opensea.io/assets/"+(137==Qe?"matic/":"")+(ea||(oa?oa[n]:H.o.emblemVault[Qe]))+"/"+(oa?oa.tokenId:oe),"_blank")}},"Opensea"),q(p.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==Qe?"rinkeby.":"")+"looksrare.org/collections/"+(137==Qe?"matic/":"")+(ea||(oa?oa[n]:H.o.emblemVault[Qe]))+"/"+(oa?oa.tokenId:oe),"_blank")}},"LooksRare"),te?q(p.a,{className:"",onClick:function(){xa()}},gt?"My Offers":"Make an Offer"," (NFT\xb2NFT)"):null),"claimed"!==St&&gt&&!fn?q(r.a.Fragment,null,q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",width:"100%"},q(d.a,{direction:"column",align:"center",width:"100%"},q(p.a,{className:"nft_button",width:"100%",onClick:_a},"Transfer Vault"),q(w.a,{isOpen:Na},q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},q(O.a,{htmlFor:"owner-address"},"Address"),q(h.a,{mt:1,type:"text",id:"transferAddress",value:On||"",onChange:function(e){console.log("Transfer to",e.target.value),Sn(e.target.value)},autoComplete:"off"})),q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},q(p.a,{isDisabled:!Object(M.k)(On),onClick:function(){_a(),kn(!0),ma.transferFrom(t,On,oe).then((function(e){var t=e.hash;ot(t)})).catch((function(e){}))}},"Transfer Now")))))):null,"claimed"!==St&&t&&Qe===n&&gt&&!kt?q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(p.a,{width:"100%",onClick:function(){nr()},isDisabled:vt},vt?"Claiming ...":"Claim (Crack Open Vault)")):"claimed"===St&&Tt===t&&Qe===n?q(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(p.a,{width:"100%",onClick:Za},"Get Keys")):null,En||Gn!=t||Qe!=n||"claimed"===St||Un?null:q(r.a.Fragment,null,"true"==R?q(p.a,{width:"100%",mt:5,onClick:La},"Mint Me v1"):oa.name?q(p.a,{width:"100%",mt:5,onClick:function(){o.getSigner(t).signMessage("Curated Minting: "+oe).then((function(e){console.log("sig",e),fetch(H.g+"/v2/mint-curated",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:oe,signature:e,chainId:n.toString()})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._payload,n._nonce,n._signature,n.serialNumber),fa(n),pa.buyWithSignedPrice(n._nftAddress,n._payment,n._price,n._to,n._tokenId,n._payload,n._nonce,n._signature,n.serialNumber).then((function(e){var t=e.hash;setTimeout((function(){ot(t),zn(!0),Yn(!0)}),100)})).catch((function(e){zn(!1),Yn(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},isDisabled:!sa}," Mint Vault "):q(p.a,{width:"100%",mt:5,onClick:function(){o.getSigner(t).signMessage("Delayed Minting: "+oe).then((function(e){console.log("sig",e),fetch(H.g+"/lazyMint",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:n.toString()},body:JSON.stringify({tokenId:oe,signature:e})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("data",n.data),Pn(n.data.signature),Vn(n.data.nonce),Wn(!0),setTimeout((function(){La()}),500);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Mint Vault ")),En&&"claimed"!=St||Gn!=t||Qe!=n||Un||!(Ie.length<1)?null:q(p.a,{width:"100%",mt:5,onClick:function(){o.getSigner(t).signMessage("Delete: "+oe).then((function(e){console.log("sig",e),fetch(H.g+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:oe,signature:e,chainId:n.toString()})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:e.sent,location.href=location.href.split("/")[0]+"/vaults";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Delete Vault "),Bn?q(p.a,{isDisabled:!0,type:"submit"},"Verifying Signature ..."):null,Un?q(p.a,{isDisabled:!0,type:"submit"},"Minting Vault ..."):null),me?q(d.a,null,q(y.a,{align:"center"},q(g.a,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+me,isExternal:!0},"View Metadata on IPFS "),he?q(g.a,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+he,isExternal:!0},"View Image on IPFS "):null)):null,kt?q(l.a,{d:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4"},q(m.a,null,"*This vault is sealed forever.")):null,q(d.a,{direction:"column",align:"center"},"claimed"==St?q(m.a,{color:"green.500"},"CLAIMED"):null),rt?q(S.a,{status:"info"},q(S.b,null),rn?"Accepting Your Gift Vault":vt?"Claiming your Vault ...":sn?"Handling Approval Flow ...":yn?"Transfering Vault ...":Xn?"Minting Vault":"Generating Gift Link ..."):null)),rt?q(V.a,{hash:rt,onComplete:function(){var e;!vt||rn||hn?hn?(localStorage.setItem(t+"_"+n+"_"+oe+"_mintPassword",pn),gn(!0),vn(!1),ot(null)):rn?(on(!1),Da(),ot(null)):sn?(un(!1),Da(),ot(null)):yn?(kn(!1),Da(),ot(null)):Xn?Ha(oe,(function(){Yn(!1),In(!0)})):(console.log("minting",Xn),console.log("claiming",vt),console.log("accepting",rn),console.log("preTransfering",hn),console.log("approving",sn),console.log("Unknown state")):(ot(null),jt("claimed"),wt(!1),Nt(t),e=function(){location.href=location.origin+"/nft?id="+oe},fetch(H.g+"/web3/selfClaimLogs?chainId="+n.toString()+"_vercel_no_cache=1",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}}).then(function(){var t=Object(c.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log("Log check",a),t.abrupt("return",e());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,q(l.a,{height:"40px"}))}var Q=r.a.createElement;function ee(){return Q($,null)}},RuSG:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nft2",function(){return n("EM35")}])}},[["RuSG",1,0,12,14,2,3,4,5,6,8,7,9,11,13,15,17,19,21,20,22,25,29]]]);