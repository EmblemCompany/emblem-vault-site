_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[55],{"5rgK":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return te}));var a=n("q1tI"),r=n.n(a),o=n("o0o1"),i=n.n(o),c=n("HaE+"),s=n("XZ7F"),u=n("mf32"),l=n("BMxC"),f=n("Weur"),d=n("Yn+B"),p=n("eJLp"),m=n("sK1y"),g=n("pboS"),h=n("wCB1"),b=n("FpzS"),v=n("IP4Q"),w=n("MKZ1"),O=n("jgTY"),j=n("LqLE"),S=n("bQFp"),y=n("wZsY"),k=n("8Kt/"),x=n.n(k),C=n("Z6YE"),T=n("nOHt"),N=n("Ute3"),A=n("a6RD"),E=n.n(A),I=n("iBPG"),_=n("8XlW"),M=n("zIq6"),F=n("N39q"),H=n("21eR"),V=n("NFKh"),L=n.n(V),P=n("IujW"),q=n.n(P),D=n("wH4i"),G=n.n(D),K=n("PLxQ"),J=n("zNBI"),R=n("fksj"),W=n("diTF"),B=n("PSLY"),z=n("FGWJ"),U=n("r9y0"),X=r.a.createElement,Y=E()((function(){return Promise.all([n.e(14),n.e(16),n.e(32)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),Z=E()((function(){return Promise.all([n.e(14),n.e(16),n.e(33)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}}),$=E()((function(){return Promise.all([n.e(14),n.e(16),n.e(34)]).then(n.bind(null,"D3uo"))}),{loadableGenerated:{webpack:function(){return["D3uo"]},modules:["./OfferModal"]}});function Q(){var e,t=Object(C.b)(),n=t.account,o=t.chainId,k=t.library,A=Object(T.useRouter)(),E=A.query,V=Object(a.useState)("t"==E.cc),P=V[0],D=(V[1],Object(a.useState)("t"==E.curated)),Q=D[0],ee=(D[1],Object(a.useState)({name:"",chain:""})),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),re=ae[0],oe=ae[1],ie=Object(a.useState)(!1),ce=ie[0],se=ie[1],ue=Object(a.useState)(E.useOldMint),le=ue[0],fe=(ue[1],Object(a.useState)(E.key)),de=fe[0],pe=fe[1],me=Object(a.useState)(E.offer||!1),ge=me[0],he=(me[1],Object(a.useState)(E.framed||!0)),be=he[0],ve=(he[1],Object(a.useState)(E.id)),we=ve[0],Oe=(ve[1],Object(a.useState)(E.slideshowOnly||!1)),je=Oe[0],Se=(Oe[1],Object(a.useState)("")),ye=Se[0],ke=Se[1],xe=Object(a.useState)(""),Ce=xe[0],Te=xe[1],Ne=Object(a.useState)(""),Ae=Ne[0],Ee=Ne[1],Ie=Object(a.useState)(""),_e=Ie[0],Me=Ie[1],Fe=Object(a.useState)(""),He=Fe[0],Ve=Fe[1],Le=Object(a.useState)(""),Pe=Le[0],qe=Le[1],De=Object(a.useState)(""),Ge=De[0],Ke=De[1],Je=Object(a.useState)([]),Re=Je[0],We=Je[1],Be=Object(a.useState)(!1),ze=Be[0],Ue=Be[1],Xe=Object(a.useState)([]),Ye=Xe[0],Ze=Xe[1],$e=Object(a.useState)([]),Qe=$e[0],et=$e[1],tt=Object(a.useState)([]),nt=tt[0],at=tt[1],rt=Object(a.useState)(!1),ot=rt[0],it=rt[1],ct=Object(a.useState)(0),st=ct[0],ut=ct[1],lt=Object(a.useState)(null),ft=lt[0],dt=lt[1],pt=Object(a.useState)(null),mt=(pt[0],pt[1]),gt=Object(a.useState)(null),ht=gt[0],bt=gt[1],vt=Object(a.useState)(""),wt=vt[0],Ot=vt[1],jt=Object(a.useState)(""),St=jt[0],yt=jt[1],kt=Object(a.useState)({loaded:!1}),xt=kt[0],Ct=kt[1],Tt=Object(a.useState)(!1),Nt=Tt[0],At=Tt[1],Et=Object(a.useState)(!1),It=Et[0],_t=Et[1],Mt=Object(a.useState)("claimed"),Ft=Mt[0],Ht=Mt[1],Vt=Object(a.useState)(!1),Lt=Vt[0],Pt=Vt[1],qt=Object(a.useState)(null),Dt=qt[0],Gt=qt[1],Kt=Object(a.useState)(""),Jt=Kt[0],Rt=Kt[1],Wt=Object(a.useState)(""),Bt=Wt[0],zt=Wt[1],Ut=Object(a.useState)(""),Xt=Ut[0],Yt=Ut[1],Zt=Object(a.useState)([]),$t=Zt[0],Qt=Zt[1],en=Object(a.useState)(!1),tn=en[0],nn=en[1],an=Object(a.useState)(""),rn=an[0],on=an[1],cn=Object(a.useState)(!1),sn=cn[0],un=cn[1],ln=Object(a.useState)(""),fn=ln[0],dn=ln[1],pn=Object(a.useState)(!1),mn=pn[0],gn=pn[1],hn=Object(a.useState)(!1),bn=hn[0],vn=hn[1],wn=Object(a.useState)(!1),On=wn[0],jn=wn[1],Sn=Object(a.useState)(!1),yn=Sn[0],kn=Sn[1],xn=Object(a.useState)(""),Cn=xn[0],Tn=xn[1],Nn=Object(a.useState)(!1),An=Nn[0],En=Nn[1],In=Object(a.useState)(!1),_n=In[0],Mn=In[1],Fn=Object(a.useState)(null),Hn=Fn[0],Vn=Fn[1],Ln=Object(a.useState)(!1),Pn=Ln[0],qn=Ln[1],Dn=Object(a.useState)(null),Gn=Dn[0],Kn=Dn[1],Jn=Object(a.useState)(!1),Rn=Jn[0],Wn=Jn[1],Bn=Object(a.useState)(null),zn=Bn[0],Un=Bn[1],Xn=Object(a.useState)(null),Yn=Xn[0],Zn=Xn[1],$n=Object(a.useState)(null),Qn=$n[0],ea=$n[1],ta=Object(a.useState)(!1),na=ta[0],aa=ta[1],ra=Object(a.useState)(!1),oa=ra[0],ia=ra[1],ca=Object(a.useState)(!1),sa=ca[0],ua=ca[1],la=Object(a.useState)(null),fa=la[0],da=la[1],pa=Object(a.useState)({name:"",image:"",metadata:""}),ma=(pa[0],pa[1]),ga=Object(a.useState)({name:"",chain:"",4:"",1:"",tokenId:{},serialNumber:{hex:""}}),ha=ga[0],ba=ga[1],va=Object(H.b)(F.q.vaultHandler[o],F.q.vaultHandlerAbi,!0),wa=Object(H.b)(F.q.vaultHandlerV8[o],F.q.vaultHandlerV8Abi,!0),Oa=Object(H.b)(F.q.emblemVault[o],F.q.emblemAbi,!0),ja=Object(s.a)(),Sa=ja.isOpen,ya=ja.onOpen,ka=ja.onClose,xa=Object(s.a)(),Ca=xa.isOpen,Ta=xa.onOpen,Na=xa.onClose,Aa=Object(s.a)(),Ea=Aa.isOpen,Ia=Aa.onOpen,_a=Aa.onClose,Ma=Object(s.a)(),Fa=Ma.isOpen,Ha=Ma.onToggle,Va=Object(s.a)(),La=Va.isOpen,Pa=Va.onToggle,qa=Object(u.c)().colorMode,Da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new _.a(e,F.q.erc1155Abi,k.getSigner(n).connectUnchecked())},Ga=function(e,t){return fetch(F.g+"/liveliness",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:o.toString()},body:JSON.stringify({tokenId:e})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,Wn(n.live),console.log("Liveliness check",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t()},Ka=function(){console.log("Delayed Minting"),aa(!1),ia(!0),ua(!0);var e=nt.filter((function(e){return"ETH"==e.coin}))[0].address;console.log("--------------------------------------------------------Delayed Minting",n,we,e,zn,Yn),va.buyWithSignature(n,we,e,zn,Yn).then((function(e){var t=e.hash;setTimeout((function(){bt(t),ia(!1)}),100)})).catch((function(e){console.log("AAAAAHHHHHH",e.code),ia(!1)}))},Ja=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/witness/"+we,{method:"GET",headers:{"Content-Type":"application/json",cc:"t",service:"evmetadata",chainid:o.toString()}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(a=e.sent).signature){e.next=11;break}return console.log("witness",a),e.abrupt("return",t(a));case 11:return e.abrupt("return",t(!1));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ra=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/vault/balance/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,console.log("responce",r,o),!(o.balances.length>0)){e.next=11;break}return e.abrupt("return",a(t.concat(o.balances)));case 11:return e.abrupt("return",a(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Wa=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ze){e.next=2;break}return e.abrupt("return",a(!1));case 2:return Ue(!0),e.next=5,fetch(F.g+"/vault/balance/"+n+"?live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 5:return r=e.sent,e.next=8,r.json();case 8:if(o=e.sent,console.log("responce",r,o),!(o.balances.length>0)){e.next=14;break}return e.abrupt("return",a(t.concat(o.balances)));case 14:return e.abrupt("return",a(t));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ba=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a,r){var o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F.g+"/vault/balance/"+n+"/"+a,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return o=e.sent,e.next=5,o.json();case 5:if(c=e.sent,console.log("responce",o,c),!(c.balances.length>0)){e.next=11;break}return e.abrupt("return",r(t.concat(c.balances)));case 11:return e.abrupt("return",r(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),za=function(){var e=localStorage.getItem(n+"_"+o+"_"+we+"_mintPassword");e&&yn&&pe(e)},Ua=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("chainid",o.toString()),r.append("Content-Type","application/json"),c=JSON.stringify({signature:t,tokenId:n}),e.next=6,fetch(F.o+"/sign",{method:"POST",headers:r,body:c,redirect:"follow"});case 6:return s=e.sent,e.next=9,s.json();case 9:return u=e.sent,e.abrupt("return",a(u));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function Xa(e,t,n){return Ya.apply(this,arguments)}function Ya(){return(Ya=Object(c.a)(i.a.mark((function e(t,n,a){var r,o,c,s,u,l,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new B.a({network:"mainnet"}),o=new z.a({enableOneKey:!0,network:"mainnet"}),e.next=4,r.getNodeDetails({verifier:"tor-us-signer-vercel",verifierId:t});case 4:return c=e.sent,s=c.torusNodeEndpoints,u=c.torusIndexes,e.next=9,o.retrieveShares(s,u,"tor-us-signer-vercel",{verifier_id:t},n);case 9:return l=e.sent,f=l.privKey,e.abrupt("return",a({privateKey:f}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Za=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a,r){var c,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append("chainId",o.toString()),c.append("service","evmetadata"),c.append("Content-Type","application/json"),s=JSON.stringify({signature:t,coin:a}),e.next=7,fetch(F.g+"/address/"+n,{method:"POST",headers:c,body:s,redirect:"follow"});case 7:return u=e.sent,e.next=10,u.json();case 10:return l=e.sent,e.abrupt("return",r(l));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),$a=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("chainId",o.toString()),r.append("service","evmetadata"),r.append("Content-Type","application/json"),c=JSON.stringify({signature:t}),e.next=7,fetch(F.g+"/embed/"+n,{method:"POST",headers:r,body:c,redirect:"follow"});case 7:return s=e.sent,e.next=10,s.json();case 10:return u=e.sent,e.abrupt("return",a(u));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Qa=function(e){return console.log(e,nt.filter((function(t){return t.coin==e})).length>0),nt.filter((function(t){return t.coin==e})).length>0},er=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage("Renew: "+we).then((function(e){var n=nt.filter((function(e){return"NMC"==e.coin}))[0].address;console.log("signature",e,t),fetch(F.g+"/nmc/renew/"+n,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:o.toString()},body:JSON.stringify({tokenId:we,signature:e,name:t})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("Requested Renew",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tr=function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ha[o]){e.next=5;break}return Oa=Da(ha[o]),e.next=4,Oa.getSerial(ha.tokenId,0);case 4:t=e.sent;case 5:k.getSigner(n).signMessage("Claim: "+(ha[o]?t:we)).then((function(e){Ua(e,we,(function(e){Xa(we,e.token,(function(e){var t=L.a.AES.decrypt(_e,e.privateKey),n=JSON.parse(t.toString(L.a.enc.Utf8));Qt(n.values),Rt(n.phrase),nt.forEach(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("STX"!=t.coin){e.next=6;break}return e.next=3,nr(t,n.phrase);case 3:t.key=e.sent,e.next=7;break;case 6:t.key=window.phrasePathToKey(n.phrase,t.path);case 7:"BTC"==t.coin&&zt(t.key),"ETH"==t.coin&&Yt(t.key);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ta()}))}))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nr=function(){var e=Object(c.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)({secretKey:n,password:""});case 2:return a=e.sent,console.log("------ stacks account -",a.accounts[0]),r=a.accounts[0],t.key=r.stxPrivateKey,e.abrupt("return",t.key);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ar=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage("HideAsset: "+we).then((function(e){console.log("----------------------------------------------------------------",e),console.log(t.name,t.coin,t.address),rr(we,t.coin,t.address,t.name,e,(function(){console.log("Done hiding coin and getting new balances")}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function rr(e,t,n,a,r,s){fetch(F.g+"/hide/"+e,{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:o.toString()},body:JSON.stringify({coin:t||null,address:n||null,name:a||null,signature:r||null})}).then(function(){var t=Object(c.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:a=t.sent,console.log("-------",a),Ra([],e.toString(),(function(e){return We(e),s()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var or=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage("Address: "+we).then((function(e){Za(e,we,t,(function(e){pr()}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ir=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.getSigner(n).signMessage("Embed: "+we).then((function(e){$a(e,we,(function(e){qe(e.ownedImage)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cr=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mr(),console.log("---------- qualified move",te),fetch(F.g+"/v2/move-vault/",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:o.toString()},body:JSON.stringify({chainId:1,from:n,sourceContract:{1:"0x82c7a8f707110f5fbb16184a5933e9f78a34c6ab"},targetContract:{1:te[o],name:te.name,chain:te.chain},targetAsset:{name:Re[0].name},amount:1,tokenId:we})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:(n=e.sent).sig&&wa.moveVault("0x82c7a8f707110f5fbb16184a5933e9f78a34c6ab",te[o],we,n.tokenId,n.nonce,n.sig,"0x0000000000000000000000000000000000000000000000000000000000000000").then((function(e){bt(e),oe(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sr=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ha[o]?wa.claim(ha[o],ha.tokenId).then((function(e){var t=e.hash;_t(!0),setTimeout((function(){bt(t)}),100)})):Oa.burn(we).then((function(e){var t=e.hash;_t(!0),setTimeout((function(){bt(t)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ur=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a,r,o,c,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var i=0;i<r-c;i++){var l=Math.floor(t.length*Math.random()),f=t.charAt(l);s+=f}o==a-1&&c++,o==a&&(u+=n.charAt(c-1),o=0),on(u+s),s=""},!sn){e.next=3;break}return e.abrupt("return");case 3:un(!0),t="abcdefghijklmnopqrstuvwxyz",5,r=(n="Decrypting").length,o=0,c=0,s="",u="",function e(t){setTimeout((function(){--t?e(t):un(!1),l(t),o+=1}),5)}(r*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function lr(e){return(e?e.split("\n\n\n\n"):[" "])[0].trim()}function fr(e){fn&&(e=fn),ur(),console.log(nt);var t=nt[0].address.replace("private:","");try{var n=L.a.AES.decrypt(t,e);JSON.parse(n.toString(L.a.enc.Utf8)),it(!1),dn(e),at(function(e){return nt.forEach((function(t){if(t.address.includes("private")){var n=t.address.replace("private:","");t.address=function(e,t){var n=L.a.AES.decrypt(e,t);return JSON.parse(n.toString(L.a.enc.Utf8))}(n,e)}})),nt}(e));var a=nt.filter((function(e){return"ETH"===e.coin}))[0].address,r=nt.filter((function(e){return"BTC"===e.coin}))[0].address;console.log("SUCCESS",nt),Ba([],a,r,(function(e){We(e)}))}catch(o){console.log("WTF",o)}}fa&&(Oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new _.a(e||F.q.emblemVault[o],F.q.emblemAbi,k.getSigner(n).connectUnchecked())}(fa||null));var dr=function(){var e=Object(c.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(){return(r=Object(c.a)(i.a.mark((function e(){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,va.getPreTransfer(we);case 2:if(a=e.sent,!ha[o]){e.next=9;break}return e.next=6,Oa.isApprovedForAll(n,F.q.vaultHandlerV8[o]);case 6:r=e.sent,e.next=12;break;case 9:return e.next=11,Oa.isApprovedForAll(n,F.q.vaultHandler[o]);case 11:r=e.sent;case 12:se(r),kn("0x0000000000000000000000000000000000000000"!==a._from),Kn(t),At(t===n),za();case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)},a=function(){return r.apply(this,arguments)},console.log("Contract states"),!1,e.prev=4,!ha[o]){e.next=14;break}return console.log("Checking owner wth targetContract"),Oa=Da(ha[o]),e.next=10,Oa.getOwnerOfSerial(ha.serialNumber);case 10:t=e.sent,console.log("--------------------------- owner",t,ce,n,F.q.vaultHandlerV8[o]),e.next=17;break;case 14:return e.next=16,Oa.ownerOf(we);case 16:t=e.sent;case 17:a(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(4),t="0x0000000000000000000000000000000000000000",a();case 24:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(){return e.apply(this,arguments)}}(),pr=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getvault"),e.next=3,fetch(F.g+"/meta/"+we+"?experimental=true"+(P?"&_vercel_no_cache=1":""),{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",cc:P?"t":""}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,gr(n),n.image_ipfs,n.collectionAddress&&da(n.collectionAddress),n.name?(nn(!1),gn(!1)):(Ct({loaded:!0}),gn(!0)),!ot&&!ze&&Wa([],we,(function(e){e&&We(e)})),n.targetContract&&setTimeout((function(){location.href=location.origin+"/nft2?id="+n.targetContract.tokenId}),500);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mr=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("-----------------------------------",Re.length,Qe.length),1==Re.length&&Qe.length>0&&(t=Qe.filter((function(e){return e.value==Re[0].name}))).length>0&&(console.log(t[0].trait_type),n=t[0].trait_type,(a=F.s.filter((function(e){return e.name==n}))).length>0&&(console.log("--------- @@@@@@@@@@@ -------------- @@@@@qualified",a[0]),ne(a[0])));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gr=function(e){Ct({loaded:!0}),be&&e.image&&!e.image.includes("framed=")&&!e.image.includes("http")&&(e.image=e.image+"&framed="+be),e.ciphertextV2&&(Me(e.ciphertextV2),console.log("ciphertextV2",e.ciphertextV2)),ke(e.name),qe(e.image),Ke(e.ownedImage||null),Ve(e.description),ut(e.totalValue||0),e.values&&We(Re.concat(e.values)),e.attributes&&Ze(e.attributes.filter((function(e){return"key"===e.trait_type}))),e.attributes&&et(e.attributes),at(e.addresses),Te(e.ipfs||null),Ee(e.image_ipfs||null),e.targetAsset&&ma(e.targetAsset),e.targetContract&&ba(e.targetContract),e.targetContract&&setTimeout((function(){location.href=location.origin+"/nft2?id="+e.targetContract.tokenId}),500),0==e.live&&Ga(e.tokenId,(function(){})),Wn(0!=e.live),Un(e.nonce),Zn(e.signature),ea(e.to),mt(e.network),dt("mainnet"==e.network?1:"rinkeby"==e.network?4:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:"bitcoin"==e.network?0:"aurora"==e.network?1313161554:97),Ht(e.status),"claimed"===Ft&&Gt(e.claimedBy);var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;it(t),e.sealed?Pt(!0):Pt(!1),mr()};return Object(a.useEffect)((function(){console.log("mine?",Nt),console.log("claiming?",It),console.log("accepting?",bn),console.log("acceptable",yn),console.log("qualified",te)})),Object(a.useEffect)((function(){console.log("loaded",xt.loaded),xt.loaded||(console.log("----"),pr())})),Object(a.useEffect)((function(){(n&&o&&ft&&o==ft||E.noLayout&&"true"==E.noLayout||E.slideshowOnly&&"true"==E.slideshowOnly)&&dr()})),X(r.a.Fragment,null,X(x.a,null,X("meta",{name:"twitter:card",content:"summary_large_image"}),X("meta",{name:"twitter:site",content:"Emblem.Finance"}),X("meta",{name:"twitter:title",content:ye}),X("meta",{name:"twitter:description",content:lr(He)}),X("meta",{name:"twitter:image",content:Pe}),X("script",{dangerouslySetInnerHTML:{__html:'\n              // $(".NFT").tilt({    \n              //     maxTilt: 3\n              // });\n              $(".NFT").trigger(\'mouseenter\');\n              $(".NFT").trigger(\'mouseclick\'), \'.NFT\';\n              if (localStorage.getItem("darkMode") == \'false\') {\n                localStorage.setItem("darkMode","true"); location.href = location.href\n              }\n              '}})),X(Y,{isOpen:Sa,onClose:ka,addrCoin:wt,addrAddr:St}),X(Z,{isOpen:Ca,onClose:Na,mnemonic:Jt,privKeyBTC:Bt,privKeyETH:Xt,privValues:$t,addresses:nt}),ge?X($,{isOpen:Ea,onClose:_a,tokenId:we,mine:Nt}):null,X(l.a,{height:"40px"}),tn?X(N.a,null):"",mn||je?Re.length>0&&je?X(d.a,{className:"NFT-content",align:"center"},Re.length&&Re.filter((function(e){return"nft"==e.type})).length>0?X(J.a,{name:ye,image:Re[0].image,items:Re.filter((function(e){return e.image!==Re[0].image})).map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):X(K.b,{className:"d-block w-100 NFT-image",url:Pe})):mn?X(d.a,{align:"center"},X(S.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),X(m.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",X(g.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):null:X(f.a,{width:"full",align:"center",justifyContent:"center"},X(l.a,{className:"NFT",maxW:"sm",borderWidth:"1px",borderColor:ft!=o?"orange.500":"claimed"==Ft?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},X(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"blue.500"},"Vault Network: ",I.a[ft]),X(l.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",alignItems:"center"},ye,!ot&&st>0?": ~$"+st.toLocaleString():null),X(d.a,{className:"NFT-content",align:"center"},Re.length&&Re.filter((function(e){return"nft"==e.type})).length>0?X(J.a,{name:ye,image:Pe,items:Re.map((function(e){return{image:e.image,description:e.description,name:e.name,type:e.type}})),properties:{duration:3e3,canSwipe:!1}}):X(K.b,{className:"d-block w-100 NFT-image",url:Pe}),Nt&&Ge?X(p.a,{onClick:function(){ir()}},"(OWNED) Show Full Embed"):null),X(d.a,{align:"center"},X(l.a,{mt:"2",ml:"4",lineHeight:"tight"},X(d.a,null,X(m.a,{fontSize:"xs"},ft==o?X(g.a,{href:"./vaults?address="+Gn},"Owner: ",Gn):null),X(m.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic",className:"md"},X(q.a,{plugins:[G.a],children:lr(He)}))))),X(l.a,{p:"6"},X(h.f,{isFitted:!0,variant:"enclosed"},X(h.c,{mb:"1em"},X(h.a,null,"Balances"),X(h.a,null,"Attributes")),X(h.e,null,X(h.d,null,ot?X(l.a,{mb:5},X(m.a,{pb:2,color:rn?"green.500":null},rn||"Contents hidden. Enter password to unlock."),X(b.a,{type:"password",id:"vault-password",onChange:function(e){return fr(e.target.value)},"aria-describedby":"password-helper-text"})):X(l.a,{d:"flex",backgroundColor:"light"==qa?"gray.100":"gray.700",alignItems:"baseline",className:"coin-balance-content"},X(l.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},X(m.a,{as:"h4",mt:2,fontWeight:"semibold"},"Current Contents:  ",X("button",{onClick:function(){Wa([],we,(function(e){Ue(!1),We(e)}))}}," [Refresh Balances]")),X(m.a,{as:"p",color:"dark"==qa?"lightgreen":"forestgreen"},"$",Number(st.toFixed(4)).toLocaleString()),Re.length?Re.map((function(e){return X(d.a,null,X(R.a,{colorMode:qa,coin:e,mine:"claimed"===Ft&&Dt===n||Nt,onRenew:er,hideAsset:ar}))})):X(N.a,null),Ye.length?Ye.map((function(e){return X(m.a,null,"Data: ",e.attribute_key)})):Ye.length||Re.length?null:X(m.a,null,"Nothing in here! Fill 'er up!")))),X(h.d,null,X(U.a,{colorMode:qa,attributes:Qe})))),ot?null:X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(v.a,{justifyContent:"space-between",spacing:6},X(d.a,null,X(m.a,null,"Deposit Addresses"),X(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},nt.map((function(e){return X(p.a,{className:"address_nft_button",ml:2,mt:2,"font-weight":"100 !important",key:e.address,onClick:function(){Ot(e.coin),yt(e.address),ya()}},"ETH"==e.coin?e.coin+"/EVM":"BTC"==e.coin?e.coin+"/XCP/OMNI":"BCH"==e.coin?e.coin+"/SLP":e.coin)}))),(Nt||"claimed"===Ft)&&nt.length<11?X(r.a.Fragment,null,X("button",{className:"nft_button",onClick:function(){Pa()}},"Manage Addresses"),X(f.a,{w:"340px",justify:"center",flexWrap:"wrap"},X(w.a,{isOpen:La},Qa("DOGE")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){or("DOGE")}},"Add DOGE"),Qa("DGB")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){or("DGB")}},"Add Digibyte"),Qa("NMC")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){or("NMC")}},"Add Namecoin"),Qa("LTC")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){or("LTC")}},"Add Litecoin"),Qa("MONA")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){or("MONA")}},"Add Mona"),Qa("TEZOS")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){or("TEZOS")}},"Add Tezos"),Qa("SOLANA")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){or("SOLANA")}},"Add Solana"),Qa("STX")?null:X(p.a,{className:"nft_button",mr:2,mt:2,onClick:function(){or("STX")}},"Add Stacks")))):null))),"claimed"===Ft||!Rn||1!==ft&&4!==ft&&137!==ft?null:X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(p.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==ft?"rinkeby.":"")+"opensea.io/assets/"+(137==ft?"matic/":"")+(fa||F.q.emblemVault[ft])+"/"+we,"_blank")}},"Opensea"),X(p.a,{className:"nft_button",width:"50%",m:5,onClick:function(){window.open("https://"+(4==ft?"rinkeby.":"")+"looksrare.org/collections/"+(137==ft?"matic/":"")+(fa||F.q.emblemVault[ft])+"/"+we,"_blank")}},"LooksRare"),ge?X(p.a,{className:"",onClick:function(){Ia()}},Nt?"My Offers":"Make an Offer"," (NFT\xb2NFT)"):null),"claimed"!==Ft&&Nt&&!yn?X(r.a.Fragment,null,X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4",width:"100%"},X(d.a,{direction:"column",align:"center",width:"100%"},X(p.a,{className:"nft_button",width:"100%",onClick:Ha},"Transfer Vault"),X(w.a,{isOpen:Fa},X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},X(O.a,{htmlFor:"owner-address"},"Address"),X(b.a,{mt:1,type:"text",id:"transferAddress",value:Hn||"",onChange:function(e){console.log("Transfer to",e.target.value),Vn(e.target.value)},autoComplete:"off"})),X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"2",width:"100%"},X(p.a,{isDisabled:!Object(I.k)(Hn),onClick:function(){Ha(),qn(!0),Oa.transferFrom(n,Hn,we).then((function(e){var t=e.hash;bt(t)})).catch((function(e){}))}},"Transfer Now")))))):null,Nt&&!yn?X(r.a.Fragment,null,X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(p.a,{className:"nft_button",width:"100%",onClick:function(){if(!ce)return jn(!0),void Oa.setApprovalForAll(F.q.vaultHandler[o],!0).then((function(e){var t=e.hash;setTimeout((function(){bt(t)}),100)})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)?console.log("tx failed.",e):jn(!1)}));var t=L.a.lib.WordArray.random(16).toString(),n=L.a.SHA256(t).toString();console.log("plain",t),console.log("sha",n),Tn(t),e=n,setTimeout((function(){console.log("transferImage","0x"+e),Mn(!0),va.addPreTransfer(we,"0x"+e).then((function(e){var t=e.hash;bt(t),console.log("Set Pre Transfering True",_n)})).catch((function(e){null!==e&&void 0!==e&&e.code&&(console.log("Error?"),Mn(!1),En(!1),Tn(""))}))}),500)}}," ",ce?"Get Link (Send Vault Via Link)":"Approve Gifting"," "))):null,(An||de)&&yn?X(l.a,null,X(g.a,{href:location.protocol+"//"+location.host+"/nft?id="+we+"&key="+(Cn||de)},"Copy Gift Link"),X(m.a,null,"Password: ",Cn||de)):null,yn&&Dt!==n?X(r.a.Fragment,null,X(p.a,{mt:2,width:"100%",onClick:function(){console.log(de),vn(!0),Ja((function(e){va.transferWithCode(we,de,n,e.nonce,e.signature).then((function(e){var t=e.hash;setTimeout((function(){bt(t)}),100)})).catch((function(e){vn(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.log("tx failed.",e)}))}))}},"Accept"),X(b.a,{mt:2,type:"password",id:"mintPassword",minLength:3,maxLength:200,value:de||"",onChange:function(e){console.log("grrr",e.target.value,de),pe(e.target.value)},autoComplete:"off"})):null,Nt&&Q&&te?X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(p.a,{width:"100%",onClick:function(){cr()},isDisabled:re},re?"Moving ...":"Move Vault")):null,"claimed"!==Ft&&n&&ft===o&&Nt&&!Lt?X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(p.a,{width:"100%",onClick:function(){sr()},isDisabled:It},It?"Claiming ...":"Claim (Crack Open Vault)")):"claimed"===Ft&&Dt===n&&ft===o?X(l.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(p.a,{width:"100%",onClick:tr},"Get Keys")):null,Rn||Qn!=n||ft!=o||"claimed"===Ft||oa?null:X(r.a.Fragment,null,"true"==le?X(p.a,{width:"100%",mt:5,onClick:Ka},"Mint Me v1"):X(p.a,{width:"100%",mt:5,onClick:function(){k.getSigner(n).signMessage("Delayed Minting: "+we).then((function(e){console.log("sig",e),fetch(F.g+"/lazyMint",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:o.toString()},body:JSON.stringify({tokenId:we,signature:e})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log("data",n.data),Zn(n.data.signature),Un(n.data.nonce),aa(!0),setTimeout((function(){Ka()}),500);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Mint Vault ")),Rn&&"claimed"!=Ft||Qn!=n||ft!=o||oa||!(Re.length<1)?null:X(p.a,{width:"100%",mt:5,onClick:function(){k.getSigner(n).signMessage("Delete: "+we).then((function(e){console.log("sig",e),fetch(F.g+"/v2/delete",{method:"POST",headers:{"Content-Type":"application/json",service:"evmetadata"},body:JSON.stringify({tokenId:we,signature:e,chainId:o.toString()})}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:e.sent,location.href=location.href.split("/")[0]+"/vaults";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Delete Vault "),na?X(p.a,{isDisabled:!0,type:"submit"},"Verifying Signature ..."):null,oa?X(p.a,{isDisabled:!0,type:"submit"},"Minting Vault ..."):null),Ce?X(d.a,null,X(y.a,{align:"center"},X(g.a,{target:"new",mb:2,ml:35,href:"https://gateway.ipfs.io/ipfs/"+Ce,isExternal:!0},"View Metadata on IPFS "),Ae?X(g.a,{mb:2,href:"https://gateway.ipfs.io/ipfs/"+Ae,isExternal:!0},"View Image on IPFS "):null)):null,Lt?X(l.a,{d:"flex",mb:2,ml:35,alignItems:"baseline",justifyContent:"space-between",mt:"4"},X(m.a,null,"*This vault is sealed forever.")):null,X(d.a,{direction:"column",align:"center"},"claimed"==Ft?X(m.a,{color:"green.500"},"CLAIMED"):null),ht?X(j.a,{status:"info"},X(j.b,null),bn?"Accepting Your Gift Vault":It?"Claiming your Vault ...":On?"Handling Approval Flow ...":Pn?"Transfering Vault ...":sa?"Minting Vault":"Generating Gift Link ..."):null)),ht?X(M.a,{hash:ht,onComplete:function(){var e;!It||bn||_n?_n?(localStorage.setItem(n+"_"+o+"_"+we+"_mintPassword",Cn),En(!0),Mn(!1),bt(null)):bn?(vn(!1),pr(),bt(null)):On?(jn(!1),pr(),bt(null)):Pn?(qn(!1),pr(),bt(null)):sa?Ga(we,(function(){ua(!1),Wn(!0)})):(console.log("minting",sa),console.log("claiming",It),console.log("accepting",bn),console.log("preTransfering",_n),console.log("approving",On),console.log("Unknown state")):(bt(null),Ht("claimed"),_t(!1),Gt(n),e=function(){location.href=location.origin+"/nft?id="+we+"&cc=t"},fetch(F.g+"/web3/selfClaimLogs?chainId="+o.toString()+"_vercel_no_cache=1",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",cc:"t"}}).then(function(){var t=Object(c.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:return a=t.sent,console.log("Log check",a),t.abrupt("return",e());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}):null,X(l.a,{height:"40px"}))}var ee=r.a.createElement;function te(){return ee(Q,null)}},dNZa:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nftRebuild",function(){return n("5rgK")}])},jgTY:function(e,t,n){"use strict";var a=n("8OQS"),r=n.n(a),o=n("pVnL"),i=n.n(o),c=n("qKvR"),s=n("q1tI"),u=n("BMxC"),l=n("we/t"),f=n("mf32"),d=function(e){var t=Object(f.c)().colorMode;return Object(c.d)(u.a,i()({as:"span",ml:1,color:{light:"red.500",dark:"red.300"}[t],"aria-hidden":"true",children:"*"},e))},p=Object(s.forwardRef)((function(e,t){var n=e.children,a=r()(e,["children"]),o=Object(l.b)(a);return Object(c.d)(u.a,i()({ref:t,fontSize:"md",pr:"12px",pb:"4px",opacity:o.isDisabled?"0.4":"1",fontWeight:"medium",textAlign:"left",verticalAlign:"middle",display:"inline-block",as:"label"},a),n,o.isRequired&&Object(c.d)(d,null))}));p.displayName="FormLabel",t.a=p}},[["dNZa",1,0,12,15,22,2,4,3,5,6,7,10,9,11,13,17,18,19,20,21,24,25,26]]]);