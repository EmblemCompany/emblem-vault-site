(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[353],{11929:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nfts",function(){return t(71330)}])},44302:function(e,s,t){"use strict";t.d(s,{Z:function(){return y}});var r=t(85893),n=t(67294),a=t(83230),l=t(6089);class i extends n.Component{render(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"sketchfab-embed-wrapper",children:(0,r.jsx)("iframe",{width:"100%",src:this.props.url,frameBorder:"0",allow:"autoplay; fullscreen; vr",allowFullScreen:!0})})})}}class c extends n.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("iframe",{width:"95%",frameBorder:"0",src:e,allowFullScreen:!0})})}}class o extends n.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("iframe",{height:"753px",src:e,seamless:!0})})}}class d extends n.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("iframe",{width:"95%",height:"100%",scrolling:"no",frameBorder:"no",allow:"autoplay",src:e})})}}class u extends n.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("iframe",{width:"95%",height:"256px",scrolling:"no",frameBorder:"no",allow:"autoplay",src:e})})}}class p extends n.Component{render(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("iframe",{src:this.props.url,frameBorder:"0",scrolling:"no",width:"580",height:"326",allowFullScreen:!0})})}}class h extends n.Component{render(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("iframe",{src:this.props.url,width:"800",height:"600",allowFullScreen:!0})})}}class m extends n.Component{render(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("iframe",{width:"230",height:"285",src:this.props.url,frameBorder:"0",scrolling:"no",allowTransparency:!0})})}}class x extends n.Component{render(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("iframe",{src:this.props.url,width:"100%",height:"400",allow:"encrypted-media"})})}}class g extends n.Component{render(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("iframe",{frameBorder:"0",src:this.props.url,width:"350",height:"650",allow:"encrypted-media",sandbox:"allow-scripts allow-same-origin"})})}}class f extends n.Component{render(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("iframe",{className:"ytembed",src:this.props.url.split(" ")[0].trim().replace('"',"").replace("/watch?v=","/embed/"),width:"100%",height:"315",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}}class j extends n.Component{render(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("iframe",{src:this.props.url,width:"100%",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}}class w extends n.Component{async componentDidMount(){try{let e=await a.SZ.contentTypeReport(this.props.url);this.setState({contentType:e,loading:!1})}catch(e){console.error("Error fetching content type:",e),this.setState({loading:!1})}}render(){let e=this.props.url||"",{contentType:s,loading:t}=this.state,n=e.replace("ipfs://","").split("?")[0].split("&")[0],w=!!e.toLocaleLowerCase().includes("stamp:")&&function(e){let s=atob(e),t=s.slice(0,4).split("").map(e=>e.charCodeAt(0).toString(16).padStart(2,"0")).join(""),r="unknown";switch(t.toUpperCase()){case"89504E47":r="image/png";break;case"FFD8FFDB":case"FFD8FFE0":case"FFD8FFE1":r="image/jpeg";break;case"47494638":r="image/gif";break;case"25504446":r="application/pdf";break;case"66747970":r="video/mp4"}return"unknown"===r&&(r=s.startsWith("<svg")||s.startsWith("<?xml")?"image/svg+xml":s.startsWith("<!DOCTYPE html>")||s.startsWith("<html")?"text/html":"text/plain"),"data:".concat(r,";base64,").concat(e)}(e.split(":")[1]);return e.includes("ipfs://")&&(e="https://gateway.ipfs.io/ipfs/"+n,b(n)),e.includes("image-scale")&&(e+="&size=400"),(0,r.jsx)(r.Fragment,{children:s&&"video/mp4"==s.contentType?(0,r.jsx)("video",{src:e,controls:!0}):e.includes("sketchfab.com/")?(0,r.jsx)(i,{url:e}):e.includes("shadertoy.com/")?(0,r.jsx)(c,{url:e}):e.includes("bandcamp.com/")?(0,r.jsx)(o,{url:e}):e.includes("soundcloud.com/")?(0,r.jsx)(d,{url:e}):e.includes("clyp.it/")?(0,r.jsx)(u,{url:e}):e.includes("sketchup.com/")?(0,r.jsx)(p,{url:e}):e.includes("clara.io/")?(0,r.jsx)(h,{url:e}):e.includes("myminifactory.com/")?(0,r.jsx)(m,{url:e}):e.includes("audius.co/")?(0,r.jsx)(x,{url:e}):e.includes("youtube.com")?(0,r.jsx)(f,{url:e}):e.includes("vimeo.com")?(0,r.jsx)(j,{url:e}):e.includes("ipfs.io")?(0,r.jsx)(l.E,{p:"20px",h:"100%",className:this.props.className+" "+n||"d-block w-100",src:e,width:"250px",maxWidth:"250px"}):e.includes("image-scaler.vercel")?(0,r.jsx)(l.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:e,width:"250px",height:"300px"}):e.includes("/dynamic/")||e.includes("https://s3.amazonaws.com/")||e.includes("googleusercontent.com")||e.includes("ipfs.io")||e.includes("framed/")||e.includes(".png")||e.includes(".jpg")||e.includes(".jpeg")||e.includes(".gif")||e.includes(".svg")||e.includes("data:image")?(0,r.jsx)(l.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:(0,a.yo)(e)?e:"https://raw.githubusercontent.com/EmblemCompany/Coval-Site/master/public/coval-logo.png",width:"250px",maxWidth:"250px"}):w?(0,r.jsx)(l.E,{h:"100%",className:this.props.className||"d-block w-100",src:w,width:"250px",height:"300px"}):s&&s.valid&&!s.contentType.includes("text/")?(0,r.jsx)(l.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:e,width:"250px",height:"300px"}):(0,r.jsx)(g,{url:e})})}constructor(...e){super(...e),this.state={contentType:null,loading:!0}}}let b=async function(e){let s=await fetch("https://gateway.ipfs.io/ipfs/"+e,{method:"GET"}),t=await s.text();t.includes("data:image")&&(document.querySelector("img."+e).src=t,console.log(t))};var y=w},55233:function(e,s,t){"use strict";var r=t(85893);t(67294);var n=t(93717),a=t(71293),l=t(81136);s.Z=()=>(0,r.jsxs)(n.k,{pb:2,justify:"center",children:[(0,r.jsx)(a.x,{pr:2,children:"Refreshing "}),(0,r.jsx)(l.$,{})]})},71330:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return v}});var r=t(85893),n=t(45161),a=t(51343),l=t(93108),i=t(93717),c=t(32883),o=t(71293),d=t(57747),u=t(70758),p=t.n(u),h=t(55233),m=t(11163),x=t(77044),g=t(67294),f=t(61256),j=t(58533),w=t(44302);function b(){let{query:e}=(0,m.useRouter)(),[s,t]=(0,g.useState)(Number(e.start)||0),{account:u,chainId:b}=(0,x.Ge)(),[y,v]=(0,g.useState)([]),[F,C]=(0,g.useState)({loaded:!1}),[k,N]=(0,g.useState)(!1),[S,E]=(0,g.useState)(e.address),[T,D]=(0,g.useState)(e.type||"unclaimed"),[_,W]=(0,g.useState)(e.experimental),{colorMode:B}=(0,n.If)(),[O,z]=(0,g.useState)(!1),[A,Z]=(0,g.useState)(!1),[L,M]=(0,g.useState)(0),R=async()=>{try{let e=await fetch(f.HP+"/nft/balance/"+(S||u)+"?start="+L+"&size=10&live=true",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",chainId:b.toString(),vaultType:T.toString()}}),s=await e.json();v(y.concat(s.values)),C({loaded:!0}),N(!1),console.log("Records received",s.values.length),s.length<10&&Z(!1)}catch(e){}},I=async()=>{console.log(L,10,L+10),M(L+10),z(!0)},[P,U]=(0,g.useState)("");(0,g.useEffect)(()=>{u&&P!=u&&(U(u),C({loaded:!1}),R())},[u,P]);let[V,G]=(0,g.useState)(b);(0,g.useEffect)(()=>{b&&V!=b&&(G(b),C({loaded:!1}),R())},[b,V]);let H=e=>{S?location.href=location.origin+"/vaults?address="+S+"&type="+e:location.href=location.origin+"/vaults?type="+e};return(0,g.useEffect)(()=>{O&&(z(!1),R())},[O]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.K,{pl:"10",spacing:0,direction:"row",children:[(0,r.jsx)(l.z,{isDisabled:!1,m:2,variant:"ghost",onClick:()=>{H("unclaimed")},children:"Unclaimed"}),(0,r.jsx)(l.z,{isDisabled:!1,m:2,variant:"ghost",onClick:()=>{H("claimed")},children:"Claimed"}),(0,r.jsx)(l.z,{isDisabled:!1,m:2,variant:"ghost",onClick:()=>{H("unminted")},children:"Not Minted"}),(0,r.jsx)(l.z,{isDisabled:!1,m:2,variant:"ghost",onClick:()=>{H("created")},children:"Created by me"}),(0,r.jsx)(l.z,{isDisabled:!0,m:2,variant:"ghost",onClick:()=>{H("nfts")},children:"Other NFT's"})]}),(0,r.jsxs)(p(),{loaded:F.loaded,children:[k?(0,r.jsx)(h.Z,{}):"",(0,r.jsx)(j.Z,{className:"infinite-scroll",scrollableTarget:"shannon-container",dataLength:y.length,next:I,hasMore:A,loader:(0,r.jsx)(h.Z,{}),endMessage:(0,r.jsx)("p",{style:{textAlign:"center"},children:(0,r.jsx)("b",{children:"No more nfts to load."})}),children:(0,r.jsx)(i.k,{w:"100%",justify:"center",flexWrap:"wrap",mt:10,children:y.length?y.map((e,s)=>{let t=location.pathname.split("/");t.pop();let n=location.origin+t.join("/")+"/asset?id="+e.tokenId+"&contract="+e.address,l={flex:"1",minW:"200px",maxW:"200px",borderWidth:"1px",mx:"6",mb:"6",rounded:"lg",overflow:"hidden",borderColor:"claimed"==e.status?"green !important":"",cursor:"pointer"};return(0,r.jsx)(c.r,{href:n,className:"vaultLink",children:(0,r.jsxs)(d.xu,{className:"NFT myNft",...l,onClick:function(){N(!0),location.href=n},children:[(0,r.jsxs)(o.x,{fontWeight:"semibold",textAlign:"center",mt:2,pl:2,isTruncated:!0,children:[e.name,!e.private&&e.totalValue>0?": ~$"+e.totalValue:null]}),(0,r.jsx)(a.K,{align:"center",children:(0,r.jsx)(w.Z,{className:"d-block w-100 NFT-newest-image",url:e.image})}),(0,r.jsx)(d.xu,{display:"flex",alignItems:"baseline"}),(0,r.jsx)(a.K,{align:"center",mt:3,children:"claimed"==e.status?(0,r.jsx)(o.x,{color:"green.500",children:"CLAIMED"}):null})]},s)})}):(0,r.jsxs)(o.x,{children:["YOU DON'T SEEM TO HAVE ANY VAULTS."," ",(0,r.jsx)(c.r,{color:"#638cd8",href:"../create",children:"CREATE ONE HERE!"})]})})})]})]})}var y=t(28045);function v(){return(0,r.jsx)(g.Suspense,{fallback:(0,r.jsx)("h1",{children:"Loading vaults..."}),children:(0,r.jsx)(y.Z,{fallback:(0,r.jsx)("h2",{children:"Oops! Something went wrong."}),children:(0,r.jsx)(b,{})})})}}},function(e){e.O(0,[758,932,888,774,179],function(){return e(e.s=11929)}),_N_E=e.O()}]);