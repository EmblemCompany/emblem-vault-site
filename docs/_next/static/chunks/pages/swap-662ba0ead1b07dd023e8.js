_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{"1OyB":function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},"4WaP":function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r("1OyB"),o=r("vuIU"),a=r("JX7q"),i=r("Ji7U"),c=r("md7G"),u=r("foSv"),l=r("rePB"),s=r("q1tI");function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var o=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var d=function(e){Object(i.a)(r,e);var t=f(r);function r(){var e;Object(n.a)(this,r);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),Object(l.a)(Object(a.a)(e),"state",{hasError:!1,error:null}),e}return Object(o.a)(r,[{key:"render",value:function(){return this.state.hasError?this.props.fallback:this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),r}(s.Component)},"61oj":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return _}));var n=r("q1tI"),o=r.n(n),a=r("wx14"),i=r("Ff2n"),c=r("o0o1"),u=r.n(c),l=r("HaE+"),s=r("sK1y"),f=r("Weur"),d=r("Yn+B"),p=r("FpzS"),b=r("eJLp"),h=r("BMxC"),v=r("Y1ui"),O=r.n(v),m=r("Ute3"),y=r("nOHt"),j=r("Z6YE"),g=r("21eR"),w=r("N39q"),S=r("zIq6"),C=r("cUlj"),x=o.a.createElement;function k(){var e=Object(y.useRouter)().query,t=Object(j.b)(),r=t.account,c=t.chainId,v=Object(n.useState)({loaded:!1}),k=v[0],R=v[1],I=Object(n.useState)(!1),_=I[0],E=(I[1],Object(n.useState)(!1)),P=E[0],z=E[1],q=Object(n.useState)(!1),B=q[0],N=q[1],D=Object(n.useState)(null),T=D[0],A=D[1],M=Object(n.useState)(e.address),L=(M[0],M[1],Object(n.useState)(e.experimental)),W=(L[0],L[1],Object(n.useState)(null)),F=W[0],H=W[1],J=Object(n.useState)(null),U=J[0],G=J[1],Q=Object(n.useState)(0),X=(Q[0],Q[1]),K=Object(n.useState)(null),Y=K[0],V=K[1],Z=Object(n.useState)(0),$=Z[0],ee=Z[1],te=Object(n.useState)(!1),re=te[0],ne=te[1],oe=Object(g.b)(w.p.vaultHandler[c],w.p.vaultHandlerAbi,!0),ae=Object(g.b)(w.p.coval[c],w.p.covalAbi,!0),ie=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(!0),oe.transferToChain(137==c?1:137,$.toString()).then((function(e){var t=e.hash;V(t)})).catch((function(e){4001==(null===e||void 0===e?void 0:e.code)&&N(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(null),e.t0=H,e.next=4,ae.decimals();case 4:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=G,e.next=9,ae.allowance(r,w.p.vaultHandler[c]).then((function(e){return e.toString()}));case 9:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=A,e.next=14,ae.balanceOf(r).then((function(e){return e.toString()}));case 14:e.t5=e.sent,(0,e.t4)(e.t5),Number(U)>=Number(0)&&X(U),R({loaded:!0});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){z(!0),ae.approve(w.p.vaultHandler[c],1e6*Math.pow(10,+F)).then((function(e){var t=e.hash;V(t)})).catch((function(e){4001==(null===e||void 0===e?void 0:e.code)&&z(!1)}))},le=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("getting logs"),fetch(w.h+"/transfersOut",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:c.toString()}}).then(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("doing transfers"),fetch(w.h+"/doTransfers",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",chainid:c.toString()}}).then(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function se(e){var t=e.children,r=Object(i.a)(e,["children"]);return x(s.a,Object(a.a)({fontSize:"2xl",lineHeight:1,py:"0.3rem"},r),t)}var fe=Object(n.useState)(""),de=fe[0],pe=fe[1];Object(n.useEffect)((function(){r&&de!=r&&(pe(r),R({loaded:!1}),ce())}),[r,de]);var be=Object(n.useState)(c),he=be[0],ve=be[1];return Object(n.useEffect)((function(){c&&he!=c&&(ve(c),R({loaded:!1}),ce())}),[c,he]),Object(n.useEffect)((function(){r&&c&&R({loaded:!0})}),[]),x(O.a,{loaded:k.loaded},_?x(m.a,null):"",x(f.a,{w:"100%",justify:"center",mt:10},x(d.a,{align:"center"},x(o.a.Fragment,null,x(d.a,{direction:"row",align:"flex-start",spacing:"1rem",flexWrap:"wrap",shouldWrapChildren:!0},x(se,null,"I want to transfer "),x(p.a,{variant:"flushed",fontSize:"1xl",textAlign:"center",inputMode:"decimal",title:"Token Amount",autoComplete:"off",autoCorrect:"off",type:"text",placeholder:"0",minLength:1,maxLength:79,isInvalid:re,onChange:function(e){var t=Number(Object(C.a)(e.target.value,F).toString());t>Number(T)||t>Number(U)?ne(!0):ne(!1),ee(Number(t))},spellCheck:"false"}),x(se,null,"$Coval")),x(d.a,{direction:"row",align:"flex-start",spacing:"1rem",flexWrap:"wrap",shouldWrapChildren:!0},x(se,null," from ",137==c?"Matic":"Ethereum"," Network to ",137==c?"Etherum":"Matic"," Network "),$>0?x(b.a,{isDisabled:re,onClick:ie},re?"Invalid Transfer Amount":"Transfer Now"):null)),0==U&&T>0&&!P?x(h.a,{mt:"2",ml:"4",lineHeight:"tight"},x(s.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"s",fontStyle:"italic"},x(b.a,{onClick:ue,type:"submit"},"Approve Transfer of up ",T*Math.pow(10,-F)," Coval"))):0==T?x(h.a,{mt:"2",ml:"4",lineHeight:"tight"},x(s.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"s",fontStyle:"italic"},"You have no Coval to transfer")):P?null:x(h.a,{mt:"2",ml:"4",lineHeight:"tight"},x(s.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"s",fontStyle:"italic"},"Approved to transfer up to ",U*Math.pow(10,-F)," Coval. Note: Swaps between networks can take up to 25 minutes.")),!P&&Number(T)>Number(U)||Number(U)*Math.pow(10,-F)<1e6?x(h.a,{mt:"2",ml:"4",lineHeight:"tight"},x(s.a,{mt:2,as:"h4",ml:"4",mr:"4",fontSize:"s",fontStyle:"italic"},x(b.a,{onClick:ue,type:"submit"},"Approve Transfer 1,000,000 Coval"))):null)),Y?x(S.a,{hash:Y,onComplete:function(){B?(N(!1),le()):(z(!1),ce())}}):null)}var R=r("4WaP"),I=o.a.createElement;function _(){return I(n.Suspense,{fallback:I("h1",null,"Loading vaults...")},I(R.a,{fallback:I("h2",null,"Oops! Something went wrong.")},I(k,null)))}},FpzS:function(e,t,r){"use strict";var n=r("pVnL"),o=r.n(n),a=r("8OQS"),i=r.n(a),c=r("qKvR"),u=r("q1tI"),l=r("we/t"),s=r("+Cyc"),f=r("lSNA"),d=r.n(f),p=r("CjxU"),b=r("mf32"),h=r("za5s");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(r,!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={_readOnly:{bg:"transparent",boxShadow:"none !important",userSelect:"all"}},y={bg:"transparent",px:void 0,height:void 0},j=function(e){switch(e.variant){case"flushed":return function(e){var t=e.theme,r=e.focusBorderColor,n=e.errorBorderColor,o=Object(h.h)(t.colors,r,r),a=Object(h.h)(t.colors,n,n);return O({},m,{borderBottom:"2px",borderColor:"inherit",rounded:0,px:void 0,bg:"transparent",_focus:{zIndex:1,borderColor:o},_invalid:{borderColor:a}})}(e);case"unstyled":return y;case"filled":return function(e){var t=e.theme,r=e.focusBorderColor,n=e.errorBorderColor,o=e.colorMode,a=Object(h.h)(t.colors,r,r),i=Object(h.h)(t.colors,n,n);return O({},m,{border:"2px",borderColor:"transparent",bg:{light:"gray.100",dark:"whiteAlpha.50"}[o],_hover:{bg:{light:"gray.200",dark:"whiteAlpha.100"}[o]},_disabled:{opacity:"0.4",cursor:"not-allowed"},_focus:{zIndex:1,bg:"transparent",borderColor:a},_invalid:{borderColor:i}})}(e);case"outline":return function(e){var t=e.theme,r=e.colorMode,n=e.focusBorderColor,o=e.errorBorderColor,a=Object(h.h)(t.colors,n,n),i=Object(h.h)(t.colors,o,o);return O({},m,{border:"1px",borderColor:{light:"inherit",dark:"whiteAlpha.50"}[r],bg:{light:"white",dark:"whiteAlpha.100"}[r],_hover:{borderColor:{light:"gray.300",dark:"whiteAlpha.200"}[r]},_disabled:{opacity:"0.4",cursor:"not-allowed"},_focus:{zIndex:1,borderColor:a,boxShadow:"0 0 0 1px "+a},_invalid:{borderColor:i,boxShadow:"0 0 0 1px "+i}})}(e);default:return{}}},g={display:"flex",alignItems:"center",position:"relative",transition:"all 0.2s",outline:"none",appearance:"none"},w={lg:{fontSize:"lg",px:4,height:12,rounded:"md"},md:{fontSize:"md",px:4,height:10,rounded:"md"},sm:{fontSize:"sm",px:3,height:8,rounded:"sm"}},S=function(e){var t=O({},e,{theme:Object(p.b)(),colorMode:Object(b.c)().colorMode});return O({width:e.isFullWidth?"100%":void 0},g,{},function(e){return w[e.size]}(t),{},j(t))},C=Object(u.forwardRef)((function(e,t){e.size,e.variant;var r=e.as,n=e["aria-label"],a=e["aria-describedby"],u=e.isReadOnly,f=(e.isFullWidth,e.isDisabled,e.isInvalid,e.isRequired,e.focusBorderColor,e.errorBorderColor,i()(e,["size","variant","as","aria-label","aria-describedby","isReadOnly","isFullWidth","isDisabled","isInvalid","isRequired","focusBorderColor","errorBorderColor"])),d=S(e),p=Object(l.b)(e);return Object(c.d)(s.a,o()({ref:t,as:r,readOnly:p.isReadOnly,"aria-readonly":u,disabled:p.isDisabled,"aria-label":n,"aria-invalid":p.isInvalid,required:p.isRequired,"aria-required":p.isRequired,"aria-disabled":p.isDisabled,"aria-describedby":a},d,f))}));C.displayName="Input",C.defaultProps={size:"md",as:"input",variant:"outline",isFullWidth:!0,focusBorderColor:"blue.500",errorBorderColor:"red.500"};t.a=C},IP4Q:function(e,t,r){"use strict";var n=r("pVnL"),o=r.n(n),a=r("lSNA"),i=r.n(a),c=r("8OQS"),u=r.n(c),l=r("qKvR"),s=r("q1tI"),f=r("BMxC"),d=r("D7Da");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var b=Object(s.forwardRef)((function(e,t){var r=e.size,n=e.variantColor,a=e.variant,c=e.isAttached,b=e.spacing,h=void 0===b?2:b,v=e.children,O=u()(e,["size","variantColor","variant","isAttached","spacing","children"]),m=Object(d.b)(v),y=m.map((function(e,t){var o=0===t,u=t===m.length-1;return Object(s.cloneElement)(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({size:r||e.props.size,variantColor:e.props.variantColor||n,variant:e.props.variant||a,_focus:{boxShadow:"outline",zIndex:1}},!u&&!c&&{mr:h},{},o&&c&&{roundedRight:0},{},u&&c&&{roundedLeft:0},{},!u&&c&&{borderRight:0},{},!o&&!u&&c&&{rounded:0}))}));return Object(l.d)(f.a,o()({ref:t,display:"inline-block"},O),y)}));t.a=b},JX7q:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",(function(){return n}))},Ji7U:function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}r.d(t,"a",(function(){return o}))},Ute3:function(e,t,r){"use strict";var n=r("q1tI"),o=r.n(n),a=r("Weur"),i=r("sK1y"),c=r("yI6m"),u=o.a.createElement;t.a=function(){return u(a.a,{pb:2,justify:"center"},u(i.a,{pr:2},"Refreshing "),u(c.a,null))}},cUlj:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("OheS");new(r("/7J2").Logger)("units/5.0.3");const o=["wei","kwei","mwei","gwei","szabo","finney","ether"];function a(e,t){if("string"===typeof t){const e=o.indexOf(t);-1!==e&&(t=3*e)}return Object(n.c)(e,null!=t?t:18)}},cufq:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/swap",function(){return r("61oj")}])},foSv:function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return n}))},md7G:function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,"a",(function(){return a}));var o=r("JX7q");function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?Object(o.a)(e):t}},vuIU:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return o}))},"we/t":function(e,t,r){"use strict";r.d(t,"b",(function(){return s}));var n=r("pVnL"),o=r.n(n),a=r("8OQS"),i=r.n(a),c=r("qKvR"),u=r("q1tI"),l=r("BMxC"),s=function(e){var t=d();return t?Object.keys(t).reduce((function(r,n){return r[n]=e[n],t&&null==e[n]&&(r[n]=t[n]),r}),{}):e},f=Object(u.createContext)(),d=function(){return Object(u.useContext)(f)},p=Object(u.forwardRef)((function(e,t){var r=e.isInvalid,n=e.isRequired,a=e.isDisabled,u=e.isReadOnly,s=i()(e,["isInvalid","isRequired","isDisabled","isReadOnly"]),d={isRequired:n,isDisabled:a,isInvalid:r,isReadOnly:u};return Object(c.d)(f.Provider,{value:d},Object(c.d)(l.a,o()({role:"group",ref:t},s)))}));p.displayName="FormControl",t.a=p},zIq6:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r("wx14"),o=r("ODXe"),a=r("q1tI"),i=r.n(a),c=r("IP4Q"),u=r("eJLp"),l=r("yI6m"),s=r("OQ2h"),f=r("Z6YE"),d=r("zmG3"),p=r("iBPG"),b=i.a.createElement;function h(e){var t=e.hash,r=e.onComplete,i=Object(f.b)(),h=i.library,v=i.chainId,O=Object(d.i)(),m=Object(o.a)(O,2)[1].removeTransaction,y=Object(a.useState)(),j=y[0],g=y[1];return Object(a.useEffect)((function(){if(h){var e=!0;return h.waitForTransaction(t).then((function(t){e&&(r&&r(),g(1===t.status))})),function(){e=!1}}}),[h,t]),b(c.a,{spacing:0},b(u.a,Object(n.a)({as:"a",variantColor:"boolean"===typeof j?j?"green":"red":"blue",leftIcon:"boolean"===typeof j?j?"check-circle":"warning":function(){return b(l.a,{size:"sm",mr:"0.5rem",ml:"-0.25rem"})},rightIcon:"external-link",style:{borderTopRightRadius:0,borderBottomRightRadius:0}},{href:Object(p.e)(p.b.Transaction,[v,t]),target:"_blank",rel:"noopener noreferrer"}),Object(p.j)(t,2)),b(s.a,{icon:"close",variantColor:"boolean"===typeof j?j?"green":"red":"blue","aria-label":"Close",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},borderLeft:"1px solid white",onClick:function(){m(v,t)}}))}}},[["cufq",2,1,5,7,0,3,4,6,9,8]]]);