_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{FpzS:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("8OQS"),o=n.n(i),s=n("qKvR"),l=n("q1tI"),u=n("we/t"),c=n("+Cyc"),d=n("lSNA"),p=n.n(d),h=n("CjxU"),f=n("mf32"),b=n("za5s");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={_readOnly:{bg:"transparent",boxShadow:"none !important",userSelect:"all"}},y={bg:"transparent",px:void 0,height:void 0},O=function(e){switch(e.variant){case"flushed":return function(e){var t=e.theme,n=e.focusBorderColor,r=e.errorBorderColor,a=Object(b.h)(t.colors,n,n),i=Object(b.h)(t.colors,r,r);return v({},g,{borderBottom:"2px",borderColor:"inherit",rounded:0,px:void 0,bg:"transparent",_focus:{zIndex:1,borderColor:a},_invalid:{borderColor:i}})}(e);case"unstyled":return y;case"filled":return function(e){var t=e.theme,n=e.focusBorderColor,r=e.errorBorderColor,a=e.colorMode,i=Object(b.h)(t.colors,n,n),o=Object(b.h)(t.colors,r,r);return v({},g,{border:"2px",borderColor:"transparent",bg:{light:"gray.100",dark:"whiteAlpha.50"}[a],_hover:{bg:{light:"gray.200",dark:"whiteAlpha.100"}[a]},_disabled:{opacity:"0.4",cursor:"not-allowed"},_focus:{zIndex:1,bg:"transparent",borderColor:i},_invalid:{borderColor:o}})}(e);case"outline":return function(e){var t=e.theme,n=e.colorMode,r=e.focusBorderColor,a=e.errorBorderColor,i=Object(b.h)(t.colors,r,r),o=Object(b.h)(t.colors,a,a);return v({},g,{border:"1px",borderColor:{light:"inherit",dark:"whiteAlpha.50"}[n],bg:{light:"white",dark:"whiteAlpha.100"}[n],_hover:{borderColor:{light:"gray.300",dark:"whiteAlpha.200"}[n]},_disabled:{opacity:"0.4",cursor:"not-allowed"},_focus:{zIndex:1,borderColor:i,boxShadow:"0 0 0 1px "+i},_invalid:{borderColor:o,boxShadow:"0 0 0 1px "+o}})}(e);default:return{}}},j={display:"flex",alignItems:"center",position:"relative",transition:"all 0.2s",outline:"none",appearance:"none"},w={lg:{fontSize:"lg",px:4,height:12,rounded:"md"},md:{fontSize:"md",px:4,height:10,rounded:"md"},sm:{fontSize:"sm",px:3,height:8,rounded:"sm"}},x=function(e){var t=v({},e,{theme:Object(h.b)(),colorMode:Object(f.c)().colorMode});return v({width:e.isFullWidth?"100%":void 0},j,{},function(e){return w[e.size]}(t),{},O(t))},C=Object(l.forwardRef)((function(e,t){e.size,e.variant;var n=e.as,r=e["aria-label"],i=e["aria-describedby"],l=e.isReadOnly,d=(e.isFullWidth,e.isDisabled,e.isInvalid,e.isRequired,e.focusBorderColor,e.errorBorderColor,o()(e,["size","variant","as","aria-label","aria-describedby","isReadOnly","isFullWidth","isDisabled","isInvalid","isRequired","focusBorderColor","errorBorderColor"])),p=x(e),h=Object(u.b)(e);return Object(s.d)(c.a,a()({ref:t,as:n,readOnly:h.isReadOnly,"aria-readonly":l,disabled:h.isDisabled,"aria-label":r,"aria-invalid":h.isInvalid,required:h.isRequired,"aria-required":h.isRequired,"aria-disabled":h.isDisabled,"aria-describedby":i},p,d))}));C.displayName="Input",C.defaultProps={size:"md",as:"input",variant:"outline",isFullWidth:!0,focusBorderColor:"blue.500",errorBorderColor:"red.500"};t.a=C},Ute3:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("Weur"),o=n("sK1y"),s=n("yI6m"),l=a.a.createElement;t.a=function(){return l(i.a,{pb:2,justify:"center"},l(o.a,{pr:2},"Refreshing "),l(s.a,null))}},"c+OE":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),s=(r=o)&&r.__esModule?r:{default:r},l=n("i8i4");var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={style:{}};return n.width=null,n.height=null,n.left=null,n.top=null,n.transitionTimeout=null,n.updateCall=null,n.element=null,n.settings=Object.assign({},{reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0},n.props.options),n.reverse=n.settings.reverse?-1:1,n.onMouseEnter=n.onMouseEnter.bind(n,n.props.onMouseEnter),n.onMouseMove=n.onMouseMove.bind(n,n.props.onMouseMove),n.onMouseLeave=n.onMouseLeave.bind(n,n.props.onMouseLeave),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.element=(0,l.findDOMNode)(this)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}},{key:"onMouseEnter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments[1];return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:a({},this.state.style,{willChange:"transform"})})),this.setTransition(),e(t)}},{key:"reset",value:function(){var e=this;window.requestAnimationFrame((function(){e.setState(Object.assign({},e.state,{style:a({},e.state.style,{transform:"perspective("+e.settings.perspective+"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"})}))}))}},{key:"onMouseMove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments[1];return t.persist(),null!==this.updateCall&&window.cancelAnimationFrame(this.updateCall),this.event=t,this.updateCall=requestAnimationFrame(this.update.bind(this,t)),e(t)}},{key:"setTransition",value:function(){var e=this;clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:a({},this.state.style,{transition:this.settings.speed+"ms "+this.settings.easing})})),this.transitionTimeout=setTimeout((function(){e.setState(Object.assign({},e.state,{style:a({},e.state.style,{transition:""})}))}),this.settings.speed)}},{key:"onMouseLeave",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments[1];return this.setTransition(),this.settings.reset&&this.reset(),e(t)}},{key:"getValues",value:function(e){var t=(e.nativeEvent.clientX-this.left)/this.width,n=(e.nativeEvent.clientY-this.top)/this.height,r=Math.min(Math.max(t,0),1),a=Math.min(Math.max(n,0),1);return{tiltX:(this.reverse*(this.settings.max/2-r*this.settings.max)).toFixed(2),tiltY:(this.reverse*(a*this.settings.max-this.settings.max/2)).toFixed(2),percentageX:100*r,percentageY:100*a}}},{key:"updateElementPosition",value:function(){var e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}},{key:"update",value:function(e){var t=this.getValues(e);this.setState(Object.assign({},this.state,{style:a({},this.state.style,{transform:"perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.axis?0:t.tiltY)+"deg) rotateY("+("y"===this.settings.axis?0:t.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")"})})),this.updateCall=null}},{key:"render",value:function(){var e=Object.assign({},this.props.style,this.state.style);return s.default.createElement("div",{style:e,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},this.props.children)}}]),t}(o.Component);t.default=u},"pZB+":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var r=n("q1tI"),a=n.n(r),i=n("wx14"),o=n("o0o1"),s=n.n(o),l=n("HaE+"),u=n("XZ7F"),c=n("Weur"),d=n("BMxC"),p=n("Yn+B"),h=n("bQFp"),f=n("sK1y"),b=n("FpzS"),m=n("IP4Q"),v=n("eJLp"),g=n("Z6YE"),y=n("nOHt"),O=n("Ute3"),j=n("Y1ui"),w=n.n(j),x=n("a6RD"),C=n.n(x),S=n("iBPG"),M=n("zIq6"),k=n("N39q"),_=n("21eR"),E=n("c+OE"),I=n.n(E),T=a.a.createElement,P=C()((function(){return Promise.all([n.e(8),n.e(10),n.e(26)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),B=C()((function(){return Promise.all([n.e(8),n.e(10),n.e(29)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}});function R(){var e=Object(g.b)(),t=e.account,n=e.chainId,o=e.library,j=Object(y.useRouter)(),x=j.query,C=(j.pathname,j.replace,Object(r.useState)(x.id)),E=C[0],R=(C[1],Object(r.useState)(x.experimental)),q=R[0],A=(R[1],Object(r.useState)("")),F=A[0],z=A[1],N=Object(r.useState)(""),W=N[0],D=N[1],H=Object(r.useState)(""),X=H[0],Y=H[1],K=Object(r.useState)([]),L=K[0],J=K[1],V=Object(r.useState)([]),G=V[0],Q=V[1],U=Object(r.useState)(!1),Z=U[0],$=U[1],ee=Object(r.useState)(null),te=ee[0],ne=ee[1],re=Object(r.useState)(null),ae=re[0],ie=re[1],oe=Object(r.useState)(""),se=oe[0],le=oe[1],ue=Object(r.useState)(""),ce=ue[0],de=ue[1],pe=Object(r.useState)({loaded:!1}),he=pe[0],fe=pe[1],be=Object(r.useState)(!1),me=be[0],ve=be[1],ge=Object(r.useState)(!1),ye=ge[0],Oe=ge[1],je=Object(r.useState)(!1),we=je[0],xe=je[1],Ce=Object(r.useState)("claimed"),Se=Ce[0],Me=Ce[1],ke=Object(r.useState)(null),_e=ke[0],Ee=ke[1],Ie=Object(r.useState)(""),Te=Ie[0],Pe=Ie[1],Be=Object(r.useState)(""),Re=Be[0],qe=Be[1],Ae=Object(r.useState)(""),Fe=Ae[0],ze=Ae[1],Ne=Object(r.useState)(!1),We=Ne[0],De=Ne[1],He=Object(r.useState)(""),Xe=He[0],Ye=He[1],Ke=Object(_.b)(k.p.emblemVault[n],k.p.emblemAbi,!0),Le=Object(u.a)(),Je=Le.isOpen,Ve=Le.onOpen,Ge=Le.onClose,Qe=Object(u.a)(),Ue=Qe.isOpen,Ze=Qe.onOpen,$e=Qe.onClose,et=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nt(),e.next=3,fetch(k.h+"/meta/"+E,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log(n),tt(n),rt(n),De(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(e){z(e.name),Y(e.image),D(e.description),J(e.values),D(e.description),Q(e.addresses),ne("mainnet"==e.network?1:4),Me(e.status),"claimed"===Se&&Ee(e.claimedBy),fe({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;console.log("pvt",t),$(t)},nt=function(){var e=JSON.parse(localStorage.getItem(t+"_"+n+"_"+E+"_vault"));e&&(fe({loaded:!0}),tt(e),De(!0))},rt=function(e){localStorage.setItem(t+"_"+n+"_"+E+"_vault",JSON.stringify(e))},at=function(){var e=Object(l.a)(s.a.mark((function e(t,r,a){var i,o,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append("chainId",n.toString()),i.append("service","evmetadata"),i.append("Content-Type","application/json"),o=JSON.stringify({signature:t}),e.next=7,fetch(k.h+"/verify/"+r,{method:"POST",headers:i,body:o,redirect:"follow"});case 7:return l=e.sent,e.next=10,l.json();case 10:return u=e.sent,e.abrupt("return",a(u));case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),it=function(){var e=Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.ownerOf(E);case 2:n=e.sent,Oe(n===t),ye&&ve(!0),console.log("status",Se,"claimedBy",_e);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ke.setApprovalForAll(k.p.vaultHandler[n],!0).then((function(e){var t=e.hash;ie(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.getSigner(t).signMessage("Claim: "+E).then((function(e){at(e,E,(function(e){Pe(e.decrypted.phrase),qe("BTC KEY"),ze("ETH KEY"),Ze(),console.log(e.decrypted)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ke.transferFrom(t,k.c,E).then((function(e){var t=e.hash;xe(!0),setTimeout((function(){ie(t),st(),Ze()}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,r,a,i,o,l,u,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=function(e){for(var s=0;s<a-o;s++){var c=Math.floor(t.length*Math.random()),d=t.charAt(c);l+=d}i==r-1&&o++,i==r&&(u+=n.charAt(o-1),i=0),Ye(u+l),l=""},t="abcdefghijklmnopqrstuvwxyz",5,a=(n="Decrypting").length,i=0,o=0,l="",u="",function e(t){setTimeout((function(){--t&&e(t),c(),i+=1}),5)}(a*(r=8)+1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){et()}),[]),Object(r.useEffect)((function(){console.log("Account chainid = "+n+" and vaultchainid = "+te),t&&n&&te&&n==te&&it()})),T(a.a.Fragment,null,T(P,{isOpen:Je,onClose:Ge,addrCoin:se,addrAddr:ce}),T(B,{isOpen:Ue,onClose:$e,mnemonic:Te,privKeyBTC:Re,privKeyETH:Fe}),T(w.a,{loaded:he.loaded},We?T(O.a,null):"",T(I.a,{className:"Tilt",options:{max:q?19:0,scale:1}},T(c.a,{width:"full",align:"center",justifyContent:"center"},T(d.a,{maxW:"sm",borderWidth:"1px",borderColor:te!=n?"orange.500":"claimed"==Se?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",mt:15,minW:390},te!=n?T(d.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"orange.500"},"BEWARE: Vault is on a different network than you are."):null,T(d.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center"},F),T(p.a,{align:"center"},T(h.a,{src:Object(S.k)(X)?X:"https://circuitsofvalue.com/public/coval-logo.png",width:"250px"})),T(p.a,{align:"center"},T(d.a,{mt:"1",ml:"4",lineHeight:"tight"},T(f.a,{as:"h4",ml:"4",mr:"4"},W.split("\n\n\n\n")[0].trim()))),T(d.a,{p:"6"},T(d.a,{d:"flex",alignItems:"baseline"},T(d.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},T(f.a,{as:"h4",fontWeight:"semibold"},"Current Contents:"),Z?T(a.a.Fragment,null,T(f.a,{pb:2,color:Xe?"green.500":null},Xe||"Contents hidden. Enter password to unlock."),T(b.a,{type:"password",id:"vault-password",onChange:function(e){return t=e.target.value,ut(),void console.log(t);var t},"aria-describedby":"password-helper-text"})):L.length?L.map((function(e){return T(f.a,{key:e.name,isTruncated:!0},e.name,": ",e.balance)})):T(f.a,null,"Nothing in here! Fill 'er up!"))),Z?null:T(d.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},T(p.a,{direction:"row",align:"center",spacing:"1rem",flexWrap:"wrap",shouldWrapChildren:!0},T(m.a,{spacing:4},G.map((function(e){return T(v.a,{key:e.address,onClick:function(){le(e.coin),de(e.address),Ve()}},"Put ","ETH"==e.coin?e.coin+"/ERC20":e.coin," In")}))))),T(d.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},"claimed"===Se&&_e===t?T(v.a,{width:"100%",onClick:st},"Get Keys"):T(v.a,Object(i.a)({width:"100%",as:"a"},{href:"https://"+(4==te?"rinkeby.":"")+"opensea.io/assets/"+k.p.emblemVault[te]+"/"+E,target:"_blank",rel:"noopener noreferrer"}),ye?"Sell/Gift/Send":"Make an Offer")),T(d.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},ye?T(v.a,{width:"100%",onClick:function(){me?lt():ot()}},me?"Claim":"Approve"):""))))),ae?T(M.a,{hash:ae,onComplete:function(){we&&ie(null)}}):null))}var q=a.a.createElement;function A(){return q(R,null)}},"we/t":function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n("pVnL"),a=n.n(r),i=n("8OQS"),o=n.n(i),s=n("qKvR"),l=n("q1tI"),u=n("BMxC"),c=function(e){var t=p();return t?Object.keys(t).reduce((function(n,r){return n[r]=e[r],t&&null==e[r]&&(n[r]=t[r]),n}),{}):e},d=Object(l.createContext)(),p=function(){return Object(l.useContext)(d)},h=Object(l.forwardRef)((function(e,t){var n=e.isInvalid,r=e.isRequired,i=e.isDisabled,l=e.isReadOnly,c=o()(e,["isInvalid","isRequired","isDisabled","isReadOnly"]),p={isRequired:r,isDisabled:i,isInvalid:n,isReadOnly:l};return Object(s.d)(d.Provider,{value:p},Object(s.d)(u.a,a()({role:"group",ref:t},c)))}));h.displayName="FormControl",t.a=h},zjfc:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vault",function(){return n("pZB+")}])}},[["zjfc",2,1,5,7,0,3,4,6,9,12]]]);