_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[34],{"c+OE":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n("q1tI"),o=(a=i)&&a.__esModule?a:{default:a},u=n("i8i4");var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={style:{}};return n.width=null,n.height=null,n.left=null,n.top=null,n.transitionTimeout=null,n.updateCall=null,n.element=null,n.settings=Object.assign({},{reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0},n.props.options),n.reverse=n.settings.reverse?-1:1,n.onMouseEnter=n.onMouseEnter.bind(n,n.props.onMouseEnter),n.onMouseMove=n.onMouseMove.bind(n,n.props.onMouseMove),n.onMouseLeave=n.onMouseLeave.bind(n,n.props.onMouseLeave),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"componentDidMount",value:function(){this.element=(0,u.findDOMNode)(this)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}},{key:"onMouseEnter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments[1];return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:r({},this.state.style,{willChange:"transform"})})),this.setTransition(),e(t)}},{key:"reset",value:function(){var e=this;window.requestAnimationFrame((function(){e.setState(Object.assign({},e.state,{style:r({},e.state.style,{transform:"perspective("+e.settings.perspective+"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"})}))}))}},{key:"onMouseMove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments[1];return t.persist(),null!==this.updateCall&&window.cancelAnimationFrame(this.updateCall),this.event=t,this.updateCall=requestAnimationFrame(this.update.bind(this,t)),e(t)}},{key:"setTransition",value:function(){var e=this;clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:r({},this.state.style,{transition:this.settings.speed+"ms "+this.settings.easing})})),this.transitionTimeout=setTimeout((function(){e.setState(Object.assign({},e.state,{style:r({},e.state.style,{transition:""})}))}),this.settings.speed)}},{key:"onMouseLeave",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments[1];return this.setTransition(),this.settings.reset&&this.reset(),e(t)}},{key:"getValues",value:function(e){var t=(e.nativeEvent.clientX-this.left)/this.width,n=(e.nativeEvent.clientY-this.top)/this.height,a=Math.min(Math.max(t,0),1),r=Math.min(Math.max(n,0),1);return{tiltX:(this.reverse*(this.settings.max/2-a*this.settings.max)).toFixed(2),tiltY:(this.reverse*(r*this.settings.max-this.settings.max/2)).toFixed(2),percentageX:100*a,percentageY:100*r}}},{key:"updateElementPosition",value:function(){var e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}},{key:"update",value:function(e){var t=this.getValues(e);this.setState(Object.assign({},this.state,{style:r({},this.state.style,{transform:"perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.axis?0:t.tiltY)+"deg) rotateY("+("y"===this.settings.axis?0:t.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")"})})),this.updateCall=null}},{key:"render",value:function(){var e=Object.assign({},this.props.style,this.state.style);return o.default.createElement("div",{style:e,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},this.props.children)}}]),t}(i.Component);t.default=c},"pZB+":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return K}));var a=n("q1tI"),r=n.n(a),s=n("wx14"),i=n("o0o1"),o=n.n(i),u=n("HaE+"),c=n("XZ7F"),l=n("Weur"),p=n("BMxC"),f=n("Yn+B"),d=n("sK1y"),h=n("pboS"),m=n("FpzS"),b=n("7fKF"),v=n("IP4Q"),g=n("eJLp"),y=n("LqLE"),O=n("bQFp"),w=n("8Kt/"),j=n.n(w),S=n("Z6YE"),x=n("nOHt"),E=n("Ute3"),k=n("Y1ui"),C=n.n(k),T=n("a6RD"),M=n.n(T),_=n("zIq6"),N=n("N39q"),A=n("21eR"),I=n("c+OE"),F=n.n(I),H=n("NFKh"),P=n.n(H),L=n("sd7e"),R=n("IujW"),W=n.n(R),X=n("wH4i"),q=n.n(X),J=n("PLxQ"),V=r.a.createElement,Y=M()((function(){return Promise.all([n.e(13),n.e(14),n.e(42)]).then(n.bind(null,"X/Jl"))}),{loadableGenerated:{webpack:function(){return["X/Jl"]},modules:["./AddrModal"]}}),z=M()((function(){return Promise.all([n.e(13),n.e(14),n.e(43)]).then(n.bind(null,"0bCS"))}),{loadableGenerated:{webpack:function(){return["0bCS"]},modules:["./KeysModal"]}});function B(){var e=Object(S.b)(),t=e.account,n=e.chainId,i=e.library,w=Object(x.useRouter)().query,k=Object(a.useState)(w.id),T=k[0],M=(k[1],Object(a.useState)(w.framed||!0)),I=M[0],H=(M[1],Object(a.useState)(w.experimental)),R=H[0],X=(H[1],Object(a.useState)("")),B=X[0],G=X[1],K=Object(a.useState)(""),D=K[0],U=K[1],Z=Object(a.useState)(""),Q=Z[0],$=Z[1],ee=Object(a.useState)([]),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),re=ae[0],se=ae[1],ie=Object(a.useState)([]),oe=ie[0],ue=ie[1],ce=Object(a.useState)(!1),le=ce[0],pe=ce[1],fe=Object(a.useState)(0),de=fe[0],he=fe[1],me=Object(a.useState)(null),be=me[0],ve=me[1],ge=Object(a.useState)(null),ye=ge[0],Oe=ge[1],we=Object(a.useState)(""),je=we[0],Se=we[1],xe=Object(a.useState)(""),Ee=xe[0],ke=xe[1],Ce=Object(a.useState)({loaded:!1}),Te=Ce[0],Me=Ce[1],_e=Object(a.useState)(!1),Ne=_e[0],Ae=_e[1],Ie=Object(a.useState)(!1),Fe=Ie[0],He=Ie[1],Pe=Object(a.useState)("claimed"),Le=Pe[0],Re=Pe[1],We=Object(a.useState)(null),Xe=We[0],qe=We[1],Je=Object(a.useState)(""),Ve=Je[0],Ye=Je[1],ze=Object(a.useState)(""),Be=ze[0],Ge=ze[1],Ke=Object(a.useState)(""),De=Ke[0],Ue=Ke[1],Ze=Object(a.useState)([]),Qe=Ze[0],$e=Ze[1],et=Object(a.useState)(!1),tt=et[0],nt=et[1],at=Object(a.useState)(""),rt=at[0],st=at[1],it=Object(a.useState)(!1),ot=it[0],ut=it[1],ct=Object(a.useState)(""),lt=ct[0],pt=ct[1],ft=Object(a.useState)(!1),dt=ft[0],ht=ft[1],mt=Object(a.useState)(!1),bt=(mt[0],mt[1],Object(a.useState)(null)),vt=bt[0],gt=bt[1],yt=Object(A.b)(N.p.emblemVault[n],N.p.emblemAbi,!0),Ot=Object(c.a)(),wt=Ot.isOpen,jt=Ot.onOpen,St=Ot.onClose,xt=Object(c.a)(),Et=xt.isOpen,kt=xt.onOpen,Ct=xt.onClose,Tt=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _t(),e.next=3,fetch(N.h+"/meta/"+T+(R?"?experimental=true":""),{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).name?(Mt(n),Ft(n),nt(!1),ht(!1)):(Me({loaded:!0}),ht(!0));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Mt=function(e){I&&!e.image.includes("framed=")&&(e.image=e.image+"&framed="+I),G(e.name),$(e.image),U(e.description),he(e.totalValue||0),ne(te.concat(e.values)),se(e.attributes.filter((function(e){return"key"===e.trait_type}))),U(e.description),ue(e.addresses),ve("mainnet"==e.network?1:"rinkeby"==e.network?4:"mumbai"==e.network?80001:"matic"==e.network?137:"xdai"==e.network?100:"bsc"==e.network?56:"fantom"==e.network?250:97),Re(e.status),"claimed"===Le&&qe(e.claimedBy),Me({loaded:!0});var t=e.addresses.filter((function(e){return e.address.includes("private:")})).length>0;pe(t),setTimeout((function(){!t&&It(e.values,e.addresses.filter((function(e){return"ETH"===e.coin}))[0].address,(function(e){ne(e)}))}),5)},_t=function(){var e=JSON.parse(localStorage.getItem(t+"_"+n+"_"+T+"_vault"));e&&(Me({loaded:!0}),Mt(e),nt(!0))},Nt=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.h+"/eth/balance/"+t,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,he(Number(de)+Number(r.totalValue)),e.abrupt("return",n(r.values));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),At=function(){var e=Object(u.a)(o.a.mark((function e(t,n,a){var r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.h+"/btc/balance/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return r=e.sent,e.next=5,r.json();case 5:return s=e.sent,e.abrupt("return",a(t.concat(s.values)));case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),It=function(){var e=Object(u.a)(o.a.mark((function e(t,n,a){var r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.h+"/eth/nft/"+n,{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(!((s=e.sent).length>0)){e.next=10;break}return e.abrupt("return",a(t.concat(s)));case 10:return e.abrupt("return",a(t));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ft=function(e){localStorage.setItem(t+"_"+n+"_"+T+"_vault",JSON.stringify(e))},Ht=function(){var e=Object(u.a)(o.a.mark((function e(t,a,r){var s,i,u,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new Headers).append("chainId",n.toString()),s.append("service","evmetadata"),s.append("Content-Type","application/json"),i=JSON.stringify({signature:t}),e.next=7,fetch(N.h+"/claim/"+a,{method:"POST",headers:s,body:i,redirect:"follow"});case 7:return u=e.sent,e.next=10,u.json();case 10:return c=e.sent,e.abrupt("return",r(c));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Pt=function(){var e=Object(u.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.ownerOf(T);case 2:n=e.sent,Ae(n===t),gt(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Lt=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.getSigner(t).signMessage("Claim: "+T).then((function(e){Ht(e,T,(function(e){Ye(e.decrypted.phrase),Ge(e.decrypted.keys.filter((function(e){return"btc"===e.coin}))[0].privkey),Ue(e.decrypted.keys.filter((function(e){return"eth"===e.coin}))[0].privkey),$e(e.decrypted.values),kt()}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yt.transferFrom(t,N.c,T).then((function(e){var t=e.hash;He(!0),setTimeout((function(){Oe(t)}),100)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Wt=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a,r,s,i,u,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){for(var o=0;o<r-i;o++){var l=Math.floor(t.length*Math.random()),p=t.charAt(l);u+=p}s==a-1&&i++,s==a&&(c+=n.charAt(i-1),s=0),st(c+u),u=""},!ot){e.next=3;break}return e.abrupt("return");case 3:ut(!0),t="abcdefghijklmnopqrstuvwxyz",5,r=(n="Decrypting").length,s=0,i=0,u="",c="",function e(t){setTimeout((function(){--t?e(t):ut(!1),l(t),s+=1}),5)}(r*(a=8)+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Xt(e){return e.split("\n\n\n\n")[0].trim()}function qt(e){lt&&(e=lt),Wt();var t=oe[0].address.replace("private:","");try{var n=P.a.AES.decrypt(t,e);JSON.parse(n.toString(P.a.enc.Utf8)),pe(!1),pt(e),ue(function(e){return oe.forEach((function(t){var n=t.address.replace("private:","");t.address=function(e,t){var n=P.a.AES.decrypt(e,t);return JSON.parse(n.toString(P.a.enc.Utf8))}(n,e)})),oe}(e)),Nt(oe.filter((function(e){return"ETH"===e.coin}))[0].address,(function(e){At(e,oe.filter((function(e){return"BTC"===e.coin}))[0].address,(function(e){It(e,oe.filter((function(e){return"ETH"===e.coin}))[0].address,(function(e){ne(e.concat(te))}))}))}))}catch(a){}}return Object(a.useEffect)((function(){Tt()}),[]),Object(a.useEffect)((function(){t&&n&&be&&n==be&&Pt()})),V(r.a.Fragment,null,V(j.a,null,V("meta",{name:"twitter:card",content:"summary_large_image"}),V("meta",{name:"twitter:site",content:"Emblem.Finance"}),V("meta",{name:"twitter:title",content:B}),V("meta",{name:"twitter:description",content:Xt(D)}),V("meta",{name:"twitter:image",content:Q})),V(Y,{isOpen:wt,onClose:St,addrCoin:je,addrAddr:Ee}),V(z,{isOpen:Et,onClose:Ct,mnemonic:Ve,privKeyBTC:Be,privKeyETH:De,privValues:Qe}),V(C.a,{loaded:Te.loaded},tt?V(E.a,null):"",dt?V(f.a,{align:"center"},V(O.a,{width:"md",src:"https://starwarsblog.starwars.com/wp-content/uploads/2017/06/25-star-wars-quotes-obi-wan-kenobi-identification-tall.jpg"}),V(d.a,null,"THESE ARE NOT THE VAULTS YOU ARE LOOKING FOR"," ",V(h.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))):V(F.a,{className:"Tilt",options:{max:0,scale:1}},V(l.a,{width:"full",align:"center",justifyContent:"center"},V(p.a,{maxW:"sm",borderWidth:"1px",borderColor:be!=n?"orange.500":"claimed"==Le?"green.500":null,rounded:"lg",overflow:"hidden",alignItems:"center",minW:390},be!=n?V(p.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center",color:"orange.500"},"BEWARE: Vault is on a different network than you are."):null,V(p.a,{mt:"1",fontWeight:"semibold",as:"h3",lineHeight:"tight",p:2,textAlign:"center",textTransform:"uppercase",alignItems:"center"},B,le?null:": ~$"+de),V(f.a,{align:"center"},V(J.b,{url:Q})),V(f.a,{align:"center"},V(p.a,{mt:"2",ml:"4",lineHeight:"tight"},V(f.a,null,V(d.a,{fontSize:"xs"},be==n?V(h.a,{href:"./vaultlist?address="+vt},"Owner: ",vt):null),V(d.a,{mt:2,ml:"4",mr:"4",fontSize:"xs",fontStyle:"italic"},V(W.a,{plugins:[q.a],children:Xt(D)}))))),V(p.a,{p:"6"},V(p.a,{d:"flex",alignItems:"baseline"},V(p.a,{color:"gray.500",letterSpacing:"wide",fontSize:"sm",ml:"2"},V(d.a,{as:"h4",fontWeight:"semibold"},"Current Contents:"),le?V(r.a.Fragment,null,V(d.a,{pb:2,color:rt?"green.500":null},rt||"Contents hidden. Enter password to unlock."),V(m.a,{type:"password",id:"vault-password",onChange:function(e){return qt(e.target.value)},"aria-describedby":"password-helper-text"})):te.length?te.map((function(e){return V(d.a,{key:e.name,isTruncated:!0},e.address&&"nft"!==e.type?V(b.a,{"aria-label":e.name,hasArrow:!0,label:"Add "+e.symbol+" to wallet",placement:"top"},V(h.a,{onClick:function(){Object(L.addTokenToWallet)({address:e.address,symbol:e.symbol,decimals:e.decimals,image:e.image?e.image:null})}},"+")):null,"(",e.coin.toLowerCase(),")"," ",e.name," :"," ",e.balance?e.balance:"nft"==e.type?V(h.a,{href:e.external_url,isExternal:!0},"View NFT"):null)})):null,re.length?re.map((function(e){return V(d.a,null,"Data: ",e.attribute_key)})):re.length||te.length?null:V(d.a,null,"Nothing in here! Fill 'er up!"))),le?null:V(p.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},V(v.a,{justifyContent:"space-between",spacing:6},oe.map((function(e){return V(g.a,{key:e.address,onClick:function(){Se(e.coin),ke(e.address),jt()}},"Put ","ETH"==e.coin?e.coin+"/ERC20":e.coin," In")})))),"claimed"!==Le?V(p.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},V(g.a,Object(s.a)({width:"100%",as:"a"},{href:"https://"+(4==be?"rinkeby.":"")+"opensea.io/assets/"+N.p.emblemVault[be]+"/"+T,target:"_blank",rel:"noopener noreferrer"}),Ne?"Sell/Gift/Send":"Make an Offer")):null,"claimed"!==Le&&t&&be===n&&Ne?V(p.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},V(g.a,{width:"100%",onClick:function(){Rt()},isDisabled:Fe},Fe?"Claiming ...":"Claim")):"claimed"===Le&&Xe===t&&be===n?V(p.a,{d:"flex",alignItems:"baseline",justifyContent:"space-between",mt:"4"},V(g.a,{width:"100%",onClick:Lt},"Get Keys")):null),V(f.a,{direction:"column",align:"center"},"claimed"==Le?V(d.a,{color:"green.500"},"CLAIMED"):null),ye?V(y.a,{status:"info"},V(y.b,null),"Claiming your vault ..."):null))),ye?V(_.a,{hash:ye,onComplete:function(){Fe&&(Oe(null),Re("claimed"),He(!1),qe(t),Lt())}}):null))}var G=r.a.createElement;function K(){return G(B,null)}},zjfc:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vault",function(){return n("pZB+")}])}},[["zjfc",1,0,7,10,2,4,3,5,6,9,11,8,12,15,16,19]]]);