(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5271],{48392:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vaults",function(){return r(40228)}])},33862:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(85893),s=r(67294),l=r(62850),a=r(6089);class i extends s.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"sketchfab-embed-wrapper",children:(0,n.jsx)("iframe",{width:"100%",src:this.props.url,frameBorder:"0",allow:"autoplay; fullscreen; vr",allowFullScreen:!0})})})}}class c extends s.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{width:"95%",frameBorder:"0",src:e,allowFullScreen:!0})})}}class o extends s.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{height:"753px",src:e,seamless:!0})})}}class d extends s.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{width:"95%",height:"100%",scrolling:"no",frameBorder:"no",allow:"autoplay",src:e})})}}class u extends s.Component{render(){let e=this.props.url.replace("paused=true","paused=false");return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{width:"95%",height:"256px",scrolling:"no",frameBorder:"no",allow:"autoplay",src:e})})}}class m extends s.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{src:this.props.url,frameBorder:"0",scrolling:"no",width:"580",height:"326",allowFullScreen:!0})})}}class h extends s.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{src:this.props.url,width:"800",height:"600",allowFullScreen:!0})})}}class p extends s.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{width:"230",height:"285",src:this.props.url,frameBorder:"0",scrolling:"no",allowTransparency:!0})})}}class x extends s.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{src:this.props.url,width:"100%",height:"400",allow:"encrypted-media"})})}}class g extends s.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{frameBorder:"0",scrolling:"no",src:this.props.url,width:"100%",height:"400",allow:"encrypted-media"})})}}class f extends s.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{className:"ytembed",src:this.props.url.split(" ")[0].trim().replace('"',"").replace("/watch?v=","/embed/"),width:"100%",height:"315",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}}class j extends s.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{src:this.props.url,width:"100%",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}}class w extends s.Component{render(){let e=this.props.url||"",t=e.replace("ipfs://","").split("?")[0].split("&")[0];return e.includes("ipfs://")&&(e="https://gateway.ipfs.io/ipfs/"+t,v(t)),e.includes("image-scale")&&(e+="&size=400"),(0,n.jsx)(n.Fragment,{children:e.includes("sketchfab.com/")?(0,n.jsx)(i,{url:e}):e.includes("shadertoy.com/")?(0,n.jsx)(c,{url:e}):e.includes("bandcamp.com/")?(0,n.jsx)(o,{url:e}):e.includes("soundcloud.com/")?(0,n.jsx)(d,{url:e}):e.includes("clyp.it/")?(0,n.jsx)(u,{url:e}):e.includes("sketchup.com/")?(0,n.jsx)(m,{url:e}):e.includes("clara.io/")?(0,n.jsx)(h,{url:e}):e.includes("myminifactory.com/")?(0,n.jsx)(p,{url:e}):e.includes("audius.co/")?(0,n.jsx)(x,{url:e}):e.includes("youtube.com")?(0,n.jsx)(f,{url:e}):e.includes("vimeo.com")?(0,n.jsx)(j,{url:e}):e.includes("ipfs.io")?(0,n.jsx)(a.E,{p:"20px",h:"100%",className:this.props.className+" "+t||"d-block w-100",src:e,width:"250px",maxWidth:"250px"}):e.includes("image-scaler.vercel")?(0,n.jsx)(a.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:e,width:"250px",height:"300px"}):e.includes("/dynamic/")||e.includes("arweave")||e.includes("https://s3.amazonaws.com/")||e.includes("googleusercontent.com")||e.includes("ipfs.io")||e.includes("framed/")||e.includes(".png")||e.includes(".jpg")||e.includes(".jpeg")||e.includes(".gif")||e.includes(".svg")||e.includes("data:image")?(0,n.jsx)(a.E,{p:"20px",h:"100%",className:this.props.className||"d-block w-100",src:(0,l.yo)(e)?e:"https://raw.githubusercontent.com/EmblemCompany/Coval-Site/master/public/coval-logo.png",width:"250px",maxWidth:"250px"}):(0,n.jsx)(g,{url:e})})}}let v=async function(e){let t=await fetch("https://gateway.ipfs.io/ipfs/"+e,{method:"GET"}),r=await t.text();if(r.includes("data:image")){let t=document.querySelector("img."+e);t.src=r,console.log(r)}};var y=w},71114:function(e,t,r){"use strict";var n=r(85893);r(67294);var s=r(93717),l=r(14e3),a=r(81136);t.Z=()=>(0,n.jsxs)(s.k,{pb:2,justify:"center",children:[(0,n.jsx)(l.x,{pr:2,children:"Refreshing "}),(0,n.jsx)(a.$,{})]})},40228:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=r(85893),s=r(45161),l=r(51343),a=r(93108),i=r(93717),c=r(57747),o=r(32883),d=r(14e3),u=r(70758),m=r.n(u),h=r(71114),p=r(11163),x=r(77044),g=r(67294);r(31238);var f=r(58533),j=r(33862),w=r(62850);function v(){let{query:e}=(0,p.useRouter)(),[t,r]=(0,g.useState)(Number(e.start)||0),[u,v]=(0,g.useState)("live"),{account:y,chainId:b}=(0,x.Ge)(),[S,C]=(0,g.useState)([]),[k,N]=(0,g.useState)([]),[F,E]=(0,g.useState)([]),[T,z]=(0,g.useState)([]),[_,A]=(0,g.useState)({loaded:!1}),[W,D]=(0,g.useState)(!1),[B,M]=(0,g.useState)(e.address),[I,L]=(0,g.useState)(e.type||"unclaimed"),[O,Z]=(0,g.useState)(e.experimental),{colorMode:R}=(0,s.If)(),[K,U]=(0,g.useState)(!1),[V,H]=(0,g.useState)(null!=e.version),[G,P]=(0,g.useState)(!!V),[J,X]=(0,g.useState)(0),[Y,$]=(0,g.useState)([]),[q,Q]=(0,g.useState)([]),[ee,et]=(0,g.useState)([]),[er,en]=(0,g.useState)("true"==e.jump),es=e=>e.ownership&&e.ownership.balances&&e.ownership.balances.length>0&&"erc721"==e.ownership.category||e.ownership&&"erc721a"==e.ownership.category&&e.ownership.balances&&e.ownership.balances.length>0?e.ownership.balances[0].image:e.ownership&&"erc721a"==e.ownership.category?e.targetAsset.image:e.image,el=e=>w.h3.filter(t=>t.allowedJump&&t.allowedJump(e.ownership,[])),ea=e=>e.ownership&&"erc721Legacy"==e.ownership.category?"Legacy Vault":e.targetContract&&e.targetContract.name?e.targetContract.name:"Unknown",ei=async()=>{try{let e=await fetch("https://metadata.emblemvault.io"+"/".concat(V||"curated"==I?"v1-":"","myvaults/")+(B||y)+"?start="+J+"&size=20",{method:"GET",headers:{"Content-Type":"application/json",_vercel_no_cache:"1",service:"evmetadata",chainId:b.toString(),vaultType:I.toString()}}),t=await e.json();"curated"!=I.toString()?(C(S.concat(t)),A({loaded:!0}),D(!1),console.log("Records received",t.length)):"curated"==I.toString()?(N(eo(t.live)),E(t.unMinted),z(t.claimed),C(eo(t.live)),A({loaded:!0}),D(!1),P(!1),$(Array.from(new Set(t.live.map(e=>e.targetContract.name)))),Q(Array.from(new Set(t.unMinted.map(e=>e.targetContract.name)))),et(Array.from(new Set(t.claimed.map(e=>e.targetContract.name))))):t.length<20&&P(!1)}catch(e){}},ec=async()=>{console.log(J,20,J+20),X(J+20),U(!0)};function eo(e){let t=new Map;for(let r of e){let e=r.targetTokenId;t.has(e)?t.get(e).push(r):t.set(e,[r])}let r=Array.from(t.entries()).map(e=>{let[t,r]=e;return{targetTokenId:t,items:r}});return r}let[ed,eu]=(0,g.useState)("");(0,g.useEffect)(()=>{y&&ed!=y&&(eu(y),A({loaded:!1}),ei())},[y,ed]);let[em,eh]=(0,g.useState)(b);(0,g.useEffect)(()=>{b&&em!=b&&(eh(b),A({loaded:!1}),ei())},[b,em]);let ep=e=>{B?location.href=location.origin+location.pathname+"?address="+B+"&type="+e+(er?"&jump=true":""):location.href=location.origin+location.pathname+"?type="+e+(er?"&jump=true":"")};return(0,g.useEffect)(()=>{K&&(U(!1),ei())},[K]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.K,{pl:"10",spacing:0,direction:"row",children:[(0,n.jsx)(a.z,{isDisabled:"unclaimed"==I,m:2,variant:"ghost",onClick:()=>{ep("unclaimed")},children:"Locked"}),(0,n.jsx)(a.z,{isDisabled:"claimed"==I,m:2,variant:"ghost",onClick:()=>{ep("claimed")},children:"Unlocked"}),(0,n.jsx)(a.z,{isDisabled:"unminted"==I,m:2,variant:"ghost",onClick:()=>{ep("unminted")},children:"Not Minted"})]}),"curated"==I?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.K,{pl:"8.7rem",spacing:0,direction:"row",children:[k.length?(0,n.jsxs)(a.z,{isDisabled:"live"==u,m:2,variant:"ghost",onClick:()=>{C(k),v("live")},children:["Unclaimed (curated) ",k.length]}):null,T.length?(0,n.jsxs)(a.z,{isDisabled:"claimed"==u,m:2,variant:"ghost",onClick:()=>{C(T),v("claimed")},children:["Claimed (curated) ",T.length]}):null,F.length?(0,n.jsxs)(a.z,{isDisabled:"unminted"==u,m:2,variant:"ghost",onClick:()=>{C(F),v("unminted")},children:["Not Minted (curated) ",F.length]}):null]}),(0,n.jsxs)(l.K,{pl:"12.7rem",spacing:0,direction:"row",children:[Y.length&&"live"==u?Y.map((e,t)=>(0,n.jsx)(a.z,{isDisabled:!0,m:2,variant:"ghost",children:e},t)):null,ee.length&&"claimed"==u?ee.map((e,t)=>(0,n.jsx)(a.z,{isDisabled:!0,m:2,variant:"ghost",children:e},t)):null,q.length&&"unminted"==u?q.map((e,t)=>(0,n.jsx)(a.z,{isDisabled:!0,m:2,variant:"ghost",children:e},t)):null]})]}):null,(0,n.jsxs)(m(),{loaded:_.loaded,children:[W?(0,n.jsx)(h.Z,{}):"",(0,n.jsx)(f.Z,{className:"infinite-scroll",scrollableTarget:"shannon-container",dataLength:S.length,next:"curated"==I?()=>{}:ec,hasMore:G,loader:(0,n.jsx)(h.Z,{}),endMessage:(0,n.jsx)(n.Fragment,{}),children:(0,n.jsx)(i.k,{w:"100%",justify:"center",flexWrap:"wrap",mt:10,children:S.length?S.map((e,t)=>{let r=location.pathname.split("/");r.pop();let s=!!e.items&&!!e.items[0].targetContract&&"ERC721a"==e.items[0].targetContract.collectionType,a=location.origin+r.join("/")+"/nft"+("curated"==I||e.targetContract?"2":"")+"?id="+("live"==u&&"curated"==I?s?e.items[0].tokenId:e.targetTokenId:e.tokenId),i={flex:"1",minW:"200px",maxW:"200px",minH:"250px",maxH:"250px",borderWidth:"1px",mx:"6",mb:"6",rounded:"lg",overflow:"hidden",borderColor:"matic"==e.network?"#7145db !important":"rinkeby"==e.network?"#ed6d20 !important":"#627eea !important",cursor:"pointer"};return(0,n.jsxs)(c.xu,{children:[(0,n.jsx)(o.r,{href:a,className:"vaultLink",children:(0,n.jsxs)(c.xu,{className:"NFT newest",...i,onClick:function(){D(!0),location.href=a},children:[(0,n.jsxs)(d.x,{fontWeight:"semibold",textAlign:"center",mt:2,pl:2,isTruncated:!0,children:["live"==u&&"curated"==I?e.items[0].name:e.name,!e.private&&e.totalValue>0?": ~$"+e.totalValue:null]}),(0,n.jsxs)(l.K,{align:"center",children:[(0,n.jsx)(j.Z,{className:"d-block NFT-image-v3",url:es(e)}),"live"==u&&"curated"==I&&e.items.length>1?(0,n.jsx)(d.x,{children:" you own "+e.items.length}):null]}),(0,n.jsx)(l.K,{align:"center",mt:3,children:"live"==u&&"curated"==I&&e.items.length>1?" you own "+e.items.length:null})]},t)}),(0,n.jsxs)(c.xu,{className:"NFT newest",borderColor:"",flex:"1",minW:"200px",maxW:"200px",borderWidth:"1px",mx:"6",mb:"6",rounded:"lg",overflow:"hidden",children:[(0,n.jsxs)(d.x,{fontSize:"small",fontWeight:"semibold",textAlign:"left",pl:2,isTruncated:!0,children:[" Network: ","mainnet"==e.network?"Ethereum":"matic"==e.network?"Polygon":e.network," "]}),(0,n.jsxs)(d.x,{fontSize:"small",fontWeight:"semibold",textAlign:"left",pl:2,isTruncated:!0,children:[" Contract: ",ea(e)," "]}),er&&el(e).length>0?(0,n.jsx)(n.Fragment,{children:el(e).map((e,t)=>(0,n.jsxs)(o.r,{fontSize:"x-small",textAlign:"left",pl:2,children:[" Circuit jump to: ",e.name," Collection"]}))}):null]},t)]})}):(0,n.jsxs)(d.x,{children:["YOU DON'T SEEM TO HAVE ANY VAULTS."," ",(0,n.jsx)(o.r,{color:"#638cd8",href:"../create",children:"CREATE ONE HERE!"})]})})})]})]})}var y=r(51704);function b(){return(0,n.jsx)(g.Suspense,{fallback:(0,n.jsx)("h1",{children:"Loading vaults..."}),children:(0,n.jsx)(y.Z,{fallback:(0,n.jsx)("h2",{children:"Oops! Something went wrong."}),children:(0,n.jsx)(v,{})})})}}},function(e){e.O(0,[758,932,9774,2888,179],function(){return e(e.s=48392)}),_N_E=e.O()}]);