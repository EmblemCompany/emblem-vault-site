_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[56],{"2sqc":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var a=n("q1tI"),o=n.n(a),r=n("wx14"),i=n("o0o1"),c=n.n(i),l=n("HaE+"),s=n("mf32"),u=n("Yn+B"),d=n("eJLp"),f=n("Weur"),p=n("pboS"),b=n("BMxC"),m=n("sK1y"),h=n("Y1ui"),g=n.n(h),v=n("Ute3"),O=n("nOHt"),j=n("Z6YE"),w=n("N39q"),x=n("GgLZ"),E=n("PLxQ"),k=o.a.createElement;function S(){var e=Object(O.useRouter)().query,t=Object(a.useState)(Number(e.start)||0),n=(t[0],t[1],Object(j.b)()),i=n.account,h=n.chainId,S=Object(a.useState)([]),y=S[0],N=S[1],C=Object(a.useState)({loaded:!1}),_=C[0],T=C[1],D=Object(a.useState)(!1),I=D[0],L=D[1],q=Object(a.useState)(e.address),W=q[0],A=(q[1],Object(a.useState)(e.type||"unclaimed")),M=A[0],R=(A[1],Object(a.useState)(e.experimental)),U=(R[0],R[1],Object(s.c)().colorMode,Object(a.useState)(!1)),V=U[0],Y=U[1],F=Object(a.useState)(!0),H=F[0],P=F[1],J=Object(a.useState)(0),K=J[0],B=J[1],G=function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(w.g+"/myvaults/"+(W||i)+"?start="+K+"&size=20",{method:"GET",headers:{"Content-Type":"application/json",service:"evmetadata",chainId:h.toString(),vaultType:M.toString()}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,N(y.concat(n)),T({loaded:!0}),L(!1),console.log("Records received",n.length),n.length<20&&P(!1),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(K,20,K+20),B(K+20),Y(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=Object(a.useState)(""),Z=X[0],z=X[1];Object(a.useEffect)((function(){i&&Z!=i&&(z(i),T({loaded:!1}),G())}),[i,Z]);var $=Object(a.useState)(h),ee=$[0],te=$[1];Object(a.useEffect)((function(){h&&ee!=h&&(te(h),T({loaded:!1}),G())}),[h,ee]);var ne=function(e){return M==e},ae=function(e){location.href=W?location.origin+location.pathname+"?address="+W+"&type="+e:location.origin+location.pathname+"?type="+e};return Object(a.useEffect)((function(){V&&(Y(!1),G())}),[V]),k(o.a.Fragment,null,k(u.a,{pl:"10",spacing:0,direction:"row"},k(d.a,{isDisabled:ne("unclaimed"),m:2,variant:"ghost",onClick:function(){ae("unclaimed")}},"Unclaimed"),k(d.a,{isDisabled:ne("claimed"),m:2,variant:"ghost",onClick:function(){ae("claimed")}},"Claimed"),k(d.a,{isDisabled:ne("unminted"),m:2,variant:"ghost",onClick:function(){ae("unminted")}},"Not Minted"),k(d.a,{isDisabled:ne("created"),m:2,variant:"ghost",onClick:function(){ae("created")}},"Created by me"),k(d.a,{isDisabled:!1,m:2,variant:"ghost",onClick:function(){location.href=W?location.origin+"/nfts?address="+W:location.origin+"/nfts"}},"Other NFT's")),k(g.a,{loaded:_.loaded},I?k(v.a,null):"",k(x.a,{className:"infinite-scroll",scrollableTarget:"shannon-container",dataLength:y.length,next:Q,hasMore:H,loader:k(v.a,null),endMessage:k("p",{style:{textAlign:"center"}},k("b",null,"No more vaults to load."))},k(f.a,{w:"100%",justify:"center",flexWrap:"wrap",mt:10},y.length?y.map((function(e,t){var n=location.pathname.split("/");n.pop();var a=location.origin+n.join("/")+"/nft?id="+e.tokenId,o={flex:"1",minW:"200px",maxW:"200px",borderWidth:"1px",mx:"6",mb:"6",rounded:"lg",overflow:"hidden",borderColor:"claimed"==e.status?"green !important":"",cursor:"pointer"};return k(p.a,{href:a,className:"vaultLink"},k(b.a,Object(r.a)({className:"NFT newest",key:t},o,{onClick:function(){L(!0),location.href=a}}),k(m.a,{fontWeight:"semibold",textAlign:"center",mt:2,pl:2,isTruncated:!0},e.name,!e.private&&e.totalValue>0?": ~$"+e.totalValue:null),k(u.a,{align:"center"},k(E.b,{className:"d-block w-100 NFT-newest-image",url:e.image})),k(b.a,{d:"flex",alignItems:"baseline"}),k(u.a,{align:"center",mt:3},"claimed"==e.status?k(m.a,{color:"green.500"},"CLAIMED"):null)))})):k(m.a,null,"YOU DON'T SEEM TO HAVE ANY VAULTS."," ",k(p.a,{color:"#638cd8",href:"../create"},"CREATE ONE HERE!"))))))}var y=n("4WaP"),N=o.a.createElement;function C(){return N(a.Suspense,{fallback:N("h1",null,"Loading vaults...")},N(y.a,{fallback:N("h2",null,"Oops! Something went wrong.")},N(S,null)))}},"U28/":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vaults",function(){return n("2sqc")}])},Ute3:function(e,t,n){"use strict";var a=n("q1tI"),o=n.n(a),r=n("Weur"),i=n("sK1y"),c=n("yI6m"),l=o.a.createElement;t.a=function(){return l(r.a,{pb:2,justify:"center"},l(i.a,{pr:2},"Refreshing "),l(c.a,null))}},pboS:function(e,t,n){"use strict";var a=n("pVnL"),o=n.n(a),r=n("8OQS"),i=n.n(r),c=n("qKvR"),l=n("+Cyc"),s=n("q1tI"),u={transition:"all 0.15s ease-out",cursor:"pointer",textDecoration:"none",outline:"none",_focus:{boxShadow:"outline"},_disabled:{opacity:"0.4",cursor:"not-allowed",textDecoration:"none"}},d=Object(s.forwardRef)((function(e,t){var n=e.isDisabled,a=e.isExternal,r=e.onClick,s=i()(e,["isDisabled","isExternal","onClick"]),d=a?{target:"_blank",rel:"noopener noreferrer"}:null;return Object(c.d)(l.a,o()({as:"a",ref:t,tabIndex:n?-1:void 0,"aria-disabled":n,onClick:n?function(e){return e.preventDefault()}:r,_hover:{textDecoration:"underline"}},d,u,s))}));d.displayName="Link",t.a=d}},[["U28/",1,0,2,4,3,6,5,7,8,10,11,21]]]);